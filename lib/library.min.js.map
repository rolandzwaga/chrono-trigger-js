{"version":3,"sources":["webpack://library/webpack/universalModuleDefinition","webpack://library/./src/action/action.ts","webpack://library/./src/action/endable-action.ts","webpack://library/./src/action/index.ts","webpack://library/./src/action/is-promise.ts","webpack://library/./src/action/timeline-action.ts","webpack://library/./src/chrono-trigger-engine.ts","webpack://library/./src/configuration/api/action-creator-factory.ts","webpack://library/./src/configuration/api/action-editor.ts","webpack://library/./src/configuration/api/configuration-factory.ts","webpack://library/./src/configuration/api/name-providers.ts","webpack://library/./src/configuration/api/timeline-provider-settings-editor.ts","webpack://library/./src/configuration/configuration-resolver.ts","webpack://library/./src/controllers/event-listener-controller.ts","webpack://library/./src/controllers/index.ts","webpack://library/./src/controllers/label-controller.ts","webpack://library/./src/controllers/lottie-controller.ts","webpack://library/./src/controllers/navigation-controller.ts","webpack://library/./src/controllers/progressbar-controller.ts","webpack://library/./src/controllers/routing-controller.ts","webpack://library/./src/controllers/subtitles-controller.ts","webpack://library/./src/engine-factory.ts","webpack://library/./src/eventbus/actionregistry-eventbus-listener.ts","webpack://library/./src/eventbus/eventbus.ts","webpack://library/./src/eventbus/index.ts","webpack://library/./src/eventbus/request-video-uri-interceptor.ts","webpack://library/./src/importer/webpack-resource-importer.ts","webpack://library/./src/index.ts","webpack://library/./src/language-manager.ts","webpack://library/./src/operation/add-class.ts","webpack://library/./src/operation/add-controller-to-element.ts","webpack://library/./src/operation/add-option-list.ts","webpack://library/./src/operation/animate-with-class.ts","webpack://library/./src/operation/animate.ts","webpack://library/./src/operation/broadcast-event.ts","webpack://library/./src/operation/clear-element.ts","webpack://library/./src/operation/clear-operation-data.ts","webpack://library/./src/operation/create-element.ts","webpack://library/./src/operation/custom-function.ts","webpack://library/./src/operation/end-action.ts","webpack://library/./src/operation/end-loop.ts","webpack://library/./src/operation/extend-controller.ts","webpack://library/./src/operation/get-controller-from-element.ts","webpack://library/./src/operation/get-controller-instance.ts","webpack://library/./src/operation/get-element-dimensions.ts","webpack://library/./src/operation/get-import.ts","webpack://library/./src/operation/helper/attach-controller-to-element.ts","webpack://library/./src/operation/helper/deepcopy.ts","webpack://library/./src/operation/helper/extract-operation-data-argument-values.ts","webpack://library/./src/operation/helper/get-element-data.ts","webpack://library/./src/operation/helper/get-nested-property-value.ts","webpack://library/./src/operation/helper/get-nested-value.ts","webpack://library/./src/operation/helper/internal-resolve.ts","webpack://library/./src/operation/helper/merge-operation-data.ts","webpack://library/./src/operation/helper/modify-dimensions.ts","webpack://library/./src/operation/helper/remove-event-data-from-operation-data.ts","webpack://library/./src/operation/helper/resolve-event-arguments.ts","webpack://library/./src/operation/helper/resolve-property-values.ts","webpack://library/./src/operation/index.ts","webpack://library/./src/operation/load-json.ts","webpack://library/./src/operation/log.ts","webpack://library/./src/operation/metadata/add-class.ts","webpack://library/./src/operation/metadata/add-controller-to-element.ts","webpack://library/./src/operation/metadata/add-option-list.ts","webpack://library/./src/operation/metadata/animate-with-class.ts","webpack://library/./src/operation/metadata/animate.ts","webpack://library/./src/operation/metadata/broadcast-event.ts","webpack://library/./src/operation/metadata/clear-element.ts","webpack://library/./src/operation/metadata/clear-operation-data.ts","webpack://library/./src/operation/metadata/create-element.ts","webpack://library/./src/operation/metadata/custom-function.ts","webpack://library/./src/operation/metadata/end-action.ts","webpack://library/./src/operation/metadata/end-loop.ts","webpack://library/./src/operation/metadata/extend-controller.ts","webpack://library/./src/operation/metadata/get-controller-from-element.ts","webpack://library/./src/operation/metadata/get-controller-instance.ts","webpack://library/./src/operation/metadata/get-element-dimensions.ts","webpack://library/./src/operation/metadata/get-import.ts","webpack://library/./src/operation/metadata/index.ts","webpack://library/./src/operation/metadata/load-json.ts","webpack://library/./src/operation/metadata/log.ts","webpack://library/./src/operation/metadata/remove-class.ts","webpack://library/./src/operation/metadata/remove-controller-from-element.ts","webpack://library/./src/operation/metadata/remove-element.ts","webpack://library/./src/operation/metadata/remove-properties-from-operation-data.ts","webpack://library/./src/operation/metadata/reparent-element.ts","webpack://library/./src/operation/metadata/request-action.ts","webpack://library/./src/operation/metadata/resize-action.ts","webpack://library/./src/operation/metadata/select-element.ts","webpack://library/./src/operation/metadata/set-element-attributes.ts","webpack://library/./src/operation/metadata/set-element-content.ts","webpack://library/./src/operation/metadata/set-operation-data.ts","webpack://library/./src/operation/metadata/set-style.ts","webpack://library/./src/operation/metadata/start-action.ts","webpack://library/./src/operation/metadata/start-loop.ts","webpack://library/./src/operation/metadata/toggle-class.ts","webpack://library/./src/operation/metadata/toggle-element.ts","webpack://library/./src/operation/metadata/wait.ts","webpack://library/./src/operation/remove-class.ts","webpack://library/./src/operation/remove-controller-from-element.ts","webpack://library/./src/operation/remove-element.ts","webpack://library/./src/operation/remove-properties-from-operation-data.ts","webpack://library/./src/operation/reparent-element.ts","webpack://library/./src/operation/request-action.ts","webpack://library/./src/operation/resize-action.ts","webpack://library/./src/operation/select-element.ts","webpack://library/./src/operation/set-element-attributes.ts","webpack://library/./src/operation/set-element-content.ts","webpack://library/./src/operation/set-operation-data.ts","webpack://library/./src/operation/set-style.ts","webpack://library/./src/operation/start-action.ts","webpack://library/./src/operation/start-loop.ts","webpack://library/./src/operation/toggle-class.ts","webpack://library/./src/operation/toggle-element.ts","webpack://library/./src/operation/wait.ts","webpack://library/./src/timeline-event-names.ts","webpack://library/./src/timelineproviders/index.ts","webpack://library/./src/timelineproviders/jwplayer-timeline-provider.ts","webpack://library/./src/timelineproviders/media-element-timeline-provider.ts","webpack://library/./src/timelineproviders/request-animation-frame-timeline-provider.ts","webpack://library/./node_modules/mediaelement/build/mediaelement-and-player.js","webpack://library/./node_modules/mediaelement/full.js","webpack://library/./node_modules/ts-is-present/lib/index.js","webpack://library/external {\"amd\":\"jquery\",\"global\":\"jQuery\",\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\"}","webpack://library/external {\"amd\":\"lottie-web\",\"global\":\"lottie\",\"commonjs\":\"lottie-web\",\"commonjs2\":\"lottie-web\"}","webpack://library/external {\"amd\":\"mousetrap\",\"global\":\"Mousetrap\",\"commonjs\":\"mousetrap\",\"commonjs2\":\"mousetrap\"}","webpack://library/external {\"amd\":\"uuid\",\"global\":\"uuid\",\"commonjs\":\"uuid\",\"commonjs2\":\"uuid\"}","webpack://library/webpack/bootstrap","webpack://library/webpack/startup","webpack://library/webpack/runtime/global"],"names":["root","factory","exports","module","require","define","amd","undefined","self","__WEBPACK_EXTERNAL_MODULE__4985__","__WEBPACK_EXTERNAL_MODULE__7725__","__WEBPACK_EXTERNAL_MODULE__5129__","__WEBPACK_EXTERNAL_MODULE__2935__","name","startOperations","eventbus","id","initOperationData","context","currentIndex","Promise","resolve","reject","this","executeOperation","catch","e","console","error","operations","idx","previousOperationData","newIndex","skipNextOperation","length","operationInfo","copy","operationData","deepcopy","mergedOperationData","Object","assign","result","instance","call","isPromise","then","resultOperationData","EndableAction","Action","endOperations","eventBus","super","TimelineAction","obj","duration","active","end","start","configuration","timelineProviders","languageManager","_timeLineActionsLookup","_eventbusListeners","_currentTimelineUri","_activeTimelineProvider","_lastPosition","_createLayoutTemplate","_addInitialisationListeners","timelines","uri","_createTimelineLookup","push","on","TimelineEventNames","TIME","_onTimeHandler","bind","Math","floor","SEEK","_onSeekHandler","_initializeTimelineProvider","containerSelector","container","Error","layoutTemplate","html","warn","firstTimeline","providerSettings","type","destroy","provider","init","_executeActions","initActions","_cleanUpTimeline","_cleanUp","forEach","remover","values","info","REQUEST_ENGINE_ROOT","_handleRequestEngineRoot","REQUEST_TIMELINE_URI","_handleRequestTimelineUri","REQUEST_CURRENT_TIMELINE_POSITION","_handleRequestTimelinePosition","REQUEST_TIMELINE_CLEANUP","_handleTimelineComplete","EXECUTE_TIMELINEACTION","_handleExecuteTimelineAction","RESIZE_TIMELINEACTION","_resizeTimelineAction","REQUEST_CURRENT_TIMELINE","_requestCurrentTimeline","timelineInfo","timelineActions","_addTimelineAction","timeLineAction","startPosition","timelineStartPositions","_initializeTimelinePosition","_initializeUriLookup","startMethod","isStart","Infinity","isFinite","timelineEndPositions","endMethod","lookup","position","actions","methodName","engineRootSelector","resultCallback","previousVideoPosition","stop","timelineConfig","find","timeline","broadcast","CURRENT_TIMELINE_CHANGE","newProviderSettings","loop","once","FIRST_FRAME","pause","DURATION","getDuration","_executeStartActions","seek","offset","playlistItem","_executeRelevantActions","_getActiveActions","_getActionsForPosition","allActions","filter","action","sort","a","b","executionType","_getRelevantTimelineActions","currentActions","apply","getPosition","index","_getTimelineActionsForUri","event","isNaN","pos","_executeActionsForPosition","POSITION_UPDATE","TIME_UPDATE","_executeSeekActions","executions","exec","newActions","promise","configurationfactory","creator","ActionCreator","addAction","actionConfig","EndableActionCreator","addInitAction","addEventAction","TimelineActionCreator","addTimelineAction","callBack","newConfig","systemName","array_move","arr","old_index","new_index","splice","ActionEditor","configurationFactory","slice","OperationEditor","operation","o","indexOf","direction","EndableActionEditor","operationConfig","actionEditor","updateConfiguration","key","value","setOperationData","keys","config","actionCreatorFactory","ActionCreatorFactory","defaultLanguage","engine","timelineProviderSettings","language","availableLanguages","labels","selector","TimelineProvidersSettingsEditor","code","languageLabel","languages","_initializeCollection","lang","languageCode","label","collectionName","parent","_internalAddAction","getTimeline","createAction","createInitAction","createEventAction","createTimelineAction","t","l","labelTranslations","translation","labelConfig","_initializeLabel","_getLabelTranslation","eventActions","TimelineActionEditor","controllers","operationName","getMetadata","operationMetadata","providersSettings","timelineType","poster","vendor","TimelineProviderSettingsEditor","providersSettingsEditor","resolveTimelines","importer","resolveTimelineAction","map","resolveOperation","import","resolveActionConfiguration","resolveEndableActionConfiguration","actionConfiguration","resolvedConfig","resolveActions","actionConfigurations","resolvePlaceholders","rootConfig","isDefined","Array","isArray","item","startsWith","configProperty","substr","getNestedPropertyValue","templateKey","jsonKey","json","resolvePlaceholder","actionRegistryListener","timelineFlow","eventActionConfigurations","eventName","eventTopic","eventAction","registerAction","resolveEventActions","reduce","aggr","selectedElement","actionOperationData","actionInstanceInfos","actionInstance","actionName","_isStartAction","REQUEST_ACTION","_getElementTagName","_selectEventHandler","_eventHandler","element","tagName","toUpperCase","target","targetValue","_executeAction","actionInfo","options","i","opt","selected","eventArgs","_eventbus","off","EventListenerController","LabelController","LottieController","NavigationController","ProgressbarController","RoutingController","SubtitlesController","listeners","currentLanguage","labelData","REQUEST_CURRENT_LANGUAGE","REQUEST_LABEL_COLLECTION","labelId","labelCollection","createTextDataLookup","setLabel","LANGUAGE_CHANGE","handleLanguageChange","func","data","d","animationItem","serializedData","serializedIEData","freezePosition","endPosition","renderer","autoplay","animationData","labelIds","viewBox","iefallback","url","parseFilename","JSON","stringify","split","setting","resultHolder","REQUEST_LABEL_COLLECTIONS","labelCollections","createAnimation","addEventListener","playSegments","serialized","isIE","join","parse","animationSettings","loadAnimation","timeCompleted","attr","infos","window","document","navigation","navLookup","navVidIdLookup","ctrlLookup","activeNavigationPoint","labelControllers","eventhandlers","buildNavigationData","handleNavigateVideoUrl","highlightMenu","handleRequestCurrentNavigation","handleVideoComplete","buildHtml","initHistory","navId","getQueryVariable","videoIndex","videoUrlIndex","variableIdx","href","location","hashIndex","query","substring","labelCtrl","navigationData","title","handler","ctrl","detach","onpopstate","state","parentElm","ul","addNavElement","append","visible","li","addLabel","addClickHandler","children","mouseup","menuMouseupHandler","navdata","requestedVideoPosition","pushCurrentState","navElm","removeClass","addClass","navData","autoNext","next","attach","nav","previous","nextId","roots","childId","textElement","detachers","positionUpdateHandler","clickHandler","percentage","css","text","handleBeforeRequestVideoUrl","handlePushHistoryState","handlePopstate","history","pushState","navigationId","_index","_requestedVideoPosition","isHistoryRequest","currentPosition","currentState","replaceState","actionLookup","lastFunc","detachTime","onTimeHandler","detachSeek","SEEKED","onSeekedHandler","detachLangChange","languageChangeHandler","internalDetach","detachMethods","f","newLanguage","empty","arg","removeTitle","titleLanguageLookup","subtitleData","titles","subtitleTimeLookup","ii","j","jj","subs","setTitle","createActionLookup","windowRef","resizeTimeout","actionsLookup","Eventbus","REQUEST_INSTANCE","_requestInstanceHandler","_requestActionHandler","REQUEST_FUNCTION","_requestFunctionHandler","resize","_resizeHandler","clear","clearTimeout","setTimeout","RESIZE","_importSystemEntry","_importSystemEntryWithEventbusDependency","resolver","EngineClass","ActionRegistryEventbusListener","registerEventlistener","registerInterceptor","RequestVideoUriInterceptor","ConfigurationResolver","resolvedConfiguration","process","_createTimelineProviders","LanguageManager","chronoTriggerEngine","preventDefault","PLAY_TOGGLE_REQUEST","entries","acc","settings","timelineProviderClass","_actionRegistry","args","eventHandlers","eventInterceptors","eventListeners","eventHandler","_getEventHandlers","eventHandlerDecorator","handlers","_callHandlers","eventbusListener","interceptor","_getEventInterceptors","intercept","listener","handleEvent","BEFORE_REQUEST_TIMELINE_URI","ops","ctrls","providers","prvdrs","main","m","ChronoTriggerEngine","ConfigurationFactory","ControllerNamesProvider","OperationMetadataProvider","OperationNamesProvider","TimeLineEventNamesProvider","EngineFactory","WebpackResourceImporter","_currentLanguage","_labelLookup","_setRootElementLang","_createLabelLookup","_addEventbusListeners","_handleRequestLabelCollection","_handleRequestLabelCollections","_handleRequestCurrentLanguage","_handleLanguageChange","rootSelector","_extractLanguageFromCulture","culture","shift","_eventBus","className","addControllerToElement","controllerInstance","attachControllerToElement","newOperationData","internalResolve","createOptionElementText","valueProperty","labelProperty","defaultIndex","defaultValue","addOptionList","optionData","createOption","optionElements","animateWithClass","one","animate","animationEasing","animationProperties","animationDuration","broadcastEvent","eventArguments","resolveEventArguments","broadcastForTopic","removeEventDataFromOperationData","clearElement","clearOperationData","properties","createElement","resolvePropertyValues","elementName","attributes","serializedAttrs","template","customFunction","endAction","mergedData","mergeOperationData","endLoop","loopIndex","loopLength","startIndex","extendController","controllerExtension","getControllerFromElement","controllerName","controller","getElementControllers","getControllerInstance","propertyName","getElementDimensions","modifier","dimensions","width","innerWidth","height","innerHeight","modifyDimensions","getImport","importedInstance","original","sourceObject","argumentValue","toLowerCase","propNames","getNestedValue","getElementData","propertyChain","currentInstance","suffix","prop","parts","ratioModifier","prefix","endIdx","isPercent","getModifierSuffix","parseInt","widthModifier","heightModifier","_modifyDimensions","ratios","modifyDimensionsByRatio","extract","extractOperationDataArgumentValues","get","loadJSON","log","removeControllerFromElement","removeElement","removePropertiesFromOperationData","reparentElement","requestAction","resizeAction","selectElement","setElementAttributes","setElementContent","setStyle","startAction","startLoop","toggleClass","toggleElement","wait","jsonCache","clearCache","p","addToCache","cache","fetch","response","cacheValue","group","dir","groupEnd","description","dependentProperties","required","outputProperties","default","propertyNames","newParentSelector","useSelectedElementAsRoot","override","collection","milliseconds","remove","appendTo","findElementBySelector","hasOwnProperty","attrName","resolvedProperties","toggle","PLAY_REQUEST","STOP_REQUEST","PAUSE_REQUEST","SEEK_REQUEST","RESIZE_REQUEST","CONTAINER_REQUEST","DURATION_REQUEST","COMPLETE","PLAY","STOP","PAUSE","JwPlayerTimelineProvider","MediaElementTimelineProvider","RequestAnimationFrameTimelineProvider","_paused","_player","_currentLoopHandler","_playlist","_videoElementId","_addEventListeners","urls","_extractUrls","jwp","jwplayer","w","h","setup","file","image","controls","autostart","displaytitle","displaydescription","nextUpDisplay","abouttext","aboutlink","stretching","repeat","_handlePlayerReady","load","_loopHandler","_seekedHandler","_handlePlayerComplete","play","getPlaylistIndex","jwplayerEvent","toggleplay","_container","getProvider","findIndex","getState","getMute","getVolume","setMute","volume","setVolume","MediaElementPlayer","_length","_urls","_addVideoElements","videoElement","getElementById","player","success","mediaElement","_originalNode","_timeUpdateHandler","controlsAreVisible","controlsEnabled","currentTime","videoElm","_extractFileType","lastIdx","lastIndexOf","setSrc","paused","setCurrentTime","getCurrentTime","_requestID","_last","_currentPosition","_updateBound","_update","_firstFrame","_granularity","_playState","_extractPlaylist","_currentPlaylistItem","_resize","requestDurationHandler","now","_reset","requestAnimationFrame","_cancelAnimationFrame","_containerElement","cancelAnimationFrame","_start","n","r","s","u","1","_dereq_","2","global","doccy","topLevel","minDoc","g","3","win","4","setTimeoutFunc","noop","fn","TypeError","_state","_handled","_value","_deferreds","doResolve","handle","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","newValue","finale","thisArg","arguments","_unhandledRejectionFn","len","Handler","done","reason","ex","prototype","prom","all","remaining","res","val","constructor","race","setImmediate","err","_setImmediateFn","_setUnhandledRejectionFn","5","defineProperty","_typeof","Symbol","iterator","_mejs","_mejs2","__esModule","_en","_general","i18n","en","EN","_len","_key","test","isObjectEmpty","message","pluralParam","str","pluralForm","_plural","input","number","form","concat","replace","escapeHTML","mejsL10n","strings","6","_window2","_interopRequireDefault","_document2","_media2","_renderer","_constants","MediaElement","idOrNode","sources","_this","Constructor","_classCallCheck","defaults","renderers","fakeNodeName","pluginPath","shimScriptAccess","originalNode","random","toString","setAttribute","getAttribute","parentNode","insertBefore","appendChild","processURL","protocol","IS_IOS","html5media","mediaTypes","xhr","XMLHttpRequest","onreadystatechange","readyState","status","blobUrl","URL","webkitURL","createObjectURL","open","responseType","send","mediaFiles","nodeName","src","_sources","nodeSource","node","formatType","_type","events","promises","rendererName","changeRenderer","media","show","hide","newRenderer","newRendererType","rendererArray","order","_i","total","renderOptions","create","setSize","generateError","urlList","createEvent","dispatchEvent","props","methods","addProperty","onGet","onSet","oldValue","set","assignGettersSetters","propName","capName","getFn","setFn","getSrc","getTypeFromFile","_src","absolutizeUrl","_type2","_i2","_src2","_type3","_media","renderInfo","select","triggerAction","tmpResponse","assignMethods","_i3","_i4","_total","callback","removeEventListener","callbacks","_i5","_i6","cloneNode","wrapper","parentElement","removeAttribute","7","_window","mejs","readOnlyProperties","8","_createClass","defineProperties","descriptor","enumerable","configurable","writable","protoProps","staticProps","Renderer","renderersLength","rendererIndicator","rendererRanking","jl","canPlayType","_order","_renderers","Renderers","9","_i18n2","_player2","Features","newObj","_interopRequireWildcard","_dom","usePluginFullScreen","fullscreenText","useFakeFullscreen","isFullScreen","isNativeFullScreen","isInIframe","isPluginClickThroughCreated","fullscreenMode","containerSizeTimeout","buildfullscreen","isVideo","detectFullscreenMode","fullscreenTitle","isString","fullscreenBtn","classPrefix","innerHTML","addControlElement","HAS_TRUE_NATIVE_FULLSCREEN","IS_FULLSCREEN","exitFullScreen","enterFullScreen","keyActions","ctrlKey","exitFullscreenCallback","which","keyCode","enableKeyboard","globalBind","normalHeight","normalWidth","FULLSCREEN_EVENT_NAME","setControlsSize","cleanfullscreen","globalUnbind","isNative","mode","SUPPORT_POINTER_EVENTS","containerStyles","getComputedStyle","getElement","HAS_IOS_FULLSCREEN","webkitEnterFullscreen","documentElement","parseFloat","requestFullScreen","checkFullscreen","windowWidth","clientWidth","body","screenWidth","screen","abs","style","elements","querySelectorAll","setDimensions","layers","zoomFactor","min","captionText","querySelector","fontSize","lineHeight","bottom","offsetHeight","cancelFullScreen","_total2","10","playText","pauseText","buildplaypause","op","playTitle","pauseTitle","playBtn","togglePlayPause","11","_time","enableProgressTooltip","useSmoothHover","forceLive","buildprogress","lastKeyPressTime","mouseIsDown","startedPaused","autoRewindInitial","autoRewind","tooltip","rail","showControls","startControlsTimer","timeSlider","focus","newTime","max","defaultSeekBackwardInterval","defaultSeekForwardInterval","loaded","current","timefloat","timefloatcurrent","slider","hovered","buffer","forcedHandlePause","setTransformStyle","transform","webkitTransform","MozTransform","msTransform","OTransform","display","handleMouseMove","totalStyles","offsetStyles","offsetWidth","mozTransform","oTransform","cssMatrix","leftPos","x","originalEvent","changedTouches","pageX","left","toFixed","setCurrentRailHandle","updateCurrent","IS_ANDROID","handleLocation","m41","hoverScaleX","half","offsetContainer","Utils","tooltipStyles","hasClass","marginLeft","secondsToTimeCode","alwaysShowHours","showTimecodeFrameCount","framesPerSecond","secondsDecimalLength","timeFormat","restartPlayer","Date","seekForward","seekBackward","seekTime","newVolume","mutePlayer","setMuted","IS_FIREFOX","stopPropagation","endEvents","totalEvents","closest","SUPPORT_PASSIVE_EVENT","passive","broadcastCallback","seconds","timeSliderText","time","innerText","setProgressRail","setCurrentRail","tabIndex","cleanprogress","detail","percent","buffered","bytesTotal","bufferedBytes","lengthComputable","fakeTime","setCurrentRailMain","nTime","tW","newWidth","round","handlePos","12","timeAndDurationSeparator","buildcurrent","updateTimeCallback","cleancurrent","buildduration","lastChild","updateDurationCallback","updateDuration","cleanduration","timecode","13","startLanguage","tracksText","chaptersText","tracksAriaLive","hideCaptionsButtonWhenEmpty","toggleCaptionsButtonWhenOnlyOne","slidesSelector","hasChapters","buildtracks","findTracks","tracks","trackFiles","tracksTitle","chaptersTitle","domNode","textTracks","cleartracks","captions","firstChild","captionsText","captionsButton","disabled","chaptersButton","subtitleCount","kind","trim","trackToLoad","selectedTrack","isLoadingTrack","_kind","addTrackButton","trackId","srclang","loadNextTrack","inEvents","outEvents","keyboard","setTrack","_total3","_total4","radio","siblings","el","_i7","_total5","_i8","_total6","alwaysShowControls","displayCaptions","slidesContainer","displaySlides","chapters","rebuildtracks","tracktags","track","isLoaded","setByKeyboard","radios","checked","_i9","_total7","_i10","_total8","_i11","_total9","_track","caption","loadTrack","checkForTracks","ajax","TrackFormatParser","dfxp","webvtt","enableTrackButton","setupSlides","drawChapters","removeTrackButton","codes","targetSiblings","button","hasSubtitles","searchTrackPosition","captionTextPreprocessor","div","scripts","getElementsByTagName","allElements","_i12","attributesObj","sanitize","identifier","slides","imgs","showSlide","img","fadeIn","fadeOut","_visible","_i13","_total10","listItems","_i14","_total11","_i15","_total12","lo","hi","mid","af","sq","ar","be","bg","ca","zh","hr","cs","da","nl","et","fl","fi","fr","gl","de","ht","iw","hu","is","ga","it","ja","ko","lv","lt","mk","ms","mt","no","fa","pl","pt","ro","ru","sr","sk","sl","es","sw","sv","tl","th","tr","uk","vi","cy","yi","pattern","trackText","lines","convertSMPTEtoSeconds","$","styleNode","styles","_i16","_total13","_temp","eq","_style","14","muteText","unmuteText","allyVolumeControlText","hideVolumeOnTouchDevices","audioVolume","videoVolume","startVolume","buildvolume","volumeControlText","mute","volumeSlider","matches","muted","anchor","nextSibling","mouseIsOver","modified","volumeTotal","volumeCurrent","volumeHandle","positionVolumeHandle","firstElementChild","_button","volumePercentage","volumeStyles","marginBottom","handleVolumeMove","totalOffset","railHeight","pageY","top","railWidth","toggleMute","relatedTarget","rendered","15","16","_mediaelement2","_default2","dom","mepIndex","players","showPosterWhenEnded","showPosterWhenPaused","defaultVideoWidth","defaultVideoHeight","videoWidth","videoHeight","defaultAudioWidth","defaultAudioHeight","audioWidth","audioHeight","enableAutosize","hideVideoControlsOnLoad","hideVideoControlsOnPause","clickToPlayPause","controlsTimeoutDefault","controlsTimeoutMouseEnter","controlsTimeoutMouseLeave","iPadUseNativeControls","iPhoneUseNativeControls","AndroidUseNativeControls","features","useDefaultControls","pauseOtherPlayers","customError","ended","MepDefaults","hasFocus","controlsTimer","currentMediaTime","proxy","calculateTimeFormat","playerOptions","_meReady","_handleError","isDynamic","IS_IPAD","IS_IPHONE","videoPlayerTitle","offscreen","btnSelector","isNodeAfter","background","outerContainer","tagType","capsTagName","initialAspectRatio","setPlayerSize","pluginWidth","pluginHeight","doAnimation","_loop","opacity","forceHide","_loop2","timeout","killControlsTimer","hideControls","autoplayAttr","enableControls","created","featurePosition","_setDefaultPlayer","buildposter","buildkeyboard","buildoverlays","defaultControls","buildfeatures","clickToPlayPauseCallback","pressed","createIframeLayer","playerIndex","ignorePauseOtherPlayersOption","loadingElement","exp","currentTarget","keyboardAction","globalResizeCallback","webkitIsFullScreen","errorContainer","errorContent","imgError","outerHTML","disableControls","setFillMode","setResponsiveMode","hasFluidMode","maxWidth","currentStyle","ratio","parentEl","frameElement","parentStyles","nativeWidth","nativeHeight","aspectRatio","parentHeight","newHeight","parentWidth","clientHeight","layerChildren","isIframe","maxHeight","targetElement","initHeight","initWidth","scaleX1","scaleY1","scaleX2","scaleY2","bScaleOnWidth","finalWidth","finalHeight","marginTop","totalMargin","marginRight","railStyles","railMargin","siblingsWidth","minWidth","child","layer","posterDiv","posterImg","backgroundImage","doc","ownerDocument","splitEvents","eventList","part","_eventList","_eventList2","feature","posterUrl","setPoster","getPosterUrl","loading","bigPlay","keyPressed","IS_STOCK_ANDROID","hasError","canplayTimeout","evt","initEvent","onkeydown","globalKeydownCallback","activeElement","globalClickCallback","keyAction","featureIndex","source","_loop3","newTrack","17","DefaultPlayer","seekable","18","jQuery","Zepto","ender","mediaelementplayer","each","removeData","ready","19","NativeDash","dashjs","_createPlayer","path","loadScript","MediaPlayer","DashNativeRenderer","dash","debug","drm","robustnessLevel","HAS_MSE","dashPlayer","attachNativeEvents","reset","setProtectionData","getProtectionController","setRobustnessLevel","attachSource","_dashPlayer","dashEvents","initialize","attachView","setAutoPlay","assignMdashEvents","_event","eventType","typeChecks","add","20","PluginDetector","plugins","hasPluginVersion","plugin","v","pv","addPlugin","pluginName","mimeType","activeX","axDetect","detectPlugin","version","ax","NAV","mimeTypes","enabledPlugin","match","ActiveXObject","GetVariable","FlashMediaElementRenderer","flash","isActive","flashState","flashApi","flashApiStack","initEvents","flashReady","stackItem","details","flashWrapper","flashVars","flashHeight","flashWidth","enablePseudoStreaming","pseudoStreamingStartQueryParam","pseudoStreamingType","streamDelimiter","encodeURIComponent","proxyType","IS_IE","IS_EDGE","specialIEContainer","filename","flashNode","fire_setSize","FlashMediaElementVideoRenderer","FlashMediaElementHlsVideoRenderer","FlashMediaElementMdashVideoRenderer","FlashMediaElementAudioRenderer","FlashMediaElementAudioOggRenderer","21","NativeFlv","flvjs","LoggingControl","enableDebug","enableVerbose","createPlayer","configs","FlvNativeRenderer","flv","cors","flvPlayer","_flvOptions","_flvConfigs","attachMediaElement","_flvPlayer","flvEvents","Events","unload","detachMediaElement","assignFlvEvents","msg","flvOptions","flvConfigs","22","NativeHls","Hls","HlsNativeRenderer","hls","autoStartLoad","preload","hlsPlayer","loadSource","attachMedia","_hlsPlayer","hlsEvents","assignEvents","detachMedia","recoverDecodingErrorDate","recoverSwapAudioCodecDate","assignHlsEvents","fatal","getTime","recoverMediaError","swapAudioCodec","_message","_message2","startLoad","stopLoad","23","HtmlMediaElement","SUPPORTS_NATIVE_HLS","24","YouTubeApi","isIframeStarted","isIframeLoaded","iframeQueue","enqueueIframe","YT","createIframe","loadIframeApi","iFrameReady","pop","Player","containerId","getYouTubeId","youTubeId","getYouTubeIdFromParam","getYouTubeIdFromUrl","parameters","paramParts","getYouTubeNoCookieUrl","YouTubeIframeRenderer","youtube","disablekb","modestbranding","playsinline","rel","showinfo","iv_load_policy","nocookie","imageQuality","apiStack","youTubeApi","youTubeIframe","getPlaybackRate","isMuted","percentLoaded","getVideoLoadedFraction","getVideoUrl","_videoId","loadVideoById","cueVideoById","seekTo","unMute","setPlaybackRate","playVideo","pauseVideo","youtubeContainer","isAudio","videoId","youtubeSettings","playerVars","html5","origin","host","onReady","youTubeState","getIframe","newEvent","onStateChange","stopInterval","startInterval","onError","errorHandler","hasAttribute","playlist","onEvent","_youTubeState","interval","setInterval","clearInterval","quality","onYouTubePlayerAPIReady","25","HAS_NATIVE_FULLSCREEN_ENABLED","HAS_MS_NATIVE_FULLSCREEN","HAS_MOZ_NATIVE_FULLSCREEN","HAS_WEBKIT_NATIVE_FULLSCREEN","HAS_NATIVE_FULLSCREEN","IS_SAFARI","IS_CHROME","IS_IPOD","UA","navigator","userAgent","MSStream","appName","pointerEvents","supports","supportsPassive","opts","html5Elements","video","hasiOSFullScreen","hasNativeFullscreen","requestFullscreen","hasWebkitNativeFullScreen","webkitRequestFullScreen","hasMozNativeFullScreen","mozRequestFullScreen","hasMsNativeFullScreen","msRequestFullscreen","hasTrueNativeFullScreen","nativeFullScreenEnabled","fullScreenEventName","mozFullScreenEnabled","msFullscreenEnabled","mozFullScreen","msFullscreenElement","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","isiPad","isiPod","isiPhone","isiOS","isAndroid","isEdge","isChrome","isFirefox","isSafari","isStockAndroid","hasMSE","supportsNativeHLS","supportsPointerEvents","supportsPassiveEvent","26","script","async","onload","onerror","head","rect","getBoundingClientRect","scrollLeft","pageXOffset","scrollTop","pageYOffset","hasClassMethod","addClassMethod","removeClassMethod","classList","contains","RegExp","timestamp","progress","elem","getClientRects","dataType","completed","accept","setRequestHeader","responseText","responseXML","27","debounce","c","_arguments","immediate","callNow","getOwnPropertyNames","rwindow","eventFrags","namespace","CustomEvent","sourceNode","targetNode","compareDocumentPosition","28","getMimeFromType","getExtension","normalizeExtension","normalizedExt","mime","baseName","extension","29","_promisePolyfill2","Element","CharacterData","DocumentType","removeChild","params","bubbles","cancelable","initCustomEvent","Event","to","nextSource","nextKey","String","searchString","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","lastTime","vendors","currTime","timeToCall","pseudoEl","getPropertyValue","Node","nodes","childNodes","nodeType","30","isDropFrame","timeCodeToSeconds","fps","forceHours","showFrameCount","dropFrames","timeBase","framesPer24Hours","framesPer10Minutes","frameSep","hours","minutes","frames","timeBaseDivision","timeFormatFrags","timeFormatSettings","unique","output","totalMinutes","hFrames","mFrames","lis","format","firstTwoPlaces","separatorIndex","separator","firstChar","hasNextValue","SMPTE","decimalLen","secs","multiplier","reverse","pow","Number","isFilled","isPresent","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","globalThis","Function"],"mappings":"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","file":"library.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"), require(\"uuid\"), require(\"lottie-web\"), require(\"mousetrap\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"library\", [\"jquery\", \"uuid\", \"lottie-web\", \"mousetrap\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"library\"] = factory(require(\"jquery\"), require(\"uuid\"), require(\"lottie-web\"), require(\"mousetrap\"));\n\telse\n\t\troot[\"library\"] = factory(root[undefined], root[undefined], root[undefined], root[undefined]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__4985__, __WEBPACK_EXTERNAL_MODULE__7725__, __WEBPACK_EXTERNAL_MODULE__5129__, __WEBPACK_EXTERNAL_MODULE__2935__) {\nreturn ","import { IResolvedOperation } from '~/configuration/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { deepcopy } from '~/operation/helper/deepcopy';\r\nimport { IOperationContext, TOperationData, TOperationResult } from '~/operation/types';\r\nimport { isPromise } from './is-promise';\r\nimport { IAction } from './types';\r\n\r\nexport class Action implements IAction {\r\n  public id = '';\r\n\r\n  constructor(public name: string, public startOperations: IResolvedOperation[], private eventbus: IEventbus) {}\r\n\r\n  start(initOperationData?: TOperationData): Promise<TOperationData> {\r\n    const context: IOperationContext = { currentIndex: -1 };\r\n    const result = new Promise<TOperationData>((resolve, reject) => {\r\n      this.executeOperation(this.startOperations, 0, resolve, reject, initOperationData, context);\r\n    }).catch((e) => {\r\n      console.error(`Error in action start '${this.name}'`);\r\n      console.error(e);\r\n      throw e;\r\n    });\r\n    return result;\r\n  }\r\n\r\n  executeOperation(\r\n    operations: IResolvedOperation[],\r\n    idx: number,\r\n    resolve: (value?: any | PromiseLike<any>) => void,\r\n    reject: (reason?: any) => void,\r\n    previousOperationData: TOperationData | undefined = {},\r\n    context: IOperationContext\r\n  ): void {\r\n    if (context.newIndex !== undefined) {\r\n      idx = context.newIndex;\r\n      delete context.newIndex;\r\n    }\r\n\r\n    context.currentIndex = idx;\r\n\r\n    if (context.skipNextOperation) {\r\n      if (idx < operations.length) {\r\n        this.executeOperation(operations, ++idx, resolve, reject, previousOperationData, context);\r\n      } else {\r\n        resolve(previousOperationData);\r\n      }\r\n    }\r\n\r\n    if (idx < operations.length) {\r\n      const operationInfo = operations[idx];\r\n      const copy = operationInfo.operationData ? deepcopy(operationInfo.operationData) : {};\r\n      const mergedOperationData = Object.assign(previousOperationData, copy);\r\n\r\n      const result: TOperationResult = operationInfo.instance.call(context, mergedOperationData, this.eventbus);\r\n\r\n      if (isPromise(result)) {\r\n        result\r\n          .then((resultOperationData: TOperationData) => {\r\n            this.executeOperation(operations, ++idx, resolve, reject, resultOperationData, context);\r\n          })\r\n          .catch((error: any) => {\r\n            reject(error);\r\n          });\r\n      } else {\r\n        this.executeOperation(operations, ++idx, resolve, reject, result, context);\r\n      }\r\n    } else {\r\n      resolve(previousOperationData);\r\n    }\r\n  }\r\n}\r\n","import { IResolvedOperation } from '~/configuration/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { IOperationContext, TOperationData } from '~/operation/types';\r\nimport { Action } from './action';\r\n\r\nexport class EndableAction extends Action {\r\n  constructor(\r\n    name: string,\r\n    startOperations: IResolvedOperation[],\r\n    public endOperations: IResolvedOperation[],\r\n    eventBus: IEventbus\r\n  ) {\r\n    super(name, startOperations, eventBus);\r\n  }\r\n\r\n  end(initOperationData?: TOperationData): Promise<TOperationData> {\r\n    if (this.endOperations.length) {\r\n      const context: IOperationContext = { currentIndex: -1 };\r\n      const idx = 0;\r\n      const result = new Promise<TOperationData>((resolve, reject) => {\r\n        this.executeOperation(this.endOperations, idx, resolve, reject, initOperationData, context);\r\n      }).catch((e) => {\r\n        console.error(`Error in action end'${this.name}'`);\r\n        throw e;\r\n      });\r\n      return result;\r\n    }\r\n    return new Promise((resolve) => {\r\n      resolve(initOperationData);\r\n    });\r\n  }\r\n}\r\n","export { Action } from './action';\r\nexport { EndableAction } from './endable-action';\r\nexport { TimelineAction } from './timeline-action';\r\n","export function isPromise(obj: any): obj is Promise<unknown> {\r\n  return typeof obj === 'object' && typeof obj.then === 'function';\r\n}\r\n","import { IResolvedOperation } from '~/configuration/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { IStrictDuration } from '~/types';\r\nimport { EndableAction } from './endable-action';\r\n\r\nexport class TimelineAction extends EndableAction {\r\n  public active = false;\r\n\r\n  constructor(\r\n    name: string,\r\n    startOperations: IResolvedOperation[],\r\n    endOperations: IResolvedOperation[],\r\n    public duration: IStrictDuration,\r\n    eventBus: IEventbus\r\n  ) {\r\n    super(name, startOperations, endOperations, eventBus);\r\n  }\r\n\r\n  start(initOperationData: TOperationData): Promise<TOperationData> {\r\n    if (!this.active || this.duration.end < 0) {\r\n      this.active = this.duration.end > -1;\r\n      return super.start(initOperationData);\r\n    }\r\n    return new Promise((resolve) => {\r\n      resolve();\r\n    });\r\n  }\r\n\r\n  end(initOperationData: TOperationData): Promise<TOperationData> {\r\n    this.active = false;\r\n    return super.end(initOperationData);\r\n  }\r\n}\r\n","import $ from 'jquery';\r\nimport { IEndableAction, ITimelineAction } from '~/action/types';\r\nimport { IResolvedEngineConfiguration } from '~/configuration/types';\r\nimport { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { LanguageManager } from '~/language-manager';\r\nimport { TOperation } from '~/operation/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { ITimelineProvider } from '~/timelineproviders/types';\r\nimport { IChronoTriggerEngine, ITimelineProviderInfo, TimelineTypes, TResultCallback } from '~/types';\r\n\r\n/**\r\n * ChronoTriggerEngine, this is where the magic happens. The engine is responsible for starting and stoppping\r\n * the given timeline provider and triggering the actions associated with it.\r\n * ...\r\n */\r\nexport class ChronoTriggerEngine implements IChronoTriggerEngine {\r\n  private _timeLineActionsLookup: Record<string, any> = {};\r\n  private _eventbusListeners: TEventHandlerRemover[] = [];\r\n  private _currentTimelineUri: string = '';\r\n  private _activeTimelineProvider: ITimelineProvider | undefined = undefined;\r\n  private _lastPosition: number = -1;\r\n\r\n  constructor(\r\n    private configuration: IResolvedEngineConfiguration,\r\n    private eventbus: IEventbus,\r\n    private timelineProviders: Record<TimelineTypes, ITimelineProviderInfo>,\r\n    private languageManager: LanguageManager\r\n  ) {}\r\n\r\n  init(): Promise<ITimelineProvider> {\r\n    this._createLayoutTemplate();\r\n\r\n    this._addInitialisationListeners();\r\n\r\n    const { timelines } = this.configuration;\r\n\r\n    this._currentTimelineUri = timelines && timelines.length ? timelines[0].uri : '';\r\n\r\n    this._createTimelineLookup();\r\n\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.TIME, this._onTimeHandler.bind(this, Math.floor)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.SEEK, this._onSeekHandler.bind(this, Math.floor)));\r\n\r\n    return this._initializeTimelineProvider();\r\n  }\r\n\r\n  _createLayoutTemplate() {\r\n    const { containerSelector } = this.configuration;\r\n    const container = $(containerSelector);\r\n\r\n    if (!container || !container.length) {\r\n      throw new Error(`Container selector not found: ${containerSelector}`);\r\n    }\r\n\r\n    const { layoutTemplate } = this.configuration;\r\n\r\n    if (layoutTemplate && layoutTemplate.length) {\r\n      container.html(layoutTemplate);\r\n    } else {\r\n      console.warn('layoutTemplate is empty, unable to create layout');\r\n    }\r\n  }\r\n\r\n  _initializeTimelineProvider(): Promise<ITimelineProvider> {\r\n    if (!this.configuration.timelines?.length) {\r\n      return Promise.resolve<any>(undefined);\r\n    }\r\n\r\n    const firstTimeline = this.configuration.timelines[0];\r\n    const providerSettings = this.timelineProviders[firstTimeline.type];\r\n\r\n    if (!providerSettings) {\r\n      throw new Error(`No timeline provider configured for type ${firstTimeline.type}`);\r\n    }\r\n\r\n    if (this._activeTimelineProvider) {\r\n      this._activeTimelineProvider.destroy();\r\n    }\r\n\r\n    this._activeTimelineProvider = providerSettings.provider;\r\n\r\n    return new Promise((resolve) => {\r\n      if (this._activeTimelineProvider) {\r\n        this._activeTimelineProvider.init().then(() => {\r\n          this._executeActions(this.configuration.initActions, 'start').then(() => {\r\n            resolve(this._activeTimelineProvider);\r\n          });\r\n        });\r\n      } else {\r\n        resolve();\r\n      }\r\n    });\r\n  }\r\n\r\n  async _cleanUp() {\r\n    await this._cleanUpTimeline();\r\n    await this._executeActions(this.configuration.initActions, 'end');\r\n  }\r\n\r\n  async destroy() {\r\n    await this._cleanUp();\r\n    this._activeTimelineProvider = undefined;\r\n    this._eventbusListeners.forEach((remover) => remover());\r\n    if (this.timelineProviders) {\r\n      Object.values(this.timelineProviders).forEach((info) => info.provider.destroy());\r\n    }\r\n  }\r\n\r\n  _addInitialisationListeners() {\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(\r\n        TimelineEventNames.REQUEST_ENGINE_ROOT,\r\n        this._handleRequestEngineRoot.bind(this, this.configuration.containerSelector)\r\n      )\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.REQUEST_TIMELINE_URI, this._handleRequestTimelineUri.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(\r\n        TimelineEventNames.REQUEST_CURRENT_TIMELINE_POSITION,\r\n        this._handleRequestTimelinePosition.bind(this, Math.floor)\r\n      )\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.REQUEST_TIMELINE_CLEANUP, this._handleTimelineComplete.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.EXECUTE_TIMELINEACTION, this._handleExecuteTimelineAction.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.RESIZE_TIMELINEACTION, this._resizeTimelineAction.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.REQUEST_CURRENT_TIMELINE, this._requestCurrentTimeline.bind(this))\r\n    );\r\n  }\r\n\r\n  _createTimelineLookup() {\r\n    if (!this.configuration.timelines) {\r\n      return;\r\n    }\r\n    this.configuration.timelines.forEach((timelineInfo) => {\r\n      timelineInfo.timelineActions.forEach(this._addTimelineAction.bind(this, timelineInfo.uri));\r\n    });\r\n  }\r\n\r\n  _addTimelineAction(uri: string, timeLineAction: ITimelineAction) {\r\n    const startPosition = timeLineAction.duration.start;\r\n    const timelineStartPositions = this._initializeTimelinePosition(\r\n      this._initializeUriLookup(this._timeLineActionsLookup, uri),\r\n      startPosition\r\n    );\r\n    const startMethod = timeLineAction.start.bind(timeLineAction);\r\n\r\n    if (timeLineAction.id?.length) {\r\n      (startMethod as any).id = timeLineAction.id;\r\n      (startMethod as any).isStart = true;\r\n    }\r\n\r\n    timelineStartPositions.push(startMethod);\r\n\r\n    let end = timeLineAction.duration.end;\r\n    if (end < 0) {\r\n      end = timeLineAction.duration.end = Infinity;\r\n    }\r\n\r\n    if (isFinite(end)) {\r\n      const timelineEndPositions = this._initializeTimelinePosition(this._timeLineActionsLookup[uri], end);\r\n      const endMethod = timeLineAction.end.bind(timeLineAction);\r\n\r\n      if (timeLineAction.id?.length) {\r\n        (endMethod as any).id = timeLineAction.id;\r\n      }\r\n\r\n      timelineEndPositions.push(endMethod);\r\n    }\r\n  }\r\n\r\n  _initializeUriLookup(lookup: Record<string, any>, uri: string): Record<number, any> {\r\n    if (!lookup[uri]) {\r\n      lookup[uri] = {};\r\n    }\r\n\r\n    return lookup[uri];\r\n  }\r\n\r\n  _initializeTimelinePosition(lookup: Record<number, any>, position: number): TOperation[] {\r\n    if (!lookup[position]) {\r\n      lookup[position] = [];\r\n    }\r\n\r\n    return lookup[position];\r\n  }\r\n\r\n  _executeActions(actions: IEndableAction[], methodName: 'start' | 'end', idx = 0): Promise<any> {\r\n    if (actions && idx < actions.length) {\r\n      const action = actions[idx];\r\n\r\n      const promise = action[methodName]();\r\n      return promise.then(() => {\r\n        return this._executeActions(actions, methodName, ++idx);\r\n      });\r\n    }\r\n\r\n    return new Promise((resolve) => {\r\n      resolve();\r\n    });\r\n  }\r\n\r\n  _handleRequestEngineRoot(engineRootSelector: string, resultCallback: TResultCallback) {\r\n    resultCallback($(engineRootSelector));\r\n  }\r\n\r\n  _handleRequestTimelineUri(uri: string, position?: number, previousVideoPosition?: number) {\r\n    if (!this._activeTimelineProvider) {\r\n      return;\r\n    }\r\n\r\n    previousVideoPosition = previousVideoPosition ?? 0;\r\n    this._activeTimelineProvider.stop();\r\n\r\n    this._cleanUpTimeline().then(() => {\r\n      const timelineConfig = this.configuration.timelines.find((timeline) => timeline.uri === uri);\r\n      if (!timelineConfig || !this._activeTimelineProvider || this._currentTimelineUri === timelineConfig.uri) {\r\n        return;\r\n      }\r\n      this._currentTimelineUri = timelineConfig.uri;\r\n\r\n      this.eventbus.broadcast(TimelineEventNames.CURRENT_TIMELINE_CHANGE, [this._currentTimelineUri]);\r\n\r\n      const newProviderSettings = this.timelineProviders[timelineConfig.type];\r\n\r\n      if (this._activeTimelineProvider !== newProviderSettings.provider) {\r\n        this._activeTimelineProvider.destroy();\r\n        this._activeTimelineProvider = newProviderSettings.provider;\r\n      }\r\n\r\n      this._activeTimelineProvider.loop = timelineConfig.loop;\r\n\r\n      position = position ?? 0;\r\n      if (!this._activeTimelineProvider.loop && position > 0) {\r\n        this.eventbus.once(TimelineEventNames.FIRST_FRAME, () => {\r\n          if (!this._activeTimelineProvider) {\r\n            return;\r\n          }\r\n\r\n          this._activeTimelineProvider.pause();\r\n          this.eventbus.broadcast(TimelineEventNames.DURATION, [this._activeTimelineProvider.getDuration()]);\r\n          this._executeStartActions().then(() => {\r\n            position = position ?? 0;\r\n            this._activeTimelineProvider?.seek(position);\r\n            this._onSeekHandler(Math.floor, {\r\n              offset: position,\r\n            });\r\n          });\r\n        });\r\n      }\r\n\r\n      this._activeTimelineProvider.playlistItem(uri);\r\n    });\r\n  }\r\n\r\n  _cleanUpTimeline() {\r\n    return this._executeRelevantActions(this._getActiveActions, 'end');\r\n  }\r\n\r\n  _executeStartActions() {\r\n    return this._executeRelevantActions(this._getActionsForPosition.bind(this, 0), 'start');\r\n  }\r\n\r\n  _getActionsForPosition(position: number, allActions: ITimelineAction[]) {\r\n    return allActions.filter((action) => {\r\n      return !action.active && action.duration.start <= position && action.duration.end >= position;\r\n    });\r\n  }\r\n\r\n  _getActiveActions(allActions: ITimelineAction[]) {\r\n    const actions = allActions.filter((action) => action.active);\r\n    return actions.sort((a, b) => {\r\n      if (b.duration.start < a.duration.start) {\r\n        return -1;\r\n      } else if (b.duration.start > a.duration.start) {\r\n        return 1;\r\n      } else {\r\n        return 0;\r\n      }\r\n    });\r\n  }\r\n\r\n  _executeRelevantActions(filter: Function, executionType: 'start' | 'end') {\r\n    const timelineActions = this._getRelevantTimelineActions();\r\n    const currentActions = filter.apply(this, [timelineActions]);\r\n    return this._executeActions(currentActions, executionType, 0);\r\n  }\r\n\r\n  _handleRequestTimelinePosition(floor: Function, resultCallback: TResultCallback) {\r\n    resultCallback(floor(this._activeTimelineProvider?.getPosition() || -1));\r\n  }\r\n\r\n  _handleTimelineComplete() {\r\n    this._cleanUpTimeline();\r\n  }\r\n\r\n  _handleExecuteTimelineAction(uri: string, index: number, start: boolean) {\r\n    const actions = this._getTimelineActionsForUri(uri);\r\n    const action = actions ? actions[index] : null;\r\n    if (action) {\r\n      if (start) {\r\n        action.start();\r\n      } else {\r\n        action.end();\r\n      }\r\n    }\r\n  }\r\n\r\n  _resizeTimelineAction(/*uri: string, index: number*/) {\r\n    console.error('no resizing implemented');\r\n  }\r\n\r\n  _getRelevantTimelineActions() {\r\n    return this._getTimelineActionsForUri(this._currentTimelineUri);\r\n  }\r\n\r\n  _requestCurrentTimeline(resultCallback: TResultCallback) {\r\n    resultCallback(this._currentTimelineUri);\r\n  }\r\n\r\n  _getTimelineActionsForUri(uri: string): ITimelineAction[] {\r\n    const info = this.configuration.timelines.find((timelineInfo) => {\r\n      return timelineInfo.uri === uri;\r\n    });\r\n    return info?.timelineActions ?? [];\r\n  }\r\n\r\n  _onTimeHandler(floor: Function, event: any) {\r\n    if (!isNaN(event.position)) {\r\n      const pos = floor(event.position);\r\n\r\n      if (this._lastPosition !== pos) {\r\n        this._executeActionsForPosition(pos);\r\n        this.eventbus.broadcast(TimelineEventNames.POSITION_UPDATE, [pos, this._activeTimelineProvider?.getDuration()]);\r\n      }\r\n\r\n      this.eventbus.broadcast(TimelineEventNames.TIME_UPDATE, [\r\n        event.position,\r\n        this._activeTimelineProvider?.getDuration(),\r\n      ]);\r\n    }\r\n  }\r\n\r\n  _onSeekHandler(floor: Function, event: { offset: number }) {\r\n    if (isNaN(event.offset)) {\r\n      return;\r\n    }\r\n\r\n    const pos = floor(event.offset);\r\n\r\n    this._executeSeekActions(pos).then(() => {\r\n      this._activeTimelineProvider?.start();\r\n    });\r\n  }\r\n\r\n  _executeActionsForPosition(position: number) {\r\n    this._lastPosition = position;\r\n    const actions = this._timeLineActionsLookup[this._currentTimelineUri];\r\n\r\n    if (actions) {\r\n      const executions = actions[position];\r\n      executions?.forEach((exec: () => void) => {\r\n        exec();\r\n      });\r\n    }\r\n  }\r\n\r\n  _executeSeekActions(pos: number) {\r\n    const timelineActions = this._getRelevantTimelineActions();\r\n\r\n    if (!timelineActions) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    const currentActions = this._getActiveActions(timelineActions);\r\n    const newActions = this._getActionsForPosition(pos, timelineActions);\r\n    const promise = this._executeActions(currentActions, 'end', 0);\r\n\r\n    return new Promise((resolve) => {\r\n      promise.then(() => {\r\n        this._executeActions(newActions, 'start', 0).then(() => {\r\n          resolve();\r\n        });\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\nimport { IActionConfiguration, IEndableActionConfiguration, ITimelineActionConfiguration } from '~/configuration/types';\r\nimport * as operations from '~/operation';\r\nimport { deepcopy } from '~/operation/helper/deepcopy';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { ConfigurationFactory } from './configuration-factory';\r\n\r\nexport class ActionCreatorFactory {\r\n  constructor(private readonly configurationfactory: ConfigurationFactory) {}\r\n\r\n  createAction(name: string): ActionCreator {\r\n    const creator = new ActionCreator(name, this);\r\n    this.configurationfactory.addAction(creator.actionConfig);\r\n    return creator;\r\n  }\r\n\r\n  createInitAction(name: string): EndableActionCreator {\r\n    const creator = new EndableActionCreator(name, this);\r\n    this.configurationfactory.addInitAction(creator.actionConfig);\r\n    return creator;\r\n  }\r\n\r\n  createEventAction(name: string): ActionCreator {\r\n    const creator = new ActionCreator(name, this);\r\n    this.configurationfactory.addEventAction(creator.actionConfig);\r\n    return creator;\r\n  }\r\n\r\n  createTimelineAction(uri: string, name: string): TimelineActionCreator {\r\n    const creator = new TimelineActionCreator(name, this);\r\n    this.configurationfactory.addTimelineAction(uri, creator.actionConfig);\r\n    return creator;\r\n  }\r\n\r\n  end() {\r\n    return this.configurationfactory;\r\n  }\r\n}\r\n\r\nexport class ActionCreator<T extends IActionConfiguration = IActionConfiguration> {\r\n  actionConfig: T;\r\n\r\n  constructor(name: string | undefined, private readonly factory: ActionCreatorFactory) {\r\n    this.actionConfig = {\r\n      name: '',\r\n      id: uuidv4(),\r\n      startOperations: [],\r\n    } as any;\r\n    if (name?.length) {\r\n      this.actionConfig.name = name;\r\n    }\r\n  }\r\n\r\n  getId() {\r\n    return this.actionConfig.id;\r\n  }\r\n\r\n  setName(name: string) {\r\n    this.actionConfig.name = name;\r\n    return this;\r\n  }\r\n\r\n  getConfiguration(callBack: (config: T) => T) {\r\n    const copy = deepcopy(this.actionConfig);\r\n    const newConfig = callBack.call(this, copy);\r\n    if (newConfig) {\r\n      this.actionConfig = newConfig;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  addStartOperation(systemName: string, operationData: TOperationData) {\r\n    if (!(operations as Record<string, any>)[systemName]) {\r\n      throw Error(`Unknown operation: ${systemName}`);\r\n    }\r\n\r\n    const { startOperations } = this.actionConfig;\r\n    startOperations.push({\r\n      id: uuidv4(),\r\n      systemName: systemName,\r\n      operationData: operationData,\r\n    });\r\n    return this;\r\n  }\r\n\r\n  next() {\r\n    return this.factory;\r\n  }\r\n}\r\n\r\nexport class EndableActionCreator<\r\n  T extends IEndableActionConfiguration = IEndableActionConfiguration\r\n> extends ActionCreator<T> {\r\n  addEndOperation(systemName: string, operationData: TOperationData) {\r\n    if (!(operations as Record<string, any>)[systemName]) {\r\n      throw Error(`Unknown operation: ${systemName}`);\r\n    }\r\n\r\n    let { endOperations } = this.actionConfig;\r\n    if (endOperations) {\r\n      endOperations = this.actionConfig.endOperations = [];\r\n    }\r\n    endOperations.push({\r\n      id: uuidv4(),\r\n      systemName: systemName,\r\n      operationData: operationData,\r\n    });\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class TimelineActionCreator extends EndableActionCreator<ITimelineActionConfiguration> {\r\n  addDuration(start: number, end?: number) {\r\n    this.actionConfig.duration = {\r\n      start: start,\r\n    };\r\n    if (end) {\r\n      this.actionConfig.duration.end = end;\r\n    }\r\n    return this;\r\n  }\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\nimport {\r\n  IActionConfiguration,\r\n  IEndableActionConfiguration,\r\n  IOperationConfiguration,\r\n  ITimelineActionConfiguration,\r\n} from '~/configuration/types';\r\nimport * as operations from '~/operation';\r\nimport { deepcopy } from '~/operation/helper/deepcopy';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { IDuration } from '~/types';\r\nimport { ConfigurationFactory } from './configuration-factory';\r\n\r\nfunction array_move(arr: any[], old_index: number, new_index: number) {\r\n  if (new_index >= arr.length) {\r\n    new_index = 0;\r\n  } else if (new_index < 0) {\r\n    new_index = arr.length - 1;\r\n  }\r\n  arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\r\n}\r\n\r\nexport class ActionEditor<T extends IActionConfiguration = IActionConfiguration> {\r\n  constructor(protected actionConfig: T, protected readonly configurationFactory: ConfigurationFactory) {}\r\n\r\n  updateConfiguration() {\r\n    this.actionConfig = {\r\n      ...this.actionConfig,\r\n    };\r\n  }\r\n\r\n  getConfiguration(callBack: (config: T) => T) {\r\n    const copy = deepcopy(this.actionConfig);\r\n    const newConfig = callBack.call(this, copy);\r\n    if (newConfig) {\r\n      this.actionConfig = newConfig;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  setName(name: string) {\r\n    this.actionConfig = {\r\n      ...this.actionConfig,\r\n      name,\r\n    };\r\n    return this;\r\n  }\r\n\r\n  getName() {\r\n    return this.actionConfig.name;\r\n  }\r\n\r\n  addStartOperation(systemName: string, operationData: TOperationData): OperationEditor<this> {\r\n    if (!(operations as any)[systemName]) {\r\n      throw Error(`Unknown operation: ${systemName}`);\r\n    }\r\n\r\n    const startOperations = this.actionConfig.startOperations ? this.actionConfig.startOperations.slice() : [];\r\n\r\n    const newConfig = {\r\n      id: uuidv4(),\r\n      systemName: systemName,\r\n      operationData: operationData,\r\n    };\r\n\r\n    startOperations.push(newConfig);\r\n\r\n    this.actionConfig = {\r\n      ...this.actionConfig,\r\n      startOperations,\r\n    };\r\n\r\n    return new OperationEditor<this>(newConfig, this);\r\n  }\r\n\r\n  editStartOperation(id: string) {\r\n    const { startOperations } = this.actionConfig;\r\n    const operation = startOperations.find((o) => o.id === id);\r\n\r\n    if (operation) {\r\n      return new OperationEditor<ActionEditor<T>>(operation, this);\r\n    }\r\n\r\n    throw new Error(`start operation not found for id ${id}`);\r\n  }\r\n\r\n  removeStartOperation(id: string) {\r\n    const startOperations = this.actionConfig.startOperations ? this.actionConfig.startOperations.slice() : [];\r\n    const operation = startOperations.find((o) => o.id === id);\r\n\r\n    if (!operation) {\r\n      throw new Error(`start operation not found for id ${id}`);\r\n    }\r\n\r\n    const idx = startOperations.indexOf(operation);\r\n\r\n    if (idx > -1) {\r\n      startOperations.splice(idx, 1);\r\n      this.actionConfig = {\r\n        ...this.actionConfig,\r\n        startOperations,\r\n      };\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  moveStartOperation(id: string, direction: 'up' | 'down') {\r\n    const startOperations = this.actionConfig.startOperations ? this.actionConfig.startOperations.slice() : [];\r\n    const operation = startOperations.find((o) => o.id === id);\r\n\r\n    if (!operation) {\r\n      throw new Error(`start operation not found for id ${id}`);\r\n    }\r\n\r\n    const idx = startOperations.indexOf(operation);\r\n\r\n    if (idx > -1) {\r\n      const newIdx = direction === 'up' ? idx + 1 : idx - 1;\r\n      array_move(startOperations, idx, newIdx);\r\n      this.actionConfig = {\r\n        ...this.actionConfig,\r\n        startOperations,\r\n      };\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  next() {\r\n    return this.configurationFactory;\r\n  }\r\n}\r\n\r\nexport class EndableActionEditor<\r\n  T extends IEndableActionConfiguration = IEndableActionConfiguration\r\n> extends ActionEditor<T> {\r\n  addEndOperation(systemName: string, operationData: TOperationData) {\r\n    if (!(operations as any)[systemName]) {\r\n      throw Error(`Unknown operation: ${systemName}`);\r\n    }\r\n\r\n    const endOperations = this.actionConfig.endOperations ? this.actionConfig.endOperations.slice() : [];\r\n\r\n    const newConfig = {\r\n      id: uuidv4(),\r\n      systemName: systemName,\r\n      operationData: operationData,\r\n    };\r\n\r\n    endOperations.push(newConfig);\r\n\r\n    this.actionConfig.endOperations = endOperations;\r\n\r\n    return new OperationEditor<this>(newConfig, this);\r\n  }\r\n\r\n  editEndOperation(id: string) {\r\n    const { endOperations } = this.actionConfig;\r\n    const operationConfig = endOperations.find((o) => o.id === id);\r\n\r\n    if (operationConfig) {\r\n      return new OperationEditor<this>(operationConfig, this);\r\n    }\r\n\r\n    throw new Error(`operation not found for id ${id}`);\r\n  }\r\n\r\n  removeEndOperation(id: string) {\r\n    const endOperations = this.actionConfig.endOperations ? this.actionConfig.endOperations.slice() : [];\r\n    const operation = endOperations.find((o) => o.id === id);\r\n\r\n    if (!operation) {\r\n      throw new Error(`operation not found for id ${id}`);\r\n    }\r\n\r\n    const idx = endOperations.indexOf(operation);\r\n\r\n    if (idx > -1) {\r\n      endOperations.splice(idx, 1);\r\n      this.actionConfig = {\r\n        ...this.actionConfig,\r\n        endOperations,\r\n      };\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  moveEndOperation(id: string, direction: 'up' | 'down') {\r\n    const endOperations = this.actionConfig.endOperations ? this.actionConfig.endOperations.slice() : [];\r\n    const operation = endOperations.find((o) => o.id === id);\r\n\r\n    if (!operation) {\r\n      throw new Error(`operation not found for id ${id}`);\r\n    }\r\n\r\n    const idx = endOperations.indexOf(operation);\r\n\r\n    if (idx > -1) {\r\n      const newIdx = direction === 'up' ? idx + 1 : idx - 1;\r\n      array_move(endOperations, idx, newIdx);\r\n      this.actionConfig = {\r\n        ...this.actionConfig,\r\n        endOperations,\r\n      };\r\n    }\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class TimelineActionEditor extends EndableActionEditor<ITimelineActionConfiguration> {\r\n  setDuration(start: number, end?: number) {\r\n    if (end != undefined && start > end) {\r\n      throw Error('start position cannot be higher than end position');\r\n    }\r\n\r\n    const duration: IDuration = {\r\n      start,\r\n    };\r\n\r\n    if (end) {\r\n      duration.end = end;\r\n    }\r\n\r\n    this.actionConfig = {\r\n      ...this.actionConfig,\r\n      duration,\r\n    };\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class OperationEditor<T extends ActionEditor> {\r\n  constructor(private operationConfig: IOperationConfiguration, private actionEditor: T) {}\r\n\r\n  getConfiguration(callBack: (config: IOperationConfiguration) => IOperationConfiguration) {\r\n    const copy = deepcopy(this.operationConfig);\r\n    const newConfig = callBack.call(this, copy);\r\n\r\n    if (newConfig) {\r\n      this.operationConfig = newConfig;\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  getSystemName() {\r\n    return this.operationConfig.systemName;\r\n  }\r\n\r\n  setSystemName(systemName: string) {\r\n    if (!(operations as any)[systemName]) {\r\n      throw Error(`Unknown operation: ${systemName}`);\r\n    }\r\n\r\n    this.operationConfig.systemName = systemName;\r\n    this.actionEditor.updateConfiguration();\r\n    return this;\r\n  }\r\n\r\n  setOperationData(operationData: TOperationData) {\r\n    this.operationConfig.operationData = operationData;\r\n    this.actionEditor.updateConfiguration();\r\n    return this;\r\n  }\r\n\r\n  setOperationDataItem(key: string, value: any) {\r\n    const { operationData = {} } = this.operationConfig;\r\n    operationData[key] = value;\r\n    return this.setOperationData(operationData);\r\n  }\r\n\r\n  getOperationDataKeys() {\r\n    const { operationData } = this.operationConfig;\r\n    return operationData ? Object.keys(operationData) : [];\r\n  }\r\n\r\n  getOperationDataValue(key: string) {\r\n    const { operationData } = this.operationConfig;\r\n    return operationData?.[key];\r\n  }\r\n\r\n  next() {\r\n    return this.actionEditor;\r\n  }\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\nimport {\r\n  IActionConfiguration,\r\n  IEngineConfiguration,\r\n  ITimelineActionConfiguration,\r\n  ITimelineConfiguration,\r\n} from '~/configuration/types';\r\nimport { deepcopy } from '~/operation/helper/deepcopy';\r\nimport { ILabel, ILanguageLabel, TimelineTypes } from '~/types';\r\nimport { ActionCreatorFactory } from './action-creator-factory';\r\nimport { ActionEditor, EndableActionEditor, TimelineActionEditor } from './action-editor';\r\nimport { TimelineProvidersSettingsEditor } from './timeline-provider-settings-editor';\r\n\r\nexport type TEngineConfigurationLists = Pick<\r\n  IEngineConfiguration,\r\n  'availableLanguages' | 'initActions' | 'actions' | 'eventActions' | 'timelines' | 'labels'\r\n>;\r\n\r\nexport class ConfigurationFactory {\r\n  actionCreatorFactory: ActionCreatorFactory;\r\n  configuration: IEngineConfiguration;\r\n\r\n  constructor(config?: IEngineConfiguration) {\r\n    this.configuration = config || ({} as any);\r\n    this.actionCreatorFactory = new ActionCreatorFactory(this);\r\n  }\r\n\r\n  init(defaultLanguage: string) {\r\n    this.configuration = {\r\n      id: uuidv4(),\r\n      engine: {\r\n        systemName: 'ChronoTriggerEngine',\r\n      },\r\n      containerSelector: '#ct-container',\r\n      timelineProviderSettings: {} as any,\r\n      language: defaultLanguage,\r\n      availableLanguages: [],\r\n      layoutTemplate: '',\r\n      initActions: [],\r\n      actions: [],\r\n      timelines: [],\r\n      labels: [],\r\n    };\r\n\r\n    return this;\r\n  }\r\n\r\n  setDefaultLanguage(defaultLanguage: string) {\r\n    this.configuration.language = defaultLanguage;\r\n    return this;\r\n  }\r\n\r\n  setContainerSelector(selector: string) {\r\n    this.configuration.containerSelector = selector;\r\n    return this;\r\n  }\r\n\r\n  editTimelineProviderSettings() {\r\n    return new TimelineProvidersSettingsEditor(this.configuration.timelineProviderSettings, this);\r\n  }\r\n\r\n  getConfiguration(callBack: (copy: IEngineConfiguration) => IEngineConfiguration) {\r\n    const copy = deepcopy<IEngineConfiguration>(this.configuration);\r\n    const newConfig = callBack.call(this, copy);\r\n    if (newConfig) {\r\n      this.configuration = newConfig;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  addLanguage(code: string, languageLabel: string) {\r\n    const languages = this._initializeCollection(this.configuration, 'availableLanguages');\r\n    const existing = languages.find((lang) => lang.languageCode === code);\r\n\r\n    if (existing) {\r\n      throw new Error(`Language code '${code}' already exists`);\r\n    }\r\n\r\n    languages.push({\r\n      id: uuidv4(),\r\n      languageCode: code,\r\n      label: languageLabel,\r\n    });\r\n    return this;\r\n  }\r\n\r\n  _internalAddAction(collectionName: keyof TEngineConfigurationLists, action: IActionConfiguration) {\r\n    const actions = this._initializeCollection(this.configuration, collectionName);\r\n    actions?.push(action as any);\r\n  }\r\n\r\n  _initializeCollection<T, K extends keyof T>(parent: T, name: K): T[K] {\r\n    if (!parent[name]) {\r\n      (parent[name] as any) = [];\r\n    }\r\n    return parent[name] as T[K];\r\n  }\r\n\r\n  addAction(action: IActionConfiguration) {\r\n    this._internalAddAction('actions', action);\r\n  }\r\n\r\n  addInitAction(action: IActionConfiguration) {\r\n    this._internalAddAction('initActions', action);\r\n  }\r\n\r\n  addEventAction(action: IActionConfiguration) {\r\n    this._internalAddAction('eventActions', action);\r\n  }\r\n\r\n  addTimelineAction(uri: string, action: ITimelineActionConfiguration) {\r\n    const timeline = this.getTimeline(uri);\r\n    if (timeline) {\r\n      const timelineActions = this._initializeCollection(timeline, 'timelineActions');\r\n      timelineActions.push(action);\r\n    } else {\r\n      throw Error(`No timeline found for uri '${uri}'`);\r\n    }\r\n  }\r\n\r\n  createAction(name: string) {\r\n    return this.actionCreatorFactory.createAction(name);\r\n  }\r\n\r\n  createInitAction(name: string) {\r\n    return this.actionCreatorFactory.createInitAction(name);\r\n  }\r\n\r\n  createEventAction(name: string) {\r\n    return this.actionCreatorFactory.createEventAction(name);\r\n  }\r\n\r\n  createTimelineAction(uri: string, name: string) {\r\n    return this.actionCreatorFactory.createTimelineAction(uri, name);\r\n  }\r\n\r\n  addTimeline(uri: string, type: TimelineTypes, duration: number, loop: boolean, selector: string) {\r\n    const timelines = this._initializeCollection(this.configuration, 'timelines');\r\n    const timeline = this.getTimeline(uri);\r\n    if (timeline) {\r\n      throw Error(`timeline for uri ${uri} already exists`);\r\n    }\r\n    const timelineConfig: ITimelineConfiguration = {\r\n      id: uuidv4(),\r\n      type: type,\r\n      uri: uri,\r\n      duration: duration,\r\n      loop: loop,\r\n      selector: selector,\r\n      timelineActions: [],\r\n    };\r\n    timelines.push(timelineConfig);\r\n    return this;\r\n  }\r\n\r\n  getTimeline(uri: string) {\r\n    return this.configuration.timelines.find((t) => t.uri === uri);\r\n  }\r\n\r\n  removeTimeline(uri: string) {\r\n    const timelineConfig = this.getTimeline(uri);\r\n    if (timelineConfig) {\r\n      const idx = this.configuration.timelines.indexOf(timelineConfig);\r\n      if (idx > -1) {\r\n        this.configuration.timelines.splice(idx, 1);\r\n      }\r\n    }\r\n    return this;\r\n  }\r\n\r\n  _initializeLabel(id: string, labels: ILanguageLabel[]) {\r\n    let label = labels.find((l) => l.id === id);\r\n    if (!label) {\r\n      labels.push({\r\n        id: id,\r\n        labels: [],\r\n      });\r\n      label = labels[labels.length - 1];\r\n    }\r\n    return label;\r\n  }\r\n\r\n  _getLabelTranslation(labelTranslations: ILabel[], languageCode: string) {\r\n    let translation = labelTranslations.find((l) => l.languageCode === languageCode);\r\n    if (!translation) {\r\n      translation = {\r\n        id: uuidv4(),\r\n        languageCode: languageCode,\r\n        label: '',\r\n      };\r\n      labelTranslations.push(translation);\r\n    }\r\n    return translation;\r\n  }\r\n\r\n  addLabel(id: string, code: string, translation: string) {\r\n    const labels = this._initializeCollection(this.configuration, 'labels');\r\n    const labelConfig = this._initializeLabel(id, labels);\r\n    const labelTranslation = this._getLabelTranslation(labelConfig.labels, code);\r\n    labelTranslation.label = translation;\r\n    return this;\r\n  }\r\n\r\n  editAction(id: string) {\r\n    const actionConfig = this.configuration.actions.find((a) => a.id === id);\r\n    if (actionConfig) {\r\n      return new ActionEditor(actionConfig, this);\r\n    }\r\n    throw new Error(`Action not found for id ${id}`);\r\n  }\r\n\r\n  editEventAction(id: string) {\r\n    const actionConfig = this.configuration.eventActions?.find((a) => a.id === id);\r\n    if (actionConfig) {\r\n      return new ActionEditor(actionConfig, this);\r\n    }\r\n    throw new Error(`Event action not found for id ${id}`);\r\n  }\r\n\r\n  editInitAction(id: string) {\r\n    const actionConfig = this.configuration.initActions.find((a) => a.id === id);\r\n    if (actionConfig) {\r\n      return new EndableActionEditor(actionConfig, this);\r\n    }\r\n    throw new Error(`Init action not found for id ${id}`);\r\n  }\r\n\r\n  editTimelineAction(uri: string, id: string) {\r\n    const timeline = this.getTimeline(uri);\r\n    if (!timeline) {\r\n      throw new Error(`Timeline not found for id ${id}`);\r\n    }\r\n    const actionConfig = timeline.timelineActions.find((a) => a.id === id);\r\n    if (actionConfig) {\r\n      return new TimelineActionEditor(actionConfig, this);\r\n    }\r\n    throw new Error(`Timeline action not found for id ${id}`);\r\n  }\r\n}\r\n","import * as controllers from '~/controllers';\r\nimport * as operations from '~/operation';\r\nimport * as operationMetadata from '~/operation/metadata';\r\nimport { IOperationMetadata } from '~/operation/metadata/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\n\r\nexport class OperationNamesProvider {\r\n  getOperationNames() {\r\n    return Object.keys(operations);\r\n  }\r\n}\r\n\r\nexport class ControllerNamesProvider {\r\n  getControllerNames() {\r\n    return Object.keys(controllers);\r\n  }\r\n}\r\n\r\nexport class OperationMetadataProvider {\r\n  getOperationMetadata(operationName: string) {\r\n    const getMetadata = ((operationMetadata as any) as Record<string, () => IOperationMetadata<any>>)[operationName];\r\n    if (!getMetadata) {\r\n      throw new Error(`Could not find metadata for operation called ${operationName}`);\r\n    }\r\n    return getMetadata();\r\n  }\r\n}\r\n\r\nexport class TimeLineEventNamesProvider {\r\n  getEventNames() {\r\n    return Object.values(TimelineEventNames);\r\n  }\r\n}\r\n","import { ITimelineProviderSettings, TTimelineProviderSettings } from '~/configuration/types';\r\nimport * as timelineProviders from '~/timelineproviders';\r\nimport { TimelineTypes } from '~/types';\r\nimport { ConfigurationFactory } from './configuration-factory';\r\n\r\nexport class TimelineProvidersSettingsEditor {\r\n  constructor(\r\n    private providersSettings: TTimelineProviderSettings,\r\n    private configurationFactory: ConfigurationFactory\r\n  ) {}\r\n\r\n  addProvider(timelineType: TimelineTypes) {\r\n    if (this.providersSettings[timelineType]) {\r\n      throw new Error(`Settings for a '${timelineType}' provider already exist`);\r\n    }\r\n    this.providersSettings[timelineType] = {\r\n      id: '',\r\n      poster: '',\r\n      selector: '',\r\n      systemName: '',\r\n      vendor: '',\r\n    };\r\n    return new TimelineProviderSettingsEditor(this.providersSettings[timelineType], this, this.configurationFactory);\r\n  }\r\n\r\n  editProvider(timelineType: TimelineTypes) {\r\n    if (!this.providersSettings[timelineType]) {\r\n      throw new Error(`No settings for a '${timelineType}' provider exist yet`);\r\n    }\r\n    return new TimelineProviderSettingsEditor(this.providersSettings[timelineType], this, this.configurationFactory);\r\n  }\r\n\r\n  next() {\r\n    return this.configurationFactory;\r\n  }\r\n}\r\n\r\nexport class TimelineProviderSettingsEditor {\r\n  constructor(\r\n    private providerSettings: ITimelineProviderSettings,\r\n    private providersSettingsEditor: TimelineProvidersSettingsEditor,\r\n    private configurationFactory: ConfigurationFactory\r\n  ) {}\r\n\r\n  setVendor(vendor: string) {\r\n    this.providerSettings.vendor = vendor;\r\n    return this;\r\n  }\r\n\r\n  setSelector(selector: string) {\r\n    this.providerSettings.selector = selector;\r\n    return this;\r\n  }\r\n\r\n  setSystemName(systemName: string) {\r\n    if (!(timelineProviders as any)[systemName]) {\r\n      throw new Error(`Unknown timeline provider system name: ${systemName}`);\r\n    }\r\n    this.providerSettings.systemName = systemName;\r\n    return this;\r\n  }\r\n\r\n  next() {\r\n    return this.providersSettingsEditor;\r\n  }\r\n\r\n  end() {\r\n    return this.configurationFactory;\r\n  }\r\n}\r\n","import { isDefined } from 'ts-is-present';\r\nimport { Action, EndableAction, TimelineAction } from '~/action';\r\nimport { IAction } from '~/action/types';\r\nimport { ActionRegistryEventbusListener } from '~/eventbus';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { deepcopy } from '~/operation/helper/deepcopy';\r\nimport { getNestedPropertyValue } from '~/operation/helper/get-nested-property-value';\r\nimport { IConfigurationResolver, IResourceImporter } from '~/types';\r\nimport {\r\n  IActionConfiguration,\r\n  IEndableActionConfiguration,\r\n  IEngineConfiguration,\r\n  IEventActionConfiguration,\r\n  IOperationConfiguration,\r\n  IResolvedEngineConfiguration,\r\n  IResolvedOperation,\r\n  IResolvedTimelineConfiguration,\r\n  ITimelineActionConfiguration,\r\n  ITimelineConfiguration,\r\n} from './types';\r\n\r\nexport class ConfigurationResolver implements IConfigurationResolver {\r\n  constructor(private importer: IResourceImporter, private eventbus: IEventbus) {}\r\n\r\n  process(\r\n    configuration: IEngineConfiguration,\r\n    actionRegistryListener?: ActionRegistryEventbusListener\r\n  ): [Record<string, IAction>, IResolvedEngineConfiguration] {\r\n    resolvePlaceholders(configuration, configuration, this.importer);\r\n\r\n    const resolvedConfig: IResolvedEngineConfiguration = {\r\n      id: configuration.id,\r\n      engine: { ...configuration.engine },\r\n      timelineProviderSettings: deepcopy(configuration.timelineProviderSettings),\r\n      containerSelector: configuration.containerSelector,\r\n      language: configuration.language,\r\n      layoutTemplate: configuration.layoutTemplate,\r\n      availableLanguages: deepcopy(configuration.availableLanguages),\r\n      actions: resolveActions(configuration.actions, this.importer, this.eventbus),\r\n      initActions: resolveActions(configuration.initActions, this.importer, this.eventbus),\r\n      labels: deepcopy(configuration.labels),\r\n      timelineFlow: deepcopy(configuration.timelineFlow),\r\n      timelines: resolveTimelines(configuration.timelines, this.importer, this.eventbus),\r\n    };\r\n\r\n    if (configuration.eventActions && actionRegistryListener) {\r\n      resolveEventActions(configuration.eventActions, actionRegistryListener, this.importer, this.eventbus);\r\n    }\r\n\r\n    const actionsLookup = resolvedConfig.actions.reduce<Record<string, IAction>>(\r\n      (aggr, action) => ({\r\n        ...aggr,\r\n        [action.name]: action,\r\n      }),\r\n      {}\r\n    );\r\n\r\n    return [actionsLookup, resolvedConfig];\r\n  }\r\n}\r\n\r\nfunction resolveEventActions(\r\n  eventActionConfigurations: IEventActionConfiguration[],\r\n  actionRegistryListener: ActionRegistryEventbusListener,\r\n  importer: IResourceImporter,\r\n  eventbus: IEventbus\r\n) {\r\n  const resolvedConfigs = eventActionConfigurations.map<IResolvedActionConfiguration>((config) => {\r\n    return resolveActionConfiguration(config, importer);\r\n  });\r\n\r\n  resolvedConfigs.forEach((config, index) => {\r\n    const { eventName, eventTopic } = eventActionConfigurations[index];\r\n    const eventAction = new Action(config.name, config.startOperations, eventbus);\r\n    actionRegistryListener.registerAction(eventAction, eventName, eventTopic);\r\n  });\r\n}\r\n\r\nfunction resolveTimelines(timelines: ITimelineConfiguration[], importer: IResourceImporter, eventbus: IEventbus) {\r\n  const resolve = resolveTimelineAction.bind(null, importer, eventbus);\r\n\r\n  return timelines.map<IResolvedTimelineConfiguration>((config) => ({\r\n    ...config,\r\n    timelineActions: config.timelineActions.map(resolve),\r\n  }));\r\n}\r\n\r\nfunction resolveOperation(importer: IResourceImporter, operationConfig: IOperationConfiguration): IResolvedOperation {\r\n  return {\r\n    id: operationConfig.id,\r\n    systemName: operationConfig.systemName,\r\n    operationData: deepcopy(operationConfig.operationData),\r\n    instance: importer.import(operationConfig.systemName)[operationConfig.systemName],\r\n  };\r\n}\r\n\r\nfunction resolveActionConfiguration(\r\n  config: IActionConfiguration,\r\n  importer: IResourceImporter\r\n): IResolvedActionConfiguration {\r\n  const resolve = resolveOperation.bind(null, importer);\r\n\r\n  return {\r\n    id: config.id,\r\n    name: config.name,\r\n    startOperations: config.startOperations.map(resolve),\r\n  };\r\n}\r\n\r\nfunction resolveEndableActionConfiguration(\r\n  config: IEndableActionConfiguration,\r\n  importer: IResourceImporter\r\n): IResolvedEndableActionConfiguration {\r\n  const resolve = resolveOperation.bind(null, importer);\r\n\r\n  const action = resolveActionConfiguration(config, importer);\r\n\r\n  return {\r\n    ...action,\r\n    endOperations: config.endOperations.map(resolve),\r\n  };\r\n}\r\n\r\nfunction resolveTimelineAction(\r\n  importer: IResourceImporter,\r\n  eventbus: IEventbus,\r\n  actionConfiguration: ITimelineActionConfiguration\r\n) {\r\n  const resolvedConfig = resolveEndableActionConfiguration(actionConfiguration, importer);\r\n  const duration = {\r\n    end: actionConfiguration.duration.end ?? -1,\r\n    start: actionConfiguration.duration.start,\r\n  };\r\n\r\n  const { id, name, endOperations, startOperations } = resolvedConfig;\r\n  const action = new TimelineAction(name, startOperations, endOperations, duration, eventbus);\r\n  action.id = id;\r\n  return action;\r\n}\r\n\r\nfunction resolveActions(\r\n  actionConfigurations: IEndableActionConfiguration[],\r\n  importer: IResourceImporter,\r\n  eventbus: IEventbus\r\n) {\r\n  const resolvedConfigs = actionConfigurations.map<IResolvedEndableActionConfiguration>((config) => {\r\n    return resolveEndableActionConfiguration(config, importer);\r\n  });\r\n\r\n  return resolvedConfigs.map<EndableAction>((resolvedConfig) => {\r\n    const { name, endOperations, startOperations } = resolvedConfig;\r\n    const action = new EndableAction(name, startOperations, endOperations, eventbus);\r\n    action.id = resolvedConfig.id;\r\n    return action;\r\n  });\r\n}\r\n\r\nfunction resolvePlaceholders(config: any, rootConfig: any, importer: IResourceImporter) {\r\n  if (!isDefined(config)) {\r\n    return;\r\n  }\r\n\r\n  if (Array.isArray(config)) {\r\n    config.forEach((item) => {\r\n      resolvePlaceholders(item, rootConfig, importer);\r\n    });\r\n  } else {\r\n    Object.keys(config).forEach((key) => {\r\n      resolvePlaceholder(key, config, rootConfig, importer);\r\n    });\r\n  }\r\n}\r\n\r\nfunction resolvePlaceholder(key: string, config: any, rootConfig: any, importer: IResourceImporter) {\r\n  const value = config[key];\r\n  if (typeof value === 'string') {\r\n    if (value.startsWith('config:')) {\r\n      const configProperty = value.substr(7, value.length);\r\n      config[key] = getNestedPropertyValue(configProperty, rootConfig);\r\n    } else if (value.startsWith('template:')) {\r\n      const templateKey = value.substr(9, value.length);\r\n      config[key] = importer.import(templateKey)[templateKey];\r\n    } else if (value.startsWith('json:')) {\r\n      const jsonKey = value.substr(5, value.length);\r\n      const json = importer.import(jsonKey)[jsonKey];\r\n      config[key] = json;\r\n    }\r\n  } else if (typeof value === 'object') {\r\n    resolvePlaceholders(config[key], rootConfig, importer);\r\n  }\r\n}\r\n\r\ninterface IResolvedActionConfiguration {\r\n  id: string;\r\n  name: string;\r\n  startOperations: IResolvedOperation[];\r\n}\r\n\r\ninterface IResolvedEndableActionConfiguration extends IResolvedActionConfiguration {\r\n  endOperations: IResolvedOperation[];\r\n}\r\n\r\ninterface IResolvedEventActionConfiguration extends IResolvedActionConfiguration {\r\n  eventName: string;\r\n  eventTopic?: string;\r\n}\r\n","import { IEndableAction } from '~/action/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { deepcopy } from '~/operation/helper/deepcopy';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { IController } from './types';\r\n\r\ninterface IActionInstanceInfo {\r\n  start: boolean;\r\n  action: IEndableAction;\r\n}\r\n\r\nexport interface IEventListenerControllerOperationData {\r\n  selectedElement: JQuery;\r\n  eventName: string;\r\n  actions: string[];\r\n  actionOperationData?: TOperationData;\r\n}\r\n\r\nexport class EventListenerController implements IController<IEventListenerControllerOperationData> {\r\n  operationData?: IEventListenerControllerOperationData;\r\n  actionInstanceInfos?: IActionInstanceInfo[];\r\n  name = 'EventListenerController';\r\n\r\n  constructor() {}\r\n\r\n  init(operationData: IEventListenerControllerOperationData) {\r\n    this.operationData = {\r\n      selectedElement: operationData.selectedElement,\r\n      eventName: operationData.eventName,\r\n      actions: operationData.actions.slice(),\r\n      actionOperationData: operationData.actionOperationData ? deepcopy(operationData.actionOperationData) : undefined,\r\n    };\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    if (!this.operationData) {\r\n      return;\r\n    }\r\n\r\n    const { selectedElement, actions, eventName } = this.operationData;\r\n    if (!this.actionInstanceInfos) {\r\n      this.actionInstanceInfos = [];\r\n\r\n      const resultCallback = (isStart: boolean) => (actionInstance: IEndableAction) => {\r\n        this.actionInstanceInfos?.push({ start: isStart, action: actionInstance });\r\n      };\r\n\r\n      actions.forEach((actionName: string) => {\r\n        const [isStart, name] = this._isStartAction(actionName);\r\n        eventbus.broadcast(TimelineEventNames.REQUEST_ACTION, [name, resultCallback(isStart)]);\r\n      });\r\n\r\n      if (this._getElementTagName(selectedElement) === 'SELECT') {\r\n        selectedElement.on(eventName, this._selectEventHandler.bind(this));\r\n      } else {\r\n        selectedElement.on(eventName, this._eventHandler.bind(this));\r\n      }\r\n    }\r\n  }\r\n\r\n  _getElementTagName(element: JQuery | HTMLElement) {\r\n    const tagName = (element as JQuery).length ? (element as JQuery)[0].tagName : (element as HTMLElement).tagName;\r\n    return tagName.toUpperCase();\r\n  }\r\n\r\n  _isStartAction(actionName: string): [boolean, string] {\r\n    const prefix = actionName.substr(0, 'end:'.length);\r\n    if (prefix === 'end:') {\r\n      return [false, actionName.substr('end:'.length)];\r\n    } else {\r\n      return [true, actionName];\r\n    }\r\n  }\r\n\r\n  _eventHandler(event: any) {\r\n    if (!this.operationData || !this.actionInstanceInfos) {\r\n      return;\r\n    }\r\n\r\n    const copy = this.operationData.actionOperationData ? deepcopy(this.operationData.actionOperationData) : {};\r\n\r\n    if (event.target) {\r\n      copy.targetValue = event.target.value;\r\n    }\r\n\r\n    this._executeAction(this.actionInstanceInfos, copy, 0);\r\n  }\r\n\r\n  _executeAction(actions: IActionInstanceInfo[], operationData: TOperationData, idx: number) {\r\n    if (idx < actions.length) {\r\n      const actionInfo = actions[idx];\r\n      const { action } = actionInfo;\r\n      const method = actionInfo.start ? action.start.bind(action) : action.end.bind(action);\r\n      method(operationData).then((resultOperationData) => {\r\n        return this._executeAction(actions, Object.assign(operationData, resultOperationData), ++idx);\r\n      });\r\n    }\r\n  }\r\n\r\n  _selectEventHandler(event: any) {\r\n    if (!this.operationData || !this.actionInstanceInfos) {\r\n      return;\r\n    }\r\n\r\n    const options = event.target;\r\n\r\n    for (let i = 0, l = options.length; i < l; i++) {\r\n      const opt = options[i];\r\n      if (opt.selected) {\r\n        const copy = this.operationData.actionOperationData ? deepcopy(this.operationData.actionOperationData) : {};\r\n        this._executeAction(this.actionInstanceInfos, Object.assign({ eventArgs: [opt.value] }, copy), 0);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    this.operationData?.selectedElement.off(this.operationData.eventName);\r\n  }\r\n}\r\n","export { EventListenerController } from './event-listener-controller';\r\nexport { LabelController } from './label-controller';\r\nexport { LottieController } from './lottie-controller';\r\nexport { NavigationController } from './navigation-controller';\r\nexport { ProgressbarController } from './progressbar-controller';\r\nexport { RoutingController } from './routing-controller';\r\nexport { SubtitlesController } from './subtitles-controller';\r\n","import { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { ILabel } from '~/types';\r\nimport { IController } from './types';\r\n\r\nexport interface ILabelControllerMetadata {\r\n  selectedElement: JQuery;\r\n  labelId: string;\r\n}\r\n\r\nexport class LabelController implements IController<ILabelControllerMetadata> {\r\n  listeners: TEventHandlerRemover[] = [];\r\n  currentLanguage: string | null = null;\r\n  operationData: ILabelControllerMetadata | null = null;\r\n  labelData: Record<string, string> = {};\r\n  name = 'LabelController';\r\n\r\n  init(operationData: ILabelControllerMetadata) {\r\n    this.operationData = Object.assign({}, operationData);\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    if (!this.operationData) {\r\n      return;\r\n    }\r\n\r\n    eventbus.broadcast(TimelineEventNames.REQUEST_CURRENT_LANGUAGE, [\r\n      (language: string) => {\r\n        this.currentLanguage = language;\r\n      },\r\n    ]);\r\n\r\n    eventbus.broadcast(TimelineEventNames.REQUEST_LABEL_COLLECTION, [\r\n      this.operationData.labelId,\r\n      (labelCollection: ILabel[]) => {\r\n        this.createTextDataLookup(labelCollection);\r\n      },\r\n    ]);\r\n\r\n    this.setLabel();\r\n    this.listeners.push(eventbus.on(TimelineEventNames.LANGUAGE_CHANGE, this.handleLanguageChange.bind(this)));\r\n  }\r\n\r\n  setLabel() {\r\n    if (this.currentLanguage) {\r\n      this.operationData?.selectedElement.html(this.labelData[this.currentLanguage]);\r\n    }\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    this.listeners.forEach((func) => {\r\n      func();\r\n    });\r\n  }\r\n\r\n  handleLanguageChange(code: string) {\r\n    this.currentLanguage = code;\r\n    this.setLabel();\r\n  }\r\n\r\n  createTextDataLookup(data: ILabel[]) {\r\n    data.forEach((d) => {\r\n      this.labelData[d.languageCode] = d.label;\r\n    });\r\n  }\r\n}\r\n","import lottie, { AnimationItem } from 'lottie-web';\r\nimport { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { IController } from './types';\r\n\r\nexport interface IInnerMetadata {\r\n  selectedElement: JQuery;\r\n  renderer: 'svg' | 'canvas' | 'html';\r\n  loop: boolean;\r\n  autoplay: boolean;\r\n  animationData: any;\r\n  json: any;\r\n  labelIds: string[];\r\n  viewBox: string;\r\n  iefallback: any;\r\n}\r\n\r\nexport interface ILottieControllerMetadata extends IInnerMetadata {\r\n  url: string;\r\n}\r\n\r\nexport class LottieController implements IController<ILottieControllerMetadata> {\r\n  name = 'LottieController';\r\n  currentLanguage: string | null = null;\r\n  labelData: Record<string, Record<string, string>> = {};\r\n  listeners: TEventHandlerRemover[] = [];\r\n  animationItem: AnimationItem | null = null;\r\n  operationData: IInnerMetadata | null = null;\r\n  serializedData: string | null = null;\r\n  serializedIEData: string | null = null;\r\n  freezePosition = -1;\r\n  endPosition = -1;\r\n\r\n  constructor() {}\r\n\r\n  init(operationData: ILottieControllerMetadata) {\r\n    this.operationData = {\r\n      selectedElement: operationData.selectedElement,\r\n      renderer: operationData.renderer,\r\n      loop: operationData.loop,\r\n      autoplay: operationData.autoplay,\r\n      animationData: operationData.animationData,\r\n      json: operationData.json,\r\n      labelIds: operationData.labelIds,\r\n      viewBox: operationData.viewBox,\r\n      iefallback: operationData.iefallback,\r\n    };\r\n    if (operationData.url.indexOf('[') > -1) {\r\n      this.parseFilename(operationData.url);\r\n    }\r\n    this.serializedData = this.operationData.json\r\n      ? JSON.stringify(this.operationData.json)\r\n      : JSON.stringify(this.operationData.animationData);\r\n    if (this.operationData.iefallback) {\r\n      this.serializedIEData = JSON.stringify(this.operationData.iefallback);\r\n    }\r\n  }\r\n\r\n  parseFilename(name: string) {\r\n    const params = name.substr(name.indexOf('[') + 1, name.indexOf(']') - name.indexOf('[') - 1);\r\n    const settings = params.split(',');\r\n    settings.forEach((setting) => {\r\n      const values = setting.split('=');\r\n      if (values[0] === 'freeze') {\r\n        this.freezePosition = +values[1];\r\n      } else if (values[0] === 'end') {\r\n        this.endPosition = +values[1];\r\n      }\r\n    });\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    if (!this.operationData) {\r\n      return;\r\n    }\r\n\r\n    const { labelIds } = this.operationData;\r\n    if (labelIds && labelIds.length) {\r\n      const resultHolder: { language: string; labelCollections: any[] } = {} as any;\r\n\r\n      eventbus.broadcast(TimelineEventNames.REQUEST_CURRENT_LANGUAGE, [resultHolder]);\r\n      this.currentLanguage = resultHolder.language;\r\n      this.listeners.push(eventbus.on(TimelineEventNames.LANGUAGE_CHANGE, this.handleLanguageChange.bind(this)));\r\n      eventbus.broadcast(TimelineEventNames.REQUEST_LABEL_COLLECTIONS, [this.operationData.labelIds, resultHolder]);\r\n      this.createTextDataLookup(resultHolder.labelCollections);\r\n    }\r\n    this.createAnimation();\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    this.listeners.forEach((func) => {\r\n      func();\r\n    });\r\n\r\n    if (this.animationItem) {\r\n      if (this.endPosition > -1) {\r\n        this.animationItem.addEventListener('complete', this.destroy.bind(this));\r\n        this.animationItem.playSegments([this.freezePosition, this.endPosition], true);\r\n      } else {\r\n        this.animationItem.destroy();\r\n      }\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    if (this.animationItem) {\r\n      this.animationItem.destroy();\r\n      this.animationItem = null;\r\n    }\r\n  }\r\n\r\n  createAnimation() {\r\n    if (!this.operationData || !this.serializedData) {\r\n      return;\r\n    }\r\n\r\n    this.animationItem?.destroy();\r\n    let serialized = this.isIE() && this.serializedIEData ? this.serializedIEData : this.serializedData;\r\n\r\n    const { labelIds } = this.operationData;\r\n    if (labelIds && labelIds.length) {\r\n      labelIds.forEach((id) => {\r\n        serialized = serialized.split(`!!${id}!!`).join(this.labelData[id][this.currentLanguage ?? '']);\r\n      });\r\n    }\r\n    const animationData = JSON.parse(serialized);\r\n\r\n    const animationSettings = {\r\n      autoplay: this.operationData.autoplay,\r\n      container: this.operationData.selectedElement[0],\r\n      loop: this.operationData.loop,\r\n      renderer: this.operationData.renderer,\r\n      animationData,\r\n    };\r\n\r\n    this.animationItem = lottie.loadAnimation(animationSettings);\r\n    if (this.endPosition < 0) {\r\n      this.endPosition = this.animationItem.timeCompleted;\r\n    }\r\n\r\n    if (this.freezePosition > -1) {\r\n      this.animationItem.playSegments([0, this.freezePosition], true);\r\n    }\r\n    if (this.operationData.viewBox) {\r\n      this.operationData.selectedElement.find('svg').attr('viewBox', this.operationData.viewBox);\r\n    }\r\n  }\r\n\r\n  createTextDataLookup(data: any[]) {\r\n    data.forEach((infos, index) => {\r\n      infos.forEach((d: any) => {\r\n        if (this.operationData) {\r\n          this.labelData[this.operationData.labelIds[index]][d.code] = d.label;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleLanguageChange(code: string) {\r\n    this.currentLanguage = code;\r\n    this.createAnimation();\r\n  }\r\n\r\n  isIE() {\r\n    const isIE = false || !!(window.document as any)['documentMode'];\r\n\r\n    // Edge 20+\r\n    const isEdge = !isIE && !!window['StyleMedia'];\r\n\r\n    return isEdge || isIE;\r\n  }\r\n}\r\n","import $ from 'jquery';\r\nimport { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { TResultCallback } from '~/types';\r\nimport { LabelController } from './label-controller';\r\nimport { IController } from './types';\r\n\r\nexport interface INavigationControllerOperationData {\r\n  selectedElement: JQuery;\r\n  json: any;\r\n}\r\n\r\nexport class NavigationController implements IController<INavigationControllerOperationData> {\r\n  name: string = 'NavigationController';\r\n  navigation: any[] = [];\r\n  navLookup: Record<string, any> = {};\r\n  navVidIdLookup: Record<string, any> = {};\r\n  ctrlLookup: Record<string, LabelController> = {};\r\n  activeNavigationPoint: any | null = null;\r\n  labelControllers: LabelController[] = [];\r\n  eventhandlers: TEventHandlerRemover[] = [];\r\n  eventbus: IEventbus | null = null;\r\n  container: JQuery | null = null;\r\n\r\n  constructor() {}\r\n\r\n  init(operationData: TOperationData) {\r\n    this.container = operationData.selectedElement;\r\n    this.navigation = this.buildNavigationData(operationData.json);\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    if (!this.container) {\r\n      return;\r\n    }\r\n\r\n    this.eventbus = eventbus;\r\n\r\n    this.eventhandlers.push(eventbus.on('navigate-to-video-url', this.handleNavigateVideoUrl.bind(this)));\r\n    this.eventhandlers.push(eventbus.on('highlight-navigation', this.highlightMenu.bind(this)));\r\n    this.eventhandlers.push(eventbus.on('request-current-navigation', this.handleRequestCurrentNavigation.bind(this)));\r\n    this.eventhandlers.push(eventbus.on('video-complete', this.handleVideoComplete.bind(this)));\r\n\r\n    this.buildHtml(this.container, this.navigation);\r\n    this.initHistory.bind(this);\r\n  }\r\n\r\n  initHistory() {\r\n    this.activeNavigationPoint = this.navVidIdLookup[0];\r\n    const navId = this.getQueryVariable(0);\r\n    let videoIndex = 0;\r\n    if (navId) {\r\n      const nav = this.navLookup[navId];\r\n      videoIndex = nav.videoUrlIndex;\r\n    }\r\n    this.highlightMenu(videoIndex);\r\n  }\r\n\r\n  getQueryVariable(variableIdx: number) {\r\n    const href = window.location.href;\r\n    const hashIndex = href.indexOf('#');\r\n    if (hashIndex > -1) {\r\n      const query = href.substring(hashIndex + 2);\r\n      if (query) {\r\n        const vars = query.split('/');\r\n        return vars[variableIdx];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  handleRequestCurrentNavigation(resultCallback: TResultCallback) {\r\n    if (this.activeNavigationPoint) {\r\n      const labelCtrl = this.ctrlLookup[this.activeNavigationPoint.labelId];\r\n      resultCallback({\r\n        navigationData: this.activeNavigationPoint,\r\n        title: labelCtrl.labelData[labelCtrl.currentLanguage || ''],\r\n      });\r\n    } else {\r\n      resultCallback(null);\r\n    }\r\n  }\r\n\r\n  detach(eventbus: IEventbus) {\r\n    this.eventhandlers.forEach((handler) => {\r\n      handler();\r\n    });\r\n\r\n    this.labelControllers.forEach((ctrl) => {\r\n      ctrl.detach(eventbus);\r\n    });\r\n\r\n    this.labelControllers.length = 0;\r\n    this.eventbus = null;\r\n    this.container = null;\r\n    window.onpopstate = null;\r\n  }\r\n\r\n  pushCurrentState(position = -1) {\r\n    if (!this.activeNavigationPoint) {\r\n      return;\r\n    }\r\n    const labelCtrl: LabelController = this.ctrlLookup[this.activeNavigationPoint.labelId];\r\n\r\n    if (!labelCtrl) {\r\n      return;\r\n    }\r\n\r\n    const state = {\r\n      navigationData: this.activeNavigationPoint,\r\n      title: labelCtrl.labelData[labelCtrl.currentLanguage || ''],\r\n      position: -1,\r\n    };\r\n    if (position > -1) {\r\n      state.position = position;\r\n    }\r\n    this.eventbus?.broadcast('push-history-state', [state]);\r\n  }\r\n\r\n  buildHtml(parentElm: JQuery, data: any) {\r\n    const ul = $('<ul/>');\r\n    data.forEach(this.addNavElement.bind(this, ul));\r\n    parentElm.append(ul);\r\n  }\r\n\r\n  addNavElement(parentElm: JQuery, data: any) {\r\n    if (data.visible) {\r\n      const li = $('<li/>');\r\n      const a = $(`<a href='javascript:;' id='nav_${data.videoUrlIndex}'/>`);\r\n      li.append(a);\r\n      this.addLabel(a, data.labelId);\r\n      this.addClickHandler(a, data.videoUrlIndex);\r\n\r\n      if (data.children) {\r\n        const ul = $('<ul/>');\r\n        data.children.forEach(this.addNavElement.bind(this, ul));\r\n        li.append(ul);\r\n      }\r\n\r\n      parentElm.append(li);\r\n    }\r\n  }\r\n\r\n  addClickHandler(parentElm: JQuery, videoIndex: number) {\r\n    parentElm.mouseup(this.menuMouseupHandler.bind(this, videoIndex));\r\n  }\r\n\r\n  menuMouseupHandler(videoIndex: number) {\r\n    const navdata = this.navVidIdLookup[videoIndex];\r\n    if (navdata) {\r\n      this.eventbus?.broadcast('request-video-url', [navdata.videoUrlIndex]);\r\n      this.handleNavigateVideoUrl(navdata.videoUrlIndex);\r\n    }\r\n  }\r\n\r\n  handleNavigateVideoUrl(index: number, requestedVideoPosition: number = 0) {\r\n    this.highlightMenu(index);\r\n    this.eventbus?.broadcast('request-video-url', [index, requestedVideoPosition]);\r\n    this.activeNavigationPoint = this.navVidIdLookup[index];\r\n    this.pushCurrentState(requestedVideoPosition);\r\n  }\r\n\r\n  highlightMenu(index: number) {\r\n    const navElm = $(`#nav_${index}`);\r\n\r\n    if (navElm.length) {\r\n      $('.current-menu-item').removeClass('current-menu-item');\r\n      navElm.addClass('current-menu-item');\r\n    }\r\n  }\r\n\r\n  handleVideoComplete(index: number) {\r\n    const navData = this.navVidIdLookup[index];\r\n    if (navData.autoNext) {\r\n      this.eventbus?.broadcast('request-video-url', [navData.next.videoUrlIndex]);\r\n    } else {\r\n      this.eventbus?.broadcast('request-video-cleanup');\r\n    }\r\n  }\r\n\r\n  addLabel(parentElm: JQuery, labelId: string) {\r\n    const data = {\r\n      selectedElement: parentElm,\r\n      labelId: labelId,\r\n    };\r\n    const resultCallback = (instance: LabelController) => {\r\n      instance.init(data);\r\n      instance.attach(this.eventbus as IEventbus);\r\n      this.labelControllers.push(instance);\r\n      this.ctrlLookup[labelId] = instance;\r\n    };\r\n    this.eventbus?.broadcast('request-instance', ['LabelController', resultCallback]);\r\n  }\r\n\r\n  buildNavigationData(data: any) {\r\n    const result: any[] = [];\r\n    data.navigationData.forEach((nav: any, index: number) => {\r\n      this.navLookup[nav.id] = nav;\r\n      this.navVidIdLookup[nav.videoUrlIndex] = nav;\r\n      nav.previous = data.navigationData[index - 1];\r\n    });\r\n\r\n    data.navigationData.forEach((nav: any, index: number) => {\r\n      if (nav.nextId) {\r\n        nav.next = this.navLookup[nav.nextId];\r\n        delete nav.nextId;\r\n      } else {\r\n        nav.next = data.navigationData[index + 1];\r\n      }\r\n    });\r\n\r\n    data.roots.forEach((id: string) => {\r\n      const nav = this.navLookup[id];\r\n      if (nav.children) {\r\n        nav.children = nav.children.map((childId: string) => {\r\n          return this.navLookup[childId];\r\n        });\r\n      }\r\n      result.push(nav);\r\n    });\r\n    return result;\r\n  }\r\n}\r\n","import { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { IController } from './types';\r\n\r\nexport interface IProgressbarControllerOperationData {\r\n  selectedElement: JQuery;\r\n  textElement: JQuery;\r\n}\r\n\r\nexport class ProgressbarController implements IController<IProgressbarControllerOperationData> {\r\n  name: string = 'ProgressbarController';\r\n  selectedElement: JQuery | null = null;\r\n  textElement: JQuery | null = null;\r\n  detachers: TEventHandlerRemover[] = [];\r\n\r\n  init(operationData: TOperationData) {\r\n    this.selectedElement = operationData.selectedElement;\r\n    this.textElement = operationData.textElement;\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    this.detachers.push(eventbus.on(TimelineEventNames.POSITION_UPDATE, this.positionUpdateHandler.bind(this)));\r\n\r\n    const clickHandler = this.clickHandler.bind(this);\r\n    this.selectedElement?.on('click', clickHandler);\r\n    this.detachers.push(() => this.selectedElement?.off('click'), clickHandler);\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    this.detachers.forEach((func: () => void) => {\r\n      func();\r\n    });\r\n  }\r\n\r\n  positionUpdateHandler({ position, duration }: { position: number; duration: number }) {\r\n    const percentage = (100 / duration) * position;\r\n    this.selectedElement?.css('width', `${percentage}%`);\r\n    this.textElement?.text(`${Math.floor(percentage)}%`);\r\n  }\r\n\r\n  clickHandler() {}\r\n}\r\n","import { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { IController } from './types';\r\n\r\nexport interface IRoutingControllerOperationData {\r\n  json: any;\r\n}\r\n\r\nexport class RoutingController implements IController<IRoutingControllerOperationData> {\r\n  name = 'RoutingController';\r\n  navLookup: Record<string, any> = {};\r\n  navVidIdLookup: Record<string, any> = {};\r\n  navigation: any = null;\r\n  eventhandlers: TEventHandlerRemover[] = [];\r\n  eventbus: IEventbus | null = null;\r\n\r\n  constructor() {}\r\n\r\n  init(operationData: TOperationData) {\r\n    this.navigation = this.buildNavigationData(operationData.json);\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    this.eventhandlers.push(eventbus.on('before-request-video-url', this.handleBeforeRequestVideoUrl.bind(this)));\r\n    this.eventhandlers.push(eventbus.on('push-history-state', this.handlePushHistoryState.bind(this)));\r\n    this.eventbus = eventbus;\r\n    window.onpopstate = this.handlePopstate.bind(this);\r\n\r\n    const navId = this.getQueryVariable(0);\r\n    if (navId) {\r\n      const nav = this.navLookup[navId];\r\n      const pos = +this.getQueryVariable(1);\r\n      this.eventbus.broadcast('request-video-url', [nav.videoUrlIndex, pos, true]);\r\n    } else {\r\n      window.history.pushState({ navigationId: this.navigation[0].id }, '', `#/${this.navigation[0].id}`);\r\n    }\r\n  }\r\n\r\n  handlePopstate(event: any) {\r\n    const navigationId = event.state ? event.state.navigationId : this.navigation[0].id;\r\n    const position = event.state?.position ?? 0;\r\n    const nav = this.navLookup[navigationId];\r\n    this.eventbus?.broadcast('highlight-navigation', [nav.videoUrlIndex]);\r\n    this.eventbus?.broadcast('request-video-url', [nav.videoUrlIndex, position, true]);\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    if (this.eventhandlers) {\r\n      this.eventhandlers.forEach((handler) => {\r\n        handler();\r\n      });\r\n    }\r\n    this.eventbus = null;\r\n  }\r\n\r\n  handleBeforeRequestVideoUrl(_index: number, _requestedVideoPosition: number = 0, isHistoryRequest: boolean = false) {\r\n    isHistoryRequest = isHistoryRequest !== undefined ? isHistoryRequest : false;\r\n    if (!isHistoryRequest) {\r\n      const resultCallback = (item: any) => {\r\n        this.pushState(item);\r\n      };\r\n      this.eventbus?.broadcast('request-current-navigation', [resultCallback]);\r\n    }\r\n  }\r\n\r\n  getQueryVariable(variableIdx: number) {\r\n    const href = window.location.href;\r\n    const hashIndex = href.indexOf('#');\r\n    if (hashIndex > -1) {\r\n      const query = href.substring(hashIndex + 2);\r\n      if (query) {\r\n        const vars = query.split('/');\r\n        return vars[variableIdx];\r\n      }\r\n    }\r\n    return '';\r\n  }\r\n\r\n  handlePushHistoryState(state: any) {\r\n    this.pushState(state);\r\n  }\r\n\r\n  pushState(state: any) {\r\n    if (state && state.navigationData && state.navigationData.visible) {\r\n      let currentPosition = state.position !== undefined ? state.position : -1;\r\n      if (currentPosition < 0) {\r\n        const resultCallback = (position: number) => {\r\n          currentPosition = position > 3 ? position - 3 : 0;\r\n        };\r\n        this.eventbus?.broadcast('request-current-video-position', [resultCallback]);\r\n      }\r\n\r\n      const currentState = window.history.state;\r\n      if (currentState && currentState.navigationId !== state.navigationData.id) {\r\n        window.history.pushState(\r\n          { navigationId: state.navigationData.id, position: currentPosition },\r\n          state.title,\r\n          `#/${state.navigationData.id}/${currentPosition}`\r\n        );\r\n      } else if (currentState && currentState.navigationId === state.navigationData.id) {\r\n        window.history.replaceState(\r\n          { navigationId: currentState.navigationId, position: currentPosition },\r\n          state.title,\r\n          `#/${currentState.navigationId}/${currentPosition}`\r\n        );\r\n      } else {\r\n        window.history.pushState(\r\n          { navigationId: state.navigationData.id, position: currentPosition },\r\n          state.title,\r\n          `#/${state.navigationData.id}/${currentPosition}`\r\n        );\r\n      }\r\n      window.document.title = state.title;\r\n    }\r\n  }\r\n\r\n  buildNavigationData(data: any) {\r\n    const result: any[] = [];\r\n    data.navigationData.forEach((nav: any, index: any) => {\r\n      this.navLookup[nav.id] = nav;\r\n      this.navVidIdLookup[nav.videoUrlIndex] = nav;\r\n      nav.previous = data.navigationData[index - 1];\r\n    });\r\n\r\n    data.navigationData.forEach((nav: any, index: number) => {\r\n      if (nav.nextId) {\r\n        nav.next = this.navLookup[nav.nextId];\r\n        delete nav.nextId;\r\n      } else {\r\n        nav.next = data.navigationData[index + 1];\r\n      }\r\n    });\r\n\r\n    data.roots.forEach((id: string) => {\r\n      const nav = this.navLookup[id];\r\n      if (nav.children) {\r\n        nav.children = nav.children.map((childId: string) => {\r\n          return this.navLookup[childId];\r\n        });\r\n      }\r\n      result.push(nav);\r\n    });\r\n    return result;\r\n  }\r\n}\r\n","import { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { IController } from './types';\r\n\r\nexport interface ISubtitlesControllerOperationData {\r\n  selectedElement: JQuery;\r\n  language: string;\r\n  subtitleData: any;\r\n}\r\n\r\nexport class SubtitlesController implements IController<ISubtitlesControllerOperationData> {\r\n  actionLookup: Record<string, any> = {};\r\n  currentLanguage: string | null = null;\r\n  lastFunc: Function | null = null;\r\n  name = 'SubtitlesController';\r\n\r\n  attach(eventbus: IEventbus) {\r\n    const detachTime = eventbus.on(TimelineEventNames.TIME, this.onTimeHandler.bind(this));\r\n    const detachSeek = eventbus.on(TimelineEventNames.SEEKED, this.onSeekedHandler.bind(this));\r\n    const detachLangChange = eventbus.on(TimelineEventNames.LANGUAGE_CHANGE, this.languageChangeHandler.bind(this));\r\n    this.internalDetach = this.internalDetach.bind(this, [detachTime, detachLangChange, detachSeek]);\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    this.internalDetach();\r\n  }\r\n\r\n  internalDetach(detachMethods?: TEventHandlerRemover[]) {\r\n    if (detachMethods) {\r\n      detachMethods.forEach((f) => {\r\n        f();\r\n      });\r\n    }\r\n  }\r\n\r\n  languageChangeHandler(newLanguage: string) {\r\n    this.currentLanguage = newLanguage;\r\n    if (this.lastFunc) {\r\n      this.lastFunc();\r\n    }\r\n  }\r\n\r\n  removeTitle(container?: JQuery) {\r\n    container?.empty();\r\n    this.lastFunc = null;\r\n  }\r\n\r\n  onTimeHandler(arg: any) {\r\n    const position = arg.position;\r\n    const func = this.actionLookup[position];\r\n    if (func) {\r\n      func();\r\n      this.lastFunc = func;\r\n    }\r\n  }\r\n\r\n  onSeekedHandler(arg: any) {\r\n    let position = arg.position;\r\n    let func = this.actionLookup[position];\r\n    while (!func && --position >= 0) {\r\n      func = this.actionLookup[position];\r\n    }\r\n    if (func) {\r\n      func();\r\n      this.lastFunc = func;\r\n    } else {\r\n      this.removeTitle();\r\n    }\r\n  }\r\n\r\n  setTitle(container: JQuery, titleLanguageLookup: Record<string, string>) {\r\n    if (this.currentLanguage) {\r\n      container.html(titleLanguageLookup[this.currentLanguage]);\r\n    }\r\n  }\r\n\r\n  createActionLookup(operationData: TOperationData, container: JQuery) {\r\n    const subtitleData = operationData.subtitleData;\r\n    const titles = subtitleData[0].titles;\r\n    const subtitleTimeLookup: Record<number, () => void> = {};\r\n\r\n    for (let i = 0, ii = titles.length; i < ii; i++) {\r\n      const titleLanguageLookup: Record<string, string> = {};\r\n\r\n      for (let j = 0, jj = subtitleData.length; j < jj; j++) {\r\n        const subs = subtitleData[j];\r\n        titleLanguageLookup[subs.lang] = subs.titles[i].text;\r\n      }\r\n\r\n      subtitleTimeLookup[titles[i].duration.start] = this.setTitle.bind(this, container, titleLanguageLookup);\r\n      subtitleTimeLookup[titles[i].duration.end] = this.removeTitle;\r\n    }\r\n\r\n    return subtitleTimeLookup;\r\n  }\r\n\r\n  init(operationData: ISubtitlesControllerOperationData) {\r\n    const container = operationData.selectedElement;\r\n    this.removeTitle = this.removeTitle.bind(this, container);\r\n    this.currentLanguage = operationData.language;\r\n    this.actionLookup = this.createActionLookup(operationData, container);\r\n  }\r\n}\r\n","import $ from 'jquery';\r\nimport Mousetrap from 'mousetrap';\r\nimport { IAction } from '~/action/types';\r\nimport { ConfigurationResolver } from '~/configuration/configuration-resolver';\r\nimport { IEngineConfiguration, IResolvedEngineConfiguration } from '~/configuration/types';\r\nimport { ActionRegistryEventbusListener, Eventbus, RequestVideoUriInterceptor } from '~/eventbus';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { LanguageManager } from '~/language-manager';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport {\r\n  IChronoTriggerEngine,\r\n  IConfigurationResolver,\r\n  IEngineFactory,\r\n  IResourceImporter,\r\n  ITimelineProviderInfo,\r\n  TimelineTypes,\r\n  TResultCallback,\r\n} from './types';\r\n\r\nexport class EngineFactory implements IEngineFactory {\r\n  private resizeTimeout: any = -1;\r\n  private actionsLookup: Record<string, IAction> = {};\r\n  private importer: IResourceImporter;\r\n  private eventbus: IEventbus;\r\n\r\n  constructor(importer: IResourceImporter, windowRef: any, eventbus?: IEventbus) {\r\n    this.importer = importer;\r\n    this.eventbus = eventbus || new Eventbus();\r\n    this.eventbus.on(TimelineEventNames.REQUEST_INSTANCE, this._requestInstanceHandler.bind(this));\r\n    this.eventbus.on(TimelineEventNames.REQUEST_ACTION, this._requestActionHandler.bind(this));\r\n    this.eventbus.on(TimelineEventNames.REQUEST_FUNCTION, this._requestFunctionHandler.bind(this));\r\n\r\n    $(windowRef).resize(this._resizeHandler.bind(this));\r\n  }\r\n\r\n  destroy() {\r\n    this.eventbus.clear();\r\n  }\r\n\r\n  private _resizeHandler() {\r\n    if (this.resizeTimeout) {\r\n      clearTimeout(this.resizeTimeout);\r\n    }\r\n    this.resizeTimeout = setTimeout(() => {\r\n      this.eventbus.broadcast(TimelineEventNames.RESIZE);\r\n    }, 200);\r\n  }\r\n\r\n  private _importSystemEntryWithEventbusDependency(systemName: string): any {\r\n    const ctor = this._importSystemEntry(systemName);\r\n    return new ctor(this.eventbus);\r\n  }\r\n\r\n  private _importSystemEntry(systemName: string): any {\r\n    return this.importer.import(systemName)[systemName];\r\n  }\r\n\r\n  private _requestInstanceHandler(systemName: string, resultCallback: TResultCallback) {\r\n    resultCallback(this._importSystemEntryWithEventbusDependency(systemName));\r\n  }\r\n\r\n  private _requestFunctionHandler(systemName: string, resultCallback: TResultCallback) {\r\n    resultCallback(this._importSystemEntry(systemName));\r\n  }\r\n\r\n  private _requestActionHandler(systemName: string, resultCallback: TResultCallback) {\r\n    const action = this.actionsLookup[systemName];\r\n    if (action) {\r\n      resultCallback(action);\r\n    } else {\r\n      console.error(`Unknown action: ${systemName}`);\r\n      resultCallback(null);\r\n    }\r\n  }\r\n\r\n  createEngine(configuration: IEngineConfiguration, resolver?: IConfigurationResolver): IChronoTriggerEngine {\r\n    const { systemName } = configuration.engine;\r\n    const EngineClass = this._importSystemEntry(systemName);\r\n\r\n    let actionRegistryListener: ActionRegistryEventbusListener | undefined = undefined;\r\n    if (configuration.eventActions && configuration.eventActions.length) {\r\n      actionRegistryListener = new ActionRegistryEventbusListener();\r\n      this.eventbus.registerEventlistener(actionRegistryListener);\r\n    }\r\n\r\n    this.eventbus.registerInterceptor(\r\n      TimelineEventNames.REQUEST_TIMELINE_URI,\r\n      new RequestVideoUriInterceptor(this.eventbus)\r\n    );\r\n\r\n    resolver = resolver || new ConfigurationResolver(this.importer, this.eventbus);\r\n    const [actionLookup, resolvedConfiguration] = resolver.process(configuration, actionRegistryListener);\r\n    this.actionsLookup = actionLookup;\r\n\r\n    const timelineProviders = this._createTimelineProviders(resolvedConfiguration, this.eventbus);\r\n\r\n    const { language, labels } = configuration;\r\n    const languageManager = new LanguageManager(language, labels, this.eventbus);\r\n\r\n    const chronoTriggerEngine = new EngineClass(\r\n      resolvedConfiguration,\r\n      this.eventbus,\r\n      timelineProviders,\r\n      languageManager\r\n    );\r\n\r\n    Mousetrap.bind('space', (event) => {\r\n      event.preventDefault();\r\n      this.eventbus.broadcast(TimelineEventNames.PLAY_TOGGLE_REQUEST);\r\n      return false;\r\n    });\r\n\r\n    return chronoTriggerEngine;\r\n  }\r\n\r\n  private _createTimelineProviders(\r\n    configuration: IResolvedEngineConfiguration,\r\n    eventbus: IEventbus\r\n  ): Record<TimelineTypes, ITimelineProviderInfo> {\r\n    const { timelineProviderSettings } = configuration;\r\n\r\n    const result = Object.entries(timelineProviderSettings).reduce<Record<TimelineTypes, ITimelineProviderInfo>>(\r\n      (acc, [timelineType, settings]) => {\r\n        const timelineProviderClass = this._importSystemEntry(settings.systemName);\r\n        acc[timelineType as TimelineTypes] = {\r\n          id: settings.id,\r\n          vendor: settings.vendor,\r\n          provider: new timelineProviderClass(eventbus, configuration),\r\n        };\r\n        return acc;\r\n      },\r\n      {} as Record<TimelineTypes, ITimelineProviderInfo>\r\n    );\r\n\r\n    return result;\r\n  }\r\n}\r\n","import { IAction } from '~/action/types';\r\nimport { IEventbusListener } from './types';\r\n\r\nexport class ActionRegistryEventbusListener implements IEventbusListener {\r\n  private _actionRegistry: Record<string, IAction[]> = {};\r\n\r\n  registerAction(action: IAction, eventName: string, eventTopic?: string): void {\r\n    if (eventTopic && eventTopic.length) {\r\n      eventName = `${eventName}:${eventTopic}`;\r\n    }\r\n    if (!this._actionRegistry[eventName]) {\r\n      this._actionRegistry[eventName] = [];\r\n    }\r\n    this._actionRegistry[eventName].push(action);\r\n  }\r\n\r\n  handleEvent(eventName: string, eventTopic: string | undefined, args: any[]): void {\r\n    if (eventTopic && eventTopic.length) {\r\n      eventName = `${eventName}:${eventTopic}`;\r\n    }\r\n    const actions = this._actionRegistry[eventName];\r\n    if (actions) {\r\n      const operationData = {\r\n        eventArgs: args,\r\n      };\r\n      actions.forEach((action) => {\r\n        action.start(operationData);\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { IEventbus, IEventbusInterceptor, IEventbusListener, TEventHandler, TEventHandlerRemover } from './types';\r\n\r\nexport class Eventbus implements IEventbus {\r\n  private eventHandlers: Record<string, TEventHandler[]> = {};\r\n  private eventInterceptors: Record<string, IEventbusInterceptor[]> = {};\r\n  private eventListeners: IEventbusListener[] = [];\r\n\r\n  constructor() {\r\n    this.clear();\r\n  }\r\n\r\n  clear() {\r\n    this.eventHandlers = {};\r\n    this.eventListeners = [];\r\n    this.eventInterceptors = {};\r\n  }\r\n\r\n  _getEventInterceptors(eventName: string, eventTopic?: string): IEventbusInterceptor[] {\r\n    if (eventTopic && eventTopic.length) {\r\n      eventName = `${eventName}:${eventTopic}`;\r\n    }\r\n    if (!this.eventInterceptors[eventName]) {\r\n      this.eventInterceptors[eventName] = [];\r\n    }\r\n    return this.eventInterceptors[eventName];\r\n  }\r\n\r\n  _getEventHandlers(eventName: string, eventTopic?: string): TEventHandler[] {\r\n    if (eventTopic && eventTopic.length) {\r\n      eventName = `${eventName}:${eventTopic}`;\r\n    }\r\n    if (!this.eventHandlers[eventName]) {\r\n      this.eventHandlers[eventName] = [];\r\n    }\r\n    return this.eventHandlers[eventName];\r\n  }\r\n\r\n  on(eventName: string, eventHandler: TEventHandler, eventTopic?: string): TEventHandlerRemover {\r\n    this._getEventHandlers(eventName, eventTopic).push(eventHandler);\r\n    return () => {\r\n      this.off(eventName, eventHandler, eventTopic);\r\n    };\r\n  }\r\n\r\n  once(eventName: string, eventHandler: TEventHandler, eventTopic?: string): void {\r\n    const eventHandlerDecorator = (...args: any[]) => {\r\n      eventHandler(...args);\r\n      this.off(eventName, eventHandlerDecorator, eventTopic);\r\n    };\r\n    this.on(eventName, eventHandlerDecorator, eventTopic);\r\n  }\r\n\r\n  off(eventName: string, eventHandler: TEventHandler, eventTopic?: string): void {\r\n    const handlers = this._getEventHandlers(eventName, eventTopic);\r\n    if (handlers) {\r\n      const idx = handlers.indexOf(eventHandler);\r\n      if (idx > -1) {\r\n        handlers.splice(idx, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  broadcast(eventName: string, args: any[]): void {\r\n    this._callHandlers(eventName, undefined, args);\r\n  }\r\n\r\n  broadcastForTopic(eventName: string, eventTopic: string, args: any[]): void {\r\n    this._callHandlers(eventName, eventTopic, args);\r\n  }\r\n\r\n  registerEventlistener(eventbusListener: IEventbusListener): void {\r\n    this.eventListeners.push(eventbusListener);\r\n  }\r\n\r\n  registerInterceptor(eventName: string, interceptor: IEventbusInterceptor, eventTopic?: string): void {\r\n    const interceptors = this._getEventInterceptors(eventName, eventTopic);\r\n    interceptors.push(interceptor);\r\n  }\r\n\r\n  _callHandlers(eventName: string, eventTopic: string | undefined, args: any = []): void {\r\n    const handlers = this._getEventHandlers(eventName, eventTopic);\r\n\r\n    if (handlers) {\r\n      const interceptors = this._getEventInterceptors(eventName, eventTopic);\r\n\r\n      interceptors.forEach((interceptor) => {\r\n        args = interceptor.intercept(args);\r\n      });\r\n\r\n      this.eventListeners.forEach((listener: IEventbusListener) => {\r\n        listener.handleEvent(eventName, eventTopic, args);\r\n      });\r\n\r\n      if (args?.length) {\r\n        handlers.forEach((handler: TEventHandler) => handler(...args));\r\n      } else {\r\n        handlers.forEach((handler: TEventHandler) => handler());\r\n      }\r\n    }\r\n  }\r\n}\r\n","export { ActionRegistryEventbusListener } from './actionregistry-eventbus-listener';\r\nexport { Eventbus } from './eventbus';\r\nexport { RequestVideoUriInterceptor } from './request-video-uri-interceptor';\r\n","import { TimelineEventNames } from '~/timeline-event-names';\r\nimport { IEventbus, IEventbusInterceptor } from './types';\r\n\r\nexport class RequestVideoUriInterceptor implements IEventbusInterceptor {\r\n  constructor(private eventbus: IEventbus) {}\r\n\r\n  intercept(args: any[]): any[] {\r\n    this.eventbus.broadcast(TimelineEventNames.BEFORE_REQUEST_TIMELINE_URI, args.slice());\r\n    return args;\r\n  }\r\n}\r\n","import * as ctrls from '~/controllers';\r\nimport * as m from '~/index';\r\nimport * as ops from '~/operation';\r\nimport { TOperation } from '~/operation/types';\r\nimport * as prvdrs from '~/timelineproviders';\r\nimport { IResourceImporter } from '~/types';\r\n\r\nconst operations: Record<string, TOperation<any>> = ops as any;\r\nconst controllers: Record<string, any> = ctrls;\r\nconst providers: Record<string, any> = prvdrs;\r\nconst main: Record<string, any> = m;\r\n\r\nexport class WebpackResourceImporter implements IResourceImporter {\r\n  getOperationNames(): string[] {\r\n    return Object.keys(operations);\r\n  }\r\n\r\n  getControllerNames(): string[] {\r\n    return Object.keys(controllers);\r\n  }\r\n\r\n  getProviderNames(): string[] {\r\n    return Object.keys(providers);\r\n  }\r\n\r\n  import(name: string): Record<string, any> {\r\n    const value = operations[name] || controllers[name] || providers[name] || main[name];\r\n\r\n    return { [name]: value };\r\n  }\r\n}\r\n","export { Action, EndableAction, TimelineAction } from './action';\r\nexport * from './action/types';\r\nexport { ChronoTriggerEngine } from './chrono-trigger-engine';\r\nexport {\r\n  ActionCreator,\r\n  ActionCreatorFactory,\r\n  EndableActionCreator,\r\n  TimelineActionCreator,\r\n} from './configuration/api/action-creator-factory';\r\nexport {\r\n  ActionEditor,\r\n  EndableActionEditor,\r\n  OperationEditor,\r\n  TimelineActionEditor,\r\n} from './configuration/api/action-editor';\r\nexport { ConfigurationFactory } from './configuration/api/configuration-factory';\r\nexport {\r\n  ControllerNamesProvider,\r\n  OperationMetadataProvider,\r\n  OperationNamesProvider,\r\n  TimeLineEventNamesProvider,\r\n} from './configuration/api/name-providers';\r\nexport { TimelineProviderSettingsEditor } from './configuration/api/timeline-provider-settings-editor';\r\nexport { ConfigurationResolver } from './configuration/configuration-resolver';\r\nexport * from './configuration/types';\r\nexport * from './controllers/types';\r\nexport { EngineFactory } from './engine-factory';\r\nexport { Eventbus } from './eventbus/eventbus';\r\nexport { WebpackResourceImporter } from './importer/webpack-resource-importer';\r\nexport { LanguageManager } from './language-manager';\r\nexport * from './operation/types';\r\nexport { TimelineEventNames } from './timeline-event-names';\r\nexport * from './timelineproviders/types';\r\nexport * from './types';\r\n","import $ from 'jquery';\r\nimport { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { ILabel, ILanguageLabel, TResultCallback } from '~/types';\r\n\r\nexport class LanguageManager {\r\n  private _labelLookup: Record<string, ILabel[]> = {};\r\n  private _eventbusListeners: TEventHandlerRemover[] = [];\r\n\r\n  constructor(private _currentLanguage: string, labels: ILanguageLabel[], private _eventbus: IEventbus) {\r\n    if (!_currentLanguage || !_currentLanguage.length) {\r\n      throw new Error('language ctor arg cannot be null or have zero length');\r\n    }\r\n    if (!labels) {\r\n      throw new Error('labels ctor arg cannot be null');\r\n    }\r\n    if (!_eventbus) {\r\n      throw new Error('eventbus ctor arg cannot be null');\r\n    }\r\n    this._setRootElementLang(_currentLanguage);\r\n    this._createLabelLookup(labels);\r\n    this._addEventbusListeners(_eventbus);\r\n  }\r\n\r\n  _addEventbusListeners(eventbus: IEventbus) {\r\n    this._eventbusListeners.push(\r\n      eventbus.on(TimelineEventNames.REQUEST_LABEL_COLLECTION, this._handleRequestLabelCollection.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      eventbus.on(TimelineEventNames.REQUEST_LABEL_COLLECTIONS, this._handleRequestLabelCollections.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      eventbus.on(TimelineEventNames.REQUEST_CURRENT_LANGUAGE, this._handleRequestCurrentLanguage.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      eventbus.on(TimelineEventNames.LANGUAGE_CHANGE, this._handleLanguageChange.bind(this))\r\n    );\r\n  }\r\n\r\n  _handleRequestCurrentLanguage(resultCallback: TResultCallback) {\r\n    resultCallback(this._currentLanguage);\r\n  }\r\n\r\n  _handleRequestLabelCollection(labelId: string, resultCallback: TResultCallback) {\r\n    resultCallback(this._labelLookup[labelId]);\r\n  }\r\n\r\n  _handleRequestLabelCollections(labelIds: string[], resultCallback: TResultCallback) {\r\n    const labelCollections = labelIds.map((labelId) => {\r\n      return this._labelLookup[labelId];\r\n    });\r\n    resultCallback(labelCollections);\r\n  }\r\n\r\n  _handleLanguageChange(language: string) {\r\n    if (language && language.length) {\r\n      this._currentLanguage = language;\r\n      this._setRootElementLang(this._currentLanguage);\r\n    } else {\r\n      console.error('Language cannot be changed to null or empty string');\r\n    }\r\n  }\r\n\r\n  _setRootElementLang(language: string) {\r\n    const callBack = (rootSelector: string) => {\r\n      const lang = this._extractLanguageFromCulture(language);\r\n      $(rootSelector).attr('lang', lang);\r\n    };\r\n    this._eventbus.broadcast(TimelineEventNames.REQUEST_ENGINE_ROOT, [callBack]);\r\n  }\r\n\r\n  _extractLanguageFromCulture(culture: string) {\r\n    if (culture.indexOf('-') > -1) {\r\n      return culture.split('-').shift() as string;\r\n    }\r\n    return culture;\r\n  }\r\n\r\n  _createLabelLookup(labels: ILanguageLabel[]) {\r\n    labels.forEach((label) => {\r\n      this._labelLookup[label.id] = label.labels;\r\n    });\r\n  }\r\n}\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IAddClassOperationData {\r\n  selectedElement: JQuery;\r\n  className: string;\r\n}\r\n\r\nexport const addClass: TOperation<IAddClassOperationData> = function (\r\n  operationData: IAddClassOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, className } = operationData;\r\n  selectedElement.addClass(className);\r\n  return operationData;\r\n};\r\n","import { IController } from '~/controllers/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { attachControllerToElement } from './helper/attach-controller-to-element';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IAddControllerToElementOperationData {\r\n  selectedElement: JQuery;\r\n  controllerInstance: IController<any>;\r\n}\r\n\r\nexport const addControllerToElement: TOperation<IAddControllerToElementOperationData> = function (\r\n  operationData: IAddControllerToElementOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { selectedElement, controllerInstance } = operationData;\r\n\r\n  attachControllerToElement(selectedElement, controllerInstance);\r\n\r\n  controllerInstance.init(operationData);\r\n\r\n  const promise = controllerInstance.attach(eventBus);\r\n\r\n  if (promise) {\r\n    return new Promise((resolve, reject) => {\r\n      promise.then((newOperationData: any) => {\r\n        internalResolve(resolve, operationData, newOperationData);\r\n      }, reject);\r\n    });\r\n  } else {\r\n    return operationData;\r\n  }\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nfunction createOptionElementText(\r\n  valueProperty: string,\r\n  labelProperty: string,\r\n  defaultIndex: number,\r\n  defaultValue: any,\r\n  data: any,\r\n  index: number\r\n) {\r\n  let selected = '';\r\n  if (defaultValue) {\r\n    selected = data[valueProperty] === defaultValue ? ' selected' : '';\r\n  } else if (defaultIndex) {\r\n    selected = index === defaultIndex ? ' selected' : '';\r\n  }\r\n  return `<option value='${data[valueProperty]}'${selected}>${data[labelProperty]}</option>`;\r\n}\r\n\r\nexport interface IAddOptionListOperationData {\r\n  valueProperty: string;\r\n  labelProperty: string;\r\n  defaultIndex: number;\r\n  defaultValue: string;\r\n  optionData: any[];\r\n  selectedElement: JQuery;\r\n}\r\n\r\nexport const addOptionList: TOperation<IAddOptionListOperationData> = function (\r\n  operationData: IAddOptionListOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { valueProperty, labelProperty, defaultIndex, defaultValue, optionData, selectedElement } = operationData;\r\n\r\n  const createOption = createOptionElementText.bind(null, valueProperty, labelProperty, defaultIndex, defaultValue);\r\n\r\n  const optionElements = optionData.map(createOption);\r\n\r\n  selectedElement.html(optionElements.join(''));\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IAnimateWithClassOperationData {\r\n  selectedElement: JQuery;\r\n  className: string;\r\n  removeClass?: boolean;\r\n}\r\n\r\nexport const animateWithClass: TOperation<IAnimateWithClassOperationData> = function (\r\n  operationData: IAnimateWithClassOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  let { selectedElement, className, removeClass } = operationData;\r\n  removeClass = removeClass !== undefined ? removeClass : true;\r\n\r\n  const promise = new Promise<IAnimateWithClassOperationData>((resolve, reject) => {\r\n    try {\r\n      selectedElement.one('webkitAnimationEnd oanimationend oAnimationEnd msAnimationEnd animationEnd', () => {\r\n        if (removeClass) {\r\n          selectedElement.removeClass(className);\r\n        }\r\n        internalResolve(resolve, {}, operationData);\r\n      });\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n\r\n  selectedElement.addClass(className);\r\n\r\n  return promise;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IAnimateOperationData {\r\n  animationEasing?: string;\r\n  selectedElement: JQuery;\r\n  animationProperties: any;\r\n  animationDuration: number;\r\n}\r\n\r\nexport const animate: TOperation<IAnimateOperationData> = function (\r\n  operationData: IAnimateOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { animationEasing, selectedElement, animationProperties, animationDuration } = operationData;\r\n  const promise = new Promise<IAnimateOperationData>((resolve, reject) => {\r\n    try {\r\n      if (animationEasing) {\r\n        selectedElement.animate(animationProperties, animationDuration, animationEasing, () => {\r\n          internalResolve(resolve, {}, operationData);\r\n        });\r\n      } else {\r\n        selectedElement.animate(animationProperties, animationDuration, () => {\r\n          internalResolve(resolve, {}, operationData);\r\n        });\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n  return promise;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { removeEventDataFromOperationData } from './helper/remove-event-data-from-operation-data';\r\nimport { resolveEventArguments } from './helper/resolve-event-arguments';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IBroadcastEventOperationData {\r\n  eventArgs: any;\r\n  eventTopic?: string;\r\n  eventName: string;\r\n}\r\n\r\nexport const broadcastEvent: TOperation<IBroadcastEventOperationData> = function (\r\n  operationData: IBroadcastEventOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { eventArgs, eventTopic, eventName } = operationData;\r\n\r\n  const eventArguments = resolveEventArguments(operationData, eventArgs);\r\n\r\n  if (eventTopic) {\r\n    eventBus.broadcastForTopic(eventName, eventTopic, eventArguments);\r\n  } else {\r\n    eventBus.broadcast(eventName, eventArguments);\r\n  }\r\n\r\n  removeEventDataFromOperationData(operationData);\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IClearElementOperationData {\r\n  selectedElement: JQuery;\r\n}\r\n\r\nexport const clearElement: TOperation<IClearElementOperationData> = function (\r\n  operationData: IClearElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement } = operationData;\r\n  selectedElement.empty();\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IClearOperationDataOperationData {\r\n  properties?: string[];\r\n}\r\n\r\nexport const clearOperationData: TOperation<IClearOperationDataOperationData> = function (\r\n  operationData: IClearOperationDataOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { properties } = operationData;\r\n\r\n  if (properties) {\r\n    properties.forEach((name) => {\r\n      delete (operationData as any)[name];\r\n    });\r\n    delete operationData.properties;\r\n    return operationData;\r\n  }\r\n\r\n  return {};\r\n};\r\n","import $ from 'jquery';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { resolvePropertyValues } from './helper/resolve-property-values';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ICreateElementOperationData {\r\n  elementName: string;\r\n  attributes?: any;\r\n  text: string;\r\n  template: JQuery;\r\n}\r\n\r\nexport const createElement: TOperation<ICreateElementOperationData> = function (\r\n  operationData: ICreateElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  operationData = resolvePropertyValues(operationData, operationData);\r\n  const { elementName, attributes, text } = operationData;\r\n\r\n  const serializedAttrs = attributes\r\n    ? ' ' +\r\n      Object.entries(attributes)\r\n        .map(([key, value]) => `${key}=\"${value}\"`)\r\n        .join(' ')\r\n    : '';\r\n\r\n  const template = text\r\n    ? $(`<${elementName}${serializedAttrs}>${text}</${elementName}>`)\r\n    : $(`<${elementName}${serializedAttrs}/>`);\r\n\r\n  operationData.template = template;\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/index';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ICustomFunctionOperationData {\r\n  systemName: string;\r\n}\r\n\r\nexport const customFunction: TOperation<ICustomFunctionOperationData> = function (\r\n  operationData: ICustomFunctionOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { systemName } = operationData;\r\n  return new Promise<ICustomFunctionOperationData>((resolve, reject) => {\r\n    const resultCallback = (func: Function) => {\r\n      const promise = func(operationData, eventBus);\r\n      if (promise) {\r\n        promise.then(() => {\r\n          internalResolve(resolve, {}, operationData);\r\n        }, reject);\r\n      } else {\r\n        internalResolve(resolve, {}, operationData);\r\n      }\r\n    };\r\n    eventBus.broadcast(TimelineEventNames.REQUEST_FUNCTION, [systemName, resultCallback]);\r\n  });\r\n};\r\n","import { IEndableAction } from '~/action/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { mergeOperationData } from './helper/merge-operation-data';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IEndActionOperationData {\r\n  actionInstance: IEndableAction;\r\n  actionOperationData: any;\r\n}\r\n\r\nexport const endAction: TOperation<IEndActionOperationData> = function (\r\n  operationData: IEndActionOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { actionInstance, actionOperationData } = operationData;\r\n  delete operationData.actionOperationData;\r\n  return new Promise<IEndActionOperationData>((resolve, reject) => {\r\n    const mergedData = mergeOperationData(operationData, actionOperationData);\r\n    actionInstance.end(mergedData).then(() => {\r\n      internalResolve(resolve, operationData);\r\n    }, reject);\r\n  });\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { IOperationContext, TOperation } from './types';\r\n\r\nexport const endLoop: TOperation<any> = function (this: IOperationContext, operationData: any, _eventBus: IEventbus) {\r\n  const context = this;\r\n\r\n  if (!context.skipNextOperation) {\r\n    if (context.loopIndex !== undefined && context.loopLength !== undefined && context.loopIndex < context.loopLength) {\r\n      context.loopIndex = context.loopIndex + 1;\r\n      context.newIndex = context.startIndex;\r\n    } else {\r\n      delete context.loopIndex;\r\n      delete context.loopLength;\r\n      delete context.startIndex;\r\n      delete context.newIndex;\r\n    }\r\n  } else {\r\n    delete context.skipNextOperation;\r\n  }\r\n\r\n  return operationData;\r\n};\r\n","import { IController } from '~/controllers/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IExtendControllerOperationData {\r\n  controllerInstance: IController<any>;\r\n  controllerExtension: any;\r\n}\r\n\r\nexport const extendController: TOperation<IExtendControllerOperationData> = function (\r\n  operationData: IExtendControllerOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { controllerInstance, controllerExtension } = operationData;\r\n\r\n  operationData.controllerInstance = Object.assign(controllerInstance, controllerExtension);\r\n\r\n  return operationData;\r\n};\r\n","import { IController } from '~/controllers/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { getElementControllers } from './helper/get-element-data';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IGetControllerFromElementOperationData {\r\n  selectedElement: JQuery;\r\n  controllerName: string;\r\n  controllerInstance?: IController<any>;\r\n}\r\n\r\nexport const getControllerFromElement: TOperation<IGetControllerFromElementOperationData> = function (\r\n  operationData: IGetControllerFromElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, controllerName } = operationData;\r\n  const controllers = getElementControllers(selectedElement);\r\n  const controller = controllers.find((ctrl) => {\r\n    return ctrl.name === controllerName;\r\n  });\r\n\r\n  if (!controller) {\r\n    console.warn(`controller for name '${controllerName}' was not found on the given element`);\r\n  }\r\n\r\n  operationData.controllerInstance = controller;\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IGetControllerInstanceOperationData {\r\n  systemName: string;\r\n  propertyName?: string;\r\n}\r\n\r\nexport const getControllerInstance: TOperation<IGetControllerInstanceOperationData> = function (\r\n  operationData: IGetControllerInstanceOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { systemName } = operationData;\r\n  let { propertyName } = operationData;\r\n\r\n  propertyName = propertyName || 'controllerInstance';\r\n  (operationData as any)[propertyName] = null;\r\n  const resultCallback = (instance: any) => {\r\n    (operationData as any)[propertyName as string] = instance;\r\n  };\r\n  eventBus.broadcast(TimelineEventNames.REQUEST_INSTANCE, [systemName, resultCallback]);\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { modifyDimensions } from './helper/modify-dimensions';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IGetElementDimensionsOperationData {\r\n  selectedElement: JQuery;\r\n  modifier: string;\r\n  dimensions?: { width?: number; height?: number };\r\n}\r\n\r\nexport const getElementDimensions: TOperation<IGetElementDimensionsOperationData> = function (\r\n  operationData: IGetElementDimensionsOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, modifier } = operationData;\r\n  const dimensions = {\r\n    width: selectedElement.innerWidth() ?? 0,\r\n    height: selectedElement.innerHeight() ?? 0,\r\n  };\r\n  if (dimensions.height === 0) {\r\n    dimensions.height = dimensions.width;\r\n  }\r\n  if (modifier && modifier.length) {\r\n    modifyDimensions(dimensions, modifier);\r\n  }\r\n  operationData.dimensions = dimensions;\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IGetImportOperationData {\r\n  systemName: string;\r\n  importedInstance: any;\r\n}\r\n\r\nexport const getImport: TOperation<IGetImportOperationData> = function (\r\n  operationData: IGetImportOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { systemName } = operationData;\r\n  const callBack = (instance: any) => {\r\n    operationData.importedInstance = instance;\r\n  };\r\n  eventBus.broadcast(TimelineEventNames.REQUEST_FUNCTION, [systemName, callBack]);\r\n  delete (operationData as any).systemName;\r\n  return operationData;\r\n};\r\n","import { getElementControllers } from './get-element-data';\r\n\r\nexport function attachControllerToElement(element: JQuery, controller: any) {\r\n  if (!element.data('chronoEngineControllers')) {\r\n    element.data('chronoEngineControllers', []);\r\n  }\r\n  const controllers = getElementControllers(element);\r\n  controllers.push(controller);\r\n}\r\n","import { isDefined } from 'ts-is-present';\r\n\r\nexport function deepcopy<T>(original: T): T {\r\n  if (isDefined(original)) {\r\n    return JSON.parse(JSON.stringify(original)) as T;\r\n  }\r\n  return original;\r\n}\r\n","import { getNestedValue } from './get-nested-value';\r\n\r\nexport function extractOperationDataArgumentValues(sourceObject: any, argumentValue: string | any) {\r\n  if (typeof argumentValue === 'string' && argumentValue.toLowerCase().startsWith('operationdata.')) {\r\n    const propNames = argumentValue.split('.');\r\n    propNames.shift();\r\n    return getNestedValue(propNames, sourceObject);\r\n  }\r\n  return argumentValue;\r\n}\r\n","import { IController } from '~/controllers/types';\r\n\r\nconst controllersName = 'chronoEngineControllers';\r\n\r\nfunction getElementData(name: string, element: JQuery): IController<any>[] {\r\n  return element.data(name);\r\n}\r\n\r\nconst getElementControllers = getElementData.bind(null, controllersName);\r\n\r\nexport { getElementData, getElementControllers };\r\n","import { getNestedValue } from './get-nested-value';\r\n\r\nexport function getNestedPropertyValue(propertyChain: string, sourceObject: any) {\r\n  const properties = propertyChain.split('.');\r\n  return getNestedValue(properties, sourceObject);\r\n}\r\n","export function getNestedValue(properties: any, sourceObject: any) {\r\n  if (!properties) {\r\n    throw Error('properties arg cannot be null');\r\n  }\r\n\r\n  if (!sourceObject) {\r\n    throw Error('sourceObject arg cannot be null');\r\n  }\r\n\r\n  let currentInstance = sourceObject;\r\n  let suffix = null;\r\n\r\n  properties.forEach((prop: string, index: number) => {\r\n    if (index === properties.length - 1) {\r\n      const parts = prop.split('+');\r\n      if (parts.length > 1) {\r\n        prop = parts[0];\r\n        suffix = parts[1];\r\n      }\r\n    }\r\n    currentInstance = currentInstance[prop];\r\n  });\r\n\r\n  return suffix ? currentInstance + suffix : currentInstance;\r\n}\r\n","import { TOperationData } from '../types';\r\nimport { mergeOperationData } from './merge-operation-data';\r\n\r\nexport function internalResolve(resolve: Function, operationData: TOperationData, newOperationData?: TOperationData) {\r\n  if (newOperationData) {\r\n    resolve(mergeOperationData(operationData, newOperationData));\r\n  } else {\r\n    resolve(operationData);\r\n  }\r\n}\r\n","import { TOperationData } from '~/operation/types';\r\n\r\nexport function mergeOperationData<T extends TOperationData, K = T>(\r\n  operationData: T,\r\n  newOperationData: TOperationData\r\n): K {\r\n  return Object.assign(operationData, newOperationData) as K;\r\n}\r\n","import { IDimensions } from '~/types';\r\n\r\nfunction modifyDimensionsByRatio(ratioModifier: string, dimensions: IDimensions) {\r\n  //h[ar=8-1]\r\n  let prefix = ratioModifier.substr(0, 1);\r\n  let ratio = ratioModifier.substr(\r\n    ratioModifier.indexOf('[') + 1,\r\n    ratioModifier.indexOf(']') - ratioModifier.indexOf('[') - 1\r\n  );\r\n  let ratios = ratio.split('=')[1].split('-');\r\n  if (prefix === 'h') {\r\n    dimensions.height = (dimensions.width / +ratios[0]) * +ratios[1];\r\n  } else if (prefix === 'w') {\r\n    dimensions.width = (dimensions.height / +ratios[1]) * +ratios[0];\r\n  }\r\n}\r\n\r\nfunction getModifierSuffix(modifier: string): [string | null, number, boolean] {\r\n  let endIdx = 1;\r\n  let suffix: string | null = modifier.substr(modifier.length - 1, 1);\r\n  if (suffix !== 'h' && suffix !== 'w' && suffix !== '%') {\r\n    suffix = null;\r\n  }\r\n  const isPercent = suffix === '%';\r\n  if (isPercent) {\r\n    endIdx = 2;\r\n    suffix = modifier.substr(modifier.length - endIdx, 1);\r\n    if (suffix !== 'h' && suffix !== 'w') {\r\n      suffix = null;\r\n      endIdx = 1;\r\n    }\r\n  }\r\n  return [suffix, endIdx, isPercent];\r\n}\r\n\r\nfunction _modifyDimensions(\r\n  dimensions: IDimensions,\r\n  prefix: string,\r\n  suffix: string | null,\r\n  widthModifier: number,\r\n  heightModifier: number\r\n) {\r\n  switch (prefix) {\r\n    case '+':\r\n      switch (suffix) {\r\n        case 'h':\r\n          dimensions.height += heightModifier;\r\n          break;\r\n        case 'w':\r\n          dimensions.width += widthModifier;\r\n          break;\r\n        default:\r\n          dimensions.height += heightModifier;\r\n          dimensions.width += widthModifier;\r\n      }\r\n      break;\r\n    case '-':\r\n      switch (suffix) {\r\n        case 'h':\r\n          dimensions.height -= heightModifier;\r\n          break;\r\n        case 'w':\r\n          dimensions.width -= widthModifier;\r\n          break;\r\n        default:\r\n          dimensions.height -= heightModifier;\r\n          dimensions.width -= widthModifier;\r\n      }\r\n      break;\r\n    case '/':\r\n      switch (suffix) {\r\n        case 'h':\r\n          dimensions.height /= heightModifier;\r\n          break;\r\n        case 'w':\r\n          dimensions.width /= widthModifier;\r\n          break;\r\n        default:\r\n          dimensions.height /= heightModifier;\r\n          dimensions.width /= widthModifier;\r\n      }\r\n      break;\r\n    case '*':\r\n      switch (suffix) {\r\n        case 'h':\r\n          dimensions.height *= heightModifier;\r\n          break;\r\n        case 'w':\r\n          dimensions.width *= widthModifier;\r\n          break;\r\n        default:\r\n          dimensions.height *= heightModifier;\r\n          dimensions.width *= widthModifier;\r\n      }\r\n      break;\r\n    default:\r\n      console.error(`Unknown operator found: ${prefix}`);\r\n  }\r\n  return dimensions;\r\n}\r\n\r\nexport function modifyDimensions(dimensions: IDimensions, modifier: string) {\r\n  let ratioModifier: string | null = null;\r\n  if (modifier.indexOf('|') > -1) {\r\n    [modifier, ratioModifier] = modifier.split('|');\r\n  }\r\n\r\n  const prefix = modifier.substr(0, 1);\r\n  let [suffix, endIdx, isPercent] = getModifierSuffix(modifier);\r\n\r\n  const value = parseInt(\r\n    suffix !== null ? modifier.substr(1, modifier.length - endIdx - 1) : modifier.substr(1, modifier.length),\r\n    10\r\n  );\r\n\r\n  let widthModifier = value;\r\n  let heightModifier = value;\r\n  if (isPercent) {\r\n    widthModifier = (dimensions.width / 100) * value;\r\n    heightModifier = (dimensions.height / 100) * value;\r\n  }\r\n\r\n  dimensions = _modifyDimensions(dimensions, prefix, suffix, widthModifier, heightModifier);\r\n\r\n  if (ratioModifier) {\r\n    modifyDimensionsByRatio(ratioModifier, dimensions);\r\n  }\r\n}\r\n","import { TOperationData } from '~/operation/types';\r\n\r\nexport function removeEventDataFromOperationData(operationData: TOperationData) {\r\n  delete operationData.eventName;\r\n  delete operationData.eventTopic;\r\n  delete operationData.eventArgs;\r\n}\r\n","import { TOperationData } from '~/operation/types';\r\nimport { extractOperationDataArgumentValues } from './extract-operation-data-argument-values';\r\n\r\nexport function resolveEventArguments(operationData: TOperationData, eventArgs: any[]) {\r\n  if (!eventArgs) {\r\n    return;\r\n  }\r\n  const extract = extractOperationDataArgumentValues.bind(null, operationData);\r\n  return eventArgs.map(extract);\r\n}\r\n","import { TOperationData } from '~/operation/types';\r\nimport { deepcopy } from './deepcopy';\r\nimport { extractOperationDataArgumentValues } from './extract-operation-data-argument-values';\r\n\r\nexport function resolvePropertyValues(operationData: TOperationData, properties: any) {\r\n  const copy = properties !== operationData ? deepcopy(properties) : properties;\r\n  const extract = extractOperationDataArgumentValues.bind(null, operationData);\r\n  Object.entries(properties).forEach(([key, value]) => {\r\n    copy[key] = extract(value);\r\n  });\r\n  return copy;\r\n}\r\n","export { addClass } from './add-class';\r\nexport { addControllerToElement } from './add-controller-to-element';\r\nexport { addOptionList } from './add-option-list';\r\nexport { animate } from './animate';\r\nexport { animateWithClass } from './animate-with-class';\r\nexport { broadcastEvent } from './broadcast-event';\r\nexport { clearElement } from './clear-element';\r\nexport { clearOperationData } from './clear-operation-data';\r\nexport { createElement } from './create-element';\r\nexport { customFunction } from './custom-function';\r\nexport { endAction } from './end-action';\r\nexport { endLoop } from './end-loop';\r\nexport { extendController } from './extend-controller';\r\nexport { getControllerFromElement } from './get-controller-from-element';\r\nexport { getControllerInstance } from './get-controller-instance';\r\nexport { getElementDimensions } from './get-element-dimensions';\r\nexport { getImport } from './get-import';\r\nexport { loadJSON } from './load-json';\r\nexport { log } from './log';\r\nexport { removeClass } from './remove-class';\r\nexport { removeControllerFromElement } from './remove-controller-from-element';\r\nexport { removeElement } from './remove-element';\r\nexport { removePropertiesFromOperationData } from './remove-properties-from-operation-data';\r\nexport { reparentElement } from './reparent-element';\r\nexport { requestAction } from './request-action';\r\nexport { resizeAction } from './resize-action';\r\nexport { selectElement } from './select-element';\r\nexport { setElementAttributes } from './set-element-attributes';\r\nexport { setElementContent } from './set-element-content';\r\nexport { setOperationData } from './set-operation-data';\r\nexport { setStyle } from './set-style';\r\nexport { startAction } from './start-action';\r\nexport { startLoop } from './start-loop';\r\nexport { toggleClass } from './toggle-class';\r\nexport { toggleElement } from './toggle-element';\r\nexport { wait } from './wait';\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nconst jsonCache: Record<string, any> = {};\r\n\r\nexport interface ILoadJSONOperationData {\r\n  url: string;\r\n  cache: boolean;\r\n  propertyName?: string;\r\n  json?: any;\r\n}\r\n\r\nexport const clearCache = () => {\r\n  for (let p in jsonCache) {\r\n    delete jsonCache[p];\r\n  }\r\n};\r\n\r\nexport const addToCache = (key: string, value: any) => {\r\n  jsonCache[key] = value;\r\n};\r\n\r\nexport const loadJSON: TOperation<ILoadJSONOperationData> = function (\r\n  operationData: ILoadJSONOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { url, cache, propertyName = 'json' } = operationData;\r\n\r\n  if (cache && jsonCache[url]) {\r\n    (operationData as any)[propertyName] = jsonCache[url];\r\n    return operationData;\r\n  }\r\n\r\n  return new Promise((resolve, reject) => {\r\n    fetch(url)\r\n      .then(async (response) => {\r\n        const json = await response.json();\r\n        const cacheValue = ((operationData as any)[propertyName] = json);\r\n        addToCache(url, cacheValue);\r\n        resolve(operationData);\r\n      })\r\n      .catch(reject);\r\n  });\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { IOperationContext, TOperation } from './types';\r\n\r\nexport const log: TOperation = function (this: IOperationContext, operationData: any, _eventBus: IEventbus) {\r\n  console.group('Operation info');\r\n  console.dir({ context: this });\r\n  console.dir({ operationData });\r\n  console.groupEnd();\r\n  return operationData;\r\n};\r\n","import { IAddClassOperationData } from '~/operation/add-class';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction addClass(): IOperationMetadata<IAddClassOperationData> {\r\n  return {\r\n    description: 'Add a class to the selected element.',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      className: {\r\n        type: 'ParameterType:className',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default addClass;\r\n","import { IAddControllerToElementOperationData } from '~/operation/add-controller-to-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction addControllerToElement(): IOperationMetadata<IAddControllerToElementOperationData> {\r\n  return {\r\n    description: 'Adds the current controller to the selected element(s)',\r\n    dependentProperties: ['selectedElement', 'controllerInstance'],\r\n  };\r\n}\r\nexport default addControllerToElement;\r\n","import { IAddOptionListOperationData } from '~/operation/add-option-list';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction addOptionList(): IOperationMetadata<IAddOptionListOperationData> {\r\n  return {\r\n    description:\r\n      'Creates a list of option elements from the specified data and adds it to the currently selected element.',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      valueProperty: {\r\n        type: 'ParameterType:string',\r\n        required: true,\r\n      },\r\n      labelProperty: {\r\n        type: 'ParameterType:string',\r\n        required: true,\r\n      },\r\n      defaultIndex: 'ParameterType:integer',\r\n      defaultValue: 'ParameterType:string',\r\n      optionData: 'ParameterType:array',\r\n    },\r\n  };\r\n}\r\nexport default addOptionList;\r\n","import { IAnimateWithClassOperationData } from '~/operation/animate-with-class';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction animateWithClass(): IOperationMetadata<IAnimateWithClassOperationData> {\r\n  return {\r\n    description: 'Animates the selected element by adding the given animation class.',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      className: {\r\n        type: 'ParameterType:className',\r\n        required: true,\r\n      },\r\n      removeClass: 'ParameterType:boolean',\r\n    },\r\n  };\r\n}\r\nexport default animateWithClass;\r\n","import { IAnimateOperationData } from '~/operation/animate';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction animate(): IOperationMetadata<IAnimateOperationData> {\r\n  return {\r\n    description: 'Animates the selected element with the given animation settings.',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      animationEasing: 'ParameterType:boolean',\r\n      animationProperties: {\r\n        type: 'ParameterType:object',\r\n        required: true,\r\n      },\r\n      animationDuration: {\r\n        type: 'ParameterType:integer',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default animate;\r\n","import { IBroadcastEventOperationData } from '~/operation/broadcast-event';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction broadcastEvent(): IOperationMetadata<IBroadcastEventOperationData> {\r\n  return {\r\n    description: 'Broadcasts an eventbus event with the given type, topic and optional arguments',\r\n    properties: {\r\n      eventArgs: 'ParameterType:array',\r\n      eventTopic: 'ParameterType:eventTopic',\r\n      eventName: {\r\n        type: 'ParameterType:eventName',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default broadcastEvent;\r\n","import { IClearElementOperationData } from '~/operation/clear-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction clearElement(): IOperationMetadata<IClearElementOperationData> {\r\n  return {\r\n    description: 'clears the given element',\r\n    dependentProperties: ['selectedElement'],\r\n  };\r\n}\r\n\r\nexport default clearElement;\r\n","import { IClearOperationDataOperationData } from '~/operation/clear-operation-data';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction clearOperationData(): IOperationMetadata<IClearOperationDataOperationData> {\r\n  return {\r\n    description: 'clears the current operation data',\r\n    properties: {\r\n      properties: 'ParameterType:array',\r\n    },\r\n  };\r\n}\r\nexport default clearOperationData;\r\n","import { ICreateElementOperationData } from '~/operation/create-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction createElement(): IOperationMetadata<ICreateElementOperationData> {\r\n  return {\r\n    description: 'Creates an HTML element with the given name and optionally adds the given attributes',\r\n    properties: {\r\n      elementName: {\r\n        type: 'ParameterType:htmlElementName',\r\n        required: true,\r\n      },\r\n      attributes: 'ParameterType:object',\r\n      text: 'ParameterType:string',\r\n    },\r\n    outputProperties: {\r\n      template: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default createElement;\r\n","import { ICustomFunctionOperationData } from '~/operation/custom-function';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction customFunction(): IOperationMetadata<ICustomFunctionOperationData> {\r\n  return {\r\n    description: 'Executes the specified custom function',\r\n    properties: {\r\n      systemName: {\r\n        type: 'ParameterType:systemName',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default customFunction;\r\n","import { IEndActionOperationData } from '~/operation/end-action';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction endAction(): IOperationMetadata<IEndActionOperationData> {\r\n  return {\r\n    description: 'Ends the current action',\r\n    dependentProperties: ['actionInstance'],\r\n    properties: {\r\n      actionOperationData: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default endAction;\r\n","import { IOperationMetadata } from './types';\r\n\r\nfunction endLoop(): IOperationMetadata<never> {\r\n  return {\r\n    description: 'Ends the current loop',\r\n  };\r\n}\r\n\r\nexport default endLoop;\r\n","import { IExtendControllerOperationData } from '~/operation/extend-controller';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction extendController(): IOperationMetadata<IExtendControllerOperationData> {\r\n  return {\r\n    description: 'Extends the current controller',\r\n    dependentProperties: ['controllerInstance'],\r\n    properties: {\r\n      controllerExtension: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default extendController;\r\n","import { IGetControllerFromElementOperationData } from '~/operation/get-controller-from-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction getControllerFromElement(): IOperationMetadata<IGetControllerFromElementOperationData> {\r\n  return {\r\n    description: 'Retrieves the specified controller from the current element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      controllerName: {\r\n        type: 'ParameterType:controllerName',\r\n        required: true,\r\n      },\r\n    },\r\n    outputProperties: {\r\n      controllerInstance: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default getControllerFromElement;\r\n","import { IGetControllerInstanceOperationData } from '~/operation/get-controller-instance';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction getControllerInstance(): IOperationMetadata<IGetControllerInstanceOperationData> {\r\n  return {\r\n    description: 'Retrieves an instance of the specified controller',\r\n    properties: {\r\n      systemName: {\r\n        type: 'ParameterType:controllerName',\r\n        required: true,\r\n      },\r\n      propertyName: {\r\n        type: 'ParameterType:string',\r\n        defaultValue: 'controllerInstance',\r\n      },\r\n    },\r\n    outputProperties: {\r\n      controllerInstance: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default getControllerInstance;\r\n","import { IGetElementDimensionsOperationData } from '~/operation/get-element-dimensions';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction getElementDimensions(): IOperationMetadata<IGetElementDimensionsOperationData> {\r\n  return {\r\n    description: 'Calculates the dimensions for the current element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      modifier: 'ParameterType:dimensionsModifier',\r\n    },\r\n    outputProperties: {\r\n      dimensions: 'ParameterType:dimensions',\r\n    },\r\n  };\r\n}\r\nexport default getElementDimensions;\r\n","import { IGetImportOperationData } from '~/operation/get-import';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction getImport(): IOperationMetadata<IGetImportOperationData> {\r\n  return {\r\n    description: 'Retrieves a javascript import specified by the given system name',\r\n    properties: {\r\n      systemName: {\r\n        type: 'ParameterType:systemName',\r\n        required: true,\r\n      },\r\n    },\r\n    outputProperties: {\r\n      importedInstance: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default getImport;\r\n","export { default as addClass } from './add-class';\r\nexport { default as addControllerToElement } from './add-controller-to-element';\r\nexport { default as addOptionList } from './add-option-list';\r\nexport { default as animate } from './animate';\r\nexport { default as animateWithClass } from './animate-with-class';\r\nexport { default as broadcastEvent } from './broadcast-event';\r\nexport { default as clearElement } from './clear-element';\r\nexport { default as clearOperationData } from './clear-operation-data';\r\nexport { default as createElement } from './create-element';\r\nexport { default as customFunction } from './custom-function';\r\nexport { default as endAction } from './end-action';\r\nexport { default as endLoop } from './end-loop';\r\nexport { default as extendController } from './extend-controller';\r\nexport { default as getControllerFromElement } from './get-controller-from-element';\r\nexport { default as getControllerInstance } from './get-controller-instance';\r\nexport { default as getElementDimensions } from './get-element-dimensions';\r\nexport { default as getImport } from './get-import';\r\nexport { default as loadJSON } from './load-json';\r\nexport { default as log } from './log';\r\nexport { default as removeClass } from './remove-class';\r\nexport { default as removeControllerFromElement } from './remove-controller-from-element';\r\nexport { default as removeElement } from './remove-element';\r\nexport { default as removePropertiesFromOperationData } from './remove-properties-from-operation-data';\r\nexport { default as reparentElement } from './reparent-element';\r\nexport { default as requestAction } from './request-action';\r\nexport { default as resizeAction } from './resize-action';\r\nexport { default as selectElement } from './select-element';\r\nexport { default as setElementAttributes } from './set-element-attributes';\r\nexport { default as setElementContent } from './set-element-content';\r\nexport { default as setOperationData } from './set-operation-data';\r\nexport { default as setStyle } from './set-style';\r\nexport { default as startAction } from './start-action';\r\nexport { default as startLoop } from './start-loop';\r\nexport { default as toggleClass } from './toggle-class';\r\nexport { default as toggleElement } from './toggle-element';\r\nexport { default as wait } from './wait';\r\n","import { ILoadJSONOperationData } from '~/operation/load-json';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction loadJSON(): IOperationMetadata<ILoadJSONOperationData> {\r\n  return {\r\n    description: 'Load JSON from the given url',\r\n    properties: {\r\n      url: {\r\n        type: 'ParameterType:url',\r\n        required: true,\r\n      },\r\n      cache: 'ParameterType:boolean',\r\n      propertyName: {\r\n        type: 'ParameterType:string',\r\n        defaultValue: 'json',\r\n      },\r\n    },\r\n    outputProperties: {\r\n      json: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default loadJSON;\r\n","import { IOperationMetadata } from './types';\r\n\r\nfunction log(): IOperationMetadata<never> {\r\n  return {\r\n    description: 'Logs the current context and operation data to the console',\r\n  };\r\n}\r\n\r\nexport default log;\r\n","import { IRemoveClassOperationData } from '~/operation/remove-class';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction removeClass(): IOperationMetadata<IRemoveClassOperationData> {\r\n  return {\r\n    description: 'Removes the specified class from the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      className: {\r\n        type: 'ParameterType:className',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport default removeClass;\r\n","import { IRemoveControllerFromElementOperationData } from '~/operation/remove-controller-from-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction removeControllerFromElement(): IOperationMetadata<IRemoveControllerFromElementOperationData> {\r\n  return {\r\n    description: 'Removes the specified controller from the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      controllerName: {\r\n        type: 'ParameterType:controllerName',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport default removeControllerFromElement;\r\n","import { IRemoveElementOperationData } from '~/operation/remove-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction removeElement(): IOperationMetadata<IRemoveElementOperationData> {\r\n  return {\r\n    description: 'Removes the selected element from the DOM',\r\n    dependentProperties: ['selectedElement'],\r\n  };\r\n}\r\nexport default removeElement;\r\n","import { IRemovePropertiesFromOperationDataOperationData } from '~/operation/remove-properties-from-operation-data';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction removePropertiesFromOperationData(): IOperationMetadata<IRemovePropertiesFromOperationDataOperationData> {\r\n  return {\r\n    description: 'Removes the specified properties from the current operation data',\r\n    properties: {\r\n      propertyNames: 'ParameterType:array',\r\n    },\r\n  };\r\n}\r\nexport default removePropertiesFromOperationData;\r\n","import { IReparentElementOperationData } from '~/operation/reparent-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction reparentElement(): IOperationMetadata<IReparentElementOperationData> {\r\n  return {\r\n    description: 'Moves the selected element to the new location described by the given selector',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      newParentSelector: {\r\n        type: 'ParameterType:selector',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default reparentElement;\r\n","import { IRequestActionOperationData } from '~/operation/request-action';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction requestAction(): IOperationMetadata<IRequestActionOperationData> {\r\n  return {\r\n    description: 'Retrieves an instance of the specified action',\r\n    properties: {\r\n      systemName: {\r\n        type: 'ParameterType:actionName',\r\n      },\r\n    },\r\n    outputProperties: {\r\n      actionInstance: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default requestAction;\r\n","import { IResizeActionOperationData } from '~/operation/resize-action';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction resizeAction(): IOperationMetadata<IResizeActionOperationData> {\r\n  return {\r\n    description: 'Triggers a resize on the current action',\r\n    dependentProperties: ['actionInstance'],\r\n    properties: {\r\n      actionOperationData: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default resizeAction;\r\n","import { ISelectElementOperationData } from '~/operation/select-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction selectElement(): IOperationMetadata<ISelectElementOperationData> {\r\n  return {\r\n    description: 'Selects an element using the given selector',\r\n    properties: {\r\n      selector: {\r\n        type: 'ParameterType:selector',\r\n        required: true,\r\n      },\r\n      propertyName: 'ParameterType:string',\r\n      useSelectedElementAsRoot: 'ParameterType:boolean',\r\n    },\r\n    outputProperties: {\r\n      selectedElement: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default selectElement;\r\n","import { ISetElementAttributesOperationData } from '~/operation/set-element-attributes';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction setElementAttributes(): IOperationMetadata<ISetElementAttributesOperationData> {\r\n  return {\r\n    description: 'Sets the given attributes on the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      attributes: {\r\n        type: 'ParameterType:object',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default setElementAttributes;\r\n","import { ISetElementContentOperationData } from '~/operation/set-element-content';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction setElementContent(): IOperationMetadata<ISetElementContentOperationData> {\r\n  return {\r\n    description: 'Sets the given HTML content in the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      append: 'ParameterType:boolean',\r\n      template: {\r\n        type: 'ParameterType:htmlContent',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default setElementContent;\r\n","import { ISetOperationData } from '~/operation/set-operation-data';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction setOperationData(): IOperationMetadata<ISetOperationData> {\r\n  return {\r\n    description: 'Sets the given properties on the current operation data',\r\n    properties: {\r\n      properties: {\r\n        type: 'ParameterType:object',\r\n        required: true,\r\n      },\r\n      override: 'ParameterType:boolean',\r\n    },\r\n  };\r\n}\r\nexport default setOperationData;\r\n","import { ISetStyleOperationData } from '~/operation/set-style';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction setStyle(): IOperationMetadata<ISetStyleOperationData> {\r\n  return {\r\n    description: 'Sets the given style properties on the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      properties: {\r\n        type: 'ParameterType:object',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport default setStyle;\r\n","import { IStartActionOperationData } from '~/operation/start-action';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction startAction(): IOperationMetadata<IStartActionOperationData> {\r\n  return {\r\n    description: 'Starts the selected action',\r\n    dependentProperties: ['actionInstance'],\r\n    properties: {\r\n      actionOperationData: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default startAction;\r\n","import { TStartLoopOperationData } from '~/operation/start-loop';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction startLoop(): IOperationMetadata<TStartLoopOperationData> {\r\n  return {\r\n    description: 'Starts a loop over the given collection',\r\n    properties: {\r\n      collection: {\r\n        type: 'ParameterType:array',\r\n        required: true,\r\n      },\r\n      propertyName: {\r\n        type: 'ParameterType:string',\r\n        defaultValue: 'currentItem',\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport default startLoop;\r\n","import { IToggleClassOperationData } from '~/operation/toggle-class';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction toggleClass(): IOperationMetadata<IToggleClassOperationData> {\r\n  return {\r\n    description: 'Toggles the given class on the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      className: {\r\n        type: 'ParameterType:className',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default toggleClass;\r\n","import { IToggleElementOperationData } from '~/operation/toggle-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction toggleElement(): IOperationMetadata<IToggleElementOperationData> {\r\n  return {\r\n    description: 'Toggles the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n  };\r\n}\r\nexport default toggleElement;\r\n","import { IWaitOperationData } from '~/operation/wait';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction wait(): IOperationMetadata<IWaitOperationData> {\r\n  return {\r\n    description: 'Waits the given amount of milliseconds before the action continues',\r\n    properties: {\r\n      milliseconds: {\r\n        type: 'ParameterType:integer',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default wait;\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IRemoveClassOperationData {\r\n  selectedElement: JQuery;\r\n  className: string;\r\n}\r\n\r\nexport const removeClass: TOperation<IRemoveClassOperationData> = function (\r\n  operationData: IRemoveClassOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, className } = operationData;\r\n  selectedElement.removeClass(className);\r\n  return operationData;\r\n};\r\n","import { IController } from '~/controllers/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { getElementControllers } from './helper/get-element-data';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IRemoveControllerFromElementOperationData {\r\n  selectedElement: JQuery;\r\n  controllerName: string;\r\n}\r\n\r\nexport const removeControllerFromElement: TOperation<IRemoveControllerFromElementOperationData> = function (\r\n  operationData: IRemoveControllerFromElementOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { selectedElement, controllerName } = operationData;\r\n\r\n  const controllers = getElementControllers(selectedElement);\r\n  const controller = controllers?.find((ctrl: IController<any>) => ctrl.name === controllerName);\r\n\r\n  if (controller) {\r\n    const idx = controllers.indexOf(controller);\r\n    controllers.splice(idx, 1);\r\n    controller.detach(eventBus);\r\n  }\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IRemoveElementOperationData {\r\n  selectedElement: JQuery;\r\n}\r\n\r\nexport const removeElement: TOperation<IRemoveElementOperationData> = function (\r\n  operationData: IRemoveElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement } = operationData;\r\n  selectedElement.remove();\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IRemovePropertiesFromOperationDataOperationData {\r\n  propertyNames: string[];\r\n}\r\n\r\nexport const removePropertiesFromOperationData: TOperation<IRemovePropertiesFromOperationDataOperationData> = function (\r\n  operationData: IRemovePropertiesFromOperationDataOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { propertyNames } = operationData;\r\n\r\n  propertyNames.forEach((name) => {\r\n    delete (operationData as any)[name];\r\n  });\r\n  delete (operationData as any).propertyNames;\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IReparentElementOperationData {\r\n  selectedElement: JQuery;\r\n  newParentSelector: string;\r\n}\r\n\r\nexport const reparentElement: TOperation<IReparentElementOperationData> = function (\r\n  operationData: IReparentElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, newParentSelector } = operationData;\r\n  selectedElement.remove().appendTo(newParentSelector);\r\n  return operationData;\r\n};\r\n","import { IAction } from '~/action/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IRequestActionOperationData {\r\n  systemName: string;\r\n  actionInstance: IAction;\r\n}\r\n\r\nexport const requestAction: TOperation<IRequestActionOperationData> = function (\r\n  operationData: IRequestActionOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { systemName } = operationData;\r\n\r\n  const resultCallback = (action: IAction) => {\r\n    operationData.actionInstance = action;\r\n  };\r\n\r\n  eventBus.broadcast(TimelineEventNames.REQUEST_ACTION, [systemName, resultCallback]);\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { mergeOperationData } from './helper/merge-operation-data';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IResizeActionOperationData {\r\n  actionInstance: any;\r\n  actionOperationData: any;\r\n}\r\n\r\nexport const resizeAction: TOperation<IResizeActionOperationData> = function (\r\n  operationData: IResizeActionOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { actionInstance, actionOperationData } = operationData;\r\n  operationData = mergeOperationData(operationData, actionOperationData);\r\n\r\n  if (actionInstance.resize) {\r\n    return actionInstance.resize(operationData);\r\n  }\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { TOperation } from './types';\r\n\r\nfunction findElementBySelector(root: JQuery, selector: string, operationData: any, propertyName: string) {\r\n  const element = root.find(selector);\r\n  if (!element.length) {\r\n    console.warn(`selector '${selector}' wasn't found!`);\r\n  }\r\n  operationData[propertyName] = element;\r\n  if (operationData.hasOwnProperty('propertyName')) {\r\n    delete operationData.propertyName;\r\n  }\r\n}\r\n\r\nexport interface ISelectElementOperationData {\r\n  selector: string;\r\n  propertyName: string;\r\n  useSelectedElementAsRoot: boolean;\r\n}\r\n\r\nexport const selectElement: TOperation<ISelectElementOperationData> = function (\r\n  operationData: ISelectElementOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { selector, propertyName = 'selectedElement', useSelectedElementAsRoot } = operationData;\r\n\r\n  if (!selector) {\r\n    throw new Error('selector is undefined!');\r\n  }\r\n\r\n  if (useSelectedElementAsRoot && (operationData as any)[propertyName]) {\r\n    const currentRoot = (operationData as any)[propertyName];\r\n    findElementBySelector(currentRoot, selector, operationData, propertyName);\r\n    return operationData;\r\n  }\r\n\r\n  const rootCallback = (root: JQuery) => {\r\n    findElementBySelector(root, selector, operationData, propertyName);\r\n  };\r\n  eventBus.broadcast(TimelineEventNames.REQUEST_ENGINE_ROOT, [rootCallback]);\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ISetElementAttributesOperationData {\r\n  attributes: any;\r\n  selectedElement: JQuery;\r\n}\r\n\r\nexport const setElementAttributes: TOperation<ISetElementAttributesOperationData> = function (\r\n  operationData: ISetElementAttributesOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { attributes, selectedElement } = operationData;\r\n  Object.keys(attributes).forEach((attrName) => {\r\n    selectedElement.attr(attrName, attributes[attrName]);\r\n  });\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ISetElementContentOperationData {\r\n  append: boolean;\r\n  selectedElement: JQuery;\r\n  template: string;\r\n}\r\n\r\nexport const setElementContent: TOperation<ISetElementContentOperationData> = function (\r\n  operationData: ISetElementContentOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { append, selectedElement, template } = operationData;\r\n  if (!append) {\r\n    selectedElement.html(template);\r\n  } else {\r\n    selectedElement.append(template);\r\n  }\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { resolvePropertyValues } from './helper/resolve-property-values';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ISetOperationData {\r\n  override?: boolean;\r\n  properties: any;\r\n}\r\n\r\nexport const setOperationData: TOperation<ISetOperationData> = function (\r\n  operationData: ISetOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { override, properties } = operationData;\r\n  const resolvedProperties = resolvePropertyValues(operationData, properties);\r\n  delete operationData.properties;\r\n\r\n  if (override) {\r\n    operationData = resolvedProperties;\r\n  } else {\r\n    operationData = Object.assign(operationData, resolvedProperties);\r\n  }\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { resolvePropertyValues } from './helper/resolve-property-values';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ISetStyleOperationData {\r\n  properties: any;\r\n  propertyName?: string;\r\n  selectedElement?: JQuery;\r\n}\r\n\r\nexport const setStyle: TOperation<ISetStyleOperationData> = function (\r\n  operationData: ISetStyleOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { propertyName = 'selectedElement' } = operationData;\r\n\r\n  const properties = resolvePropertyValues(operationData, operationData.properties);\r\n  (operationData as any)[propertyName].css(properties);\r\n  return operationData;\r\n};\r\n","import { IAction } from '~/action/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { mergeOperationData } from './helper/merge-operation-data';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IStartActionOperationData {\r\n  actionInstance: IAction;\r\n  actionOperationData: any;\r\n}\r\n\r\nexport const startAction: TOperation<IStartActionOperationData> = function (\r\n  operationData: IStartActionOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { actionInstance, actionOperationData } = operationData;\r\n  return new Promise((resolve, reject) => {\r\n    operationData = mergeOperationData(operationData, actionOperationData);\r\n    actionInstance.start(operationData).then(() => {\r\n      internalResolve(resolve, operationData);\r\n    }, reject);\r\n  });\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { IOperationContext, TOperation } from './types';\r\n\r\nexport type TStartLoopOperationData = {\r\n  collection: any[] | null;\r\n  propertyName?: string;\r\n};\r\n\r\nexport const startLoop: TOperation<TStartLoopOperationData> = function (\r\n  this: IOperationContext,\r\n  operationData: TStartLoopOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const context = this;\r\n  const { collection, propertyName = 'currentItem' } = operationData;\r\n\r\n  if (context.loopIndex === undefined) {\r\n    if (collection?.length) {\r\n      context.loopIndex = 0;\r\n      context.loopLength = collection.length - 1;\r\n      context.startIndex = context.currentIndex;\r\n    } else {\r\n      context.skipNextOperation = true;\r\n    }\r\n  }\r\n\r\n  if (collection?.length && context.loopIndex !== undefined) {\r\n    (operationData as any)[propertyName] = collection[context.loopIndex];\r\n  }\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IToggleClassOperationData {\r\n  selectedElement: JQuery;\r\n  className: string;\r\n}\r\n\r\nexport const toggleClass: TOperation<IToggleClassOperationData> = function (\r\n  operationData: IToggleClassOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, className } = operationData;\r\n  selectedElement.toggleClass(className);\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IToggleElementOperationData {\r\n  selectedElement: JQuery;\r\n}\r\n\r\nexport const toggleElement: TOperation<IToggleElementOperationData> = function toggleElement(\r\n  operationData: IToggleElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  operationData.selectedElement.toggle();\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IWaitOperationData {\r\n  milliseconds: number;\r\n}\r\n\r\nexport const wait: TOperation<IWaitOperationData> = function (operationData: IWaitOperationData, _eventBus: IEventbus) {\r\n  const { milliseconds } = operationData;\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => {\r\n      internalResolve(resolve, operationData);\r\n    }, milliseconds);\r\n  });\r\n};\r\n","export class TimelineEventNames {\r\n  // timeline requests\r\n  static PLAY_TOGGLE_REQUEST = 'timeline-play-toggle-request';\r\n  static PLAY_REQUEST = 'timeline-play-request';\r\n  static STOP_REQUEST = 'timeline-stop-request';\r\n  static PAUSE_REQUEST = 'timeline-pause-request';\r\n  static SEEK_REQUEST = 'timeline-seek-request';\r\n  static RESIZE_REQUEST = 'timeline-resize-request';\r\n  static CONTAINER_REQUEST = 'timeline-container-request';\r\n  static DURATION_REQUEST = 'timeline-duration-request';\r\n  static REQUEST_CURRENT_TIMELINE = 'timeline-request-current-timeline';\r\n\r\n  // timeline announcements\r\n  static DURATION = 'timeline-duration';\r\n  static TIME = 'timeline-time';\r\n  static SEEKED = 'timeline-seeked';\r\n  static COMPLETE = 'timeline-complete';\r\n  static PLAY = 'timeline-play';\r\n  static STOP = 'timeline-stop';\r\n  static PAUSE = 'timeline-pause';\r\n  static SEEK = 'timeline-seek';\r\n  static RESIZE = 'timeline-resize';\r\n  static POSITION_UPDATE = 'timeline-position-update';\r\n  static TIME_UPDATE = 'timeline-time-update';\r\n  static CURRENT_TIMELINE_CHANGE = 'timeline-current-timeline-change';\r\n  static FIRST_FRAME = 'timeline-firstframe';\r\n\r\n  // factory and engine events\r\n  static REQUEST_INSTANCE = 'request-instance';\r\n  static REQUEST_ACTION = 'request-action';\r\n  static REQUEST_FUNCTION = 'request-function';\r\n  static REQUEST_TIMELINE_URI = 'request-timeline-uri';\r\n  static BEFORE_REQUEST_TIMELINE_URI = 'before-request-timeline-uri';\r\n  static REQUEST_ENGINE_ROOT = 'request-engine-root';\r\n  static REQUEST_CURRENT_TIMELINE_POSITION = 'request-current-timeline-position';\r\n  static REQUEST_TIMELINE_CLEANUP = 'request-timeline-cleanup';\r\n  static EXECUTE_TIMELINEACTION = 'execute-timelineaction';\r\n  static RESIZE_TIMELINEACTION = 'resize-timelineaction';\r\n\r\n  //language manager events\r\n  static REQUEST_LABEL_COLLECTION = 'request-label-collection';\r\n  static REQUEST_LABEL_COLLECTIONS = 'request-label-collections';\r\n  static REQUEST_CURRENT_LANGUAGE = 'request-current-language';\r\n  static LANGUAGE_CHANGE = 'language-change';\r\n}\r\n","export { JwPlayerTimelineProvider } from './jwplayer-timeline-provider';\r\nexport { MediaElementTimelineProvider } from './media-element-timeline-provider';\r\nexport { RequestAnimationFrameTimelineProvider } from './request-animation-frame-timeline-provider';\r\n","import $ from 'jquery';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { IResolvedEngineConfiguration } from '~/configuration/types';\r\nimport { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { TResultCallback } from '~/types';\r\nimport { ITimelineProvider } from './types';\r\n\r\nexport class JwPlayerTimelineProvider implements ITimelineProvider {\r\n  private _paused: boolean = false;\r\n  private _player: any = null;\r\n  private _currentLoopHandler: Function | null = null;\r\n  private _eventbusListeners: TEventHandlerRemover[] = [];\r\n  private _playlist: any[] = [];\r\n  private _videoElementId: string = uuidv4();\r\n\r\n  loop = false;\r\n\r\n  constructor(private eventbus: IEventbus, private config: IResolvedEngineConfiguration) {\r\n    this._addEventListeners();\r\n  }\r\n\r\n  _extractUrls(configuration: IResolvedEngineConfiguration) {\r\n    const urls = configuration.timelines\r\n      .filter((timeline) => timeline.type === 'mediaplayer')\r\n      .map((timeline) => {\r\n        return timeline.uri;\r\n      });\r\n    return urls;\r\n  }\r\n\r\n  init(): Promise<any> {\r\n    const settings = this.config.timelineProviderSettings['mediaplayer'];\r\n    const { selector } = settings;\r\n    const urls = this._extractUrls(this.config);\r\n    const jwp = (window as any).jwplayer;\r\n    const p = $(`#${selector}`);\r\n    if (!p.length) {\r\n      throw new Error(`videoplayer selector '${selector}' not found`);\r\n    }\r\n    let w = p.innerWidth();\r\n    let h = p.innerHeight();\r\n    if (w === 0) {\r\n      w = 100;\r\n    }\r\n    if (h === 0) {\r\n      h = 300;\r\n    }\r\n\r\n    this._player = jwp(selector);\r\n    this._player.setup({\r\n      file: urls[0],\r\n      image: settings.poster,\r\n      height: h,\r\n      width: w,\r\n      controls: true,\r\n      autostart: false,\r\n      displaytitle: false,\r\n      displaydescription: false,\r\n      nextUpDisplay: false,\r\n      abouttext: 'ChronoTriggerJS',\r\n      aboutlink: 'http://www.google.com',\r\n      stretching: 'fill',\r\n      repeat: false,\r\n    });\r\n    this._playlist.length = 0;\r\n    urls.forEach((url) => {\r\n      const item = {\r\n        file: url,\r\n        title: url,\r\n        image: settings.poster,\r\n      };\r\n      this._playlist.push(item);\r\n    });\r\n    const promise = new Promise((resolve) => {\r\n      this._player.once('ready', () => {\r\n        this._handlePlayerReady(resolve);\r\n      });\r\n      this._player.load(this._playlist);\r\n    });\r\n    return promise;\r\n  }\r\n\r\n  _handlePlayerReady(resolve: (value: any | PromiseLike<any>) => void) {\r\n    this._player.once('firstFrame', () => {\r\n      this._player.pause();\r\n      this.eventbus.broadcast(TimelineEventNames.DURATION, [this.getDuration()]);\r\n      resolve(this);\r\n    });\r\n    this._player.on(TimelineEventNames.TIME, this._loopHandler.bind(this, Math.floor));\r\n    this._player.on(TimelineEventNames.SEEKED, this._seekedHandler.bind(this));\r\n    this._player.on(TimelineEventNames.COMPLETE, this._handlePlayerComplete.bind(this));\r\n    setTimeout(() => {\r\n      this._player.play();\r\n    }, 10);\r\n  }\r\n\r\n  _handlePlayerComplete() {\r\n    if (!this.loop) {\r\n      this.stop();\r\n      this.eventbus.broadcast(TimelineEventNames.COMPLETE, [this._player.getPlaylistIndex()]);\r\n    }\r\n  }\r\n\r\n  _seekedHandler() {\r\n    this.eventbus.broadcast(TimelineEventNames.SEEKED, [this.getPosition(), this.getDuration()]);\r\n  }\r\n\r\n  destroy() {\r\n    this._player.remove();\r\n    this._eventbusListeners.forEach((func) => func());\r\n  }\r\n\r\n  _loopHandler(floor: (x: number) => number, jwplayerEvent: any) {\r\n    const pos = floor(jwplayerEvent.position);\r\n    if (this.loop && pos === floor(this._player.getDuration() - 1)) {\r\n      this.seek(0);\r\n    }\r\n  }\r\n\r\n  _timeResetLoopHandler() {\r\n    if (this.loop) {\r\n      this.seek(0);\r\n    }\r\n  }\r\n\r\n  _addEventListeners() {\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PLAY_TOGGLE_REQUEST, this.toggleplay.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PLAY_REQUEST, this.start.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.STOP_REQUEST, this.stop.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PAUSE_REQUEST, this.pause.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.SEEK_REQUEST, this.seek.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.RESIZE_REQUEST, this.resize.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.CONTAINER_REQUEST, this._container.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.DURATION_REQUEST, this.duration.bind(this)));\r\n  }\r\n\r\n  _container(resultCallback: TResultCallback) {\r\n    let suffix = '';\r\n    if (this._player.getProvider().name !== 'html5') {\r\n      suffix = '_wrapper';\r\n    }\r\n    const container = $(`#${this._videoElementId}${suffix}`);\r\n    resultCallback(container);\r\n  }\r\n\r\n  toggleplay() {\r\n    if (this._paused) {\r\n      this.start();\r\n    } else {\r\n      this.pause();\r\n    }\r\n  }\r\n\r\n  start() {\r\n    this._paused = false;\r\n    this._player.play();\r\n    this.eventbus.broadcast(TimelineEventNames.PLAY);\r\n  }\r\n\r\n  stop() {\r\n    this._paused = false;\r\n    this._player.stop();\r\n    this.eventbus.broadcast(TimelineEventNames.STOP);\r\n  }\r\n\r\n  pause() {\r\n    this._paused = true;\r\n    this._player.pause();\r\n    this.eventbus.broadcast(TimelineEventNames.PAUSE);\r\n  }\r\n\r\n  seek(position: number) {\r\n    const currentPosition = this._player.getPosition();\r\n    this._player.seek(position);\r\n    this.eventbus.broadcast(TimelineEventNames.SEEK, [position, currentPosition, this._player.getDuration()]);\r\n  }\r\n\r\n  resize(width: number, height: number) {\r\n    this._player.resize(width, height);\r\n    this.eventbus.broadcast(TimelineEventNames.RESIZE, [width, height]);\r\n  }\r\n\r\n  duration(resultCallback: TResultCallback) {\r\n    resultCallback(Math.floor(this.getDuration()));\r\n  }\r\n\r\n  playlistItem(uri: string) {\r\n    const index = this._playlist.findIndex((item) => item.file === uri);\r\n    if (index > -1) {\r\n      this._player.playlistItem(index);\r\n    }\r\n  }\r\n\r\n  getPosition() {\r\n    return this._player.getPosition();\r\n  }\r\n\r\n  getPlaylistIndex() {\r\n    return this._player.getPlaylistIndex();\r\n  }\r\n\r\n  getState() {\r\n    return this._player.getState();\r\n  }\r\n\r\n  getDuration() {\r\n    return this._player.getDuration();\r\n  }\r\n\r\n  getMute() {\r\n    return this._player.getMute();\r\n  }\r\n\r\n  getVolume() {\r\n    return this._player.getVolume();\r\n  }\r\n\r\n  setMute(state: boolean) {\r\n    this._player.setMute(state);\r\n  }\r\n\r\n  setVolume(volume: number) {\r\n    this._player.setVolume(volume);\r\n  }\r\n}\r\n","import $ from 'jquery';\r\nimport 'mediaelement';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { IResolvedEngineConfiguration, IResolvedTimelineConfiguration } from '~/configuration/types';\r\nimport { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { TResultCallback } from '~/types';\r\nimport { ITimelineProvider } from './types';\r\n\r\nconst { MediaElementPlayer } = window as any;\r\n\r\nexport class MediaElementTimelineProvider implements ITimelineProvider {\r\n  private _videoElementId: string = uuidv4();\r\n  private _eventbusListeners: TEventHandlerRemover[] = [];\r\n  private _playlist: IResolvedTimelineConfiguration[] = [];\r\n  private _length: number = 0;\r\n  private _urls: string[] = [];\r\n\r\n  player: mediaelementjs.MediaElementPlayer | undefined;\r\n\r\n  loop = false;\r\n\r\n  constructor(private eventbus: IEventbus, private config: IResolvedEngineConfiguration) {\r\n    this._addEventListeners();\r\n  }\r\n\r\n  _addEventListeners() {\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PLAY_REQUEST, this.start.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.STOP_REQUEST, this.stop.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PAUSE_REQUEST, this.pause.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.SEEK_REQUEST, this.seek.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.RESIZE_REQUEST, this.resize.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.CONTAINER_REQUEST, this._container.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.DURATION_REQUEST, this.duration.bind(this)));\r\n  }\r\n\r\n  _extractUrls(configuration: IResolvedEngineConfiguration) {\r\n    const urls = configuration.timelines\r\n      .filter((timeline) => timeline.type === 'mediaplayer')\r\n      .map((timeline) => timeline.uri);\r\n    return urls;\r\n  }\r\n\r\n  init() {\r\n    const selector = '';\r\n    this._urls = this._extractUrls(this.config);\r\n    this._addVideoElements(selector, this._urls);\r\n    const self = this;\r\n\r\n    const promise = new Promise((resolve) => {\r\n      const videoElement = document.getElementById(this._videoElementId);\r\n      self.player = new MediaElementPlayer(videoElement, {\r\n        success: (mediaElement: any, _originalNode: any, instance: mediaelementjs.MediaElementPlayer) => {\r\n          mediaElement.addEventListener('timeupdate', this._timeUpdateHandler.bind(this));\r\n          instance.loop = this.loop;\r\n          instance.controlsAreVisible = false;\r\n          instance.controlsEnabled = false;\r\n          resolve();\r\n        },\r\n      });\r\n    });\r\n\r\n    return promise;\r\n  }\r\n\r\n  private _timeUpdateHandler() {\r\n    if (this.player) {\r\n      this.eventbus.broadcast(TimelineEventNames.TIME, [{ position: this.player.currentTime }]);\r\n      this.eventbus.broadcast(TimelineEventNames.POSITION_UPDATE, [\r\n        { position: this.player.currentTime, duration: this.player.duration },\r\n      ]);\r\n    }\r\n  }\r\n\r\n  private _addVideoElements(selector: string, urls: string[]) {\r\n    const videoElm = [`<video class='mejs__player' id=${this._videoElementId} data-mejsoptions='{\"preload\": \"true\"}'>`];\r\n    urls.forEach((url) => {\r\n      videoElm.push(`<source src='${url}' type='${this._extractFileType(url)}'/>`);\r\n    });\r\n    videoElm.push('</video>');\r\n    $(selector).append(videoElm.join(''));\r\n  }\r\n\r\n  _extractFileType(url: string) {\r\n    const lastIdx = url.lastIndexOf('.');\r\n    return `video/${url.substr(lastIdx + 1)}`;\r\n  }\r\n\r\n  playlistItem(uri: string) {\r\n    this.player?.setSrc(uri);\r\n  }\r\n\r\n  start() {\r\n    this.player?.play();\r\n  }\r\n\r\n  stop() {\r\n    this.player?.stop();\r\n  }\r\n\r\n  destroy() {\r\n    if (!this.player?.paused) {\r\n      this.player?.pause();\r\n    }\r\n\r\n    this.player?.remove();\r\n    $(`#${this._videoElementId}`).remove();\r\n    this._eventbusListeners.forEach((func) => func());\r\n  }\r\n\r\n  pause() {\r\n    this.player?.pause();\r\n  }\r\n\r\n  seek(position: number) {\r\n    this.player?.setCurrentTime(position);\r\n  }\r\n\r\n  resize() {}\r\n\r\n  duration(resultCallback: TResultCallback) {\r\n    resultCallback(this.getDuration());\r\n  }\r\n\r\n  getDuration() {\r\n    return this.player?.duration || -1;\r\n  }\r\n\r\n  getPosition() {\r\n    return this.player?.getCurrentTime() || -1;\r\n  }\r\n\r\n  _container(resultCallback: TResultCallback) {\r\n    resultCallback($(`#${this._videoElementId}`));\r\n  }\r\n}\r\n","import $ from 'jquery';\r\nimport { IResolvedEngineConfiguration, IResolvedTimelineConfiguration } from '~/configuration/types';\r\nimport { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { TResultCallback } from '~/types';\r\nimport { ITimelineProvider } from './types';\r\n\r\ntype TUpdateMethod = (now: number) => void;\r\ntype TPlayState = 'stopped' | 'running' | 'paused';\r\n\r\nexport class RequestAnimationFrameTimelineProvider implements ITimelineProvider {\r\n  private _requestID: number = -1;\r\n  private _last: number = 0;\r\n  private _currentPosition: number = 0;\r\n  private _updateBound: TUpdateMethod = this._update.bind(this);\r\n  private _eventbusListeners: TEventHandlerRemover[] = [];\r\n  private _firstFrame = true;\r\n  private _currentPlaylistItem: IResolvedTimelineConfiguration;\r\n  private _granularity = 1000;\r\n  private _playState: TPlayState = 'stopped';\r\n  private _playlist: IResolvedTimelineConfiguration[];\r\n  private _containerElement: JQuery<HTMLElement> | undefined;\r\n\r\n  loop: boolean = false;\r\n\r\n  constructor(private eventbus: IEventbus, private config: IResolvedEngineConfiguration) {\r\n    this.eventbus = eventbus;\r\n    this.config = config;\r\n    this._playlist = this._extractPlaylist(config);\r\n    this._currentPlaylistItem = this._playlist[0];\r\n  }\r\n\r\n  private _extractPlaylist(configuration: IResolvedEngineConfiguration): IResolvedTimelineConfiguration[] {\r\n    const playlist = configuration.timelines.filter((timeline) => timeline.type === 'animation');\r\n    return playlist;\r\n  }\r\n\r\n  playlistItem(uri: string): void {\r\n    if (uri === null || !uri.length || this._playlist.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const item = this._playlist.find((item) => {\r\n      return item.uri === uri;\r\n    });\r\n\r\n    if (!item) {\r\n      throw new Error(`Unknown playlist uri: ${uri}`);\r\n    }\r\n\r\n    this._currentPlaylistItem = item;\r\n    this._firstFrame = true;\r\n  }\r\n\r\n  private _addEventListeners() {\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PLAY_TOGGLE_REQUEST, this.toggleplay.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PLAY_REQUEST, this.start.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.STOP_REQUEST, this.stop.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PAUSE_REQUEST, this.pause.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.SEEK_REQUEST, this.seek.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.RESIZE_REQUEST, this._resize.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.CONTAINER_REQUEST, this._container.bind(this)));\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.DURATION_REQUEST, this.requestDurationHandler.bind(this))\r\n    );\r\n  }\r\n\r\n  private _update(now: number): void {\r\n    if (this._playState !== 'running') {\r\n      return;\r\n    }\r\n\r\n    if (!this._last || now - this._last >= this._granularity) {\r\n      if (!this._last && this._firstFrame) {\r\n        this._firstFrame = false;\r\n        this.eventbus.broadcast(TimelineEventNames.FIRST_FRAME);\r\n      }\r\n\r\n      this._last = now;\r\n      this._currentPosition++;\r\n\r\n      if (this._currentPosition > this._currentPlaylistItem.duration) {\r\n        if (this.loop) {\r\n          this._reset();\r\n        } else {\r\n          this.stop();\r\n          this.eventbus.broadcast(TimelineEventNames.COMPLETE);\r\n          return;\r\n        }\r\n      }\r\n\r\n      this.eventbus.broadcast(TimelineEventNames.TIME, [{ position: this._currentPosition }]);\r\n      this.eventbus.broadcast(TimelineEventNames.POSITION_UPDATE, [\r\n        { position: this._currentPosition, duration: this._currentPlaylistItem.duration },\r\n      ]);\r\n    }\r\n\r\n    this._requestID = requestAnimationFrame(this._updateBound);\r\n  }\r\n\r\n  private _start() {\r\n    if (this._requestID && this._playState === 'running') {\r\n      return;\r\n    }\r\n    this._playState = 'running';\r\n    this._requestID = requestAnimationFrame(this._updateBound);\r\n  }\r\n\r\n  private _reset() {\r\n    this._cancelAnimationFrame();\r\n    this._last = 0;\r\n    this._currentPosition = 0;\r\n  }\r\n\r\n  private _resize() {\r\n    console.error('Not implemented yet');\r\n  }\r\n\r\n  private _container(callBack: TResultCallback) {\r\n    callBack(this._containerElement);\r\n  }\r\n\r\n  private _cancelAnimationFrame() {\r\n    if (this._requestID) {\r\n      cancelAnimationFrame(this._requestID);\r\n      this._requestID = -1;\r\n      this._last = 0;\r\n      this._currentPosition = 0;\r\n    }\r\n  }\r\n\r\n  init(): Promise<any> {\r\n    this._addEventListeners();\r\n    this._currentPlaylistItem = this._playlist[0];\r\n    this._containerElement = $(this._currentPlaylistItem.selector);\r\n\r\n    if (!this._containerElement.length) {\r\n      throw new Error(`timeline selector '${this._currentPlaylistItem.selector}' not found`);\r\n    }\r\n\r\n    const promise = new Promise((resolve) => {\r\n      resolve();\r\n    });\r\n\r\n    return promise;\r\n  }\r\n\r\n  destroy() {\r\n    this.stop();\r\n    this._eventbusListeners.forEach((func) => func());\r\n    this._containerElement = undefined;\r\n  }\r\n\r\n  toggleplay() {\r\n    if (this._playState !== 'running') {\r\n      this.start();\r\n    } else {\r\n      this.pause();\r\n    }\r\n  }\r\n\r\n  start() {\r\n    this._start();\r\n    this.eventbus.broadcast(TimelineEventNames.PLAY);\r\n  }\r\n\r\n  stop() {\r\n    this._cancelAnimationFrame();\r\n    this._playState = 'stopped';\r\n    this.eventbus.broadcast(TimelineEventNames.STOP);\r\n  }\r\n\r\n  pause() {\r\n    this._playState = 'paused';\r\n    this.eventbus.broadcast(TimelineEventNames.PAUSE);\r\n  }\r\n\r\n  seek(position: number) {\r\n    if (position < 0 || position > this._currentPlaylistItem.duration) {\r\n      return;\r\n    }\r\n\r\n    this.eventbus.broadcast(TimelineEventNames.SEEK, [position, this._currentPosition, this.getDuration()]);\r\n    this._currentPosition = position;\r\n    this.eventbus.broadcast(TimelineEventNames.SEEKED, [this.getPosition(), this.getDuration()]);\r\n    this.eventbus.broadcast(TimelineEventNames.TIME, [{ position: this.getPosition() }]);\r\n    this.eventbus.broadcast(TimelineEventNames.POSITION_UPDATE, [\r\n      { position: this._currentPosition, duration: this._currentPlaylistItem.duration },\r\n    ]);\r\n  }\r\n\r\n  getPosition() {\r\n    return this._currentPosition;\r\n  }\r\n\r\n  getDuration() {\r\n    return this._currentPlaylistItem.duration;\r\n  }\r\n\r\n  requestDurationHandler(callBack: TResultCallback) {\r\n    callBack(this._currentPlaylistItem.duration);\r\n  }\r\n}\r\n","/*!\n * MediaElement.js\n * http://www.mediaelementjs.com/\n *\n * Wrapper that mimics native HTML5 MediaElement (audio and video)\n * using a variety of technologies (pure JavaScript, Flash, iframe)\n *\n * Copyright 2010-2017, John Dyer (http://j.hn/)\n * License: MIT\n *\n */(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(_dereq_,module,exports){\n\n},{}],2:[function(_dereq_,module,exports){\n(function (global){\nvar topLevel = typeof global !== 'undefined' ? global :\n    typeof window !== 'undefined' ? window : {}\nvar minDoc = _dereq_(1);\n\nvar doccy;\n\nif (typeof document !== 'undefined') {\n    doccy = document;\n} else {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n    if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n}\n\nmodule.exports = doccy;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"1\":1}],3:[function(_dereq_,module,exports){\n(function (global){\nvar win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],4:[function(_dereq_,module,exports){\n(function (root) {\n\n  // Store setTimeout reference so promise-polyfill will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var setTimeoutFunc = setTimeout;\n\n  function noop() {}\n  \n  // Polyfill for Function.prototype.bind\n  function bind(fn, thisArg) {\n    return function () {\n      fn.apply(thisArg, arguments);\n    };\n  }\n\n  function Promise(fn) {\n    if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n    if (typeof fn !== 'function') throw new TypeError('not a function');\n    this._state = 0;\n    this._handled = false;\n    this._value = undefined;\n    this._deferreds = [];\n\n    doResolve(fn, this);\n  }\n\n  function handle(self, deferred) {\n    while (self._state === 3) {\n      self = self._value;\n    }\n    if (self._state === 0) {\n      self._deferreds.push(deferred);\n      return;\n    }\n    self._handled = true;\n    Promise._immediateFn(function () {\n      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n      if (cb === null) {\n        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n        return;\n      }\n      var ret;\n      try {\n        ret = cb(self._value);\n      } catch (e) {\n        reject(deferred.promise, e);\n        return;\n      }\n      resolve(deferred.promise, ret);\n    });\n  }\n\n  function resolve(self, newValue) {\n    try {\n      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n        var then = newValue.then;\n        if (newValue instanceof Promise) {\n          self._state = 3;\n          self._value = newValue;\n          finale(self);\n          return;\n        } else if (typeof then === 'function') {\n          doResolve(bind(then, newValue), self);\n          return;\n        }\n      }\n      self._state = 1;\n      self._value = newValue;\n      finale(self);\n    } catch (e) {\n      reject(self, e);\n    }\n  }\n\n  function reject(self, newValue) {\n    self._state = 2;\n    self._value = newValue;\n    finale(self);\n  }\n\n  function finale(self) {\n    if (self._state === 2 && self._deferreds.length === 0) {\n      Promise._immediateFn(function() {\n        if (!self._handled) {\n          Promise._unhandledRejectionFn(self._value);\n        }\n      });\n    }\n\n    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n      handle(self, self._deferreds[i]);\n    }\n    self._deferreds = null;\n  }\n\n  function Handler(onFulfilled, onRejected, promise) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.promise = promise;\n  }\n\n  /**\n   * Take a potentially misbehaving resolver function and make sure\n   * onFulfilled and onRejected are only called once.\n   *\n   * Makes no guarantees about asynchrony.\n   */\n  function doResolve(fn, self) {\n    var done = false;\n    try {\n      fn(function (value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      }, function (reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      });\n    } catch (ex) {\n      if (done) return;\n      done = true;\n      reject(self, ex);\n    }\n  }\n\n  Promise.prototype['catch'] = function (onRejected) {\n    return this.then(null, onRejected);\n  };\n\n  Promise.prototype.then = function (onFulfilled, onRejected) {\n    var prom = new (this.constructor)(noop);\n\n    handle(this, new Handler(onFulfilled, onRejected, prom));\n    return prom;\n  };\n\n  Promise.all = function (arr) {\n    var args = Array.prototype.slice.call(arr);\n\n    return new Promise(function (resolve, reject) {\n      if (args.length === 0) return resolve([]);\n      var remaining = args.length;\n\n      function res(i, val) {\n        try {\n          if (val && (typeof val === 'object' || typeof val === 'function')) {\n            var then = val.then;\n            if (typeof then === 'function') {\n              then.call(val, function (val) {\n                res(i, val);\n              }, reject);\n              return;\n            }\n          }\n          args[i] = val;\n          if (--remaining === 0) {\n            resolve(args);\n          }\n        } catch (ex) {\n          reject(ex);\n        }\n      }\n\n      for (var i = 0; i < args.length; i++) {\n        res(i, args[i]);\n      }\n    });\n  };\n\n  Promise.resolve = function (value) {\n    if (value && typeof value === 'object' && value.constructor === Promise) {\n      return value;\n    }\n\n    return new Promise(function (resolve) {\n      resolve(value);\n    });\n  };\n\n  Promise.reject = function (value) {\n    return new Promise(function (resolve, reject) {\n      reject(value);\n    });\n  };\n\n  Promise.race = function (values) {\n    return new Promise(function (resolve, reject) {\n      for (var i = 0, len = values.length; i < len; i++) {\n        values[i].then(resolve, reject);\n      }\n    });\n  };\n\n  // Use polyfill for setImmediate for performance gains\n  Promise._immediateFn = (typeof setImmediate === 'function' && function (fn) { setImmediate(fn); }) ||\n    function (fn) {\n      setTimeoutFunc(fn, 0);\n    };\n\n  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n    if (typeof console !== 'undefined' && console) {\n      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n    }\n  };\n\n  /**\n   * Set the immediate function to execute callbacks\n   * @param fn {function} Function to execute\n   * @deprecated\n   */\n  Promise._setImmediateFn = function _setImmediateFn(fn) {\n    Promise._immediateFn = fn;\n  };\n\n  /**\n   * Change the function to execute on unhandled rejection\n   * @param {function} fn Function to execute on unhandled rejection\n   * @deprecated\n   */\n  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n    Promise._unhandledRejectionFn = fn;\n  };\n  \n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = Promise;\n  } else if (!root.Promise) {\n    root.Promise = Promise;\n  }\n\n})(this);\n\n},{}],5:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _en = _dereq_(15);\n\nvar _general = _dereq_(27);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar i18n = { lang: 'en', en: _en.EN };\n\ni18n.language = function () {\n\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\targs[_key] = arguments[_key];\n\t}\n\n\tif (args !== null && args !== undefined && args.length) {\n\n\t\tif (typeof args[0] !== 'string') {\n\t\t\tthrow new TypeError('Language code must be a string value');\n\t\t}\n\n\t\tif (!/^[a-z]{2,3}((\\-|_)[a-z]{2})?$/i.test(args[0])) {\n\t\t\tthrow new TypeError('Language code must have format 2-3 letters and. optionally, hyphen, underscore followed by 2 more letters');\n\t\t}\n\n\t\ti18n.lang = args[0];\n\n\t\tif (i18n[args[0]] === undefined) {\n\t\t\targs[1] = args[1] !== null && args[1] !== undefined && _typeof(args[1]) === 'object' ? args[1] : {};\n\t\t\ti18n[args[0]] = !(0, _general.isObjectEmpty)(args[1]) ? args[1] : _en.EN;\n\t\t} else if (args[1] !== null && args[1] !== undefined && _typeof(args[1]) === 'object') {\n\t\t\ti18n[args[0]] = args[1];\n\t\t}\n\t}\n\n\treturn i18n.lang;\n};\n\ni18n.t = function (message) {\n\tvar pluralParam = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\n\tif (typeof message === 'string' && message.length) {\n\n\t\tvar str = void 0,\n\t\t    pluralForm = void 0;\n\n\t\tvar language = i18n.language();\n\n\t\tvar _plural = function _plural(input, number, form) {\n\n\t\t\tif ((typeof input === 'undefined' ? 'undefined' : _typeof(input)) !== 'object' || typeof number !== 'number' || typeof form !== 'number') {\n\t\t\t\treturn input;\n\t\t\t}\n\n\t\t\tvar _pluralForms = function () {\n\t\t\t\treturn [function () {\n\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t}, function () {\n\t\t\t\t\treturn (arguments.length <= 0 ? undefined : arguments[0]) === 1 ? arguments.length <= 1 ? undefined : arguments[1] : arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t}, function () {\n\t\t\t\t\treturn (arguments.length <= 0 ? undefined : arguments[0]) === 0 || (arguments.length <= 0 ? undefined : arguments[0]) === 1 ? arguments.length <= 1 ? undefined : arguments[1] : arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) % 10 === 1 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 !== 11) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) !== 0) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1 || (arguments.length <= 0 ? undefined : arguments[0]) === 11) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 2 || (arguments.length <= 0 ? undefined : arguments[0]) === 12) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) > 2 && (arguments.length <= 0 ? undefined : arguments[0]) < 20) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 0 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 > 0 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 < 20) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) % 10 === 1 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 !== 11) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 10 >= 2 && ((arguments.length <= 0 ? undefined : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 20)) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn [3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) % 10 === 1 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 !== 11) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 10 >= 2 && (arguments.length <= 0 ? undefined : arguments[0]) % 10 <= 4 && ((arguments.length <= 0 ? undefined : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 20)) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) >= 2 && (arguments.length <= 0 ? undefined : arguments[0]) <= 4) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 10 >= 2 && (arguments.length <= 0 ? undefined : arguments[0]) % 10 <= 4 && ((arguments.length <= 0 ? undefined : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 20)) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) % 100 === 1) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 100 === 2) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 100 === 3 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 === 4) {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 2) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) > 2 && (arguments.length <= 0 ? undefined : arguments[0]) < 7) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) > 6 && (arguments.length <= 0 ? undefined : arguments[0]) < 11) {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 5 ? undefined : arguments[5];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 0) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 2) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 3 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 <= 10) {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 11) {\n\t\t\t\t\t\treturn arguments.length <= 5 ? undefined : arguments[5];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 6 ? undefined : arguments[6];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 0 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 > 1 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 < 11) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 100 > 10 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 < 20) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) % 10 === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 10 === 2) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\treturn (arguments.length <= 0 ? undefined : arguments[0]) !== 11 && (arguments.length <= 0 ? undefined : arguments[0]) % 10 === 1 ? arguments.length <= 1 ? undefined : arguments[1] : arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 10 >= 2 && (arguments.length <= 0 ? undefined : arguments[0]) % 10 <= 4 && ((arguments.length <= 0 ? undefined : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 20)) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 2) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) !== 8 && (arguments.length <= 0 ? undefined : arguments[0]) !== 11) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\treturn (arguments.length <= 0 ? undefined : arguments[0]) === 0 ? arguments.length <= 1 ? undefined : arguments[1] : arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 2) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 3) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 0) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}];\n\t\t\t}();\n\n\t\t\treturn _pluralForms[form].apply(null, [number].concat(input));\n\t\t};\n\n\t\tif (i18n[language] !== undefined) {\n\t\t\tstr = i18n[language][message];\n\t\t\tif (pluralParam !== null && typeof pluralParam === 'number') {\n\t\t\t\tpluralForm = i18n[language]['mejs.plural-form'];\n\t\t\t\tstr = _plural.apply(null, [str, pluralParam, pluralForm]);\n\t\t\t}\n\t\t}\n\n\t\tif (!str && i18n.en) {\n\t\t\tstr = i18n.en[message];\n\t\t\tif (pluralParam !== null && typeof pluralParam === 'number') {\n\t\t\t\tpluralForm = i18n.en['mejs.plural-form'];\n\t\t\t\tstr = _plural.apply(null, [str, pluralParam, pluralForm]);\n\t\t\t}\n\t\t}\n\n\t\tstr = str || message;\n\n\t\tif (pluralParam !== null && typeof pluralParam === 'number') {\n\t\t\tstr = str.replace('%1', pluralParam);\n\t\t}\n\n\t\treturn (0, _general.escapeHTML)(str);\n\t}\n\n\treturn message;\n};\n\n_mejs2.default.i18n = i18n;\n\nif (typeof mejsL10n !== 'undefined') {\n\t_mejs2.default.i18n.language(mejsL10n.language, mejsL10n.strings);\n}\n\nexports.default = i18n;\n\n},{\"15\":15,\"27\":27,\"7\":7}],6:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _general = _dereq_(27);\n\nvar _media2 = _dereq_(28);\n\nvar _renderer = _dereq_(8);\n\nvar _constants = _dereq_(25);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MediaElement = function MediaElement(idOrNode, options, sources) {\n\tvar _this = this;\n\n\t_classCallCheck(this, MediaElement);\n\n\tvar t = this;\n\n\tsources = Array.isArray(sources) ? sources : null;\n\n\tt.defaults = {\n\t\trenderers: [],\n\n\t\tfakeNodeName: 'mediaelementwrapper',\n\n\t\tpluginPath: 'build/',\n\n\t\tshimScriptAccess: 'sameDomain'\n\t};\n\n\toptions = Object.assign(t.defaults, options);\n\n\tt.mediaElement = _document2.default.createElement(options.fakeNodeName);\n\n\tvar id = idOrNode,\n\t    error = false;\n\n\tif (typeof idOrNode === 'string') {\n\t\tt.mediaElement.originalNode = _document2.default.getElementById(idOrNode);\n\t} else {\n\t\tt.mediaElement.originalNode = idOrNode;\n\t\tid = idOrNode.id;\n\t}\n\n\tif (t.mediaElement.originalNode === undefined || t.mediaElement.originalNode === null) {\n\t\treturn null;\n\t}\n\n\tt.mediaElement.options = options;\n\tid = id || 'mejs_' + Math.random().toString().slice(2);\n\n\tt.mediaElement.originalNode.setAttribute('id', id + '_from_mejs');\n\n\tvar tagName = t.mediaElement.originalNode.tagName.toLowerCase();\n\tif (['video', 'audio'].indexOf(tagName) > -1 && !t.mediaElement.originalNode.getAttribute('preload')) {\n\t\tt.mediaElement.originalNode.setAttribute('preload', 'none');\n\t}\n\n\tt.mediaElement.originalNode.parentNode.insertBefore(t.mediaElement, t.mediaElement.originalNode);\n\n\tt.mediaElement.appendChild(t.mediaElement.originalNode);\n\n\tvar processURL = function processURL(url, type) {\n\t\tif (_window2.default.location.protocol === 'https:' && url.indexOf('http:') === 0 && _constants.IS_IOS && _mejs2.default.html5media.mediaTypes.indexOf(type) > -1) {\n\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\txhr.onreadystatechange = function () {\n\t\t\t\tif (this.readyState === 4 && this.status === 200) {\n\t\t\t\t\tvar _url = _window2.default.URL || _window2.default.webkitURL,\n\t\t\t\t\t    blobUrl = _url.createObjectURL(this.response);\n\t\t\t\t\tt.mediaElement.originalNode.setAttribute('src', blobUrl);\n\t\t\t\t\treturn blobUrl;\n\t\t\t\t}\n\t\t\t\treturn url;\n\t\t\t};\n\t\t\txhr.open('GET', url);\n\t\t\txhr.responseType = 'blob';\n\t\t\txhr.send();\n\t\t}\n\n\t\treturn url;\n\t};\n\n\tvar mediaFiles = void 0;\n\n\tif (sources !== null) {\n\t\tmediaFiles = sources;\n\t} else if (t.mediaElement.originalNode !== null) {\n\n\t\tmediaFiles = [];\n\n\t\tswitch (t.mediaElement.originalNode.nodeName.toLowerCase()) {\n\t\t\tcase 'iframe':\n\t\t\t\tmediaFiles.push({\n\t\t\t\t\ttype: '',\n\t\t\t\t\tsrc: t.mediaElement.originalNode.getAttribute('src')\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'audio':\n\t\t\tcase 'video':\n\t\t\t\tvar _sources = t.mediaElement.originalNode.children.length,\n\t\t\t\t    nodeSource = t.mediaElement.originalNode.getAttribute('src');\n\n\t\t\t\tif (nodeSource) {\n\t\t\t\t\tvar node = t.mediaElement.originalNode,\n\t\t\t\t\t    type = (0, _media2.formatType)(nodeSource, node.getAttribute('type'));\n\t\t\t\t\tmediaFiles.push({\n\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\tsrc: processURL(nodeSource, type)\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0; i < _sources; i++) {\n\t\t\t\t\tvar n = t.mediaElement.originalNode.children[i];\n\t\t\t\t\tif (n.tagName.toLowerCase() === 'source') {\n\t\t\t\t\t\tvar src = n.getAttribute('src'),\n\t\t\t\t\t\t    _type = (0, _media2.formatType)(src, n.getAttribute('type'));\n\t\t\t\t\t\tmediaFiles.push({ type: _type, src: processURL(src, _type) });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tt.mediaElement.id = id;\n\tt.mediaElement.renderers = {};\n\tt.mediaElement.events = {};\n\tt.mediaElement.promises = [];\n\tt.mediaElement.renderer = null;\n\tt.mediaElement.rendererName = null;\n\n\tt.mediaElement.changeRenderer = function (rendererName, mediaFiles) {\n\n\t\tvar t = _this,\n\t\t    media = Object.keys(mediaFiles[0]).length > 2 ? mediaFiles[0] : mediaFiles[0].src;\n\n\t\tif (t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null && t.mediaElement.renderer.name === rendererName) {\n\t\t\tt.mediaElement.renderer.pause();\n\t\t\tif (t.mediaElement.renderer.stop) {\n\t\t\t\tt.mediaElement.renderer.stop();\n\t\t\t}\n\t\t\tt.mediaElement.renderer.show();\n\t\t\tt.mediaElement.renderer.setSrc(media);\n\t\t\treturn true;\n\t\t}\n\n\t\tif (t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null) {\n\t\t\tt.mediaElement.renderer.pause();\n\t\t\tif (t.mediaElement.renderer.stop) {\n\t\t\t\tt.mediaElement.renderer.stop();\n\t\t\t}\n\t\t\tt.mediaElement.renderer.hide();\n\t\t}\n\n\t\tvar newRenderer = t.mediaElement.renderers[rendererName],\n\t\t    newRendererType = null;\n\n\t\tif (newRenderer !== undefined && newRenderer !== null) {\n\t\t\tnewRenderer.show();\n\t\t\tnewRenderer.setSrc(media);\n\t\t\tt.mediaElement.renderer = newRenderer;\n\t\t\tt.mediaElement.rendererName = rendererName;\n\t\t\treturn true;\n\t\t}\n\n\t\tvar rendererArray = t.mediaElement.options.renderers.length ? t.mediaElement.options.renderers : _renderer.renderer.order;\n\n\t\tfor (var _i = 0, total = rendererArray.length; _i < total; _i++) {\n\t\t\tvar index = rendererArray[_i];\n\n\t\t\tif (index === rendererName) {\n\t\t\t\tvar rendererList = _renderer.renderer.renderers;\n\t\t\t\tnewRendererType = rendererList[index];\n\n\t\t\t\tvar renderOptions = Object.assign(newRendererType.options, t.mediaElement.options);\n\t\t\t\tnewRenderer = newRendererType.create(t.mediaElement, renderOptions, mediaFiles);\n\t\t\t\tnewRenderer.name = rendererName;\n\n\t\t\t\tt.mediaElement.renderers[newRendererType.name] = newRenderer;\n\t\t\t\tt.mediaElement.renderer = newRenderer;\n\t\t\t\tt.mediaElement.rendererName = rendererName;\n\t\t\t\tnewRenderer.show();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tt.mediaElement.setSize = function (width, height) {\n\t\tif (t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null) {\n\t\t\tt.mediaElement.renderer.setSize(width, height);\n\t\t}\n\t};\n\n\tt.mediaElement.generateError = function (message, urlList) {\n\t\tmessage = message || '';\n\t\turlList = Array.isArray(urlList) ? urlList : [];\n\t\tvar event = (0, _general.createEvent)('error', t.mediaElement);\n\t\tevent.message = message;\n\t\tevent.urls = urlList;\n\t\tt.mediaElement.dispatchEvent(event);\n\t\terror = true;\n\t};\n\n\tvar props = _mejs2.default.html5media.properties,\n\t    methods = _mejs2.default.html5media.methods,\n\t    addProperty = function addProperty(obj, name, onGet, onSet) {\n\t\tvar oldValue = obj[name];\n\t\tvar getFn = function getFn() {\n\t\t\treturn onGet.apply(obj, [oldValue]);\n\t\t},\n\t\t    setFn = function setFn(newValue) {\n\t\t\toldValue = onSet.apply(obj, [newValue]);\n\t\t\treturn oldValue;\n\t\t};\n\n\t\tObject.defineProperty(obj, name, {\n\t\t\tget: getFn,\n\t\t\tset: setFn\n\t\t});\n\t},\n\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\tif (propName !== 'src') {\n\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1),\n\t\t\t    getFn = function getFn() {\n\t\t\t\treturn t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null && typeof t.mediaElement.renderer['get' + capName] === 'function' ? t.mediaElement.renderer['get' + capName]() : null;\n\t\t\t},\n\t\t\t    setFn = function setFn(value) {\n\t\t\t\tif (t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null && typeof t.mediaElement.renderer['set' + capName] === 'function') {\n\t\t\t\t\tt.mediaElement.renderer['set' + capName](value);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\taddProperty(t.mediaElement, propName, getFn, setFn);\n\t\t\tt.mediaElement['get' + capName] = getFn;\n\t\t\tt.mediaElement['set' + capName] = setFn;\n\t\t}\n\t},\n\t    getSrc = function getSrc() {\n\t\treturn t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null ? t.mediaElement.renderer.getSrc() : null;\n\t},\n\t    setSrc = function setSrc(value) {\n\t\tvar mediaFiles = [];\n\n\t\tif (typeof value === 'string') {\n\t\t\tmediaFiles.push({\n\t\t\t\tsrc: value,\n\t\t\t\ttype: value ? (0, _media2.getTypeFromFile)(value) : ''\n\t\t\t});\n\t\t} else if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.src !== undefined) {\n\t\t\tvar _src = (0, _media2.absolutizeUrl)(value.src),\n\t\t\t    _type2 = value.type,\n\t\t\t    media = Object.assign(value, {\n\t\t\t\tsrc: _src,\n\t\t\t\ttype: (_type2 === '' || _type2 === null || _type2 === undefined) && _src ? (0, _media2.getTypeFromFile)(_src) : _type2\n\t\t\t});\n\t\t\tmediaFiles.push(media);\n\t\t} else if (Array.isArray(value)) {\n\t\t\tfor (var _i2 = 0, total = value.length; _i2 < total; _i2++) {\n\n\t\t\t\tvar _src2 = (0, _media2.absolutizeUrl)(value[_i2].src),\n\t\t\t\t    _type3 = value[_i2].type,\n\t\t\t\t    _media = Object.assign(value[_i2], {\n\t\t\t\t\tsrc: _src2,\n\t\t\t\t\ttype: (_type3 === '' || _type3 === null || _type3 === undefined) && _src2 ? (0, _media2.getTypeFromFile)(_src2) : _type3\n\t\t\t\t});\n\n\t\t\t\tmediaFiles.push(_media);\n\t\t\t}\n\t\t}\n\n\t\tvar renderInfo = _renderer.renderer.select(mediaFiles, t.mediaElement.options.renderers.length ? t.mediaElement.options.renderers : []),\n\t\t    event = void 0;\n\n\t\tif (!t.mediaElement.paused && !(t.mediaElement.src == null || t.mediaElement.src === '')) {\n\t\t\tt.mediaElement.pause();\n\t\t\tevent = (0, _general.createEvent)('pause', t.mediaElement);\n\t\t\tt.mediaElement.dispatchEvent(event);\n\t\t}\n\t\tt.mediaElement.originalNode.src = mediaFiles[0].src || '';\n\n\t\tif (renderInfo === null && mediaFiles[0].src) {\n\t\t\tt.mediaElement.generateError('No renderer found', mediaFiles);\n\t\t\treturn;\n\t\t}\n\n\t\tvar shouldChangeRenderer = !(mediaFiles[0].src == null || mediaFiles[0].src === '');\n\t\treturn shouldChangeRenderer ? t.mediaElement.changeRenderer(renderInfo.rendererName, mediaFiles) : null;\n\t},\n\t    triggerAction = function triggerAction(methodName, args) {\n\t\ttry {\n\t\t\tif (methodName === 'play' && (t.mediaElement.rendererName === 'native_dash' || t.mediaElement.rendererName === 'native_hls' || t.mediaElement.rendererName === 'vimeo_iframe')) {\n\t\t\t\tvar response = t.mediaElement.renderer[methodName](args);\n\t\t\t\tif (response && typeof response.then === 'function') {\n\t\t\t\t\tresponse.catch(function () {\n\t\t\t\t\t\tif (t.mediaElement.paused) {\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar tmpResponse = t.mediaElement.renderer.play();\n\t\t\t\t\t\t\t\tif (tmpResponse !== undefined) {\n\t\t\t\t\t\t\t\t\ttmpResponse.catch(function () {\n\t\t\t\t\t\t\t\t\t\tif (!t.mediaElement.renderer.paused) {\n\t\t\t\t\t\t\t\t\t\t\tt.mediaElement.renderer.pause();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 150);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tt.mediaElement.renderer[methodName](args);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tt.mediaElement.generateError(e, mediaFiles);\n\t\t}\n\t},\n\t    assignMethods = function assignMethods(methodName) {\n\t\tt.mediaElement[methodName] = function () {\n\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\targs[_key] = arguments[_key];\n\t\t\t}\n\n\t\t\tif (t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null && typeof t.mediaElement.renderer[methodName] === 'function') {\n\t\t\t\tif (t.mediaElement.promises.length) {\n\t\t\t\t\tPromise.all(t.mediaElement.promises).then(function () {\n\t\t\t\t\t\ttriggerAction(methodName, args);\n\t\t\t\t\t}).catch(function (e) {\n\t\t\t\t\t\tt.mediaElement.generateError(e, mediaFiles);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttriggerAction(methodName, args);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t};\n\n\taddProperty(t.mediaElement, 'src', getSrc, setSrc);\n\tt.mediaElement.getSrc = getSrc;\n\tt.mediaElement.setSrc = setSrc;\n\n\tfor (var _i3 = 0, total = props.length; _i3 < total; _i3++) {\n\t\tassignGettersSetters(props[_i3]);\n\t}\n\n\tfor (var _i4 = 0, _total = methods.length; _i4 < _total; _i4++) {\n\t\tassignMethods(methods[_i4]);\n\t}\n\n\tt.mediaElement.addEventListener = function (eventName, callback) {\n\t\tt.mediaElement.events[eventName] = t.mediaElement.events[eventName] || [];\n\n\t\tt.mediaElement.events[eventName].push(callback);\n\t};\n\tt.mediaElement.removeEventListener = function (eventName, callback) {\n\t\tif (!eventName) {\n\t\t\tt.mediaElement.events = {};\n\t\t\treturn true;\n\t\t}\n\n\t\tvar callbacks = t.mediaElement.events[eventName];\n\n\t\tif (!callbacks) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (!callback) {\n\t\t\tt.mediaElement.events[eventName] = [];\n\t\t\treturn true;\n\t\t}\n\n\t\tfor (var _i5 = 0; _i5 < callbacks.length; _i5++) {\n\t\t\tif (callbacks[_i5] === callback) {\n\t\t\t\tt.mediaElement.events[eventName].splice(_i5, 1);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\tt.mediaElement.dispatchEvent = function (event) {\n\t\tvar callbacks = t.mediaElement.events[event.type];\n\t\tif (callbacks) {\n\t\t\tfor (var _i6 = 0; _i6 < callbacks.length; _i6++) {\n\t\t\t\tcallbacks[_i6].apply(null, [event]);\n\t\t\t}\n\t\t}\n\t};\n\n\tt.mediaElement.destroy = function () {\n\t\tvar mediaElement = t.mediaElement.originalNode.cloneNode(true);\n\t\tvar wrapper = t.mediaElement.parentElement;\n\t\tmediaElement.removeAttribute('id');\n\t\tmediaElement.remove();\n\t\tt.mediaElement.remove();\n\t\twrapper.appendChild(mediaElement);\n\t};\n\n\tif (mediaFiles.length) {\n\t\tt.mediaElement.src = mediaFiles;\n\t}\n\n\tif (t.mediaElement.promises.length) {\n\t\tPromise.all(t.mediaElement.promises).then(function () {\n\t\t\tif (t.mediaElement.options.success) {\n\t\t\t\tt.mediaElement.options.success(t.mediaElement, t.mediaElement.originalNode);\n\t\t\t}\n\t\t}).catch(function () {\n\t\t\tif (error && t.mediaElement.options.error) {\n\t\t\t\tt.mediaElement.options.error(t.mediaElement, t.mediaElement.originalNode);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tif (t.mediaElement.options.success) {\n\t\t\tt.mediaElement.options.success(t.mediaElement, t.mediaElement.originalNode);\n\t\t}\n\n\t\tif (error && t.mediaElement.options.error) {\n\t\t\tt.mediaElement.options.error(t.mediaElement, t.mediaElement.originalNode);\n\t\t}\n\t}\n\n\treturn t.mediaElement;\n};\n\n_window2.default.MediaElement = MediaElement;\n_mejs2.default.MediaElement = MediaElement;\n\nexports.default = MediaElement;\n\n},{\"2\":2,\"25\":25,\"27\":27,\"28\":28,\"3\":3,\"7\":7,\"8\":8}],7:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mejs = {};\n\nmejs.version = '4.2.16';\n\nmejs.html5media = {\n\tproperties: ['volume', 'src', 'currentTime', 'muted', 'duration', 'paused', 'ended', 'buffered', 'error', 'networkState', 'readyState', 'seeking', 'seekable', 'currentSrc', 'preload', 'bufferedBytes', 'bufferedTime', 'initialTime', 'startOffsetTime', 'defaultPlaybackRate', 'playbackRate', 'played', 'autoplay', 'loop', 'controls'],\n\treadOnlyProperties: ['duration', 'paused', 'ended', 'buffered', 'error', 'networkState', 'readyState', 'seeking', 'seekable'],\n\n\tmethods: ['load', 'play', 'pause', 'canPlayType'],\n\n\tevents: ['loadstart', 'durationchange', 'loadedmetadata', 'loadeddata', 'progress', 'canplay', 'canplaythrough', 'suspend', 'abort', 'error', 'emptied', 'stalled', 'play', 'playing', 'pause', 'waiting', 'seeking', 'seeked', 'timeupdate', 'ended', 'ratechange', 'volumechange'],\n\n\tmediaTypes: ['audio/mp3', 'audio/ogg', 'audio/oga', 'audio/wav', 'audio/x-wav', 'audio/wave', 'audio/x-pn-wav', 'audio/mpeg', 'audio/mp4', 'video/mp4', 'video/webm', 'video/ogg', 'video/ogv']\n};\n\n_window2.default.mejs = mejs;\n\nexports.default = mejs;\n\n},{\"3\":3}],8:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.renderer = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Renderer = function () {\n\tfunction Renderer() {\n\t\t_classCallCheck(this, Renderer);\n\n\t\tthis.renderers = {};\n\t\tthis.order = [];\n\t}\n\n\t_createClass(Renderer, [{\n\t\tkey: 'add',\n\t\tvalue: function add(renderer) {\n\t\t\tif (renderer.name === undefined) {\n\t\t\t\tthrow new TypeError('renderer must contain at least `name` property');\n\t\t\t}\n\n\t\t\tthis.renderers[renderer.name] = renderer;\n\t\t\tthis.order.push(renderer.name);\n\t\t}\n\t}, {\n\t\tkey: 'select',\n\t\tvalue: function select(mediaFiles) {\n\t\t\tvar renderers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n\t\t\tvar renderersLength = renderers.length;\n\n\t\t\trenderers = renderers.length ? renderers : this.order;\n\n\t\t\tif (!renderersLength) {\n\t\t\t\tvar rendererIndicator = [/^(html5|native)/i, /^flash/i, /iframe$/i],\n\t\t\t\t    rendererRanking = function rendererRanking(renderer) {\n\t\t\t\t\tfor (var i = 0, total = rendererIndicator.length; i < total; i++) {\n\t\t\t\t\t\tif (rendererIndicator[i].test(renderer)) {\n\t\t\t\t\t\t\treturn i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn rendererIndicator.length;\n\t\t\t\t};\n\n\t\t\t\trenderers.sort(function (a, b) {\n\t\t\t\t\treturn rendererRanking(a) - rendererRanking(b);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (var i = 0, total = renderers.length; i < total; i++) {\n\t\t\t\tvar key = renderers[i],\n\t\t\t\t    _renderer = this.renderers[key];\n\n\t\t\t\tif (_renderer !== null && _renderer !== undefined) {\n\t\t\t\t\tfor (var j = 0, jl = mediaFiles.length; j < jl; j++) {\n\t\t\t\t\t\tif (typeof _renderer.canPlayType === 'function' && typeof mediaFiles[j].type === 'string' && _renderer.canPlayType(mediaFiles[j].type)) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\trendererName: _renderer.name,\n\t\t\t\t\t\t\t\tsrc: mediaFiles[j].src\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\t}, {\n\t\tkey: 'order',\n\t\tset: function set(order) {\n\t\t\tif (!Array.isArray(order)) {\n\t\t\t\tthrow new TypeError('order must be an array of strings.');\n\t\t\t}\n\n\t\t\tthis._order = order;\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this._order;\n\t\t}\n\t}, {\n\t\tkey: 'renderers',\n\t\tset: function set(renderers) {\n\t\t\tif (renderers !== null && (typeof renderers === 'undefined' ? 'undefined' : _typeof(renderers)) !== 'object') {\n\t\t\t\tthrow new TypeError('renderers must be an array of objects.');\n\t\t\t}\n\n\t\t\tthis._renderers = renderers;\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this._renderers;\n\t\t}\n\t}]);\n\n\treturn Renderer;\n}();\n\nvar renderer = exports.renderer = new Renderer();\n\n_mejs2.default.Renderers = renderer;\n\n},{\"7\":7}],9:[function(_dereq_,module,exports){\n'use strict';\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _constants = _dereq_(25);\n\nvar Features = _interopRequireWildcard(_constants);\n\nvar _general = _dereq_(27);\n\nvar _dom = _dereq_(26);\n\nvar _media = _dereq_(28);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tusePluginFullScreen: true,\n\n\tfullscreenText: null,\n\n\tuseFakeFullscreen: false\n});\n\nObject.assign(_player2.default.prototype, {\n\tisFullScreen: false,\n\n\tisNativeFullScreen: false,\n\n\tisInIframe: false,\n\n\tisPluginClickThroughCreated: false,\n\n\tfullscreenMode: '',\n\n\tcontainerSizeTimeout: null,\n\n\tbuildfullscreen: function buildfullscreen(player) {\n\t\tif (!player.isVideo) {\n\t\t\treturn;\n\t\t}\n\n\t\tplayer.isInIframe = _window2.default.location !== _window2.default.parent.location;\n\n\t\tplayer.detectFullscreenMode();\n\n\t\tvar t = this,\n\t\t    fullscreenTitle = (0, _general.isString)(t.options.fullscreenText) ? t.options.fullscreenText : _i18n2.default.t('mejs.fullscreen'),\n\t\t    fullscreenBtn = _document2.default.createElement('div');\n\n\t\tfullscreenBtn.className = t.options.classPrefix + 'button ' + t.options.classPrefix + 'fullscreen-button';\n\t\tfullscreenBtn.innerHTML = '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + fullscreenTitle + '\" aria-label=\"' + fullscreenTitle + '\" tabindex=\"0\"></button>';\n\t\tt.addControlElement(fullscreenBtn, 'fullscreen');\n\n\t\tfullscreenBtn.addEventListener('click', function () {\n\t\t\tvar isFullScreen = Features.HAS_TRUE_NATIVE_FULLSCREEN && Features.IS_FULLSCREEN || player.isFullScreen;\n\n\t\t\tif (isFullScreen) {\n\t\t\t\tplayer.exitFullScreen();\n\t\t\t} else {\n\t\t\t\tplayer.enterFullScreen();\n\t\t\t}\n\t\t});\n\n\t\tplayer.fullscreenBtn = fullscreenBtn;\n\n\t\tt.options.keyActions.push({\n\t\t\tkeys: [70],\n\t\t\taction: function action(player, media, key, event) {\n\t\t\t\tif (!event.ctrlKey) {\n\t\t\t\t\tif (typeof player.enterFullScreen !== 'undefined') {\n\t\t\t\t\t\tif (player.isFullScreen) {\n\t\t\t\t\t\t\tplayer.exitFullScreen();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tplayer.enterFullScreen();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tt.exitFullscreenCallback = function (e) {\n\t\t\tvar key = e.which || e.keyCode || 0;\n\t\t\tif (t.options.enableKeyboard && key === 27 && (Features.HAS_TRUE_NATIVE_FULLSCREEN && Features.IS_FULLSCREEN || t.isFullScreen)) {\n\t\t\t\tplayer.exitFullScreen();\n\t\t\t}\n\t\t};\n\n\t\tt.globalBind('keydown', t.exitFullscreenCallback);\n\n\t\tt.normalHeight = 0;\n\t\tt.normalWidth = 0;\n\n\t\tif (Features.HAS_TRUE_NATIVE_FULLSCREEN) {\n\t\t\tvar fullscreenChanged = function fullscreenChanged() {\n\t\t\t\tif (player.isFullScreen) {\n\t\t\t\t\tif (Features.isFullScreen()) {\n\t\t\t\t\t\tplayer.isNativeFullScreen = true;\n\n\t\t\t\t\t\tplayer.setControlsSize();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tplayer.isNativeFullScreen = false;\n\n\t\t\t\t\t\tplayer.exitFullScreen();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tplayer.globalBind(Features.FULLSCREEN_EVENT_NAME, fullscreenChanged);\n\t\t}\n\t},\n\tcleanfullscreen: function cleanfullscreen(player) {\n\t\tplayer.exitFullScreen();\n\t\tplayer.globalUnbind('keydown', player.exitFullscreenCallback);\n\t},\n\tdetectFullscreenMode: function detectFullscreenMode() {\n\t\tvar t = this,\n\t\t    isNative = t.media.rendererName !== null && /(native|html5)/i.test(t.media.rendererName);\n\n\t\tvar mode = '';\n\n\t\tif (Features.HAS_TRUE_NATIVE_FULLSCREEN && isNative) {\n\t\t\tmode = 'native-native';\n\t\t} else if (Features.HAS_TRUE_NATIVE_FULLSCREEN && !isNative) {\n\t\t\tmode = 'plugin-native';\n\t\t} else if (t.usePluginFullScreen && Features.SUPPORT_POINTER_EVENTS) {\n\t\t\tmode = 'plugin-click';\n\t\t}\n\n\t\tt.fullscreenMode = mode;\n\t\treturn mode;\n\t},\n\tenterFullScreen: function enterFullScreen() {\n\t\tvar t = this,\n\t\t    isNative = t.media.rendererName !== null && /(html5|native)/i.test(t.media.rendererName),\n\t\t    containerStyles = getComputedStyle(t.getElement(t.container));\n\n\t\tif (!t.isVideo) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (t.options.useFakeFullscreen === false && Features.IS_IOS && Features.HAS_IOS_FULLSCREEN && typeof t.media.originalNode.webkitEnterFullscreen === 'function' && t.media.originalNode.canPlayType((0, _media.getTypeFromFile)(t.media.getSrc()))) {\n\t\t\tt.media.originalNode.webkitEnterFullscreen();\n\t\t\treturn;\n\t\t}\n\n\t\t(0, _dom.addClass)(_document2.default.documentElement, t.options.classPrefix + 'fullscreen');\n\t\t(0, _dom.addClass)(t.getElement(t.container), t.options.classPrefix + 'container-fullscreen');\n\n\t\tt.normalHeight = parseFloat(containerStyles.height);\n\t\tt.normalWidth = parseFloat(containerStyles.width);\n\n\t\tif (t.fullscreenMode === 'native-native' || t.fullscreenMode === 'plugin-native') {\n\t\t\tFeatures.requestFullScreen(t.getElement(t.container));\n\n\t\t\tif (t.isInIframe) {\n\t\t\t\tsetTimeout(function checkFullscreen() {\n\n\t\t\t\t\tif (t.isNativeFullScreen) {\n\t\t\t\t\t\tvar percentErrorMargin = 0.002,\n\t\t\t\t\t\t    windowWidth = _window2.default.innerWidth || _document2.default.documentElement.clientWidth || _document2.default.body.clientWidth,\n\t\t\t\t\t\t    screenWidth = screen.width,\n\t\t\t\t\t\t    absDiff = Math.abs(screenWidth - windowWidth),\n\t\t\t\t\t\t    marginError = screenWidth * percentErrorMargin;\n\n\t\t\t\t\t\tif (absDiff > marginError) {\n\t\t\t\t\t\t\tt.exitFullScreen();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetTimeout(checkFullscreen, 500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, 1000);\n\t\t\t}\n\t\t}\n\n\t\tt.getElement(t.container).style.width = '100%';\n\t\tt.getElement(t.container).style.height = '100%';\n\n\t\tt.containerSizeTimeout = setTimeout(function () {\n\t\t\tt.getElement(t.container).style.width = '100%';\n\t\t\tt.getElement(t.container).style.height = '100%';\n\t\t\tt.setControlsSize();\n\t\t}, 500);\n\n\t\tif (isNative) {\n\t\t\tt.node.style.width = '100%';\n\t\t\tt.node.style.height = '100%';\n\t\t} else {\n\t\t\tvar elements = t.getElement(t.container).querySelectorAll('embed, object, video'),\n\t\t\t    _total = elements.length;\n\t\t\tfor (var i = 0; i < _total; i++) {\n\t\t\t\telements[i].style.width = '100%';\n\t\t\t\telements[i].style.height = '100%';\n\t\t\t}\n\t\t}\n\n\t\tif (t.options.setDimensions && typeof t.media.setSize === 'function') {\n\t\t\tt.media.setSize(screen.width, screen.height);\n\t\t}\n\n\t\tvar layers = t.getElement(t.layers).children,\n\t\t    total = layers.length;\n\t\tfor (var _i = 0; _i < total; _i++) {\n\t\t\tlayers[_i].style.width = '100%';\n\t\t\tlayers[_i].style.height = '100%';\n\t\t}\n\n\t\tif (t.fullscreenBtn) {\n\t\t\t(0, _dom.removeClass)(t.fullscreenBtn, t.options.classPrefix + 'fullscreen');\n\t\t\t(0, _dom.addClass)(t.fullscreenBtn, t.options.classPrefix + 'unfullscreen');\n\t\t}\n\n\t\tt.setControlsSize();\n\t\tt.isFullScreen = true;\n\n\t\tvar zoomFactor = Math.min(screen.width / t.width, screen.height / t.height),\n\t\t    captionText = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'captions-text');\n\t\tif (captionText) {\n\t\t\tcaptionText.style.fontSize = zoomFactor * 100 + '%';\n\t\t\tcaptionText.style.lineHeight = 'normal';\n\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'captions-position').style.bottom = (screen.height - t.normalHeight) / 2 - t.getElement(t.controls).offsetHeight / 2 + zoomFactor + 15 + 'px';\n\t\t}\n\t\tvar event = (0, _general.createEvent)('enteredfullscreen', t.getElement(t.container));\n\t\tt.getElement(t.container).dispatchEvent(event);\n\t},\n\texitFullScreen: function exitFullScreen() {\n\t\tvar t = this,\n\t\t    isNative = t.media.rendererName !== null && /(native|html5)/i.test(t.media.rendererName);\n\n\t\tif (!t.isVideo) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearTimeout(t.containerSizeTimeout);\n\n\t\tif (Features.HAS_TRUE_NATIVE_FULLSCREEN && (Features.IS_FULLSCREEN || t.isFullScreen)) {\n\t\t\tFeatures.cancelFullScreen();\n\t\t}\n\n\t\t(0, _dom.removeClass)(_document2.default.documentElement, t.options.classPrefix + 'fullscreen');\n\t\t(0, _dom.removeClass)(t.getElement(t.container), t.options.classPrefix + 'container-fullscreen');\n\n\t\tif (t.options.setDimensions) {\n\t\t\tt.getElement(t.container).style.width = t.normalWidth + 'px';\n\t\t\tt.getElement(t.container).style.height = t.normalHeight + 'px';\n\n\t\t\tif (isNative) {\n\t\t\t\tt.node.style.width = t.normalWidth + 'px';\n\t\t\t\tt.node.style.height = t.normalHeight + 'px';\n\t\t\t} else {\n\t\t\t\tvar elements = t.getElement(t.container).querySelectorAll('embed, object, video'),\n\t\t\t\t    _total2 = elements.length;\n\t\t\t\tfor (var i = 0; i < _total2; i++) {\n\t\t\t\t\telements[i].style.width = t.normalWidth + 'px';\n\t\t\t\t\telements[i].style.height = t.normalHeight + 'px';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof t.media.setSize === 'function') {\n\t\t\t\tt.media.setSize(t.normalWidth, t.normalHeight);\n\t\t\t}\n\n\t\t\tvar layers = t.getElement(t.layers).children,\n\t\t\t    total = layers.length;\n\t\t\tfor (var _i2 = 0; _i2 < total; _i2++) {\n\t\t\t\tlayers[_i2].style.width = t.normalWidth + 'px';\n\t\t\t\tlayers[_i2].style.height = t.normalHeight + 'px';\n\t\t\t}\n\t\t}\n\n\t\tif (t.fullscreenBtn) {\n\t\t\t(0, _dom.removeClass)(t.fullscreenBtn, t.options.classPrefix + 'unfullscreen');\n\t\t\t(0, _dom.addClass)(t.fullscreenBtn, t.options.classPrefix + 'fullscreen');\n\t\t}\n\n\t\tt.setControlsSize();\n\t\tt.isFullScreen = false;\n\n\t\tvar captionText = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'captions-text');\n\t\tif (captionText) {\n\t\t\tcaptionText.style.fontSize = '';\n\t\t\tcaptionText.style.lineHeight = '';\n\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'captions-position').style.bottom = '';\n\t\t}\n\t\tvar event = (0, _general.createEvent)('exitedfullscreen', t.getElement(t.container));\n\t\tt.getElement(t.container).dispatchEvent(event);\n\t}\n});\n\n},{\"16\":16,\"2\":2,\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"5\":5}],10:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _general = _dereq_(27);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tplayText: null,\n\n\tpauseText: null\n});\n\nObject.assign(_player2.default.prototype, {\n\tbuildplaypause: function buildplaypause(player, controls, layers, media) {\n\t\tvar t = this,\n\t\t    op = t.options,\n\t\t    playTitle = (0, _general.isString)(op.playText) ? op.playText : _i18n2.default.t('mejs.play'),\n\t\t    pauseTitle = (0, _general.isString)(op.pauseText) ? op.pauseText : _i18n2.default.t('mejs.pause'),\n\t\t    play = _document2.default.createElement('div');\n\n\t\tplay.className = t.options.classPrefix + 'button ' + t.options.classPrefix + 'playpause-button ' + t.options.classPrefix + 'play';\n\t\tplay.innerHTML = '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + playTitle + '\" aria-label=\"' + pauseTitle + '\" tabindex=\"0\"></button>';\n\t\tplay.addEventListener('click', function () {\n\t\t\tif (t.paused) {\n\t\t\t\tt.play();\n\t\t\t} else {\n\t\t\t\tt.pause();\n\t\t\t}\n\t\t});\n\n\t\tvar playBtn = play.querySelector('button');\n\t\tt.addControlElement(play, 'playpause');\n\n\t\tfunction togglePlayPause(which) {\n\t\t\tif ('play' === which) {\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'play');\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'replay');\n\t\t\t\t(0, _dom.addClass)(play, t.options.classPrefix + 'pause');\n\t\t\t\tplayBtn.setAttribute('title', pauseTitle);\n\t\t\t\tplayBtn.setAttribute('aria-label', pauseTitle);\n\t\t\t} else {\n\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'pause');\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'replay');\n\t\t\t\t(0, _dom.addClass)(play, t.options.classPrefix + 'play');\n\t\t\t\tplayBtn.setAttribute('title', playTitle);\n\t\t\t\tplayBtn.setAttribute('aria-label', playTitle);\n\t\t\t}\n\t\t}\n\n\t\ttogglePlayPause('pse');\n\n\t\tmedia.addEventListener('loadedmetadata', function () {\n\t\t\tif (media.rendererName.indexOf('flash') === -1) {\n\t\t\t\ttogglePlayPause('pse');\n\t\t\t}\n\t\t});\n\t\tmedia.addEventListener('play', function () {\n\t\t\ttogglePlayPause('play');\n\t\t});\n\t\tmedia.addEventListener('playing', function () {\n\t\t\ttogglePlayPause('play');\n\t\t});\n\t\tmedia.addEventListener('pause', function () {\n\t\t\ttogglePlayPause('pse');\n\t\t});\n\t\tmedia.addEventListener('ended', function () {\n\t\t\tif (!player.options.loop) {\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'pause');\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'play');\n\t\t\t\t(0, _dom.addClass)(play, t.options.classPrefix + 'replay');\n\t\t\t\tplayBtn.setAttribute('title', playTitle);\n\t\t\t\tplayBtn.setAttribute('aria-label', playTitle);\n\t\t\t}\n\t\t});\n\t}\n});\n\n},{\"16\":16,\"2\":2,\"26\":26,\"27\":27,\"5\":5}],11:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _constants = _dereq_(25);\n\nvar _time = _dereq_(30);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tenableProgressTooltip: true,\n\n\tuseSmoothHover: true,\n\n\tforceLive: false\n});\n\nObject.assign(_player2.default.prototype, {\n\tbuildprogress: function buildprogress(player, controls, layers, media) {\n\n\t\tvar lastKeyPressTime = 0,\n\t\t    mouseIsDown = false,\n\t\t    startedPaused = false;\n\n\t\tvar t = this,\n\t\t    autoRewindInitial = player.options.autoRewind,\n\t\t    tooltip = player.options.enableProgressTooltip ? '<span class=\"' + t.options.classPrefix + 'time-float\">' + ('<span class=\"' + t.options.classPrefix + 'time-float-current\">00:00</span>') + ('<span class=\"' + t.options.classPrefix + 'time-float-corner\"></span>') + '</span>' : '',\n\t\t    rail = _document2.default.createElement('div');\n\n\t\trail.className = t.options.classPrefix + 'time-rail';\n\t\trail.innerHTML = '<span class=\"' + t.options.classPrefix + 'time-total ' + t.options.classPrefix + 'time-slider\">' + ('<span class=\"' + t.options.classPrefix + 'time-buffering\"></span>') + ('<span class=\"' + t.options.classPrefix + 'time-loaded\"></span>') + ('<span class=\"' + t.options.classPrefix + 'time-current\"></span>') + ('<span class=\"' + t.options.classPrefix + 'time-hovered no-hover\"></span>') + ('<span class=\"' + t.options.classPrefix + 'time-handle\"><span class=\"' + t.options.classPrefix + 'time-handle-content\"></span></span>') + ('' + tooltip) + '</span>';\n\n\t\tt.addControlElement(rail, 'progress');\n\n\t\tt.options.keyActions.push({\n\t\t\tkeys: [37, 227],\n\t\t\taction: function action(player) {\n\t\t\t\tif (!isNaN(player.duration) && player.duration > 0) {\n\t\t\t\t\tif (player.isVideo) {\n\t\t\t\t\t\tplayer.showControls();\n\t\t\t\t\t\tplayer.startControlsTimer();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar timeSlider = player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'time-total');\n\t\t\t\t\tif (timeSlider) {\n\t\t\t\t\t\ttimeSlider.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar newTime = Math.max(player.currentTime - player.options.defaultSeekBackwardInterval(player), 0);\n\n\t\t\t\t\tif (!player.paused) {\n\t\t\t\t\t\tplayer.pause();\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tplayer.setCurrentTime(newTime);\n\t\t\t\t\t}, 0);\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tplayer.play();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkeys: [39, 228],\n\t\t\taction: function action(player) {\n\n\t\t\t\tif (!isNaN(player.duration) && player.duration > 0) {\n\t\t\t\t\tif (player.isVideo) {\n\t\t\t\t\t\tplayer.showControls();\n\t\t\t\t\t\tplayer.startControlsTimer();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar timeSlider = player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'time-total');\n\t\t\t\t\tif (timeSlider) {\n\t\t\t\t\t\ttimeSlider.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar newTime = Math.min(player.currentTime + player.options.defaultSeekForwardInterval(player), player.duration);\n\n\t\t\t\t\tif (!player.paused) {\n\t\t\t\t\t\tplayer.pause();\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tplayer.setCurrentTime(newTime);\n\t\t\t\t\t}, 0);\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tplayer.play();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tt.rail = controls.querySelector('.' + t.options.classPrefix + 'time-rail');\n\t\tt.total = controls.querySelector('.' + t.options.classPrefix + 'time-total');\n\t\tt.loaded = controls.querySelector('.' + t.options.classPrefix + 'time-loaded');\n\t\tt.current = controls.querySelector('.' + t.options.classPrefix + 'time-current');\n\t\tt.handle = controls.querySelector('.' + t.options.classPrefix + 'time-handle');\n\t\tt.timefloat = controls.querySelector('.' + t.options.classPrefix + 'time-float');\n\t\tt.timefloatcurrent = controls.querySelector('.' + t.options.classPrefix + 'time-float-current');\n\t\tt.slider = controls.querySelector('.' + t.options.classPrefix + 'time-slider');\n\t\tt.hovered = controls.querySelector('.' + t.options.classPrefix + 'time-hovered');\n\t\tt.buffer = controls.querySelector('.' + t.options.classPrefix + 'time-buffering');\n\t\tt.newTime = 0;\n\t\tt.forcedHandlePause = false;\n\t\tt.setTransformStyle = function (element, value) {\n\t\t\telement.style.transform = value;\n\t\t\telement.style.webkitTransform = value;\n\t\t\telement.style.MozTransform = value;\n\t\t\telement.style.msTransform = value;\n\t\t\telement.style.OTransform = value;\n\t\t};\n\n\t\tt.buffer.style.display = 'none';\n\n\t\tvar handleMouseMove = function handleMouseMove(e) {\n\t\t\tvar totalStyles = getComputedStyle(t.total),\n\t\t\t    offsetStyles = (0, _dom.offset)(t.total),\n\t\t\t    width = t.total.offsetWidth,\n\t\t\t    transform = function () {\n\t\t\t\tif (totalStyles.webkitTransform !== undefined) {\n\t\t\t\t\treturn 'webkitTransform';\n\t\t\t\t} else if (totalStyles.mozTransform !== undefined) {\n\t\t\t\t\treturn 'mozTransform ';\n\t\t\t\t} else if (totalStyles.oTransform !== undefined) {\n\t\t\t\t\treturn 'oTransform';\n\t\t\t\t} else if (totalStyles.msTransform !== undefined) {\n\t\t\t\t\treturn 'msTransform';\n\t\t\t\t} else {\n\t\t\t\t\treturn 'transform';\n\t\t\t\t}\n\t\t\t}(),\n\t\t\t    cssMatrix = function () {\n\t\t\t\tif ('WebKitCSSMatrix' in window) {\n\t\t\t\t\treturn 'WebKitCSSMatrix';\n\t\t\t\t} else if ('MSCSSMatrix' in window) {\n\t\t\t\t\treturn 'MSCSSMatrix';\n\t\t\t\t} else if ('CSSMatrix' in window) {\n\t\t\t\t\treturn 'CSSMatrix';\n\t\t\t\t}\n\t\t\t}();\n\n\t\t\tvar percentage = 0,\n\t\t\t    leftPos = 0,\n\t\t\t    pos = 0,\n\t\t\t    x = void 0;\n\n\t\t\tif (e.originalEvent && e.originalEvent.changedTouches) {\n\t\t\t\tx = e.originalEvent.changedTouches[0].pageX;\n\t\t\t} else if (e.changedTouches) {\n\t\t\t\tx = e.changedTouches[0].pageX;\n\t\t\t} else {\n\t\t\t\tx = e.pageX;\n\t\t\t}\n\n\t\t\tif (t.getDuration()) {\n\t\t\t\tif (x < offsetStyles.left) {\n\t\t\t\t\tx = offsetStyles.left;\n\t\t\t\t} else if (x > width + offsetStyles.left) {\n\t\t\t\t\tx = width + offsetStyles.left;\n\t\t\t\t}\n\n\t\t\t\tpos = x - offsetStyles.left;\n\t\t\t\tpercentage = pos / width;\n\t\t\t\tt.newTime = percentage * t.getDuration();\n\n\t\t\t\tif (mouseIsDown && t.getCurrentTime() !== null && t.newTime.toFixed(4) !== t.getCurrentTime().toFixed(4)) {\n\t\t\t\t\tt.setCurrentRailHandle(t.newTime);\n\t\t\t\t\tt.updateCurrent(t.newTime);\n\t\t\t\t}\n\n\t\t\t\tif (!_constants.IS_IOS && !_constants.IS_ANDROID) {\n\t\t\t\t\tif (pos < 0) {\n\t\t\t\t\t\tpos = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (t.options.useSmoothHover && cssMatrix !== null && typeof window[cssMatrix] !== 'undefined') {\n\t\t\t\t\t\tvar matrix = new window[cssMatrix](getComputedStyle(t.handle)[transform]),\n\t\t\t\t\t\t    handleLocation = matrix.m41,\n\t\t\t\t\t\t    hoverScaleX = pos / parseFloat(getComputedStyle(t.total).width) - handleLocation / parseFloat(getComputedStyle(t.total).width);\n\n\t\t\t\t\t\tt.hovered.style.left = handleLocation + 'px';\n\t\t\t\t\t\tt.setTransformStyle(t.hovered, 'scaleX(' + hoverScaleX + ')');\n\t\t\t\t\t\tt.hovered.setAttribute('pos', pos);\n\n\t\t\t\t\t\tif (hoverScaleX >= 0) {\n\t\t\t\t\t\t\t(0, _dom.removeClass)(t.hovered, 'negative');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t(0, _dom.addClass)(t.hovered, 'negative');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.timefloat) {\n\t\t\t\t\t\tvar half = t.timefloat.offsetWidth / 2,\n\t\t\t\t\t\t    offsetContainer = mejs.Utils.offset(t.getElement(t.container)),\n\t\t\t\t\t\t    tooltipStyles = getComputedStyle(t.timefloat);\n\n\t\t\t\t\t\tif (x - offsetContainer.left < t.timefloat.offsetWidth) {\n\t\t\t\t\t\t\tleftPos = half;\n\t\t\t\t\t\t} else if (x - offsetContainer.left >= t.getElement(t.container).offsetWidth - half) {\n\t\t\t\t\t\t\tleftPos = t.total.offsetWidth - half;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tleftPos = pos;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ((0, _dom.hasClass)(t.getElement(t.container), t.options.classPrefix + 'long-video')) {\n\t\t\t\t\t\t\tleftPos += parseFloat(tooltipStyles.marginLeft) / 2 + t.timefloat.offsetWidth / 2;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tt.timefloat.style.left = leftPos + 'px';\n\t\t\t\t\t\tt.timefloatcurrent.innerHTML = (0, _time.secondsToTimeCode)(t.newTime, player.options.alwaysShowHours, player.options.showTimecodeFrameCount, player.options.framesPerSecond, player.options.secondsDecimalLength, player.options.timeFormat);\n\t\t\t\t\t\tt.timefloat.style.display = 'block';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (!_constants.IS_IOS && !_constants.IS_ANDROID && t.timefloat) {\n\t\t\t\tleftPos = t.timefloat.offsetWidth + width >= t.getElement(t.container).offsetWidth ? t.timefloat.offsetWidth / 2 : 0;\n\t\t\t\tt.timefloat.style.left = leftPos + 'px';\n\t\t\t\tt.timefloat.style.left = leftPos + 'px';\n\t\t\t\tt.timefloat.style.display = 'block';\n\t\t\t}\n\t\t},\n\t\t    updateSlider = function updateSlider() {\n\t\t\tvar seconds = t.getCurrentTime(),\n\t\t\t    timeSliderText = _i18n2.default.t('mejs.time-slider'),\n\t\t\t    time = (0, _time.secondsToTimeCode)(seconds, player.options.alwaysShowHours, player.options.showTimecodeFrameCount, player.options.framesPerSecond, player.options.secondsDecimalLength, player.options.timeFormat),\n\t\t\t    duration = t.getDuration();\n\n\t\t\tt.slider.setAttribute('role', 'slider');\n\t\t\tt.slider.tabIndex = 0;\n\n\t\t\tif (media.paused) {\n\t\t\t\tt.slider.setAttribute('aria-label', timeSliderText);\n\t\t\t\tt.slider.setAttribute('aria-valuemin', 0);\n\t\t\t\tt.slider.setAttribute('aria-valuemax', isNaN(duration) ? 0 : duration);\n\t\t\t\tt.slider.setAttribute('aria-valuenow', seconds);\n\t\t\t\tt.slider.setAttribute('aria-valuetext', time);\n\t\t\t} else {\n\t\t\t\tt.slider.removeAttribute('aria-label');\n\t\t\t\tt.slider.removeAttribute('aria-valuemin');\n\t\t\t\tt.slider.removeAttribute('aria-valuemax');\n\t\t\t\tt.slider.removeAttribute('aria-valuenow');\n\t\t\t\tt.slider.removeAttribute('aria-valuetext');\n\t\t\t}\n\t\t},\n\t\t    restartPlayer = function restartPlayer() {\n\t\t\tif (new Date() - lastKeyPressTime >= 1000) {\n\t\t\t\tt.play();\n\t\t\t}\n\t\t},\n\t\t    handleMouseup = function handleMouseup() {\n\t\t\tif (mouseIsDown && t.getCurrentTime() !== null && t.newTime.toFixed(4) !== t.getCurrentTime().toFixed(4)) {\n\t\t\t\tt.setCurrentTime(t.newTime);\n\t\t\t\tt.setCurrentRailHandle(t.newTime);\n\t\t\t\tt.updateCurrent(t.newTime);\n\t\t\t}\n\t\t\tif (t.forcedHandlePause) {\n\t\t\t\tt.slider.focus();\n\t\t\t\tt.play();\n\t\t\t}\n\t\t\tt.forcedHandlePause = false;\n\t\t};\n\n\t\tt.slider.addEventListener('focus', function () {\n\t\t\tplayer.options.autoRewind = false;\n\t\t});\n\t\tt.slider.addEventListener('blur', function () {\n\t\t\tplayer.options.autoRewind = autoRewindInitial;\n\t\t});\n\t\tt.slider.addEventListener('keydown', function (e) {\n\t\t\tif (new Date() - lastKeyPressTime >= 1000) {\n\t\t\t\tstartedPaused = t.paused;\n\t\t\t}\n\n\t\t\tif (t.options.enableKeyboard && t.options.keyActions.length) {\n\n\t\t\t\tvar keyCode = e.which || e.keyCode || 0,\n\t\t\t\t    duration = t.getDuration(),\n\t\t\t\t    seekForward = player.options.defaultSeekForwardInterval(media),\n\t\t\t\t    seekBackward = player.options.defaultSeekBackwardInterval(media);\n\n\t\t\t\tvar seekTime = t.getCurrentTime();\n\t\t\t\tvar volume = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'volume-slider');\n\n\t\t\t\tif (keyCode === 38 || keyCode === 40) {\n\t\t\t\t\tif (volume) {\n\t\t\t\t\t\tvolume.style.display = 'block';\n\t\t\t\t\t}\n\t\t\t\t\tif (t.isVideo) {\n\t\t\t\t\t\tt.showControls();\n\t\t\t\t\t\tt.startControlsTimer();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar newVolume = keyCode === 38 ? Math.min(t.volume + 0.1, 1) : Math.max(t.volume - 0.1, 0),\n\t\t\t\t\t    mutePlayer = newVolume <= 0;\n\t\t\t\t\tt.setVolume(newVolume);\n\t\t\t\t\tt.setMuted(mutePlayer);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tif (volume) {\n\t\t\t\t\t\tvolume.style.display = 'none';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tswitch (keyCode) {\n\t\t\t\t\tcase 37:\n\t\t\t\t\t\tif (t.getDuration() !== Infinity) {\n\t\t\t\t\t\t\tseekTime -= seekBackward;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tif (t.getDuration() !== Infinity) {\n\t\t\t\t\t\t\tseekTime += seekForward;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 36:\n\t\t\t\t\t\tseekTime = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 35:\n\t\t\t\t\t\tseekTime = duration;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 13:\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\tif (_constants.IS_FIREFOX) {\n\t\t\t\t\t\t\tif (t.paused) {\n\t\t\t\t\t\t\t\tt.play();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tt.pause();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tseekTime = seekTime < 0 || isNaN(seekTime) ? 0 : seekTime >= duration ? duration : Math.floor(seekTime);\n\t\t\t\tlastKeyPressTime = new Date();\n\t\t\t\tif (!startedPaused) {\n\t\t\t\t\tplayer.pause();\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tt.setCurrentTime(seekTime);\n\t\t\t\t}, 0);\n\n\t\t\t\tif (seekTime < t.getDuration() && !startedPaused) {\n\t\t\t\t\tsetTimeout(restartPlayer, 1100);\n\t\t\t\t}\n\n\t\t\t\tplayer.showControls();\n\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t});\n\n\t\tvar events = ['mousedown', 'touchstart'];\n\n\t\tt.slider.addEventListener('dragstart', function () {\n\t\t\treturn false;\n\t\t});\n\n\t\tfor (var i = 0, total = events.length; i < total; i++) {\n\t\t\tt.slider.addEventListener(events[i], function (e) {\n\t\t\t\tt.forcedHandlePause = false;\n\t\t\t\tif (t.getDuration() !== Infinity) {\n\t\t\t\t\tif (e.which === 1 || e.which === 0) {\n\t\t\t\t\t\tif (!t.paused) {\n\t\t\t\t\t\t\tt.pause();\n\t\t\t\t\t\t\tt.forcedHandlePause = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmouseIsDown = true;\n\t\t\t\t\t\thandleMouseMove(e);\n\t\t\t\t\t\tvar endEvents = ['mouseup', 'touchend'];\n\n\t\t\t\t\t\tfor (var j = 0, totalEvents = endEvents.length; j < totalEvents; j++) {\n\t\t\t\t\t\t\tt.getElement(t.container).addEventListener(endEvents[j], function (event) {\n\t\t\t\t\t\t\t\tvar target = event.target;\n\t\t\t\t\t\t\t\tif (target === t.slider || target.closest('.' + t.options.classPrefix + 'time-slider')) {\n\t\t\t\t\t\t\t\t\thandleMouseMove(event);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tt.globalBind('mouseup.dur touchend.dur', function () {\n\t\t\t\t\t\t\thandleMouseup();\n\t\t\t\t\t\t\tmouseIsDown = false;\n\t\t\t\t\t\t\tif (t.timefloat) {\n\t\t\t\t\t\t\t\tt.timefloat.style.display = 'none';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, _constants.SUPPORT_PASSIVE_EVENT && events[i] === 'touchstart' ? { passive: true } : false);\n\t\t}\n\t\tt.slider.addEventListener('mouseenter', function (e) {\n\t\t\tif (e.target === t.slider && t.getDuration() !== Infinity) {\n\t\t\t\tt.getElement(t.container).addEventListener('mousemove', function (event) {\n\t\t\t\t\tvar target = event.target;\n\t\t\t\t\tif (target === t.slider || target.closest('.' + t.options.classPrefix + 'time-slider')) {\n\t\t\t\t\t\thandleMouseMove(event);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (t.timefloat && !_constants.IS_IOS && !_constants.IS_ANDROID) {\n\t\t\t\t\tt.timefloat.style.display = 'block';\n\t\t\t\t}\n\t\t\t\tif (t.hovered && !_constants.IS_IOS && !_constants.IS_ANDROID && t.options.useSmoothHover) {\n\t\t\t\t\t(0, _dom.removeClass)(t.hovered, 'no-hover');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tt.slider.addEventListener('mouseleave', function () {\n\t\t\tif (t.getDuration() !== Infinity) {\n\t\t\t\tif (!mouseIsDown) {\n\t\t\t\t\tif (t.timefloat) {\n\t\t\t\t\t\tt.timefloat.style.display = 'none';\n\t\t\t\t\t}\n\t\t\t\t\tif (t.hovered && t.options.useSmoothHover) {\n\t\t\t\t\t\t(0, _dom.addClass)(t.hovered, 'no-hover');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tt.broadcastCallback = function (e) {\n\t\t\tvar broadcast = controls.querySelector('.' + t.options.classPrefix + 'broadcast');\n\t\t\tif (!t.options.forceLive && t.getDuration() !== Infinity) {\n\t\t\t\tif (broadcast) {\n\t\t\t\t\tt.slider.style.display = '';\n\t\t\t\t\tbroadcast.remove();\n\t\t\t\t}\n\n\t\t\t\tplayer.setProgressRail(e);\n\t\t\t\tif (!t.forcedHandlePause) {\n\t\t\t\t\tplayer.setCurrentRail(e);\n\t\t\t\t}\n\t\t\t\tupdateSlider();\n\t\t\t} else if (!broadcast && t.options.forceLive) {\n\t\t\t\tvar label = _document2.default.createElement('span');\n\t\t\t\tlabel.className = t.options.classPrefix + 'broadcast';\n\t\t\t\tlabel.innerText = _i18n2.default.t('mejs.live-broadcast');\n\t\t\t\tt.slider.style.display = 'none';\n\t\t\t\tt.rail.appendChild(label);\n\t\t\t}\n\t\t};\n\n\t\tmedia.addEventListener('progress', t.broadcastCallback);\n\t\tmedia.addEventListener('timeupdate', t.broadcastCallback);\n\t\tmedia.addEventListener('play', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\t\tmedia.addEventListener('playing', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\t\tmedia.addEventListener('seeking', function () {\n\t\t\tt.buffer.style.display = '';\n\t\t});\n\t\tmedia.addEventListener('seeked', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\t\tmedia.addEventListener('pause', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\t\tmedia.addEventListener('waiting', function () {\n\t\t\tt.buffer.style.display = '';\n\t\t});\n\t\tmedia.addEventListener('loadeddata', function () {\n\t\t\tt.buffer.style.display = '';\n\t\t});\n\t\tmedia.addEventListener('canplay', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\t\tmedia.addEventListener('error', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\n\t\tt.getElement(t.container).addEventListener('controlsresize', function (e) {\n\t\t\tif (t.getDuration() !== Infinity) {\n\t\t\t\tplayer.setProgressRail(e);\n\t\t\t\tif (!t.forcedHandlePause) {\n\t\t\t\t\tplayer.setCurrentRail(e);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\tcleanprogress: function cleanprogress(player, controls, layers, media) {\n\t\tmedia.removeEventListener('progress', player.broadcastCallback);\n\t\tmedia.removeEventListener('timeupdate', player.broadcastCallback);\n\t\tif (player.rail) {\n\t\t\tplayer.rail.remove();\n\t\t}\n\t},\n\tsetProgressRail: function setProgressRail(e) {\n\t\tvar t = this,\n\t\t    target = e !== undefined ? e.detail.target || e.target : t.media;\n\n\t\tvar percent = null;\n\n\t\tif (target && target.buffered && target.buffered.length > 0 && target.buffered.end && t.getDuration()) {\n\t\t\tpercent = target.buffered.end(target.buffered.length - 1) / t.getDuration();\n\t\t} else if (target && target.bytesTotal !== undefined && target.bytesTotal > 0 && target.bufferedBytes !== undefined) {\n\t\t\t\tpercent = target.bufferedBytes / target.bytesTotal;\n\t\t\t} else if (e && e.lengthComputable && e.total !== 0) {\n\t\t\t\t\tpercent = e.loaded / e.total;\n\t\t\t\t}\n\n\t\tif (percent !== null) {\n\t\t\tpercent = Math.min(1, Math.max(0, percent));\n\n\t\t\tif (t.loaded) {\n\t\t\t\tt.setTransformStyle(t.loaded, 'scaleX(' + percent + ')');\n\t\t\t}\n\t\t}\n\t},\n\tsetCurrentRailHandle: function setCurrentRailHandle(fakeTime) {\n\t\tvar t = this;\n\t\tt.setCurrentRailMain(t, fakeTime);\n\t},\n\tsetCurrentRail: function setCurrentRail() {\n\t\tvar t = this;\n\t\tt.setCurrentRailMain(t);\n\t},\n\tsetCurrentRailMain: function setCurrentRailMain(t, fakeTime) {\n\t\tif (t.getCurrentTime() !== undefined && t.getDuration()) {\n\t\t\tvar nTime = typeof fakeTime === 'undefined' ? t.getCurrentTime() : fakeTime;\n\n\t\t\tif (t.total && t.handle) {\n\t\t\t\tvar tW = parseFloat(getComputedStyle(t.total).width);\n\n\t\t\t\tvar newWidth = Math.round(tW * nTime / t.getDuration()),\n\t\t\t\t    handlePos = newWidth - Math.round(t.handle.offsetWidth / 2);\n\n\t\t\t\thandlePos = handlePos < 0 ? 0 : handlePos;\n\t\t\t\tt.setTransformStyle(t.current, 'scaleX(' + newWidth / tW + ')');\n\t\t\t\tt.setTransformStyle(t.handle, 'translateX(' + handlePos + 'px)');\n\n\t\t\t\tif (t.options.useSmoothHover && !(0, _dom.hasClass)(t.hovered, 'no-hover')) {\n\t\t\t\t\tvar pos = parseInt(t.hovered.getAttribute('pos'), 10);\n\t\t\t\t\tpos = isNaN(pos) ? 0 : pos;\n\n\t\t\t\t\tvar hoverScaleX = pos / tW - handlePos / tW;\n\n\t\t\t\t\tt.hovered.style.left = handlePos + 'px';\n\t\t\t\t\tt.setTransformStyle(t.hovered, 'scaleX(' + hoverScaleX + ')');\n\n\t\t\t\t\tif (hoverScaleX >= 0) {\n\t\t\t\t\t\t(0, _dom.removeClass)(t.hovered, 'negative');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t(0, _dom.addClass)(t.hovered, 'negative');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\n},{\"16\":16,\"2\":2,\"25\":25,\"26\":26,\"30\":30,\"5\":5}],12:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _time = _dereq_(30);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tduration: 0,\n\n\ttimeAndDurationSeparator: '<span> | </span>'\n});\n\nObject.assign(_player2.default.prototype, {\n\tbuildcurrent: function buildcurrent(player, controls, layers, media) {\n\t\tvar t = this,\n\t\t    time = _document2.default.createElement('div');\n\n\t\ttime.className = t.options.classPrefix + 'time';\n\t\ttime.setAttribute('role', 'timer');\n\t\ttime.setAttribute('aria-live', 'off');\n\t\ttime.innerHTML = '<span class=\"' + t.options.classPrefix + 'currenttime\">' + (0, _time.secondsToTimeCode)(0, player.options.alwaysShowHours, player.options.showTimecodeFrameCount, player.options.framesPerSecond, player.options.secondsDecimalLength, player.options.timeFormat) + '</span>';\n\n\t\tt.addControlElement(time, 'current');\n\t\tplayer.updateCurrent();\n\t\tt.updateTimeCallback = function () {\n\t\t\tif (t.controlsAreVisible) {\n\t\t\t\tplayer.updateCurrent();\n\t\t\t}\n\t\t};\n\t\tmedia.addEventListener('timeupdate', t.updateTimeCallback);\n\t},\n\tcleancurrent: function cleancurrent(player, controls, layers, media) {\n\t\tmedia.removeEventListener('timeupdate', player.updateTimeCallback);\n\t},\n\tbuildduration: function buildduration(player, controls, layers, media) {\n\t\tvar t = this,\n\t\t    currTime = controls.lastChild.querySelector('.' + t.options.classPrefix + 'currenttime');\n\n\t\tif (currTime) {\n\t\t\tcontrols.querySelector('.' + t.options.classPrefix + 'time').innerHTML += t.options.timeAndDurationSeparator + '<span class=\"' + t.options.classPrefix + 'duration\">' + ((0, _time.secondsToTimeCode)(t.options.duration, t.options.alwaysShowHours, t.options.showTimecodeFrameCount, t.options.framesPerSecond, t.options.secondsDecimalLength, t.options.timeFormat) + '</span>');\n\t\t} else {\n\t\t\tif (controls.querySelector('.' + t.options.classPrefix + 'currenttime')) {\n\t\t\t\t(0, _dom.addClass)(controls.querySelector('.' + t.options.classPrefix + 'currenttime').parentNode, t.options.classPrefix + 'currenttime-container');\n\t\t\t}\n\n\t\t\tvar duration = _document2.default.createElement('div');\n\t\t\tduration.className = t.options.classPrefix + 'time ' + t.options.classPrefix + 'duration-container';\n\t\t\tduration.innerHTML = '<span class=\"' + t.options.classPrefix + 'duration\">' + ((0, _time.secondsToTimeCode)(t.options.duration, t.options.alwaysShowHours, t.options.showTimecodeFrameCount, t.options.framesPerSecond, t.options.secondsDecimalLength, t.options.timeFormat) + '</span>');\n\n\t\t\tt.addControlElement(duration, 'duration');\n\t\t}\n\n\t\tt.updateDurationCallback = function () {\n\t\t\tif (t.controlsAreVisible) {\n\t\t\t\tplayer.updateDuration();\n\t\t\t}\n\t\t};\n\n\t\tmedia.addEventListener('timeupdate', t.updateDurationCallback);\n\t},\n\tcleanduration: function cleanduration(player, controls, layers, media) {\n\t\tmedia.removeEventListener('timeupdate', player.updateDurationCallback);\n\t},\n\tupdateCurrent: function updateCurrent() {\n\t\tvar t = this;\n\n\t\tvar currentTime = t.getCurrentTime();\n\n\t\tif (isNaN(currentTime)) {\n\t\t\tcurrentTime = 0;\n\t\t}\n\n\t\tvar timecode = (0, _time.secondsToTimeCode)(currentTime, t.options.alwaysShowHours, t.options.showTimecodeFrameCount, t.options.framesPerSecond, t.options.secondsDecimalLength, t.options.timeFormat);\n\n\t\tif (timecode.length > 5) {\n\t\t\t(0, _dom.addClass)(t.getElement(t.container), t.options.classPrefix + 'long-video');\n\t\t} else {\n\t\t\t(0, _dom.removeClass)(t.getElement(t.container), t.options.classPrefix + 'long-video');\n\t\t}\n\n\t\tif (t.getElement(t.controls).querySelector('.' + t.options.classPrefix + 'currenttime')) {\n\t\t\tt.getElement(t.controls).querySelector('.' + t.options.classPrefix + 'currenttime').innerText = timecode;\n\t\t}\n\t},\n\tupdateDuration: function updateDuration() {\n\t\tvar t = this;\n\n\t\tvar duration = t.getDuration();\n\n\t\tif (t.media !== undefined && (isNaN(duration) || duration === Infinity || duration < 0)) {\n\t\t\tt.media.duration = t.options.duration = duration = 0;\n\t\t}\n\n\t\tif (t.options.duration > 0) {\n\t\t\tduration = t.options.duration;\n\t\t}\n\n\t\tvar timecode = (0, _time.secondsToTimeCode)(duration, t.options.alwaysShowHours, t.options.showTimecodeFrameCount, t.options.framesPerSecond, t.options.secondsDecimalLength, t.options.timeFormat);\n\n\t\tif (timecode.length > 5) {\n\t\t\t(0, _dom.addClass)(t.getElement(t.container), t.options.classPrefix + 'long-video');\n\t\t} else {\n\t\t\t(0, _dom.removeClass)(t.getElement(t.container), t.options.classPrefix + 'long-video');\n\t\t}\n\n\t\tif (t.getElement(t.controls).querySelector('.' + t.options.classPrefix + 'duration') && duration > 0) {\n\t\t\tt.getElement(t.controls).querySelector('.' + t.options.classPrefix + 'duration').innerHTML = timecode;\n\t\t}\n\t}\n});\n\n},{\"16\":16,\"2\":2,\"26\":26,\"30\":30}],13:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _time = _dereq_(30);\n\nvar _general = _dereq_(27);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tstartLanguage: '',\n\n\ttracksText: null,\n\n\tchaptersText: null,\n\n\ttracksAriaLive: false,\n\n\thideCaptionsButtonWhenEmpty: true,\n\n\ttoggleCaptionsButtonWhenOnlyOne: false,\n\n\tslidesSelector: ''\n});\n\nObject.assign(_player2.default.prototype, {\n\thasChapters: false,\n\n\tbuildtracks: function buildtracks(player, controls, layers, media) {\n\n\t\tthis.findTracks();\n\n\t\tif (!player.tracks.length && (!player.trackFiles || !player.trackFiles.length === 0)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar t = this,\n\t\t    attr = t.options.tracksAriaLive ? ' role=\"log\" aria-live=\"assertive\" aria-atomic=\"false\"' : '',\n\t\t    tracksTitle = (0, _general.isString)(t.options.tracksText) ? t.options.tracksText : _i18n2.default.t('mejs.captions-subtitles'),\n\t\t    chaptersTitle = (0, _general.isString)(t.options.chaptersText) ? t.options.chaptersText : _i18n2.default.t('mejs.captions-chapters'),\n\t\t    total = player.trackFiles === null ? player.tracks.length : player.trackFiles.length;\n\n\t\tif (t.domNode.textTracks) {\n\t\t\tfor (var i = t.domNode.textTracks.length - 1; i >= 0; i--) {\n\t\t\t\tt.domNode.textTracks[i].mode = 'hidden';\n\t\t\t}\n\t\t}\n\n\t\tt.cleartracks(player);\n\n\t\tplayer.captions = _document2.default.createElement('div');\n\t\tplayer.captions.className = t.options.classPrefix + 'captions-layer ' + t.options.classPrefix + 'layer';\n\t\tplayer.captions.innerHTML = '<div class=\"' + t.options.classPrefix + 'captions-position ' + t.options.classPrefix + 'captions-position-hover\"' + attr + '>' + ('<span class=\"' + t.options.classPrefix + 'captions-text\"></span>') + '</div>';\n\t\tplayer.captions.style.display = 'none';\n\t\tlayers.insertBefore(player.captions, layers.firstChild);\n\n\t\tplayer.captionsText = player.captions.querySelector('.' + t.options.classPrefix + 'captions-text');\n\n\t\tplayer.captionsButton = _document2.default.createElement('div');\n\t\tplayer.captionsButton.className = t.options.classPrefix + 'button ' + t.options.classPrefix + 'captions-button';\n\t\tplayer.captionsButton.innerHTML = '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + tracksTitle + '\" aria-label=\"' + tracksTitle + '\" tabindex=\"0\"></button>' + ('<div class=\"' + t.options.classPrefix + 'captions-selector ' + t.options.classPrefix + 'offscreen\">') + ('<ul class=\"' + t.options.classPrefix + 'captions-selector-list\">') + ('<li class=\"' + t.options.classPrefix + 'captions-selector-list-item\">') + ('<input type=\"radio\" class=\"' + t.options.classPrefix + 'captions-selector-input\" ') + ('name=\"' + player.id + '_captions\" id=\"' + player.id + '_captions_none\" ') + 'value=\"none\" checked disabled>' + ('<label class=\"' + t.options.classPrefix + 'captions-selector-label ') + (t.options.classPrefix + 'captions-selected\" ') + ('for=\"' + player.id + '_captions_none\">' + _i18n2.default.t('mejs.none') + '</label>') + '</li>' + '</ul>' + '</div>';\n\n\t\tt.addControlElement(player.captionsButton, 'tracks');\n\n\t\tplayer.captionsButton.querySelector('.' + t.options.classPrefix + 'captions-selector-input').disabled = false;\n\n\t\tplayer.chaptersButton = _document2.default.createElement('div');\n\t\tplayer.chaptersButton.className = t.options.classPrefix + 'button ' + t.options.classPrefix + 'chapters-button';\n\t\tplayer.chaptersButton.innerHTML = '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + chaptersTitle + '\" aria-label=\"' + chaptersTitle + '\" tabindex=\"0\"></button>' + ('<div class=\"' + t.options.classPrefix + 'chapters-selector ' + t.options.classPrefix + 'offscreen\">') + ('<ul class=\"' + t.options.classPrefix + 'chapters-selector-list\"></ul>') + '</div>';\n\n\t\tvar subtitleCount = 0;\n\n\t\tfor (var _i = 0; _i < total; _i++) {\n\t\t\tvar kind = player.tracks[_i].kind,\n\t\t\t    src = player.tracks[_i].src;\n\t\t\tif (src.trim()) {\n\t\t\t\tif (kind === 'subtitles' || kind === 'captions') {\n\t\t\t\t\tsubtitleCount++;\n\t\t\t\t} else if (kind === 'chapters' && !controls.querySelector('.' + t.options.classPrefix + 'chapter-selector')) {\n\t\t\t\t\tplayer.captionsButton.parentNode.insertBefore(player.chaptersButton, player.captionsButton);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tplayer.trackToLoad = -1;\n\t\tplayer.selectedTrack = null;\n\t\tplayer.isLoadingTrack = false;\n\n\t\tfor (var _i2 = 0; _i2 < total; _i2++) {\n\t\t\tvar _kind = player.tracks[_i2].kind;\n\t\t\tif (player.tracks[_i2].src.trim() && (_kind === 'subtitles' || _kind === 'captions')) {\n\t\t\t\tplayer.addTrackButton(player.tracks[_i2].trackId, player.tracks[_i2].srclang, player.tracks[_i2].label);\n\t\t\t}\n\t\t}\n\n\t\tplayer.loadNextTrack();\n\n\t\tvar inEvents = ['mouseenter', 'focusin'],\n\t\t    outEvents = ['mouseleave', 'focusout'];\n\n\t\tif (t.options.toggleCaptionsButtonWhenOnlyOne && subtitleCount === 1) {\n\t\t\tplayer.captionsButton.addEventListener('click', function (e) {\n\t\t\t\tvar trackId = 'none';\n\t\t\t\tif (player.selectedTrack === null) {\n\t\t\t\t\ttrackId = player.tracks[0].trackId;\n\t\t\t\t}\n\t\t\t\tvar keyboard = e.keyCode || e.which;\n\t\t\t\tplayer.setTrack(trackId, typeof keyboard !== 'undefined');\n\t\t\t});\n\t\t} else {\n\t\t\tvar labels = player.captionsButton.querySelectorAll('.' + t.options.classPrefix + 'captions-selector-label'),\n\t\t\t    captions = player.captionsButton.querySelectorAll('input[type=radio]');\n\n\t\t\tfor (var _i3 = 0, _total = inEvents.length; _i3 < _total; _i3++) {\n\t\t\t\tplayer.captionsButton.addEventListener(inEvents[_i3], function () {\n\t\t\t\t\t(0, _dom.removeClass)(this.querySelector('.' + t.options.classPrefix + 'captions-selector'), t.options.classPrefix + 'offscreen');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (var _i4 = 0, _total2 = outEvents.length; _i4 < _total2; _i4++) {\n\t\t\t\tplayer.captionsButton.addEventListener(outEvents[_i4], function () {\n\t\t\t\t\t(0, _dom.addClass)(this.querySelector('.' + t.options.classPrefix + 'captions-selector'), t.options.classPrefix + 'offscreen');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (var _i5 = 0, _total3 = captions.length; _i5 < _total3; _i5++) {\n\t\t\t\tcaptions[_i5].addEventListener('click', function (e) {\n\t\t\t\t\tvar keyboard = e.keyCode || e.which;\n\t\t\t\t\tplayer.setTrack(this.value, typeof keyboard !== 'undefined');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (var _i6 = 0, _total4 = labels.length; _i6 < _total4; _i6++) {\n\t\t\t\tlabels[_i6].addEventListener('click', function (e) {\n\t\t\t\t\tvar radio = (0, _dom.siblings)(this, function (el) {\n\t\t\t\t\t\treturn el.tagName === 'INPUT';\n\t\t\t\t\t})[0],\n\t\t\t\t\t    event = (0, _general.createEvent)('click', radio);\n\t\t\t\t\tradio.dispatchEvent(event);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tplayer.captionsButton.addEventListener('keydown', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t}\n\n\t\tfor (var _i7 = 0, _total5 = inEvents.length; _i7 < _total5; _i7++) {\n\t\t\tplayer.chaptersButton.addEventListener(inEvents[_i7], function () {\n\t\t\t\tif (this.querySelector('.' + t.options.classPrefix + 'chapters-selector-list').children.length) {\n\t\t\t\t\t(0, _dom.removeClass)(this.querySelector('.' + t.options.classPrefix + 'chapters-selector'), t.options.classPrefix + 'offscreen');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfor (var _i8 = 0, _total6 = outEvents.length; _i8 < _total6; _i8++) {\n\t\t\tplayer.chaptersButton.addEventListener(outEvents[_i8], function () {\n\t\t\t\t(0, _dom.addClass)(this.querySelector('.' + t.options.classPrefix + 'chapters-selector'), t.options.classPrefix + 'offscreen');\n\t\t\t});\n\t\t}\n\n\t\tplayer.chaptersButton.addEventListener('keydown', function (e) {\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif (!player.options.alwaysShowControls) {\n\t\t\tplayer.getElement(player.container).addEventListener('controlsshown', function () {\n\t\t\t\t(0, _dom.addClass)(player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'captions-position'), t.options.classPrefix + 'captions-position-hover');\n\t\t\t});\n\n\t\t\tplayer.getElement(player.container).addEventListener('controlshidden', function () {\n\t\t\t\tif (!media.paused) {\n\t\t\t\t\t(0, _dom.removeClass)(player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'captions-position'), t.options.classPrefix + 'captions-position-hover');\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\t(0, _dom.addClass)(player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'captions-position'), t.options.classPrefix + 'captions-position-hover');\n\t\t}\n\n\t\tmedia.addEventListener('timeupdate', function () {\n\t\t\tplayer.displayCaptions();\n\t\t});\n\n\t\tif (player.options.slidesSelector !== '') {\n\t\t\tplayer.slidesContainer = _document2.default.querySelectorAll(player.options.slidesSelector);\n\n\t\t\tmedia.addEventListener('timeupdate', function () {\n\t\t\t\tplayer.displaySlides();\n\t\t\t});\n\t\t}\n\t},\n\tcleartracks: function cleartracks(player) {\n\t\tif (player) {\n\t\t\tif (player.captions) {\n\t\t\t\tplayer.captions.remove();\n\t\t\t}\n\t\t\tif (player.chapters) {\n\t\t\t\tplayer.chapters.remove();\n\t\t\t}\n\t\t\tif (player.captionsText) {\n\t\t\t\tplayer.captionsText.remove();\n\t\t\t}\n\t\t\tif (player.captionsButton) {\n\t\t\t\tplayer.captionsButton.remove();\n\t\t\t}\n\t\t\tif (player.chaptersButton) {\n\t\t\t\tplayer.chaptersButton.remove();\n\t\t\t}\n\t\t}\n\t},\n\trebuildtracks: function rebuildtracks() {\n\t\tvar t = this;\n\t\tt.findTracks();\n\t\tt.buildtracks(t, t.getElement(t.controls), t.getElement(t.layers), t.media);\n\t},\n\tfindTracks: function findTracks() {\n\t\tvar t = this,\n\t\t    tracktags = t.trackFiles === null ? t.node.querySelectorAll('track') : t.trackFiles,\n\t\t    total = tracktags.length;\n\n\t\tt.tracks = [];\n\t\tfor (var i = 0; i < total; i++) {\n\t\t\tvar track = tracktags[i],\n\t\t\t    srclang = track.getAttribute('srclang').toLowerCase() || '',\n\t\t\t    trackId = t.id + '_track_' + i + '_' + track.getAttribute('kind') + '_' + srclang;\n\t\t\tt.tracks.push({\n\t\t\t\ttrackId: trackId,\n\t\t\t\tsrclang: srclang,\n\t\t\t\tsrc: track.getAttribute('src'),\n\t\t\t\tkind: track.getAttribute('kind'),\n\t\t\t\tlabel: track.getAttribute('label') || '',\n\t\t\t\tentries: [],\n\t\t\t\tisLoaded: false\n\t\t\t});\n\t\t}\n\t},\n\tsetTrack: function setTrack(trackId, setByKeyboard) {\n\n\t\tvar t = this,\n\t\t    radios = t.captionsButton.querySelectorAll('input[type=\"radio\"]'),\n\t\t    captions = t.captionsButton.querySelectorAll('.' + t.options.classPrefix + 'captions-selected'),\n\t\t    track = t.captionsButton.querySelector('input[value=\"' + trackId + '\"]');\n\n\t\tfor (var i = 0, total = radios.length; i < total; i++) {\n\t\t\tradios[i].checked = false;\n\t\t}\n\n\t\tfor (var _i9 = 0, _total7 = captions.length; _i9 < _total7; _i9++) {\n\t\t\t(0, _dom.removeClass)(captions[_i9], t.options.classPrefix + 'captions-selected');\n\t\t}\n\n\t\ttrack.checked = true;\n\t\tvar labels = (0, _dom.siblings)(track, function (el) {\n\t\t\treturn (0, _dom.hasClass)(el, t.options.classPrefix + 'captions-selector-label');\n\t\t});\n\t\tfor (var _i10 = 0, _total8 = labels.length; _i10 < _total8; _i10++) {\n\t\t\t(0, _dom.addClass)(labels[_i10], t.options.classPrefix + 'captions-selected');\n\t\t}\n\n\t\tif (trackId === 'none') {\n\t\t\tt.selectedTrack = null;\n\t\t\t(0, _dom.removeClass)(t.captionsButton, t.options.classPrefix + 'captions-enabled');\n\t\t} else {\n\t\t\tfor (var _i11 = 0, _total9 = t.tracks.length; _i11 < _total9; _i11++) {\n\t\t\t\tvar _track = t.tracks[_i11];\n\t\t\t\tif (_track.trackId === trackId) {\n\t\t\t\t\tif (t.selectedTrack === null) {\n\t\t\t\t\t\t(0, _dom.addClass)(t.captionsButton, t.options.classPrefix + 'captions-enabled');\n\t\t\t\t\t}\n\t\t\t\t\tt.selectedTrack = _track;\n\t\t\t\t\tt.captions.setAttribute('lang', t.selectedTrack.srclang);\n\t\t\t\t\tt.displayCaptions();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar event = (0, _general.createEvent)('captionschange', t.media);\n\t\tevent.detail.caption = t.selectedTrack;\n\t\tt.media.dispatchEvent(event);\n\n\t\tif (!setByKeyboard) {\n\t\t\tsetTimeout(function () {\n\t\t\t\tt.getElement(t.container).focus();\n\t\t\t}, 500);\n\t\t}\n\t},\n\tloadNextTrack: function loadNextTrack() {\n\t\tvar t = this;\n\n\t\tt.trackToLoad++;\n\t\tif (t.trackToLoad < t.tracks.length) {\n\t\t\tt.isLoadingTrack = true;\n\t\t\tt.loadTrack(t.trackToLoad);\n\t\t} else {\n\t\t\tt.isLoadingTrack = false;\n\t\t\tt.checkForTracks();\n\t\t}\n\t},\n\tloadTrack: function loadTrack(index) {\n\t\tvar t = this,\n\t\t    track = t.tracks[index];\n\n\t\tif (track !== undefined && (track.src !== undefined || track.src !== \"\")) {\n\t\t\t(0, _dom.ajax)(track.src, 'text', function (d) {\n\t\t\t\ttrack.entries = typeof d === 'string' && /<tt\\s+xml/ig.exec(d) ? _mejs2.default.TrackFormatParser.dfxp.parse(d) : _mejs2.default.TrackFormatParser.webvtt.parse(d);\n\n\t\t\t\ttrack.isLoaded = true;\n\t\t\t\tt.enableTrackButton(track);\n\t\t\t\tt.loadNextTrack();\n\n\t\t\t\tif (track.kind === 'slides') {\n\t\t\t\t\tt.setupSlides(track);\n\t\t\t\t} else if (track.kind === 'chapters' && !t.hasChapters) {\n\t\t\t\t\t\tt.drawChapters(track);\n\t\t\t\t\t\tt.hasChapters = true;\n\t\t\t\t\t}\n\t\t\t}, function () {\n\t\t\t\tt.removeTrackButton(track.trackId);\n\t\t\t\tt.loadNextTrack();\n\t\t\t});\n\t\t}\n\t},\n\tenableTrackButton: function enableTrackButton(track) {\n\t\tvar t = this,\n\t\t    lang = track.srclang,\n\t\t    target = _document2.default.getElementById('' + track.trackId);\n\n\t\tif (!target) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar label = track.label;\n\n\t\tif (label === '') {\n\t\t\tlabel = _i18n2.default.t(_mejs2.default.language.codes[lang]) || lang;\n\t\t}\n\t\ttarget.disabled = false;\n\t\tvar targetSiblings = (0, _dom.siblings)(target, function (el) {\n\t\t\treturn (0, _dom.hasClass)(el, t.options.classPrefix + 'captions-selector-label');\n\t\t});\n\t\tfor (var i = 0, total = targetSiblings.length; i < total; i++) {\n\t\t\ttargetSiblings[i].innerHTML = label;\n\t\t}\n\n\t\tif (t.options.startLanguage === lang) {\n\t\t\ttarget.checked = true;\n\t\t\tvar event = (0, _general.createEvent)('click', target);\n\t\t\ttarget.dispatchEvent(event);\n\t\t}\n\t},\n\tremoveTrackButton: function removeTrackButton(trackId) {\n\t\tvar element = _document2.default.getElementById('' + trackId);\n\t\tif (element) {\n\t\t\tvar button = element.closest('li');\n\t\t\tif (button) {\n\t\t\t\tbutton.remove();\n\t\t\t}\n\t\t}\n\t},\n\taddTrackButton: function addTrackButton(trackId, lang, label) {\n\t\tvar t = this;\n\t\tif (label === '') {\n\t\t\tlabel = _i18n2.default.t(_mejs2.default.language.codes[lang]) || lang;\n\t\t}\n\n\t\tt.captionsButton.querySelector('ul').innerHTML += '<li class=\"' + t.options.classPrefix + 'captions-selector-list-item\">' + ('<input type=\"radio\" class=\"' + t.options.classPrefix + 'captions-selector-input\" ') + ('name=\"' + t.id + '_captions\" id=\"' + trackId + '\" value=\"' + trackId + '\" disabled>') + ('<label class=\"' + t.options.classPrefix + 'captions-selector-label\"') + ('for=\"' + trackId + '\">' + label + ' (loading)</label>') + '</li>';\n\t},\n\tcheckForTracks: function checkForTracks() {\n\t\tvar t = this;\n\n\t\tvar hasSubtitles = false;\n\n\t\tif (t.options.hideCaptionsButtonWhenEmpty) {\n\t\t\tfor (var i = 0, total = t.tracks.length; i < total; i++) {\n\t\t\t\tvar kind = t.tracks[i].kind;\n\t\t\t\tif ((kind === 'subtitles' || kind === 'captions') && t.tracks[i].isLoaded) {\n\t\t\t\t\thasSubtitles = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tt.captionsButton.style.display = hasSubtitles ? '' : 'none';\n\t\t\tt.setControlsSize();\n\t\t}\n\t},\n\tdisplayCaptions: function displayCaptions() {\n\t\tif (this.tracks === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar t = this,\n\t\t    track = t.selectedTrack,\n\t\t    sanitize = function sanitize(html) {\n\t\t\tvar div = _document2.default.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\n\t\t\tvar scripts = div.getElementsByTagName('script');\n\t\t\tvar i = scripts.length;\n\t\t\twhile (i--) {\n\t\t\t\tscripts[i].remove();\n\t\t\t}\n\n\t\t\tvar allElements = div.getElementsByTagName('*');\n\t\t\tfor (var _i12 = 0, n = allElements.length; _i12 < n; _i12++) {\n\t\t\t\tvar attributesObj = allElements[_i12].attributes,\n\t\t\t\t    attributes = Array.prototype.slice.call(attributesObj);\n\n\t\t\t\tfor (var j = 0, total = attributes.length; j < total; j++) {\n\t\t\t\t\tif (attributes[j].name.startsWith('on') || attributes[j].value.startsWith('javascript')) {\n\t\t\t\t\t\tallElements[_i12].remove();\n\t\t\t\t\t} else if (attributes[j].name === 'style') {\n\t\t\t\t\t\tallElements[_i12].removeAttribute(attributes[j].name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn div.innerHTML;\n\t\t};\n\n\t\tif (track !== null && track.isLoaded) {\n\t\t\tvar i = t.searchTrackPosition(track.entries, t.media.currentTime);\n\t\t\tif (i > -1) {\n\t\t\t\tvar text = track.entries[i].text;\n\t\t\t\tif (typeof t.options.captionTextPreprocessor === 'function') text = t.options.captionTextPreprocessor(text);\n\t\t\t\tt.captionsText.innerHTML = sanitize(text);\n\t\t\t\tt.captionsText.className = t.options.classPrefix + 'captions-text ' + (track.entries[i].identifier || '');\n\t\t\t\tt.captions.style.display = '';\n\t\t\t\tt.captions.style.height = '0px';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tt.captions.style.display = 'none';\n\t\t} else {\n\t\t\tt.captions.style.display = 'none';\n\t\t}\n\t},\n\tsetupSlides: function setupSlides(track) {\n\t\tvar t = this;\n\t\tt.slides = track;\n\t\tt.slides.entries.imgs = [t.slides.entries.length];\n\t\tt.showSlide(0);\n\t},\n\tshowSlide: function showSlide(index) {\n\t\tvar _this = this;\n\n\t\tvar t = this;\n\n\t\tif (t.tracks === undefined || t.slidesContainer === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar url = t.slides.entries[index].text;\n\n\t\tvar img = t.slides.entries[index].imgs;\n\n\t\tif (img === undefined || img.fadeIn === undefined) {\n\t\t\tvar image = _document2.default.createElement('img');\n\t\t\timage.src = url;\n\t\t\timage.addEventListener('load', function () {\n\t\t\t\tvar self = _this,\n\t\t\t\t    visible = (0, _dom.siblings)(self, function (el) {\n\t\t\t\t\treturn visible(el);\n\t\t\t\t});\n\t\t\t\tself.style.display = 'none';\n\t\t\t\tt.slidesContainer.innerHTML += self.innerHTML;\n\t\t\t\t(0, _dom.fadeIn)(t.slidesContainer.querySelector(image));\n\t\t\t\tfor (var i = 0, total = visible.length; i < total; i++) {\n\t\t\t\t\t(0, _dom.fadeOut)(visible[i], 400);\n\t\t\t\t}\n\t\t\t});\n\t\t\tt.slides.entries[index].imgs = img = image;\n\t\t} else if (!(0, _dom.visible)(img)) {\n\t\t\tvar _visible = (0, _dom.siblings)(self, function (el) {\n\t\t\t\treturn _visible(el);\n\t\t\t});\n\t\t\t(0, _dom.fadeIn)(t.slidesContainer.querySelector(img));\n\t\t\tfor (var i = 0, total = _visible.length; i < total; i++) {\n\t\t\t\t(0, _dom.fadeOut)(_visible[i]);\n\t\t\t}\n\t\t}\n\t},\n\tdisplaySlides: function displaySlides() {\n\t\tvar t = this;\n\n\t\tif (this.slides === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar slides = t.slides,\n\t\t    i = t.searchTrackPosition(slides.entries, t.media.currentTime);\n\n\t\tif (i > -1) {\n\t\t\tt.showSlide(i);\n\t\t}\n\t},\n\tdrawChapters: function drawChapters(chapters) {\n\t\tvar t = this,\n\t\t    total = chapters.entries.length;\n\n\t\tif (!total) {\n\t\t\treturn;\n\t\t}\n\n\t\tt.chaptersButton.querySelector('ul').innerHTML = '';\n\n\t\tfor (var i = 0; i < total; i++) {\n\t\t\tt.chaptersButton.querySelector('ul').innerHTML += '<li class=\"' + t.options.classPrefix + 'chapters-selector-list-item\" ' + 'role=\"menuitemcheckbox\" aria-live=\"polite\" aria-disabled=\"false\" aria-checked=\"false\">' + ('<input type=\"radio\" class=\"' + t.options.classPrefix + 'captions-selector-input\" ') + ('name=\"' + t.id + '_chapters\" id=\"' + t.id + '_chapters_' + i + '\" value=\"' + chapters.entries[i].start + '\" disabled>') + ('<label class=\"' + t.options.classPrefix + 'chapters-selector-label\"') + ('for=\"' + t.id + '_chapters_' + i + '\">' + chapters.entries[i].text + '</label>') + '</li>';\n\t\t}\n\n\t\tvar radios = t.chaptersButton.querySelectorAll('input[type=\"radio\"]'),\n\t\t    labels = t.chaptersButton.querySelectorAll('.' + t.options.classPrefix + 'chapters-selector-label');\n\n\t\tfor (var _i13 = 0, _total10 = radios.length; _i13 < _total10; _i13++) {\n\t\t\tradios[_i13].disabled = false;\n\t\t\tradios[_i13].checked = false;\n\t\t\tradios[_i13].addEventListener('click', function (e) {\n\t\t\t\tvar self = this,\n\t\t\t\t    listItems = t.chaptersButton.querySelectorAll('li'),\n\t\t\t\t    label = (0, _dom.siblings)(self, function (el) {\n\t\t\t\t\treturn (0, _dom.hasClass)(el, t.options.classPrefix + 'chapters-selector-label');\n\t\t\t\t})[0];\n\n\t\t\t\tself.checked = true;\n\t\t\t\tself.parentNode.setAttribute('aria-checked', true);\n\t\t\t\t(0, _dom.addClass)(label, t.options.classPrefix + 'chapters-selected');\n\t\t\t\t(0, _dom.removeClass)(t.chaptersButton.querySelector('.' + t.options.classPrefix + 'chapters-selected'), t.options.classPrefix + 'chapters-selected');\n\n\t\t\t\tfor (var _i14 = 0, _total11 = listItems.length; _i14 < _total11; _i14++) {\n\t\t\t\t\tlistItems[_i14].setAttribute('aria-checked', false);\n\t\t\t\t}\n\n\t\t\t\tvar keyboard = e.keyCode || e.which;\n\t\t\t\tif (typeof keyboard === 'undefined') {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tt.getElement(t.container).focus();\n\t\t\t\t\t}, 500);\n\t\t\t\t}\n\n\t\t\t\tt.media.setCurrentTime(parseFloat(self.value));\n\t\t\t\tif (t.media.paused) {\n\t\t\t\t\tt.media.play();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfor (var _i15 = 0, _total12 = labels.length; _i15 < _total12; _i15++) {\n\t\t\tlabels[_i15].addEventListener('click', function (e) {\n\t\t\t\tvar radio = (0, _dom.siblings)(this, function (el) {\n\t\t\t\t\treturn el.tagName === 'INPUT';\n\t\t\t\t})[0],\n\t\t\t\t    event = (0, _general.createEvent)('click', radio);\n\t\t\t\tradio.dispatchEvent(event);\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t}\n\t},\n\tsearchTrackPosition: function searchTrackPosition(tracks, currentTime) {\n\t\tvar lo = 0,\n\t\t    hi = tracks.length - 1,\n\t\t    mid = void 0,\n\t\t    start = void 0,\n\t\t    stop = void 0;\n\n\t\twhile (lo <= hi) {\n\t\t\tmid = lo + hi >> 1;\n\t\t\tstart = tracks[mid].start;\n\t\t\tstop = tracks[mid].stop;\n\n\t\t\tif (currentTime >= start && currentTime < stop) {\n\t\t\t\treturn mid;\n\t\t\t} else if (start < currentTime) {\n\t\t\t\tlo = mid + 1;\n\t\t\t} else if (start > currentTime) {\n\t\t\t\thi = mid - 1;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n});\n\n_mejs2.default.language = {\n\tcodes: {\n\t\taf: 'mejs.afrikaans',\n\t\tsq: 'mejs.albanian',\n\t\tar: 'mejs.arabic',\n\t\tbe: 'mejs.belarusian',\n\t\tbg: 'mejs.bulgarian',\n\t\tca: 'mejs.catalan',\n\t\tzh: 'mejs.chinese',\n\t\t'zh-cn': 'mejs.chinese-simplified',\n\t\t'zh-tw': 'mejs.chines-traditional',\n\t\thr: 'mejs.croatian',\n\t\tcs: 'mejs.czech',\n\t\tda: 'mejs.danish',\n\t\tnl: 'mejs.dutch',\n\t\ten: 'mejs.english',\n\t\tet: 'mejs.estonian',\n\t\tfl: 'mejs.filipino',\n\t\tfi: 'mejs.finnish',\n\t\tfr: 'mejs.french',\n\t\tgl: 'mejs.galician',\n\t\tde: 'mejs.german',\n\t\tel: 'mejs.greek',\n\t\tht: 'mejs.haitian-creole',\n\t\tiw: 'mejs.hebrew',\n\t\thi: 'mejs.hindi',\n\t\thu: 'mejs.hungarian',\n\t\tis: 'mejs.icelandic',\n\t\tid: 'mejs.indonesian',\n\t\tga: 'mejs.irish',\n\t\tit: 'mejs.italian',\n\t\tja: 'mejs.japanese',\n\t\tko: 'mejs.korean',\n\t\tlv: 'mejs.latvian',\n\t\tlt: 'mejs.lithuanian',\n\t\tmk: 'mejs.macedonian',\n\t\tms: 'mejs.malay',\n\t\tmt: 'mejs.maltese',\n\t\tno: 'mejs.norwegian',\n\t\tfa: 'mejs.persian',\n\t\tpl: 'mejs.polish',\n\t\tpt: 'mejs.portuguese',\n\t\tro: 'mejs.romanian',\n\t\tru: 'mejs.russian',\n\t\tsr: 'mejs.serbian',\n\t\tsk: 'mejs.slovak',\n\t\tsl: 'mejs.slovenian',\n\t\tes: 'mejs.spanish',\n\t\tsw: 'mejs.swahili',\n\t\tsv: 'mejs.swedish',\n\t\ttl: 'mejs.tagalog',\n\t\tth: 'mejs.thai',\n\t\ttr: 'mejs.turkish',\n\t\tuk: 'mejs.ukrainian',\n\t\tvi: 'mejs.vietnamese',\n\t\tcy: 'mejs.welsh',\n\t\tyi: 'mejs.yiddish'\n\t}\n};\n\n_mejs2.default.TrackFormatParser = {\n\twebvtt: {\n\t\tpattern: /^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,\n\n\t\tparse: function parse(trackText) {\n\t\t\tvar lines = trackText.split(/\\r?\\n/),\n\t\t\t    entries = [];\n\n\t\t\tvar timecode = void 0,\n\t\t\t    text = void 0,\n\t\t\t    identifier = void 0;\n\n\t\t\tfor (var i = 0, total = lines.length; i < total; i++) {\n\t\t\t\ttimecode = this.pattern.exec(lines[i]);\n\n\t\t\t\tif (timecode && i < lines.length) {\n\t\t\t\t\tif (i - 1 >= 0 && lines[i - 1] !== '') {\n\t\t\t\t\t\tidentifier = lines[i - 1];\n\t\t\t\t\t}\n\t\t\t\t\ti++;\n\n\t\t\t\t\ttext = lines[i];\n\t\t\t\t\ti++;\n\t\t\t\t\twhile (lines[i] !== '' && i < lines.length) {\n\t\t\t\t\t\ttext = text + '\\n' + lines[i];\n\t\t\t\t\t\ti++;\n\t\t\t\t\t}\n\t\t\t\t\ttext = text === null ? '' : text.trim().replace(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig, \"<a href='$1' target='_blank'>$1</a>\");\n\t\t\t\t\tentries.push({\n\t\t\t\t\t\tidentifier: identifier,\n\t\t\t\t\t\tstart: (0, _time.convertSMPTEtoSeconds)(timecode[1]) === 0 ? 0.200 : (0, _time.convertSMPTEtoSeconds)(timecode[1]),\n\t\t\t\t\t\tstop: (0, _time.convertSMPTEtoSeconds)(timecode[3]),\n\t\t\t\t\t\ttext: text,\n\t\t\t\t\t\tsettings: timecode[5]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tidentifier = '';\n\t\t\t}\n\t\t\treturn entries;\n\t\t}\n\t},\n\n\tdfxp: {\n\t\tparse: function parse(trackText) {\n\t\t\ttrackText = $(trackText).filter('tt');\n\t\t\tvar container = trackText.firstChild,\n\t\t\t    lines = container.querySelectorAll('p'),\n\t\t\t    styleNode = trackText.getElementById('' + container.attr('style')),\n\t\t\t    entries = [];\n\n\t\t\tvar styles = void 0;\n\n\t\t\tif (styleNode.length) {\n\t\t\t\tstyleNode.removeAttribute('id');\n\t\t\t\tvar attributes = styleNode.attributes;\n\t\t\t\tif (attributes.length) {\n\t\t\t\t\tstyles = {};\n\t\t\t\t\tfor (var i = 0, total = attributes.length; i < total; i++) {\n\t\t\t\t\t\tstyles[attributes[i].name.split(\":\")[1]] = attributes[i].value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var _i16 = 0, _total13 = lines.length; _i16 < _total13; _i16++) {\n\t\t\t\tvar style = void 0,\n\t\t\t\t    _temp = {\n\t\t\t\t\tstart: null,\n\t\t\t\t\tstop: null,\n\t\t\t\t\tstyle: null,\n\t\t\t\t\ttext: null\n\t\t\t\t};\n\n\t\t\t\tif (lines.eq(_i16).attr('begin')) {\n\t\t\t\t\t_temp.start = (0, _time.convertSMPTEtoSeconds)(lines.eq(_i16).attr('begin'));\n\t\t\t\t}\n\t\t\t\tif (!_temp.start && lines.eq(_i16 - 1).attr('end')) {\n\t\t\t\t\t_temp.start = (0, _time.convertSMPTEtoSeconds)(lines.eq(_i16 - 1).attr('end'));\n\t\t\t\t}\n\t\t\t\tif (lines.eq(_i16).attr('end')) {\n\t\t\t\t\t_temp.stop = (0, _time.convertSMPTEtoSeconds)(lines.eq(_i16).attr('end'));\n\t\t\t\t}\n\t\t\t\tif (!_temp.stop && lines.eq(_i16 + 1).attr('begin')) {\n\t\t\t\t\t_temp.stop = (0, _time.convertSMPTEtoSeconds)(lines.eq(_i16 + 1).attr('begin'));\n\t\t\t\t}\n\n\t\t\t\tif (styles) {\n\t\t\t\t\tstyle = '';\n\t\t\t\t\tfor (var _style in styles) {\n\t\t\t\t\t\tstyle += _style + ':' + styles[_style] + ';';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (style) {\n\t\t\t\t\t_temp.style = style;\n\t\t\t\t}\n\t\t\t\tif (_temp.start === 0) {\n\t\t\t\t\t_temp.start = 0.200;\n\t\t\t\t}\n\t\t\t\t_temp.text = lines.eq(_i16).innerHTML.trim().replace(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig, \"<a href='$1' target='_blank'>$1</a>\");\n\t\t\t\tentries.push(_temp);\n\t\t\t}\n\t\t\treturn entries;\n\t\t}\n\t}\n};\n\n},{\"16\":16,\"2\":2,\"26\":26,\"27\":27,\"30\":30,\"5\":5,\"7\":7}],14:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _constants = _dereq_(25);\n\nvar _general = _dereq_(27);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tmuteText: null,\n\n\tunmuteText: null,\n\n\tallyVolumeControlText: null,\n\n\thideVolumeOnTouchDevices: true,\n\n\taudioVolume: 'horizontal',\n\n\tvideoVolume: 'vertical',\n\n\tstartVolume: 0.8\n});\n\nObject.assign(_player2.default.prototype, {\n\tbuildvolume: function buildvolume(player, controls, layers, media) {\n\t\tif ((_constants.IS_ANDROID || _constants.IS_IOS) && this.options.hideVolumeOnTouchDevices) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar t = this,\n\t\t    mode = t.isVideo ? t.options.videoVolume : t.options.audioVolume,\n\t\t    muteText = (0, _general.isString)(t.options.muteText) ? t.options.muteText : _i18n2.default.t('mejs.mute'),\n\t\t    unmuteText = (0, _general.isString)(t.options.unmuteText) ? t.options.unmuteText : _i18n2.default.t('mejs.unmute'),\n\t\t    volumeControlText = (0, _general.isString)(t.options.allyVolumeControlText) ? t.options.allyVolumeControlText : _i18n2.default.t('mejs.volume-help-text'),\n\t\t    mute = _document2.default.createElement('div');\n\n\t\tmute.className = t.options.classPrefix + 'button ' + t.options.classPrefix + 'volume-button ' + t.options.classPrefix + 'mute';\n\t\tmute.innerHTML = mode === 'horizontal' ? '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + muteText + '\" aria-label=\"' + muteText + '\" tabindex=\"0\"></button>' : '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + muteText + '\" aria-label=\"' + muteText + '\" tabindex=\"0\"></button>' + ('<a href=\"javascript:void(0);\" class=\"' + t.options.classPrefix + 'volume-slider\" ') + ('aria-label=\"' + _i18n2.default.t('mejs.volume-slider') + '\" aria-valuemin=\"0\" aria-valuemax=\"100\" role=\"slider\" ') + 'aria-orientation=\"vertical\">' + ('<span class=\"' + t.options.classPrefix + 'offscreen\">' + volumeControlText + '</span>') + ('<div class=\"' + t.options.classPrefix + 'volume-total\">') + ('<div class=\"' + t.options.classPrefix + 'volume-current\"></div>') + ('<div class=\"' + t.options.classPrefix + 'volume-handle\"></div>') + '</div>' + '</a>';\n\n\t\tt.addControlElement(mute, 'volume');\n\n\t\tt.options.keyActions.push({\n\t\t\tkeys: [38],\n\t\t\taction: function action(player) {\n\t\t\t\tvar volumeSlider = player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'volume-slider');\n\t\t\t\tif (volumeSlider && volumeSlider.matches(':focus')) {\n\t\t\t\t\tvolumeSlider.style.display = 'block';\n\t\t\t\t}\n\t\t\t\tif (player.isVideo) {\n\t\t\t\t\tplayer.showControls();\n\t\t\t\t\tplayer.startControlsTimer();\n\t\t\t\t}\n\n\t\t\t\tvar newVolume = Math.min(player.volume + 0.1, 1);\n\t\t\t\tplayer.setVolume(newVolume);\n\t\t\t\tif (newVolume > 0) {\n\t\t\t\t\tplayer.setMuted(false);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkeys: [40],\n\t\t\taction: function action(player) {\n\t\t\t\tvar volumeSlider = player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'volume-slider');\n\t\t\t\tif (volumeSlider) {\n\t\t\t\t\tvolumeSlider.style.display = 'block';\n\t\t\t\t}\n\n\t\t\t\tif (player.isVideo) {\n\t\t\t\t\tplayer.showControls();\n\t\t\t\t\tplayer.startControlsTimer();\n\t\t\t\t}\n\n\t\t\t\tvar newVolume = Math.max(player.volume - 0.1, 0);\n\t\t\t\tplayer.setVolume(newVolume);\n\n\t\t\t\tif (newVolume <= 0.1) {\n\t\t\t\t\tplayer.setMuted(true);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkeys: [77],\n\t\t\taction: function action(player) {\n\t\t\t\tvar volumeSlider = player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'volume-slider');\n\t\t\t\tif (volumeSlider) {\n\t\t\t\t\tvolumeSlider.style.display = 'block';\n\t\t\t\t}\n\n\t\t\t\tif (player.isVideo) {\n\t\t\t\t\tplayer.showControls();\n\t\t\t\t\tplayer.startControlsTimer();\n\t\t\t\t}\n\t\t\t\tif (player.media.muted) {\n\t\t\t\t\tplayer.setMuted(false);\n\t\t\t\t} else {\n\t\t\t\t\tplayer.setMuted(true);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (mode === 'horizontal') {\n\t\t\tvar anchor = _document2.default.createElement('a');\n\t\t\tanchor.className = t.options.classPrefix + 'horizontal-volume-slider';\n\t\t\tanchor.href = 'javascript:void(0);';\n\t\t\tanchor.setAttribute('aria-label', _i18n2.default.t('mejs.volume-slider'));\n\t\t\tanchor.setAttribute('aria-valuemin', 0);\n\t\t\tanchor.setAttribute('aria-valuemax', 100);\n\t\t\tanchor.setAttribute('aria-valuenow', 100);\n\t\t\tanchor.setAttribute('role', 'slider');\n\t\t\tanchor.innerHTML += '<span class=\"' + t.options.classPrefix + 'offscreen\">' + volumeControlText + '</span>' + ('<div class=\"' + t.options.classPrefix + 'horizontal-volume-total\">') + ('<div class=\"' + t.options.classPrefix + 'horizontal-volume-current\"></div>') + ('<div class=\"' + t.options.classPrefix + 'horizontal-volume-handle\"></div>') + '</div>';\n\t\t\tmute.parentNode.insertBefore(anchor, mute.nextSibling);\n\t\t}\n\n\t\tvar mouseIsDown = false,\n\t\t    mouseIsOver = false,\n\t\t    modified = false,\n\t\t    updateVolumeSlider = function updateVolumeSlider() {\n\t\t\tvar volume = Math.floor(media.volume * 100);\n\t\t\tvolumeSlider.setAttribute('aria-valuenow', volume);\n\t\t\tvolumeSlider.setAttribute('aria-valuetext', volume + '%');\n\t\t};\n\n\t\tvar volumeSlider = mode === 'vertical' ? t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'volume-slider') : t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'horizontal-volume-slider'),\n\t\t    volumeTotal = mode === 'vertical' ? t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'volume-total') : t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'horizontal-volume-total'),\n\t\t    volumeCurrent = mode === 'vertical' ? t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'volume-current') : t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'horizontal-volume-current'),\n\t\t    volumeHandle = mode === 'vertical' ? t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'volume-handle') : t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'horizontal-volume-handle'),\n\t\t    positionVolumeHandle = function positionVolumeHandle(volume) {\n\n\t\t\tif (volume === null || isNaN(volume) || volume === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvolume = Math.max(0, volume);\n\t\t\tvolume = Math.min(volume, 1);\n\n\t\t\tif (volume === 0) {\n\t\t\t\t(0, _dom.removeClass)(mute, t.options.classPrefix + 'mute');\n\t\t\t\t(0, _dom.addClass)(mute, t.options.classPrefix + 'unmute');\n\t\t\t\tvar button = mute.firstElementChild;\n\t\t\t\tbutton.setAttribute('title', unmuteText);\n\t\t\t\tbutton.setAttribute('aria-label', unmuteText);\n\t\t\t} else {\n\t\t\t\t(0, _dom.removeClass)(mute, t.options.classPrefix + 'unmute');\n\t\t\t\t(0, _dom.addClass)(mute, t.options.classPrefix + 'mute');\n\t\t\t\tvar _button = mute.firstElementChild;\n\t\t\t\t_button.setAttribute('title', muteText);\n\t\t\t\t_button.setAttribute('aria-label', muteText);\n\t\t\t}\n\n\t\t\tvar volumePercentage = volume * 100 + '%',\n\t\t\t    volumeStyles = getComputedStyle(volumeHandle);\n\n\t\t\tif (mode === 'vertical') {\n\t\t\t\tvolumeCurrent.style.bottom = 0;\n\t\t\t\tvolumeCurrent.style.height = volumePercentage;\n\t\t\t\tvolumeHandle.style.bottom = volumePercentage;\n\t\t\t\tvolumeHandle.style.marginBottom = -parseFloat(volumeStyles.height) / 2 + 'px';\n\t\t\t} else {\n\t\t\t\tvolumeCurrent.style.left = 0;\n\t\t\t\tvolumeCurrent.style.width = volumePercentage;\n\t\t\t\tvolumeHandle.style.left = volumePercentage;\n\t\t\t\tvolumeHandle.style.marginLeft = -parseFloat(volumeStyles.width) / 2 + 'px';\n\t\t\t}\n\t\t},\n\t\t    handleVolumeMove = function handleVolumeMove(e) {\n\t\t\tvar totalOffset = (0, _dom.offset)(volumeTotal),\n\t\t\t    volumeStyles = getComputedStyle(volumeTotal);\n\n\t\t\tmodified = true;\n\n\t\t\tvar volume = null;\n\n\t\t\tif (mode === 'vertical') {\n\t\t\t\tvar railHeight = parseFloat(volumeStyles.height),\n\t\t\t\t    newY = e.pageY - totalOffset.top;\n\n\t\t\t\tvolume = (railHeight - newY) / railHeight;\n\n\t\t\t\tif (totalOffset.top === 0 || totalOffset.left === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar railWidth = parseFloat(volumeStyles.width),\n\t\t\t\t    newX = e.pageX - totalOffset.left;\n\n\t\t\t\tvolume = newX / railWidth;\n\t\t\t}\n\n\t\t\tvolume = Math.max(0, volume);\n\t\t\tvolume = Math.min(volume, 1);\n\n\t\t\tpositionVolumeHandle(volume);\n\n\t\t\tt.setMuted(volume === 0);\n\t\t\tt.setVolume(volume);\n\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t},\n\t\t    toggleMute = function toggleMute() {\n\t\t\tif (t.muted) {\n\t\t\t\tpositionVolumeHandle(0);\n\t\t\t\t(0, _dom.removeClass)(mute, t.options.classPrefix + 'mute');\n\t\t\t\t(0, _dom.addClass)(mute, t.options.classPrefix + 'unmute');\n\t\t\t} else {\n\t\t\t\tpositionVolumeHandle(media.volume);\n\t\t\t\t(0, _dom.removeClass)(mute, t.options.classPrefix + 'unmute');\n\t\t\t\t(0, _dom.addClass)(mute, t.options.classPrefix + 'mute');\n\t\t\t}\n\t\t};\n\n\t\tplayer.getElement(player.container).addEventListener('keydown', function (e) {\n\t\t\tvar hasFocus = !!e.target.closest('.' + t.options.classPrefix + 'container');\n\t\t\tif (!hasFocus && mode === 'vertical') {\n\t\t\t\tvolumeSlider.style.display = 'none';\n\t\t\t}\n\t\t});\n\n\t\tmute.addEventListener('mouseenter', function (e) {\n\t\t\tif (e.target === mute) {\n\t\t\t\tvolumeSlider.style.display = 'block';\n\t\t\t\tmouseIsOver = true;\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t});\n\t\tmute.addEventListener('focusin', function () {\n\t\t\tvolumeSlider.style.display = 'block';\n\t\t\tmouseIsOver = true;\n\t\t});\n\n\t\tmute.addEventListener('focusout', function (e) {\n\t\t\tif ((!e.relatedTarget || e.relatedTarget && !e.relatedTarget.matches('.' + t.options.classPrefix + 'volume-slider')) && mode === 'vertical') {\n\t\t\t\tvolumeSlider.style.display = 'none';\n\t\t\t}\n\t\t});\n\t\tmute.addEventListener('mouseleave', function () {\n\t\t\tmouseIsOver = false;\n\t\t\tif (!mouseIsDown && mode === 'vertical') {\n\t\t\t\tvolumeSlider.style.display = 'none';\n\t\t\t}\n\t\t});\n\t\tmute.addEventListener('focusout', function () {\n\t\t\tmouseIsOver = false;\n\t\t});\n\t\tmute.addEventListener('keydown', function (e) {\n\t\t\tif (t.options.enableKeyboard && t.options.keyActions.length) {\n\t\t\t\tvar keyCode = e.which || e.keyCode || 0,\n\t\t\t\t    volume = media.volume;\n\n\t\t\t\tswitch (keyCode) {\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tvolume = Math.min(volume + 0.1, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 40:\n\t\t\t\t\t\tvolume = Math.max(0, volume - 0.1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tmouseIsDown = false;\n\t\t\t\tpositionVolumeHandle(volume);\n\t\t\t\tmedia.setVolume(volume);\n\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t});\n\t\tmute.querySelector('button').addEventListener('click', function () {\n\t\t\tmedia.setMuted(!media.muted);\n\t\t\tvar event = (0, _general.createEvent)('volumechange', media);\n\t\t\tmedia.dispatchEvent(event);\n\t\t});\n\n\t\tvolumeSlider.addEventListener('dragstart', function () {\n\t\t\treturn false;\n\t\t});\n\n\t\tvolumeSlider.addEventListener('mouseover', function () {\n\t\t\tmouseIsOver = true;\n\t\t});\n\t\tvolumeSlider.addEventListener('focusin', function () {\n\t\t\tvolumeSlider.style.display = 'block';\n\t\t\tmouseIsOver = true;\n\t\t});\n\t\tvolumeSlider.addEventListener('focusout', function () {\n\t\t\tmouseIsOver = false;\n\t\t\tif (!mouseIsDown && mode === 'vertical') {\n\t\t\t\tvolumeSlider.style.display = 'none';\n\t\t\t}\n\t\t});\n\t\tvolumeSlider.addEventListener('mousedown', function (e) {\n\t\t\thandleVolumeMove(e);\n\t\t\tt.globalBind('mousemove.vol', function (event) {\n\t\t\t\tvar target = event.target;\n\t\t\t\tif (mouseIsDown && (target === volumeSlider || target.closest(mode === 'vertical' ? '.' + t.options.classPrefix + 'volume-slider' : '.' + t.options.classPrefix + 'horizontal-volume-slider'))) {\n\t\t\t\t\thandleVolumeMove(event);\n\t\t\t\t}\n\t\t\t});\n\t\t\tt.globalBind('mouseup.vol', function () {\n\t\t\t\tmouseIsDown = false;\n\t\t\t\tif (!mouseIsOver && mode === 'vertical') {\n\t\t\t\t\tvolumeSlider.style.display = 'none';\n\t\t\t\t}\n\t\t\t});\n\t\t\tmouseIsDown = true;\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tmedia.addEventListener('volumechange', function (e) {\n\t\t\tif (!mouseIsDown) {\n\t\t\t\ttoggleMute();\n\t\t\t}\n\t\t\tupdateVolumeSlider(e);\n\t\t});\n\n\t\tvar rendered = false;\n\t\tmedia.addEventListener('rendererready', function () {\n\t\t\tif (!modified) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\trendered = true;\n\t\t\t\t\tif (player.options.startVolume === 0 || media.originalNode.muted) {\n\t\t\t\t\t\tmedia.setMuted(true);\n\t\t\t\t\t\tplayer.options.startVolume = 0;\n\t\t\t\t\t}\n\t\t\t\t\tmedia.setVolume(player.options.startVolume);\n\t\t\t\t\tt.setControlsSize();\n\t\t\t\t}, 250);\n\t\t\t}\n\t\t});\n\n\t\tmedia.addEventListener('loadedmetadata', function () {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (!modified && !rendered) {\n\t\t\t\t\tif (player.options.startVolume === 0 || media.originalNode.muted) {\n\t\t\t\t\t\tmedia.setMuted(true);\n\t\t\t\t\t}\n\t\t\t\t\tmedia.setVolume(player.options.startVolume);\n\t\t\t\t\tt.setControlsSize();\n\t\t\t\t}\n\t\t\t\trendered = false;\n\t\t\t}, 250);\n\t\t});\n\n\t\tif (player.options.startVolume === 0 || media.originalNode.muted) {\n\t\t\tmedia.setMuted(true);\n\t\t\tplayer.options.startVolume = 0;\n\t\t\ttoggleMute();\n\t\t}\n\n\t\tt.getElement(t.container).addEventListener('controlsresize', function () {\n\t\t\ttoggleMute();\n\t\t});\n\t}\n});\n\n},{\"16\":16,\"2\":2,\"25\":25,\"26\":26,\"27\":27,\"5\":5}],15:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar EN = exports.EN = {\n\t'mejs.plural-form': 1,\n\n\t'mejs.download-file': 'Download File',\n\n\t'mejs.install-flash': 'You are using a browser that does not have Flash player enabled or installed. Please turn on your Flash player plugin or download the latest version from https://get.adobe.com/flashplayer/',\n\n\t'mejs.fullscreen': 'Fullscreen',\n\n\t'mejs.play': 'Play',\n\t'mejs.pause': 'Pause',\n\n\t'mejs.time-slider': 'Time Slider',\n\t'mejs.time-help-text': 'Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.',\n\t'mejs.live-broadcast': 'Live Broadcast',\n\n\t'mejs.volume-help-text': 'Use Up/Down Arrow keys to increase or decrease volume.',\n\t'mejs.unmute': 'Unmute',\n\t'mejs.mute': 'Mute',\n\t'mejs.volume-slider': 'Volume Slider',\n\n\t'mejs.video-player': 'Video Player',\n\t'mejs.audio-player': 'Audio Player',\n\n\t'mejs.captions-subtitles': 'Captions/Subtitles',\n\t'mejs.captions-chapters': 'Chapters',\n\t'mejs.none': 'None',\n\t'mejs.afrikaans': 'Afrikaans',\n\t'mejs.albanian': 'Albanian',\n\t'mejs.arabic': 'Arabic',\n\t'mejs.belarusian': 'Belarusian',\n\t'mejs.bulgarian': 'Bulgarian',\n\t'mejs.catalan': 'Catalan',\n\t'mejs.chinese': 'Chinese',\n\t'mejs.chinese-simplified': 'Chinese (Simplified)',\n\t'mejs.chinese-traditional': 'Chinese (Traditional)',\n\t'mejs.croatian': 'Croatian',\n\t'mejs.czech': 'Czech',\n\t'mejs.danish': 'Danish',\n\t'mejs.dutch': 'Dutch',\n\t'mejs.english': 'English',\n\t'mejs.estonian': 'Estonian',\n\t'mejs.filipino': 'Filipino',\n\t'mejs.finnish': 'Finnish',\n\t'mejs.french': 'French',\n\t'mejs.galician': 'Galician',\n\t'mejs.german': 'German',\n\t'mejs.greek': 'Greek',\n\t'mejs.haitian-creole': 'Haitian Creole',\n\t'mejs.hebrew': 'Hebrew',\n\t'mejs.hindi': 'Hindi',\n\t'mejs.hungarian': 'Hungarian',\n\t'mejs.icelandic': 'Icelandic',\n\t'mejs.indonesian': 'Indonesian',\n\t'mejs.irish': 'Irish',\n\t'mejs.italian': 'Italian',\n\t'mejs.japanese': 'Japanese',\n\t'mejs.korean': 'Korean',\n\t'mejs.latvian': 'Latvian',\n\t'mejs.lithuanian': 'Lithuanian',\n\t'mejs.macedonian': 'Macedonian',\n\t'mejs.malay': 'Malay',\n\t'mejs.maltese': 'Maltese',\n\t'mejs.norwegian': 'Norwegian',\n\t'mejs.persian': 'Persian',\n\t'mejs.polish': 'Polish',\n\t'mejs.portuguese': 'Portuguese',\n\t'mejs.romanian': 'Romanian',\n\t'mejs.russian': 'Russian',\n\t'mejs.serbian': 'Serbian',\n\t'mejs.slovak': 'Slovak',\n\t'mejs.slovenian': 'Slovenian',\n\t'mejs.spanish': 'Spanish',\n\t'mejs.swahili': 'Swahili',\n\t'mejs.swedish': 'Swedish',\n\t'mejs.tagalog': 'Tagalog',\n\t'mejs.thai': 'Thai',\n\t'mejs.turkish': 'Turkish',\n\t'mejs.ukrainian': 'Ukrainian',\n\t'mejs.vietnamese': 'Vietnamese',\n\t'mejs.welsh': 'Welsh',\n\t'mejs.yiddish': 'Yiddish'\n};\n\n},{}],16:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.config = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _mediaelement = _dereq_(6);\n\nvar _mediaelement2 = _interopRequireDefault(_mediaelement);\n\nvar _default = _dereq_(17);\n\nvar _default2 = _interopRequireDefault(_default);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _constants = _dereq_(25);\n\nvar _general = _dereq_(27);\n\nvar _time = _dereq_(30);\n\nvar _media = _dereq_(28);\n\nvar _dom = _dereq_(26);\n\nvar dom = _interopRequireWildcard(_dom);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n_mejs2.default.mepIndex = 0;\n\n_mejs2.default.players = {};\n\nvar config = exports.config = {\n\tposter: '',\n\n\tshowPosterWhenEnded: false,\n\n\tshowPosterWhenPaused: false,\n\n\tdefaultVideoWidth: 480,\n\n\tdefaultVideoHeight: 270,\n\n\tvideoWidth: -1,\n\n\tvideoHeight: -1,\n\n\tdefaultAudioWidth: 400,\n\n\tdefaultAudioHeight: 40,\n\n\tdefaultSeekBackwardInterval: function defaultSeekBackwardInterval(media) {\n\t\treturn media.getDuration() * 0.05;\n\t},\n\n\tdefaultSeekForwardInterval: function defaultSeekForwardInterval(media) {\n\t\treturn media.getDuration() * 0.05;\n\t},\n\n\tsetDimensions: true,\n\n\taudioWidth: -1,\n\n\taudioHeight: -1,\n\n\tloop: false,\n\n\tautoRewind: true,\n\n\tenableAutosize: true,\n\n\ttimeFormat: '',\n\n\talwaysShowHours: false,\n\n\tshowTimecodeFrameCount: false,\n\n\tframesPerSecond: 25,\n\n\talwaysShowControls: false,\n\n\thideVideoControlsOnLoad: false,\n\n\thideVideoControlsOnPause: false,\n\n\tclickToPlayPause: true,\n\n\tcontrolsTimeoutDefault: 1500,\n\n\tcontrolsTimeoutMouseEnter: 2500,\n\n\tcontrolsTimeoutMouseLeave: 1000,\n\n\tiPadUseNativeControls: false,\n\n\tiPhoneUseNativeControls: false,\n\n\tAndroidUseNativeControls: false,\n\n\tfeatures: ['playpause', 'current', 'progress', 'duration', 'tracks', 'volume', 'fullscreen'],\n\n\tuseDefaultControls: false,\n\n\tisVideo: true,\n\n\tstretching: 'auto',\n\n\tclassPrefix: 'mejs__',\n\n\tenableKeyboard: true,\n\n\tpauseOtherPlayers: true,\n\n\tsecondsDecimalLength: 0,\n\n\tcustomError: null,\n\n\tkeyActions: [{\n\t\tkeys: [32, 179],\n\t\taction: function action(player) {\n\n\t\t\tif (!_constants.IS_FIREFOX) {\n\t\t\t\tif (player.paused || player.ended) {\n\t\t\t\t\tplayer.play();\n\t\t\t\t} else {\n\t\t\t\t\tplayer.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}]\n};\n\n_mejs2.default.MepDefaults = config;\n\nvar MediaElementPlayer = function () {\n\tfunction MediaElementPlayer(node, o) {\n\t\t_classCallCheck(this, MediaElementPlayer);\n\n\t\tvar t = this,\n\t\t    element = typeof node === 'string' ? _document2.default.getElementById(node) : node;\n\n\t\tif (!(t instanceof MediaElementPlayer)) {\n\t\t\treturn new MediaElementPlayer(element, o);\n\t\t}\n\n\t\tt.node = t.media = element;\n\n\t\tif (!t.node) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (t.media.player) {\n\t\t\treturn t.media.player;\n\t\t}\n\n\t\tt.hasFocus = false;\n\n\t\tt.controlsAreVisible = true;\n\n\t\tt.controlsEnabled = true;\n\n\t\tt.controlsTimer = null;\n\n\t\tt.currentMediaTime = 0;\n\n\t\tt.proxy = null;\n\n\t\tif (o === undefined) {\n\t\t\tvar options = t.node.getAttribute('data-mejsoptions');\n\t\t\to = options ? JSON.parse(options) : {};\n\t\t}\n\n\t\tt.options = Object.assign({}, config, o);\n\n\t\tif (t.options.loop && !t.media.getAttribute('loop')) {\n\t\t\tt.media.loop = true;\n\t\t\tt.node.loop = true;\n\t\t} else if (t.media.loop) {\n\t\t\tt.options.loop = true;\n\t\t}\n\n\t\tif (!t.options.timeFormat) {\n\t\t\tt.options.timeFormat = 'mm:ss';\n\t\t\tif (t.options.alwaysShowHours) {\n\t\t\t\tt.options.timeFormat = 'hh:mm:ss';\n\t\t\t}\n\t\t\tif (t.options.showTimecodeFrameCount) {\n\t\t\t\tt.options.timeFormat += ':ff';\n\t\t\t}\n\t\t}\n\n\t\t(0, _time.calculateTimeFormat)(0, t.options, t.options.framesPerSecond || 25);\n\n\t\tt.id = 'mep_' + _mejs2.default.mepIndex++;\n\n\t\t_mejs2.default.players[t.id] = t;\n\n\t\tt.init();\n\n\t\treturn t;\n\t}\n\n\t_createClass(MediaElementPlayer, [{\n\t\tkey: 'getElement',\n\t\tvalue: function getElement(element) {\n\t\t\treturn element;\n\t\t}\n\t}, {\n\t\tkey: 'init',\n\t\tvalue: function init() {\n\t\t\tvar t = this,\n\t\t\t    playerOptions = Object.assign({}, t.options, {\n\t\t\t\tsuccess: function success(media, domNode) {\n\t\t\t\t\tt._meReady(media, domNode);\n\t\t\t\t},\n\t\t\t\terror: function error(e) {\n\t\t\t\t\tt._handleError(e);\n\t\t\t\t}\n\t\t\t}),\n\t\t\t    tagName = t.node.tagName.toLowerCase();\n\n\t\t\tt.isDynamic = tagName !== 'audio' && tagName !== 'video' && tagName !== 'iframe';\n\t\t\tt.isVideo = t.isDynamic ? t.options.isVideo : tagName !== 'audio' && t.options.isVideo;\n\t\t\tt.mediaFiles = null;\n\t\t\tt.trackFiles = null;\n\n\t\t\tif (_constants.IS_IPAD && t.options.iPadUseNativeControls || _constants.IS_IPHONE && t.options.iPhoneUseNativeControls) {\n\t\t\t\tt.node.setAttribute('controls', true);\n\n\t\t\t\tif (_constants.IS_IPAD && t.node.getAttribute('autoplay')) {\n\t\t\t\t\tt.play();\n\t\t\t\t}\n\t\t\t} else if ((t.isVideo || !t.isVideo && (t.options.features.length || t.options.useDefaultControls)) && !(_constants.IS_ANDROID && t.options.AndroidUseNativeControls)) {\n\t\t\t\tt.node.removeAttribute('controls');\n\t\t\t\tvar videoPlayerTitle = t.isVideo ? _i18n2.default.t('mejs.video-player') : _i18n2.default.t('mejs.audio-player');\n\n\t\t\t\tvar offscreen = _document2.default.createElement('span');\n\t\t\t\toffscreen.className = t.options.classPrefix + 'offscreen';\n\t\t\t\toffscreen.innerText = videoPlayerTitle;\n\t\t\t\tt.media.parentNode.insertBefore(offscreen, t.media);\n\n\t\t\t\tt.container = _document2.default.createElement('div');\n\t\t\t\tt.getElement(t.container).id = t.id;\n\t\t\t\tt.getElement(t.container).className = t.options.classPrefix + 'container ' + t.options.classPrefix + 'container-keyboard-inactive ' + t.media.className;\n\t\t\t\tt.getElement(t.container).tabIndex = 0;\n\t\t\t\tt.getElement(t.container).setAttribute('role', 'application');\n\t\t\t\tt.getElement(t.container).setAttribute('aria-label', videoPlayerTitle);\n\t\t\t\tt.getElement(t.container).innerHTML = '<div class=\"' + t.options.classPrefix + 'inner\">' + ('<div class=\"' + t.options.classPrefix + 'mediaelement\"></div>') + ('<div class=\"' + t.options.classPrefix + 'layers\"></div>') + ('<div class=\"' + t.options.classPrefix + 'controls\"></div>') + '</div>';\n\t\t\t\tt.getElement(t.container).addEventListener('focus', function (e) {\n\t\t\t\t\tif (!t.controlsAreVisible && !t.hasFocus && t.controlsEnabled) {\n\t\t\t\t\t\tt.showControls(true);\n\n\t\t\t\t\t\tvar btnSelector = (0, _general.isNodeAfter)(e.relatedTarget, t.getElement(t.container)) ? '.' + t.options.classPrefix + 'controls .' + t.options.classPrefix + 'button:last-child > button' : '.' + t.options.classPrefix + 'playpause-button > button',\n\t\t\t\t\t\t    button = t.getElement(t.container).querySelector(btnSelector);\n\n\t\t\t\t\t\tbutton.focus();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tt.node.parentNode.insertBefore(t.getElement(t.container), t.node);\n\n\t\t\t\tif (!t.options.features.length && !t.options.useDefaultControls) {\n\t\t\t\t\tt.getElement(t.container).style.background = 'transparent';\n\t\t\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'controls').style.display = 'none';\n\t\t\t\t}\n\n\t\t\t\tif (t.isVideo && t.options.stretching === 'fill' && !dom.hasClass(t.getElement(t.container).parentNode, t.options.classPrefix + 'fill-container')) {\n\t\t\t\t\tt.outerContainer = t.media.parentNode;\n\n\t\t\t\t\tvar wrapper = _document2.default.createElement('div');\n\t\t\t\t\twrapper.className = t.options.classPrefix + 'fill-container';\n\t\t\t\t\tt.getElement(t.container).parentNode.insertBefore(wrapper, t.getElement(t.container));\n\t\t\t\t\twrapper.appendChild(t.getElement(t.container));\n\t\t\t\t}\n\n\t\t\t\tif (_constants.IS_ANDROID) {\n\t\t\t\t\tdom.addClass(t.getElement(t.container), t.options.classPrefix + 'android');\n\t\t\t\t}\n\t\t\t\tif (_constants.IS_IOS) {\n\t\t\t\t\tdom.addClass(t.getElement(t.container), t.options.classPrefix + 'ios');\n\t\t\t\t}\n\t\t\t\tif (_constants.IS_IPAD) {\n\t\t\t\t\tdom.addClass(t.getElement(t.container), t.options.classPrefix + 'ipad');\n\t\t\t\t}\n\t\t\t\tif (_constants.IS_IPHONE) {\n\t\t\t\t\tdom.addClass(t.getElement(t.container), t.options.classPrefix + 'iphone');\n\t\t\t\t}\n\t\t\t\tdom.addClass(t.getElement(t.container), t.isVideo ? t.options.classPrefix + 'video' : t.options.classPrefix + 'audio');\n\n\t\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'mediaelement').appendChild(t.node);\n\n\t\t\t\tt.media.player = t;\n\n\t\t\t\tt.controls = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'controls');\n\t\t\t\tt.layers = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'layers');\n\n\t\t\t\tvar tagType = t.isVideo ? 'video' : 'audio',\n\t\t\t\t    capsTagName = tagType.substring(0, 1).toUpperCase() + tagType.substring(1);\n\n\t\t\t\tif (t.options[tagType + 'Width'] > 0 || t.options[tagType + 'Width'].toString().indexOf('%') > -1) {\n\t\t\t\t\tt.width = t.options[tagType + 'Width'];\n\t\t\t\t} else if (t.node.style.width !== '' && t.node.style.width !== null) {\n\t\t\t\t\tt.width = t.node.style.width;\n\t\t\t\t} else if (t.node.getAttribute('width')) {\n\t\t\t\t\tt.width = t.node.getAttribute('width');\n\t\t\t\t} else {\n\t\t\t\t\tt.width = t.options['default' + capsTagName + 'Width'];\n\t\t\t\t}\n\n\t\t\t\tif (t.options[tagType + 'Height'] > 0 || t.options[tagType + 'Height'].toString().indexOf('%') > -1) {\n\t\t\t\t\tt.height = t.options[tagType + 'Height'];\n\t\t\t\t} else if (t.node.style.height !== '' && t.node.style.height !== null) {\n\t\t\t\t\tt.height = t.node.style.height;\n\t\t\t\t} else if (t.node.getAttribute('height')) {\n\t\t\t\t\tt.height = t.node.getAttribute('height');\n\t\t\t\t} else {\n\t\t\t\t\tt.height = t.options['default' + capsTagName + 'Height'];\n\t\t\t\t}\n\n\t\t\t\tt.initialAspectRatio = t.height >= t.width ? t.width / t.height : t.height / t.width;\n\n\t\t\t\tt.setPlayerSize(t.width, t.height);\n\n\t\t\t\tplayerOptions.pluginWidth = t.width;\n\t\t\t\tplayerOptions.pluginHeight = t.height;\n\t\t\t} else if (!t.isVideo && !t.options.features.length && !t.options.useDefaultControls) {\n\t\t\t\t\tt.node.style.display = 'none';\n\t\t\t\t}\n\n\t\t\t_mejs2.default.MepDefaults = playerOptions;\n\n\t\t\tnew _mediaelement2.default(t.media, playerOptions, t.mediaFiles);\n\n\t\t\tif (t.getElement(t.container) !== undefined && t.options.features.length && t.controlsAreVisible && !t.options.hideVideoControlsOnLoad) {\n\t\t\t\tvar event = (0, _general.createEvent)('controlsshown', t.getElement(t.container));\n\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'showControls',\n\t\tvalue: function showControls(doAnimation) {\n\t\t\tvar t = this;\n\n\t\t\tdoAnimation = doAnimation === undefined || doAnimation;\n\n\t\t\tif (t.controlsAreVisible || !t.isVideo) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (doAnimation) {\n\t\t\t\t(function () {\n\t\t\t\t\tdom.fadeIn(t.getElement(t.controls), 200, function () {\n\t\t\t\t\t\tdom.removeClass(t.getElement(t.controls), t.options.classPrefix + 'offscreen');\n\t\t\t\t\t\tvar event = (0, _general.createEvent)('controlsshown', t.getElement(t.container));\n\t\t\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t\t\t});\n\n\t\t\t\t\tvar controls = t.getElement(t.container).querySelectorAll('.' + t.options.classPrefix + 'control');\n\n\t\t\t\t\tvar _loop = function _loop(i, total) {\n\t\t\t\t\t\tdom.fadeIn(controls[i], 200, function () {\n\t\t\t\t\t\t\tdom.removeClass(controls[i], t.options.classPrefix + 'offscreen');\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\tfor (var i = 0, total = controls.length; i < total; i++) {\n\t\t\t\t\t\t_loop(i, total);\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t} else {\n\t\t\t\tdom.removeClass(t.getElement(t.controls), t.options.classPrefix + 'offscreen');\n\t\t\t\tt.getElement(t.controls).style.display = '';\n\t\t\t\tt.getElement(t.controls).style.opacity = 1;\n\n\t\t\t\tvar controls = t.getElement(t.container).querySelectorAll('.' + t.options.classPrefix + 'control');\n\t\t\t\tfor (var i = 0, total = controls.length; i < total; i++) {\n\t\t\t\t\tdom.removeClass(controls[i], t.options.classPrefix + 'offscreen');\n\t\t\t\t\tcontrols[i].style.display = '';\n\t\t\t\t}\n\n\t\t\t\tvar event = (0, _general.createEvent)('controlsshown', t.getElement(t.container));\n\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t}\n\n\t\t\tt.controlsAreVisible = true;\n\t\t\tt.setControlsSize();\n\t\t}\n\t}, {\n\t\tkey: 'hideControls',\n\t\tvalue: function hideControls(doAnimation, forceHide) {\n\t\t\tvar t = this;\n\n\t\t\tdoAnimation = doAnimation === undefined || doAnimation;\n\n\t\t\tif (forceHide !== true && (!t.controlsAreVisible || t.options.alwaysShowControls || t.paused && t.readyState === 4 && (!t.options.hideVideoControlsOnLoad && t.currentTime <= 0 || !t.options.hideVideoControlsOnPause && t.currentTime > 0) || t.isVideo && !t.options.hideVideoControlsOnLoad && !t.readyState || t.ended)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (doAnimation) {\n\t\t\t\t(function () {\n\t\t\t\t\tdom.fadeOut(t.getElement(t.controls), 200, function () {\n\t\t\t\t\t\tdom.addClass(t.getElement(t.controls), t.options.classPrefix + 'offscreen');\n\t\t\t\t\t\tt.getElement(t.controls).style.display = '';\n\t\t\t\t\t\tvar event = (0, _general.createEvent)('controlshidden', t.getElement(t.container));\n\t\t\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t\t\t});\n\n\t\t\t\t\tvar controls = t.getElement(t.container).querySelectorAll('.' + t.options.classPrefix + 'control');\n\n\t\t\t\t\tvar _loop2 = function _loop2(i, total) {\n\t\t\t\t\t\tdom.fadeOut(controls[i], 200, function () {\n\t\t\t\t\t\t\tdom.addClass(controls[i], t.options.classPrefix + 'offscreen');\n\t\t\t\t\t\t\tcontrols[i].style.display = '';\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\tfor (var i = 0, total = controls.length; i < total; i++) {\n\t\t\t\t\t\t_loop2(i, total);\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t} else {\n\t\t\t\tdom.addClass(t.getElement(t.controls), t.options.classPrefix + 'offscreen');\n\t\t\t\tt.getElement(t.controls).style.display = '';\n\t\t\t\tt.getElement(t.controls).style.opacity = 0;\n\n\t\t\t\tvar controls = t.getElement(t.container).querySelectorAll('.' + t.options.classPrefix + 'control');\n\t\t\t\tfor (var i = 0, total = controls.length; i < total; i++) {\n\t\t\t\t\tdom.addClass(controls[i], t.options.classPrefix + 'offscreen');\n\t\t\t\t\tcontrols[i].style.display = '';\n\t\t\t\t}\n\n\t\t\t\tvar event = (0, _general.createEvent)('controlshidden', t.getElement(t.container));\n\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t}\n\n\t\t\tt.controlsAreVisible = false;\n\t\t}\n\t}, {\n\t\tkey: 'startControlsTimer',\n\t\tvalue: function startControlsTimer(timeout) {\n\t\t\tvar t = this;\n\n\t\t\ttimeout = typeof timeout !== 'undefined' ? timeout : t.options.controlsTimeoutDefault;\n\n\t\t\tt.killControlsTimer('start');\n\n\t\t\tt.controlsTimer = setTimeout(function () {\n\t\t\t\tt.hideControls();\n\t\t\t\tt.killControlsTimer('hide');\n\t\t\t}, timeout);\n\t\t}\n\t}, {\n\t\tkey: 'killControlsTimer',\n\t\tvalue: function killControlsTimer() {\n\t\t\tvar t = this;\n\n\t\t\tif (t.controlsTimer !== null) {\n\t\t\t\tclearTimeout(t.controlsTimer);\n\t\t\t\tdelete t.controlsTimer;\n\t\t\t\tt.controlsTimer = null;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'disableControls',\n\t\tvalue: function disableControls() {\n\t\t\tvar t = this;\n\n\t\t\tt.killControlsTimer();\n\t\t\tt.controlsEnabled = false;\n\t\t\tt.hideControls(false, true);\n\t\t}\n\t}, {\n\t\tkey: 'enableControls',\n\t\tvalue: function enableControls() {\n\t\t\tvar t = this;\n\n\t\t\tt.controlsEnabled = true;\n\t\t\tt.showControls(false);\n\t\t}\n\t}, {\n\t\tkey: '_setDefaultPlayer',\n\t\tvalue: function _setDefaultPlayer() {\n\t\t\tvar t = this;\n\t\t\tif (t.proxy) {\n\t\t\t\tt.proxy.pause();\n\t\t\t}\n\t\t\tt.proxy = new _default2.default(t);\n\t\t\tt.media.addEventListener('loadedmetadata', function () {\n\t\t\t\tif (t.getCurrentTime() > 0 && t.currentMediaTime > 0) {\n\t\t\t\t\tt.setCurrentTime(t.currentMediaTime);\n\t\t\t\t\tif (!_constants.IS_IOS && !_constants.IS_ANDROID) {\n\t\t\t\t\t\tt.play();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_meReady',\n\t\tvalue: function _meReady(media, domNode) {\n\t\t\tvar t = this,\n\t\t\t    autoplayAttr = domNode.getAttribute('autoplay'),\n\t\t\t    autoplay = !(autoplayAttr === undefined || autoplayAttr === null || autoplayAttr === 'false'),\n\t\t\t    isNative = media.rendererName !== null && /(native|html5)/i.test(t.media.rendererName);\n\n\t\t\tif (t.getElement(t.controls)) {\n\t\t\t\tt.enableControls();\n\t\t\t}\n\n\t\t\tif (t.getElement(t.container) && t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'overlay-play')) {\n\t\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'overlay-play').style.display = '';\n\t\t\t}\n\n\t\t\tif (t.created) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tt.created = true;\n\t\t\tt.media = media;\n\t\t\tt.domNode = domNode;\n\n\t\t\tif (!(_constants.IS_ANDROID && t.options.AndroidUseNativeControls) && !(_constants.IS_IPAD && t.options.iPadUseNativeControls) && !(_constants.IS_IPHONE && t.options.iPhoneUseNativeControls)) {\n\t\t\t\tif (!t.isVideo && !t.options.features.length && !t.options.useDefaultControls) {\n\t\t\t\t\tif (autoplay && isNative) {\n\t\t\t\t\t\tt.play();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.options.success) {\n\n\t\t\t\t\t\tif (typeof t.options.success === 'string') {\n\t\t\t\t\t\t\t_window2.default[t.options.success](t.media, t.domNode, t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tt.options.success(t.media, t.domNode, t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tt.featurePosition = {};\n\n\t\t\t\tt._setDefaultPlayer();\n\n\t\t\t\tt.buildposter(t, t.getElement(t.controls), t.getElement(t.layers), t.media);\n\t\t\t\tt.buildkeyboard(t, t.getElement(t.controls), t.getElement(t.layers), t.media);\n\t\t\t\tt.buildoverlays(t, t.getElement(t.controls), t.getElement(t.layers), t.media);\n\n\t\t\t\tif (t.options.useDefaultControls) {\n\t\t\t\t\tvar defaultControls = ['playpause', 'current', 'progress', 'duration', 'tracks', 'volume', 'fullscreen'];\n\t\t\t\t\tt.options.features = defaultControls.concat(t.options.features.filter(function (item) {\n\t\t\t\t\t\treturn defaultControls.indexOf(item) === -1;\n\t\t\t\t\t}));\n\t\t\t\t}\n\n\t\t\t\tt.buildfeatures(t, t.getElement(t.controls), t.getElement(t.layers), t.media);\n\n\t\t\t\tvar event = (0, _general.createEvent)('controlsready', t.getElement(t.container));\n\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\n\t\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\t\tt.setControlsSize();\n\n\t\t\t\tif (t.isVideo) {\n\t\t\t\t\tt.clickToPlayPauseCallback = function () {\n\n\t\t\t\t\t\tif (t.options.clickToPlayPause) {\n\t\t\t\t\t\t\tvar button = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'overlay-button'),\n\t\t\t\t\t\t\t    pressed = button.getAttribute('aria-pressed');\n\n\t\t\t\t\t\t\tif (t.paused && pressed) {\n\t\t\t\t\t\t\t\tt.pause();\n\t\t\t\t\t\t\t} else if (t.paused) {\n\t\t\t\t\t\t\t\tt.play();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tt.pause();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbutton.setAttribute('aria-pressed', !pressed);\n\t\t\t\t\t\t\tt.getElement(t.container).focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tt.createIframeLayer();\n\n\t\t\t\t\tt.media.addEventListener('click', t.clickToPlayPauseCallback);\n\n\t\t\t\t\tif ((_constants.IS_ANDROID || _constants.IS_IOS) && !t.options.alwaysShowControls) {\n\t\t\t\t\t\tt.node.addEventListener('touchstart', function () {\n\t\t\t\t\t\t\tif (t.controlsAreVisible) {\n\t\t\t\t\t\t\t\tt.hideControls(false);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (t.controlsEnabled) {\n\t\t\t\t\t\t\t\t\tt.showControls(false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, _constants.SUPPORT_PASSIVE_EVENT ? { passive: true } : false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.getElement(t.container).addEventListener('mouseenter', function () {\n\t\t\t\t\t\t\tif (t.controlsEnabled) {\n\t\t\t\t\t\t\t\tif (!t.options.alwaysShowControls) {\n\t\t\t\t\t\t\t\t\tt.killControlsTimer('enter');\n\t\t\t\t\t\t\t\t\tt.showControls();\n\t\t\t\t\t\t\t\t\tt.startControlsTimer(t.options.controlsTimeoutMouseEnter);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tt.getElement(t.container).addEventListener('mousemove', function () {\n\t\t\t\t\t\t\tif (t.controlsEnabled) {\n\t\t\t\t\t\t\t\tif (!t.controlsAreVisible) {\n\t\t\t\t\t\t\t\t\tt.showControls();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!t.options.alwaysShowControls) {\n\t\t\t\t\t\t\t\t\tt.startControlsTimer(t.options.controlsTimeoutMouseEnter);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tt.getElement(t.container).addEventListener('mouseleave', function () {\n\t\t\t\t\t\t\tif (t.controlsEnabled) {\n\t\t\t\t\t\t\t\tif (!t.paused && !t.options.alwaysShowControls) {\n\t\t\t\t\t\t\t\t\tt.startControlsTimer(t.options.controlsTimeoutMouseLeave);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.options.hideVideoControlsOnLoad) {\n\t\t\t\t\t\tt.hideControls(false);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.options.enableAutosize) {\n\t\t\t\t\t\tt.media.addEventListener('loadedmetadata', function (e) {\n\t\t\t\t\t\t\tvar target = e !== undefined ? e.detail.target || e.target : t.media;\n\t\t\t\t\t\t\tif (t.options.videoHeight <= 0 && !t.domNode.getAttribute('height') && !t.domNode.style.height && target !== null && !isNaN(target.videoHeight)) {\n\t\t\t\t\t\t\t\tt.setPlayerSize(target.videoWidth, target.videoHeight);\n\t\t\t\t\t\t\t\tt.setControlsSize();\n\t\t\t\t\t\t\t\tt.media.setSize(target.videoWidth, target.videoHeight);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tt.media.addEventListener('play', function () {\n\t\t\t\t\tt.hasFocus = true;\n\n\t\t\t\t\tfor (var playerIndex in _mejs2.default.players) {\n\t\t\t\t\t\tif (_mejs2.default.players.hasOwnProperty(playerIndex)) {\n\t\t\t\t\t\t\tvar p = _mejs2.default.players[playerIndex];\n\n\t\t\t\t\t\t\tif (p.id !== t.id && t.options.pauseOtherPlayers && !p.paused && !p.ended && p.options.ignorePauseOtherPlayersOption !== true) {\n\t\t\t\t\t\t\t\tp.pause();\n\t\t\t\t\t\t\t\tp.hasFocus = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!(_constants.IS_ANDROID || _constants.IS_IOS) && !t.options.alwaysShowControls && t.isVideo) {\n\t\t\t\t\t\tt.hideControls();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tt.media.addEventListener('ended', function () {\n\t\t\t\t\tif (t.options.autoRewind) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tt.setCurrentTime(0);\n\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar loadingElement = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'overlay-loading');\n\t\t\t\t\t\t\t\tif (loadingElement && loadingElement.parentNode) {\n\t\t\t\t\t\t\t\t\tloadingElement.parentNode.style.display = 'none';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 20);\n\t\t\t\t\t\t} catch (exp) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof t.media.renderer.stop === 'function') {\n\t\t\t\t\t\tt.media.renderer.stop();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.pause();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.setProgressRail) {\n\t\t\t\t\t\tt.setProgressRail();\n\t\t\t\t\t}\n\t\t\t\t\tif (t.setCurrentRail) {\n\t\t\t\t\t\tt.setCurrentRail();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.options.loop) {\n\t\t\t\t\t\tt.play();\n\t\t\t\t\t} else if (!t.options.alwaysShowControls && t.controlsEnabled) {\n\t\t\t\t\t\tt.showControls();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tt.media.addEventListener('loadedmetadata', function () {\n\n\t\t\t\t\t(0, _time.calculateTimeFormat)(t.getDuration(), t.options, t.options.framesPerSecond || 25);\n\n\t\t\t\t\tif (t.updateDuration) {\n\t\t\t\t\t\tt.updateDuration();\n\t\t\t\t\t}\n\t\t\t\t\tif (t.updateCurrent) {\n\t\t\t\t\t\tt.updateCurrent();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!t.isFullScreen) {\n\t\t\t\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\t\t\t\tt.setControlsSize();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar duration = null;\n\t\t\t\tt.media.addEventListener('timeupdate', function () {\n\t\t\t\t\tif (!isNaN(t.getDuration()) && duration !== t.getDuration()) {\n\t\t\t\t\t\tduration = t.getDuration();\n\t\t\t\t\t\t(0, _time.calculateTimeFormat)(duration, t.options, t.options.framesPerSecond || 25);\n\n\t\t\t\t\t\tif (t.updateDuration) {\n\t\t\t\t\t\t\tt.updateDuration();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (t.updateCurrent) {\n\t\t\t\t\t\t\tt.updateCurrent();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tt.setControlsSize();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tt.getElement(t.container).addEventListener('click', function (e) {\n\t\t\t\t\tdom.addClass(e.currentTarget, t.options.classPrefix + 'container-keyboard-inactive');\n\t\t\t\t});\n\n\t\t\t\tt.getElement(t.container).addEventListener('focusin', function (e) {\n\t\t\t\t\tdom.removeClass(e.currentTarget, t.options.classPrefix + 'container-keyboard-inactive');\n\t\t\t\t\tif (t.isVideo && !_constants.IS_ANDROID && !_constants.IS_IOS && t.controlsEnabled && !t.options.alwaysShowControls) {\n\t\t\t\t\t\tt.killControlsTimer('enter');\n\t\t\t\t\t\tt.showControls();\n\t\t\t\t\t\tt.startControlsTimer(t.options.controlsTimeoutMouseEnter);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tt.getElement(t.container).addEventListener('focusout', function (e) {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tif (e.relatedTarget) {\n\t\t\t\t\t\t\tif (t.keyboardAction && !e.relatedTarget.closest('.' + t.options.classPrefix + 'container')) {\n\t\t\t\t\t\t\t\tt.keyboardAction = false;\n\t\t\t\t\t\t\t\tif (t.isVideo && !t.options.alwaysShowControls && !t.paused) {\n\t\t\t\t\t\t\t\t\tt.startControlsTimer(t.options.controlsTimeoutMouseLeave);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 0);\n\t\t\t\t});\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\t\t\tt.setControlsSize();\n\t\t\t\t}, 0);\n\n\t\t\t\tt.globalResizeCallback = function () {\n\t\t\t\t\tif (!(t.isFullScreen || _constants.HAS_TRUE_NATIVE_FULLSCREEN && _document2.default.webkitIsFullScreen)) {\n\t\t\t\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\t\t\t}\n\n\t\t\t\t\tt.setControlsSize();\n\t\t\t\t};\n\n\t\t\t\tt.globalBind('resize', t.globalResizeCallback);\n\t\t\t}\n\n\t\t\tif (autoplay && isNative) {\n\t\t\t\tt.play();\n\t\t\t}\n\n\t\t\tif (t.options.success) {\n\t\t\t\tif (typeof t.options.success === 'string') {\n\t\t\t\t\t_window2.default[t.options.success](t.media, t.domNode, t);\n\t\t\t\t} else {\n\t\t\t\t\tt.options.success(t.media, t.domNode, t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_handleError',\n\t\tvalue: function _handleError(e, media, node) {\n\t\t\tvar t = this,\n\t\t\t    play = t.getElement(t.layers).querySelector('.' + t.options.classPrefix + 'overlay-play');\n\n\t\t\tif (play) {\n\t\t\t\tplay.style.display = 'none';\n\t\t\t}\n\n\t\t\tif (t.options.error) {\n\t\t\t\tt.options.error(e, media, node);\n\t\t\t}\n\n\t\t\tif (t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'cannotplay')) {\n\t\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'cannotplay').remove();\n\t\t\t}\n\n\t\t\tvar errorContainer = _document2.default.createElement('div');\n\t\t\terrorContainer.className = t.options.classPrefix + 'cannotplay';\n\t\t\terrorContainer.style.width = '100%';\n\t\t\terrorContainer.style.height = '100%';\n\n\t\t\tvar errorContent = typeof t.options.customError === 'function' ? t.options.customError(t.media, t.media.originalNode) : t.options.customError,\n\t\t\t    imgError = '';\n\n\t\t\tif (!errorContent) {\n\t\t\t\tvar poster = t.media.originalNode.getAttribute('poster');\n\t\t\t\tif (poster) {\n\t\t\t\t\timgError = '<img src=\"' + poster + '\" alt=\"' + _mejs2.default.i18n.t('mejs.download-file') + '\">';\n\t\t\t\t}\n\n\t\t\t\tif (e.message) {\n\t\t\t\t\terrorContent = '<p>' + e.message + '</p>';\n\t\t\t\t}\n\n\t\t\t\tif (e.urls) {\n\t\t\t\t\tfor (var i = 0, total = e.urls.length; i < total; i++) {\n\t\t\t\t\t\tvar url = e.urls[i];\n\t\t\t\t\t\terrorContent += '<a href=\"' + url.src + '\" data-type=\"' + url.type + '\"><span>' + _mejs2.default.i18n.t('mejs.download-file') + ': ' + url.src + '</span></a>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (errorContent && t.getElement(t.layers).querySelector('.' + t.options.classPrefix + 'overlay-error')) {\n\t\t\t\terrorContainer.innerHTML = errorContent;\n\t\t\t\tt.getElement(t.layers).querySelector('.' + t.options.classPrefix + 'overlay-error').innerHTML = '' + imgError + errorContainer.outerHTML;\n\t\t\t\tt.getElement(t.layers).querySelector('.' + t.options.classPrefix + 'overlay-error').parentNode.style.display = 'block';\n\t\t\t}\n\n\t\t\tif (t.controlsEnabled) {\n\t\t\t\tt.disableControls();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setPlayerSize',\n\t\tvalue: function setPlayerSize(width, height) {\n\t\t\tvar t = this;\n\n\t\t\tif (!t.options.setDimensions) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (typeof width !== 'undefined') {\n\t\t\t\tt.width = width;\n\t\t\t}\n\n\t\t\tif (typeof height !== 'undefined') {\n\t\t\t\tt.height = height;\n\t\t\t}\n\n\t\t\tswitch (t.options.stretching) {\n\t\t\t\tcase 'fill':\n\t\t\t\t\tif (t.isVideo) {\n\t\t\t\t\t\tt.setFillMode();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.setDimensions(t.width, t.height);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'responsive':\n\t\t\t\t\tt.setResponsiveMode();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'none':\n\t\t\t\t\tt.setDimensions(t.width, t.height);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif (t.hasFluidMode() === true) {\n\t\t\t\t\t\tt.setResponsiveMode();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.setDimensions(t.width, t.height);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'hasFluidMode',\n\t\tvalue: function hasFluidMode() {\n\t\t\tvar t = this;\n\n\t\t\treturn t.height.toString().indexOf('%') !== -1 || t.node && t.node.style.maxWidth && t.node.style.maxWidth !== 'none' && t.node.style.maxWidth !== t.width || t.node && t.node.currentStyle && t.node.currentStyle.maxWidth === '100%';\n\t\t}\n\t}, {\n\t\tkey: 'setResponsiveMode',\n\t\tvalue: function setResponsiveMode() {\n\t\t\tvar t = this,\n\t\t\t    parent = function () {\n\n\t\t\t\tvar parentEl = void 0,\n\t\t\t\t    el = t.getElement(t.container);\n\n\t\t\t\twhile (el) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (_constants.IS_FIREFOX && el.tagName.toLowerCase() === 'html' && _window2.default.self !== _window2.default.top && _window2.default.frameElement !== null) {\n\t\t\t\t\t\t\treturn _window2.default.frameElement;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparentEl = el.parentElement;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tparentEl = el.parentElement;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (parentEl && dom.visible(parentEl)) {\n\t\t\t\t\t\treturn parentEl;\n\t\t\t\t\t}\n\t\t\t\t\tel = parentEl;\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}(),\n\t\t\t    parentStyles = parent ? getComputedStyle(parent, null) : getComputedStyle(_document2.default.body, null),\n\t\t\t    nativeWidth = function () {\n\t\t\t\tif (t.isVideo) {\n\t\t\t\t\tif (t.node.videoWidth && t.node.videoWidth > 0) {\n\t\t\t\t\t\treturn t.node.videoWidth;\n\t\t\t\t\t} else if (t.node.getAttribute('width')) {\n\t\t\t\t\t\treturn t.node.getAttribute('width');\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn t.options.defaultVideoWidth;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn t.options.defaultAudioWidth;\n\t\t\t\t}\n\t\t\t}(),\n\t\t\t    nativeHeight = function () {\n\t\t\t\tif (t.isVideo) {\n\t\t\t\t\tif (t.node.videoHeight && t.node.videoHeight > 0) {\n\t\t\t\t\t\treturn t.node.videoHeight;\n\t\t\t\t\t} else if (t.node.getAttribute('height')) {\n\t\t\t\t\t\treturn t.node.getAttribute('height');\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn t.options.defaultVideoHeight;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn t.options.defaultAudioHeight;\n\t\t\t\t}\n\t\t\t}(),\n\t\t\t    aspectRatio = function () {\n\t\t\t\tvar ratio = 1;\n\t\t\t\tif (!t.isVideo) {\n\t\t\t\t\treturn ratio;\n\t\t\t\t}\n\n\t\t\t\tif (t.node.videoWidth && t.node.videoWidth > 0 && t.node.videoHeight && t.node.videoHeight > 0) {\n\t\t\t\t\tratio = t.height >= t.width ? t.node.videoWidth / t.node.videoHeight : t.node.videoHeight / t.node.videoWidth;\n\t\t\t\t} else {\n\t\t\t\t\tratio = t.initialAspectRatio;\n\t\t\t\t}\n\n\t\t\t\tif (isNaN(ratio) || ratio < 0.01 || ratio > 100) {\n\t\t\t\t\tratio = 1;\n\t\t\t\t}\n\n\t\t\t\treturn ratio;\n\t\t\t}(),\n\t\t\t    parentHeight = parseFloat(parentStyles.height);\n\n\t\t\tvar newHeight = void 0,\n\t\t\t    parentWidth = parseFloat(parentStyles.width);\n\n\t\t\tif (t.isVideo) {\n\t\t\t\tif (t.height === '100%') {\n\t\t\t\t\tnewHeight = parseFloat(parentWidth * nativeHeight / nativeWidth, 10);\n\t\t\t\t} else {\n\t\t\t\t\tnewHeight = t.height >= t.width ? parseFloat(parentWidth / aspectRatio, 10) : parseFloat(parentWidth * aspectRatio, 10);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewHeight = nativeHeight;\n\t\t\t}\n\n\t\t\tif (isNaN(newHeight)) {\n\t\t\t\tnewHeight = parentHeight;\n\t\t\t}\n\n\t\t\tif (t.getElement(t.container).parentNode.length > 0 && t.getElement(t.container).parentNode.tagName.toLowerCase() === 'body') {\n\t\t\t\tparentWidth = _window2.default.innerWidth || _document2.default.documentElement.clientWidth || _document2.default.body.clientWidth;\n\t\t\t\tnewHeight = _window2.default.innerHeight || _document2.default.documentElement.clientHeight || _document2.default.body.clientHeight;\n\t\t\t}\n\n\t\t\tif (newHeight && parentWidth) {\n\t\t\t\tt.getElement(t.container).style.width = parentWidth + 'px';\n\t\t\t\tt.getElement(t.container).style.height = newHeight + 'px';\n\n\t\t\t\tt.node.style.width = '100%';\n\t\t\t\tt.node.style.height = '100%';\n\n\t\t\t\tif (t.isVideo && t.media.setSize) {\n\t\t\t\t\tt.media.setSize(parentWidth, newHeight);\n\t\t\t\t}\n\n\t\t\t\tvar layerChildren = t.getElement(t.layers).children;\n\t\t\t\tfor (var i = 0, total = layerChildren.length; i < total; i++) {\n\t\t\t\t\tlayerChildren[i].style.width = '100%';\n\t\t\t\t\tlayerChildren[i].style.height = '100%';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setFillMode',\n\t\tvalue: function setFillMode() {\n\t\t\tvar t = this;\n\t\t\tvar isIframe = _window2.default.self !== _window2.default.top && _window2.default.frameElement !== null;\n\t\t\tvar parent = function () {\n\t\t\t\tvar parentEl = void 0,\n\t\t\t\t    el = t.getElement(t.container);\n\n\t\t\t\twhile (el) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (_constants.IS_FIREFOX && el.tagName.toLowerCase() === 'html' && _window2.default.self !== _window2.default.top && _window2.default.frameElement !== null) {\n\t\t\t\t\t\t\treturn _window2.default.frameElement;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparentEl = el.parentElement;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tparentEl = el.parentElement;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (parentEl && dom.visible(parentEl)) {\n\t\t\t\t\t\treturn parentEl;\n\t\t\t\t\t}\n\t\t\t\t\tel = parentEl;\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}();\n\t\t\tvar parentStyles = parent ? getComputedStyle(parent, null) : getComputedStyle(_document2.default.body, null);\n\n\t\t\tif (t.node.style.height !== 'none' && t.node.style.height !== t.height) {\n\t\t\t\tt.node.style.height = 'auto';\n\t\t\t}\n\t\t\tif (t.node.style.maxWidth !== 'none' && t.node.style.maxWidth !== t.width) {\n\t\t\t\tt.node.style.maxWidth = 'none';\n\t\t\t}\n\n\t\t\tif (t.node.style.maxHeight !== 'none' && t.node.style.maxHeight !== t.height) {\n\t\t\t\tt.node.style.maxHeight = 'none';\n\t\t\t}\n\n\t\t\tif (t.node.currentStyle) {\n\t\t\t\tif (t.node.currentStyle.height === '100%') {\n\t\t\t\t\tt.node.currentStyle.height = 'auto';\n\t\t\t\t}\n\t\t\t\tif (t.node.currentStyle.maxWidth === '100%') {\n\t\t\t\t\tt.node.currentStyle.maxWidth = 'none';\n\t\t\t\t}\n\t\t\t\tif (t.node.currentStyle.maxHeight === '100%') {\n\t\t\t\t\tt.node.currentStyle.maxHeight = 'none';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!isIframe && !parseFloat(parentStyles.width)) {\n\t\t\t\tparent.style.width = t.media.offsetWidth + 'px';\n\t\t\t}\n\n\t\t\tif (!isIframe && !parseFloat(parentStyles.height)) {\n\t\t\t\tparent.style.height = t.media.offsetHeight + 'px';\n\t\t\t}\n\n\t\t\tparentStyles = getComputedStyle(parent);\n\n\t\t\tvar parentWidth = parseFloat(parentStyles.width),\n\t\t\t    parentHeight = parseFloat(parentStyles.height);\n\n\t\t\tt.setDimensions('100%', '100%');\n\n\t\t\tvar poster = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'poster>img');\n\t\t\tif (poster) {\n\t\t\t\tposter.style.display = '';\n\t\t\t}\n\n\t\t\tvar targetElement = t.getElement(t.container).querySelectorAll('object, embed, iframe, video'),\n\t\t\t    initHeight = t.height,\n\t\t\t    initWidth = t.width,\n\t\t\t    scaleX1 = parentWidth,\n\t\t\t    scaleY1 = initHeight * parentWidth / initWidth,\n\t\t\t    scaleX2 = initWidth * parentHeight / initHeight,\n\t\t\t    scaleY2 = parentHeight,\n\t\t\t    bScaleOnWidth = scaleX2 > parentWidth === false,\n\t\t\t    finalWidth = bScaleOnWidth ? Math.floor(scaleX1) : Math.floor(scaleX2),\n\t\t\t    finalHeight = bScaleOnWidth ? Math.floor(scaleY1) : Math.floor(scaleY2),\n\t\t\t    width = bScaleOnWidth ? parentWidth + 'px' : finalWidth + 'px',\n\t\t\t    height = bScaleOnWidth ? finalHeight + 'px' : parentHeight + 'px';\n\n\t\t\tfor (var i = 0, total = targetElement.length; i < total; i++) {\n\t\t\t\ttargetElement[i].style.height = height;\n\t\t\t\ttargetElement[i].style.width = width;\n\t\t\t\tif (t.media.setSize) {\n\t\t\t\t\tt.media.setSize(width, height);\n\t\t\t\t}\n\n\t\t\t\ttargetElement[i].style.marginLeft = Math.floor((parentWidth - finalWidth) / 2) + 'px';\n\t\t\t\ttargetElement[i].style.marginTop = 0;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setDimensions',\n\t\tvalue: function setDimensions(width, height) {\n\t\t\tvar t = this;\n\n\t\t\twidth = (0, _general.isString)(width) && width.indexOf('%') > -1 ? width : parseFloat(width) + 'px';\n\t\t\theight = (0, _general.isString)(height) && height.indexOf('%') > -1 ? height : parseFloat(height) + 'px';\n\n\t\t\tt.getElement(t.container).style.width = width;\n\t\t\tt.getElement(t.container).style.height = height;\n\n\t\t\tvar layers = t.getElement(t.layers).children;\n\t\t\tfor (var i = 0, total = layers.length; i < total; i++) {\n\t\t\t\tlayers[i].style.width = width;\n\t\t\t\tlayers[i].style.height = height;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setControlsSize',\n\t\tvalue: function setControlsSize() {\n\t\t\tvar t = this;\n\n\t\t\tif (!dom.visible(t.getElement(t.container))) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (t.rail && dom.visible(t.rail)) {\n\t\t\t\tvar totalStyles = t.total ? getComputedStyle(t.total, null) : null,\n\t\t\t\t    totalMargin = totalStyles ? parseFloat(totalStyles.marginLeft) + parseFloat(totalStyles.marginRight) : 0,\n\t\t\t\t    railStyles = getComputedStyle(t.rail),\n\t\t\t\t    railMargin = parseFloat(railStyles.marginLeft) + parseFloat(railStyles.marginRight);\n\n\t\t\t\tvar siblingsWidth = 0;\n\n\t\t\t\tvar siblings = dom.siblings(t.rail, function (el) {\n\t\t\t\t\treturn el !== t.rail;\n\t\t\t\t}),\n\t\t\t\t    total = siblings.length;\n\t\t\t\tfor (var i = 0; i < total; i++) {\n\t\t\t\t\tsiblingsWidth += siblings[i].offsetWidth;\n\t\t\t\t}\n\n\t\t\t\tsiblingsWidth += totalMargin + (totalMargin === 0 ? railMargin * 2 : railMargin) + 1;\n\n\t\t\t\tt.getElement(t.container).style.minWidth = siblingsWidth + 'px';\n\n\t\t\t\tvar event = (0, _general.createEvent)('controlsresize', t.getElement(t.container));\n\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t} else {\n\t\t\t\tvar children = t.getElement(t.controls).children;\n\t\t\t\tvar minWidth = 0;\n\n\t\t\t\tfor (var _i = 0, _total = children.length; _i < _total; _i++) {\n\t\t\t\t\tminWidth += children[_i].offsetWidth;\n\t\t\t\t}\n\n\t\t\t\tt.getElement(t.container).style.minWidth = minWidth + 'px';\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'addControlElement',\n\t\tvalue: function addControlElement(element, key) {\n\n\t\t\tvar t = this;\n\n\t\t\tif (t.featurePosition[key] !== undefined) {\n\t\t\t\tvar child = t.getElement(t.controls).children[t.featurePosition[key] - 1];\n\t\t\t\tchild.parentNode.insertBefore(element, child.nextSibling);\n\t\t\t} else {\n\t\t\t\tt.getElement(t.controls).appendChild(element);\n\t\t\t\tvar children = t.getElement(t.controls).children;\n\t\t\t\tfor (var i = 0, total = children.length; i < total; i++) {\n\t\t\t\t\tif (element === children[i]) {\n\t\t\t\t\t\tt.featurePosition[key] = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'createIframeLayer',\n\t\tvalue: function createIframeLayer() {\n\t\t\tvar t = this;\n\n\t\t\tif (t.isVideo && t.media.rendererName !== null && t.media.rendererName.indexOf('iframe') > -1 && !_document2.default.getElementById(t.media.id + '-iframe-overlay')) {\n\n\t\t\t\tvar layer = _document2.default.createElement('div'),\n\t\t\t\t    target = _document2.default.getElementById(t.media.id + '_' + t.media.rendererName);\n\n\t\t\t\tlayer.id = t.media.id + '-iframe-overlay';\n\t\t\t\tlayer.className = t.options.classPrefix + 'iframe-overlay';\n\t\t\t\tlayer.addEventListener('click', function (e) {\n\t\t\t\t\tif (t.options.clickToPlayPause) {\n\t\t\t\t\t\tif (t.paused) {\n\t\t\t\t\t\t\tt.play();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tt.pause();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\ttarget.parentNode.insertBefore(layer, target);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'resetSize',\n\t\tvalue: function resetSize() {\n\t\t\tvar t = this;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\t\tt.setControlsSize();\n\t\t\t}, 50);\n\t\t}\n\t}, {\n\t\tkey: 'setPoster',\n\t\tvalue: function setPoster(url) {\n\t\t\tvar t = this;\n\n\t\t\tif (t.getElement(t.container)) {\n\t\t\t\tvar posterDiv = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'poster');\n\n\t\t\t\tif (!posterDiv) {\n\t\t\t\t\tposterDiv = _document2.default.createElement('div');\n\t\t\t\t\tposterDiv.className = t.options.classPrefix + 'poster ' + t.options.classPrefix + 'layer';\n\t\t\t\t\tt.getElement(t.layers).appendChild(posterDiv);\n\t\t\t\t}\n\n\t\t\t\tvar posterImg = posterDiv.querySelector('img');\n\n\t\t\t\tif (!posterImg && url) {\n\t\t\t\t\tposterImg = _document2.default.createElement('img');\n\t\t\t\t\tposterImg.className = t.options.classPrefix + 'poster-img';\n\t\t\t\t\tposterImg.width = '100%';\n\t\t\t\t\tposterImg.height = '100%';\n\t\t\t\t\tposterDiv.style.display = '';\n\t\t\t\t\tposterDiv.appendChild(posterImg);\n\t\t\t\t}\n\n\t\t\t\tif (url) {\n\t\t\t\t\tposterImg.setAttribute('src', url);\n\t\t\t\t\tposterDiv.style.backgroundImage = 'url(\"' + url + '\")';\n\t\t\t\t\tposterDiv.style.display = '';\n\t\t\t\t} else if (posterImg) {\n\t\t\t\t\tposterDiv.style.backgroundImage = 'none';\n\t\t\t\t\tposterDiv.style.display = 'none';\n\t\t\t\t\tposterImg.remove();\n\t\t\t\t} else {\n\t\t\t\t\tposterDiv.style.display = 'none';\n\t\t\t\t}\n\t\t\t} else if (_constants.IS_IPAD && t.options.iPadUseNativeControls || _constants.IS_IPHONE && t.options.iPhoneUseNativeControls || _constants.IS_ANDROID && t.options.AndroidUseNativeControls) {\n\t\t\t\tt.media.originalNode.poster = url;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'changeSkin',\n\t\tvalue: function changeSkin(className) {\n\t\t\tvar t = this;\n\n\t\t\tt.getElement(t.container).className = t.options.classPrefix + 'container ' + className;\n\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\tt.setControlsSize();\n\t\t}\n\t}, {\n\t\tkey: 'globalBind',\n\t\tvalue: function globalBind(events, callback) {\n\t\t\tvar t = this,\n\t\t\t    doc = t.node ? t.node.ownerDocument : _document2.default;\n\n\t\t\tevents = (0, _general.splitEvents)(events, t.id);\n\t\t\tif (events.d) {\n\t\t\t\tvar eventList = events.d.split(' ');\n\t\t\t\tfor (var i = 0, total = eventList.length; i < total; i++) {\n\t\t\t\t\teventList[i].split('.').reduce(function (part, e) {\n\t\t\t\t\t\tdoc.addEventListener(e, callback, false);\n\t\t\t\t\t\treturn e;\n\t\t\t\t\t}, '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (events.w) {\n\t\t\t\tvar _eventList = events.w.split(' ');\n\t\t\t\tfor (var _i2 = 0, _total2 = _eventList.length; _i2 < _total2; _i2++) {\n\t\t\t\t\t_eventList[_i2].split('.').reduce(function (part, e) {\n\t\t\t\t\t\t_window2.default.addEventListener(e, callback, false);\n\t\t\t\t\t\treturn e;\n\t\t\t\t\t}, '');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'globalUnbind',\n\t\tvalue: function globalUnbind(events, callback) {\n\t\t\tvar t = this,\n\t\t\t    doc = t.node ? t.node.ownerDocument : _document2.default;\n\n\t\t\tevents = (0, _general.splitEvents)(events, t.id);\n\t\t\tif (events.d) {\n\t\t\t\tvar eventList = events.d.split(' ');\n\t\t\t\tfor (var i = 0, total = eventList.length; i < total; i++) {\n\t\t\t\t\teventList[i].split('.').reduce(function (part, e) {\n\t\t\t\t\t\tdoc.removeEventListener(e, callback, false);\n\t\t\t\t\t\treturn e;\n\t\t\t\t\t}, '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (events.w) {\n\t\t\t\tvar _eventList2 = events.w.split(' ');\n\t\t\t\tfor (var _i3 = 0, _total3 = _eventList2.length; _i3 < _total3; _i3++) {\n\t\t\t\t\t_eventList2[_i3].split('.').reduce(function (part, e) {\n\t\t\t\t\t\t_window2.default.removeEventListener(e, callback, false);\n\t\t\t\t\t\treturn e;\n\t\t\t\t\t}, '');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'buildfeatures',\n\t\tvalue: function buildfeatures(player, controls, layers, media) {\n\t\t\tvar t = this;\n\n\t\t\tfor (var i = 0, total = t.options.features.length; i < total; i++) {\n\t\t\t\tvar feature = t.options.features[i];\n\t\t\t\tif (t['build' + feature]) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tt['build' + feature](player, controls, layers, media);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.error('error building ' + feature, e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'buildposter',\n\t\tvalue: function buildposter(player, controls, layers, media) {\n\t\t\tvar t = this,\n\t\t\t    poster = _document2.default.createElement('div');\n\n\t\t\tposter.className = t.options.classPrefix + 'poster ' + t.options.classPrefix + 'layer';\n\t\t\tlayers.appendChild(poster);\n\n\t\t\tvar posterUrl = media.originalNode.getAttribute('poster');\n\n\t\t\tif (player.options.poster !== '') {\n\t\t\t\tif (posterUrl && _constants.IS_IOS) {\n\t\t\t\t\tmedia.originalNode.removeAttribute('poster');\n\t\t\t\t}\n\t\t\t\tposterUrl = player.options.poster;\n\t\t\t}\n\n\t\t\tif (posterUrl) {\n\t\t\t\tt.setPoster(posterUrl);\n\t\t\t} else if (t.media.renderer !== null && typeof t.media.renderer.getPosterUrl === 'function') {\n\t\t\t\tt.setPoster(t.media.renderer.getPosterUrl());\n\t\t\t} else {\n\t\t\t\tposter.style.display = 'none';\n\t\t\t}\n\n\t\t\tmedia.addEventListener('play', function () {\n\t\t\t\tposter.style.display = 'none';\n\t\t\t});\n\n\t\t\tmedia.addEventListener('playing', function () {\n\t\t\t\tposter.style.display = 'none';\n\t\t\t});\n\n\t\t\tif (player.options.showPosterWhenEnded && player.options.autoRewind) {\n\t\t\t\tmedia.addEventListener('ended', function () {\n\t\t\t\t\tposter.style.display = '';\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tmedia.addEventListener('error', function () {\n\t\t\t\tposter.style.display = 'none';\n\t\t\t});\n\n\t\t\tif (player.options.showPosterWhenPaused) {\n\t\t\t\tmedia.addEventListener('pause', function () {\n\t\t\t\t\tif (!player.ended) {\n\t\t\t\t\t\tposter.style.display = '';\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'buildoverlays',\n\t\tvalue: function buildoverlays(player, controls, layers, media) {\n\n\t\t\tif (!player.isVideo) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar t = this,\n\t\t\t    loading = _document2.default.createElement('div'),\n\t\t\t    error = _document2.default.createElement('div'),\n\t\t\t    bigPlay = _document2.default.createElement('div');\n\n\t\t\tloading.style.display = 'none';\n\t\t\tloading.className = t.options.classPrefix + 'overlay ' + t.options.classPrefix + 'layer';\n\t\t\tloading.innerHTML = '<div class=\"' + t.options.classPrefix + 'overlay-loading\">' + ('<span class=\"' + t.options.classPrefix + 'overlay-loading-bg-img\"></span>') + '</div>';\n\t\t\tlayers.appendChild(loading);\n\n\t\t\terror.style.display = 'none';\n\t\t\terror.className = t.options.classPrefix + 'overlay ' + t.options.classPrefix + 'layer';\n\t\t\terror.innerHTML = '<div class=\"' + t.options.classPrefix + 'overlay-error\"></div>';\n\t\t\tlayers.appendChild(error);\n\n\t\t\tbigPlay.className = t.options.classPrefix + 'overlay ' + t.options.classPrefix + 'layer ' + t.options.classPrefix + 'overlay-play';\n\t\t\tbigPlay.innerHTML = '<div class=\"' + t.options.classPrefix + 'overlay-button\" role=\"button\" tabindex=\"0\" ' + ('aria-label=\"' + _i18n2.default.t('mejs.play') + '\" aria-pressed=\"false\"></div>');\n\t\t\tbigPlay.addEventListener('click', function () {\n\t\t\t\tif (t.options.clickToPlayPause) {\n\n\t\t\t\t\tvar button = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'overlay-button'),\n\t\t\t\t\t    pressed = button.getAttribute('aria-pressed');\n\n\t\t\t\t\tif (t.paused) {\n\t\t\t\t\t\tt.play();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.pause();\n\t\t\t\t\t}\n\n\t\t\t\t\tbutton.setAttribute('aria-pressed', !!pressed);\n\t\t\t\t\tt.getElement(t.container).focus();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tbigPlay.addEventListener('keydown', function (e) {\n\t\t\t\tvar keyPressed = e.keyCode || e.which || 0;\n\n\t\t\t\tif (keyPressed === 13 || _constants.IS_FIREFOX && keyPressed === 32) {\n\t\t\t\t\tvar event = (0, _general.createEvent)('click', bigPlay);\n\t\t\t\t\tbigPlay.dispatchEvent(event);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlayers.appendChild(bigPlay);\n\n\t\t\tif (t.media.rendererName !== null && (/(youtube|facebook)/i.test(t.media.rendererName) && !(t.media.originalNode.getAttribute('poster') || player.options.poster || typeof t.media.renderer.getPosterUrl === 'function' && t.media.renderer.getPosterUrl()) || _constants.IS_STOCK_ANDROID || t.media.originalNode.getAttribute('autoplay'))) {\n\t\t\t\tbigPlay.style.display = 'none';\n\t\t\t}\n\n\t\t\tvar hasError = false;\n\n\t\t\tmedia.addEventListener('play', function () {\n\t\t\t\tbigPlay.style.display = 'none';\n\t\t\t\tloading.style.display = 'none';\n\t\t\t\terror.style.display = 'none';\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('playing', function () {\n\t\t\t\tbigPlay.style.display = 'none';\n\t\t\t\tloading.style.display = 'none';\n\t\t\t\terror.style.display = 'none';\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('seeking', function () {\n\t\t\t\tbigPlay.style.display = 'none';\n\t\t\t\tloading.style.display = '';\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('seeked', function () {\n\t\t\t\tbigPlay.style.display = t.paused && !_constants.IS_STOCK_ANDROID ? '' : 'none';\n\t\t\t\tloading.style.display = 'none';\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('pause', function () {\n\t\t\t\tloading.style.display = 'none';\n\t\t\t\tif (!_constants.IS_STOCK_ANDROID && !hasError) {\n\t\t\t\t\tbigPlay.style.display = '';\n\t\t\t\t}\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('waiting', function () {\n\t\t\t\tloading.style.display = '';\n\t\t\t\thasError = false;\n\t\t\t});\n\n\t\t\tmedia.addEventListener('loadeddata', function () {\n\t\t\t\tloading.style.display = '';\n\n\t\t\t\tif (_constants.IS_ANDROID) {\n\t\t\t\t\tmedia.canplayTimeout = setTimeout(function () {\n\t\t\t\t\t\tif (_document2.default.createEvent) {\n\t\t\t\t\t\t\tvar evt = _document2.default.createEvent('HTMLEvents');\n\t\t\t\t\t\t\tevt.initEvent('canplay', true, true);\n\t\t\t\t\t\t\treturn media.dispatchEvent(evt);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('canplay', function () {\n\t\t\t\tloading.style.display = 'none';\n\n\t\t\t\tclearTimeout(media.canplayTimeout);\n\t\t\t\thasError = false;\n\t\t\t});\n\n\t\t\tmedia.addEventListener('error', function (e) {\n\t\t\t\tt._handleError(e, t.media, t.node);\n\t\t\t\tloading.style.display = 'none';\n\t\t\t\tbigPlay.style.display = 'none';\n\t\t\t\thasError = true;\n\t\t\t});\n\n\t\t\tmedia.addEventListener('loadedmetadata', function () {\n\t\t\t\tif (!t.controlsEnabled) {\n\t\t\t\t\tt.enableControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmedia.addEventListener('keydown', function (e) {\n\t\t\t\tt.onkeydown(player, media, e);\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'buildkeyboard',\n\t\tvalue: function buildkeyboard(player, controls, layers, media) {\n\n\t\t\tvar t = this;\n\n\t\t\tt.getElement(t.container).addEventListener('keydown', function () {\n\t\t\t\tt.keyboardAction = true;\n\t\t\t});\n\n\t\t\tt.globalKeydownCallback = function (event) {\n\t\t\t\tvar container = _document2.default.activeElement.closest('.' + t.options.classPrefix + 'container'),\n\t\t\t\t    target = t.media.closest('.' + t.options.classPrefix + 'container');\n\t\t\t\tt.hasFocus = !!(container && target && container.id === target.id);\n\t\t\t\treturn t.onkeydown(player, media, event);\n\t\t\t};\n\n\t\t\tt.globalClickCallback = function (event) {\n\t\t\t\tt.hasFocus = !!event.target.closest('.' + t.options.classPrefix + 'container');\n\t\t\t};\n\n\t\t\tt.globalBind('keydown', t.globalKeydownCallback);\n\n\t\t\tt.globalBind('click', t.globalClickCallback);\n\t\t}\n\t}, {\n\t\tkey: 'onkeydown',\n\t\tvalue: function onkeydown(player, media, e) {\n\n\t\t\tif (player.hasFocus && player.options.enableKeyboard) {\n\t\t\t\tfor (var i = 0, total = player.options.keyActions.length; i < total; i++) {\n\t\t\t\t\tvar keyAction = player.options.keyActions[i];\n\n\t\t\t\t\tfor (var j = 0, jl = keyAction.keys.length; j < jl; j++) {\n\t\t\t\t\t\tif (e.keyCode === keyAction.keys[j]) {\n\t\t\t\t\t\t\tkeyAction.action(player, media, e.keyCode, e);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}, {\n\t\tkey: 'play',\n\t\tvalue: function play() {\n\t\t\tthis.proxy.play();\n\t\t}\n\t}, {\n\t\tkey: 'pause',\n\t\tvalue: function pause() {\n\t\t\tthis.proxy.pause();\n\t\t}\n\t}, {\n\t\tkey: 'load',\n\t\tvalue: function load() {\n\t\t\tthis.proxy.load();\n\t\t}\n\t}, {\n\t\tkey: 'setCurrentTime',\n\t\tvalue: function setCurrentTime(time) {\n\t\t\tthis.proxy.setCurrentTime(time);\n\t\t}\n\t}, {\n\t\tkey: 'getCurrentTime',\n\t\tvalue: function getCurrentTime() {\n\t\t\treturn this.proxy.currentTime;\n\t\t}\n\t}, {\n\t\tkey: 'getDuration',\n\t\tvalue: function getDuration() {\n\t\t\treturn this.proxy.duration;\n\t\t}\n\t}, {\n\t\tkey: 'setVolume',\n\t\tvalue: function setVolume(volume) {\n\t\t\tthis.proxy.volume = volume;\n\t\t}\n\t}, {\n\t\tkey: 'getVolume',\n\t\tvalue: function getVolume() {\n\t\t\treturn this.proxy.getVolume();\n\t\t}\n\t}, {\n\t\tkey: 'setMuted',\n\t\tvalue: function setMuted(value) {\n\t\t\tthis.proxy.setMuted(value);\n\t\t}\n\t}, {\n\t\tkey: 'setSrc',\n\t\tvalue: function setSrc(src) {\n\t\t\tif (!this.controlsEnabled) {\n\t\t\t\tthis.enableControls();\n\t\t\t}\n\t\t\tthis.proxy.setSrc(src);\n\t\t}\n\t}, {\n\t\tkey: 'getSrc',\n\t\tvalue: function getSrc() {\n\t\t\treturn this.proxy.getSrc();\n\t\t}\n\t}, {\n\t\tkey: 'canPlayType',\n\t\tvalue: function canPlayType(type) {\n\t\t\treturn this.proxy.canPlayType(type);\n\t\t}\n\t}, {\n\t\tkey: 'remove',\n\t\tvalue: function remove() {\n\t\t\tvar t = this,\n\t\t\t    rendererName = t.media.rendererName,\n\t\t\t    src = t.media.originalNode.src;\n\n\t\t\tfor (var featureIndex in t.options.features) {\n\t\t\t\tvar feature = t.options.features[featureIndex];\n\t\t\t\tif (t['clean' + feature]) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tt['clean' + feature](t, t.getElement(t.layers), t.getElement(t.controls), t.media);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.error('error cleaning ' + feature, e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar nativeWidth = t.node.getAttribute('width'),\n\t\t\t    nativeHeight = t.node.getAttribute('height');\n\n\t\t\tif (nativeWidth) {\n\t\t\t\tif (nativeWidth.indexOf('%') === -1) {\n\t\t\t\t\tnativeWidth = nativeWidth + 'px';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnativeWidth = 'auto';\n\t\t\t}\n\n\t\t\tif (nativeHeight) {\n\t\t\t\tif (nativeHeight.indexOf('%') === -1) {\n\t\t\t\t\tnativeHeight = nativeHeight + 'px';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnativeHeight = 'auto';\n\t\t\t}\n\n\t\t\tt.node.style.width = nativeWidth;\n\t\t\tt.node.style.height = nativeHeight;\n\n\t\t\tt.setPlayerSize(0, 0);\n\n\t\t\tif (!t.isDynamic) {\n\t\t\t\t(function () {\n\t\t\t\t\tt.node.setAttribute('controls', true);\n\t\t\t\t\tt.node.setAttribute('id', t.node.getAttribute('id').replace('_' + rendererName, '').replace('_from_mejs', ''));\n\t\t\t\t\tvar poster = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'poster>img');\n\t\t\t\t\tif (poster) {\n\t\t\t\t\t\tt.node.setAttribute('poster', poster.src);\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete t.node.autoplay;\n\n\t\t\t\t\tt.node.setAttribute('src', '');\n\t\t\t\t\tif (t.media.canPlayType((0, _media.getTypeFromFile)(src)) !== '') {\n\t\t\t\t\t\tt.node.setAttribute('src', src);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rendererName && rendererName.indexOf('iframe') > -1) {\n\t\t\t\t\t\tvar layer = _document2.default.getElementById(t.media.id + '-iframe-overlay');\n\t\t\t\t\t\tlayer.remove();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar node = t.node.cloneNode();\n\t\t\t\t\tnode.style.display = '';\n\t\t\t\t\tt.getElement(t.container).parentNode.insertBefore(node, t.getElement(t.container));\n\t\t\t\t\tt.node.remove();\n\n\t\t\t\t\tif (t.mediaFiles) {\n\t\t\t\t\t\tfor (var i = 0, total = t.mediaFiles.length; i < total; i++) {\n\t\t\t\t\t\t\tvar source = _document2.default.createElement('source');\n\t\t\t\t\t\t\tsource.setAttribute('src', t.mediaFiles[i].src);\n\t\t\t\t\t\t\tsource.setAttribute('type', t.mediaFiles[i].type);\n\t\t\t\t\t\t\tnode.appendChild(source);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (t.trackFiles) {\n\t\t\t\t\t\tvar _loop3 = function _loop3(_i4, _total4) {\n\t\t\t\t\t\t\tvar track = t.trackFiles[_i4];\n\t\t\t\t\t\t\tvar newTrack = _document2.default.createElement('track');\n\t\t\t\t\t\t\tnewTrack.kind = track.kind;\n\t\t\t\t\t\t\tnewTrack.label = track.label;\n\t\t\t\t\t\t\tnewTrack.srclang = track.srclang;\n\t\t\t\t\t\t\tnewTrack.src = track.src;\n\n\t\t\t\t\t\t\tnode.appendChild(newTrack);\n\t\t\t\t\t\t\tnewTrack.addEventListener('load', function () {\n\t\t\t\t\t\t\t\tthis.mode = 'showing';\n\t\t\t\t\t\t\t\tnode.textTracks[_i4].mode = 'showing';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tfor (var _i4 = 0, _total4 = t.trackFiles.length; _i4 < _total4; _i4++) {\n\t\t\t\t\t\t\t_loop3(_i4, _total4);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete t.node;\n\t\t\t\t\tdelete t.mediaFiles;\n\t\t\t\t\tdelete t.trackFiles;\n\t\t\t\t})();\n\t\t\t} else {\n\t\t\t\tt.getElement(t.container).parentNode.insertBefore(t.node, t.getElement(t.container));\n\t\t\t}\n\n\t\t\tif (t.media.renderer && typeof t.media.renderer.destroy === 'function') {\n\t\t\t\tt.media.renderer.destroy();\n\t\t\t}\n\n\t\t\tdelete _mejs2.default.players[t.id];\n\n\t\t\tif (_typeof(t.getElement(t.container)) === 'object') {\n\t\t\t\tvar offscreen = t.getElement(t.container).parentNode.querySelector('.' + t.options.classPrefix + 'offscreen');\n\t\t\t\toffscreen.remove();\n\t\t\t\tt.getElement(t.container).remove();\n\t\t\t}\n\t\t\tt.globalUnbind('resize', t.globalResizeCallback);\n\t\t\tt.globalUnbind('keydown', t.globalKeydownCallback);\n\t\t\tt.globalUnbind('click', t.globalClickCallback);\n\n\t\t\tdelete t.media.player;\n\t\t}\n\t}, {\n\t\tkey: 'paused',\n\t\tget: function get() {\n\t\t\treturn this.proxy.paused;\n\t\t}\n\t}, {\n\t\tkey: 'muted',\n\t\tget: function get() {\n\t\t\treturn this.proxy.muted;\n\t\t},\n\t\tset: function set(muted) {\n\t\t\tthis.setMuted(muted);\n\t\t}\n\t}, {\n\t\tkey: 'ended',\n\t\tget: function get() {\n\t\t\treturn this.proxy.ended;\n\t\t}\n\t}, {\n\t\tkey: 'readyState',\n\t\tget: function get() {\n\t\t\treturn this.proxy.readyState;\n\t\t}\n\t}, {\n\t\tkey: 'currentTime',\n\t\tset: function set(time) {\n\t\t\tthis.setCurrentTime(time);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getCurrentTime();\n\t\t}\n\t}, {\n\t\tkey: 'duration',\n\t\tget: function get() {\n\t\t\treturn this.getDuration();\n\t\t}\n\t}, {\n\t\tkey: 'volume',\n\t\tset: function set(volume) {\n\t\t\tthis.setVolume(volume);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getVolume();\n\t\t}\n\t}, {\n\t\tkey: 'src',\n\t\tset: function set(src) {\n\t\t\tthis.setSrc(src);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getSrc();\n\t\t}\n\t}]);\n\n\treturn MediaElementPlayer;\n}();\n\n_window2.default.MediaElementPlayer = MediaElementPlayer;\n_mejs2.default.MediaElementPlayer = MediaElementPlayer;\n\nexports.default = MediaElementPlayer;\n\n},{\"17\":17,\"2\":2,\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"30\":30,\"5\":5,\"6\":6,\"7\":7}],17:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DefaultPlayer = function () {\n\tfunction DefaultPlayer(player) {\n\t\t_classCallCheck(this, DefaultPlayer);\n\n\t\tthis.media = player.media;\n\t\tthis.isVideo = player.isVideo;\n\t\tthis.classPrefix = player.options.classPrefix;\n\t\tthis.createIframeLayer = function () {\n\t\t\treturn player.createIframeLayer();\n\t\t};\n\t\tthis.setPoster = function (url) {\n\t\t\treturn player.setPoster(url);\n\t\t};\n\t\treturn this;\n\t}\n\n\t_createClass(DefaultPlayer, [{\n\t\tkey: 'play',\n\t\tvalue: function play() {\n\t\t\tthis.media.play();\n\t\t}\n\t}, {\n\t\tkey: 'pause',\n\t\tvalue: function pause() {\n\t\t\tthis.media.pause();\n\t\t}\n\t}, {\n\t\tkey: 'load',\n\t\tvalue: function load() {\n\t\t\tvar t = this;\n\n\t\t\tif (!t.isLoaded) {\n\t\t\t\tt.media.load();\n\t\t\t}\n\n\t\t\tt.isLoaded = true;\n\t\t}\n\t}, {\n\t\tkey: 'setCurrentTime',\n\t\tvalue: function setCurrentTime(time) {\n\t\t\tthis.media.setCurrentTime(time);\n\t\t}\n\t}, {\n\t\tkey: 'getCurrentTime',\n\t\tvalue: function getCurrentTime() {\n\t\t\treturn this.media.currentTime;\n\t\t}\n\t}, {\n\t\tkey: 'getDuration',\n\t\tvalue: function getDuration() {\n\t\t\tvar duration = this.media.getDuration();\n\t\t\tif (duration === Infinity && this.media.seekable && this.media.seekable.length) {\n\t\t\t\tduration = this.media.seekable.end(0);\n\t\t\t}\n\t\t\treturn duration;\n\t\t}\n\t}, {\n\t\tkey: 'setVolume',\n\t\tvalue: function setVolume(volume) {\n\t\t\tthis.media.setVolume(volume);\n\t\t}\n\t}, {\n\t\tkey: 'getVolume',\n\t\tvalue: function getVolume() {\n\t\t\treturn this.media.getVolume();\n\t\t}\n\t}, {\n\t\tkey: 'setMuted',\n\t\tvalue: function setMuted(value) {\n\t\t\tthis.media.setMuted(value);\n\t\t}\n\t}, {\n\t\tkey: 'setSrc',\n\t\tvalue: function setSrc(src) {\n\t\t\tvar t = this,\n\t\t\t    layer = document.getElementById(t.media.id + '-iframe-overlay');\n\n\t\t\tif (layer) {\n\t\t\t\tlayer.remove();\n\t\t\t}\n\n\t\t\tt.media.setSrc(src);\n\t\t\tt.createIframeLayer();\n\t\t\tif (t.media.renderer !== null && typeof t.media.renderer.getPosterUrl === 'function') {\n\t\t\t\tt.setPoster(t.media.renderer.getPosterUrl());\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'getSrc',\n\t\tvalue: function getSrc() {\n\t\t\treturn this.media.getSrc();\n\t\t}\n\t}, {\n\t\tkey: 'canPlayType',\n\t\tvalue: function canPlayType(type) {\n\t\t\treturn this.media.canPlayType(type);\n\t\t}\n\t}, {\n\t\tkey: 'paused',\n\t\tget: function get() {\n\t\t\treturn this.media.paused;\n\t\t}\n\t}, {\n\t\tkey: 'muted',\n\t\tset: function set(muted) {\n\t\t\tthis.setMuted(muted);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.media.muted;\n\t\t}\n\t}, {\n\t\tkey: 'ended',\n\t\tget: function get() {\n\t\t\treturn this.media.ended;\n\t\t}\n\t}, {\n\t\tkey: 'readyState',\n\t\tget: function get() {\n\t\t\treturn this.media.readyState;\n\t\t}\n\t}, {\n\t\tkey: 'currentTime',\n\t\tset: function set(time) {\n\t\t\tthis.setCurrentTime(time);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getCurrentTime();\n\t\t}\n\t}, {\n\t\tkey: 'duration',\n\t\tget: function get() {\n\t\t\treturn this.getDuration();\n\t\t}\n\t}, {\n\t\tkey: 'remainingTime',\n\t\tget: function get() {\n\t\t\treturn this.getDuration() - this.currentTime();\n\t\t}\n\t}, {\n\t\tkey: 'volume',\n\t\tset: function set(volume) {\n\t\t\tthis.setVolume(volume);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getVolume();\n\t\t}\n\t}, {\n\t\tkey: 'src',\n\t\tset: function set(src) {\n\t\t\tthis.setSrc(src);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getSrc();\n\t\t}\n\t}]);\n\n\treturn DefaultPlayer;\n}();\n\nexports.default = DefaultPlayer;\n\n\n_window2.default.DefaultPlayer = DefaultPlayer;\n\n},{\"3\":3}],18:[function(_dereq_,module,exports){\n'use strict';\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nif (typeof jQuery !== 'undefined') {\n\t_mejs2.default.$ = jQuery;\n} else if (typeof Zepto !== 'undefined') {\n\t_mejs2.default.$ = Zepto;\n} else if (typeof ender !== 'undefined') {\n\t_mejs2.default.$ = ender;\n}\n\n(function ($) {\n\tif (typeof $ !== 'undefined') {\n\t\t$.fn.mediaelementplayer = function (options) {\n\t\t\tif (options === false) {\n\t\t\t\tthis.each(function () {\n\t\t\t\t\tvar player = $(this).data('mediaelementplayer');\n\t\t\t\t\tif (player) {\n\t\t\t\t\t\tplayer.remove();\n\t\t\t\t\t}\n\t\t\t\t\t$(this).removeData('mediaelementplayer');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.each(function () {\n\t\t\t\t\t$(this).data('mediaelementplayer', new _player2.default(this, options));\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\t$(document).ready(function () {\n\t\t\t$('.' + _mejs2.default.MepDefaults.classPrefix + 'player').mediaelementplayer();\n\t\t});\n\t}\n})(_mejs2.default.$);\n\n},{\"16\":16,\"3\":3,\"7\":7}],19:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _media = _dereq_(28);\n\nvar _constants = _dereq_(25);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NativeDash = {\n\n\tpromise: null,\n\n\tload: function load(settings) {\n\t\tif (typeof dashjs !== 'undefined') {\n\t\t\tNativeDash.promise = new Promise(function (resolve) {\n\t\t\t\tresolve();\n\t\t\t}).then(function () {\n\t\t\t\tNativeDash._createPlayer(settings);\n\t\t\t});\n\t\t} else {\n\t\t\tsettings.options.path = typeof settings.options.path === 'string' ? settings.options.path : 'https://cdn.dashjs.org/latest/dash.all.min.js';\n\n\t\t\tNativeDash.promise = NativeDash.promise || (0, _dom.loadScript)(settings.options.path);\n\t\t\tNativeDash.promise.then(function () {\n\t\t\t\tNativeDash._createPlayer(settings);\n\t\t\t});\n\t\t}\n\n\t\treturn NativeDash.promise;\n\t},\n\n\t_createPlayer: function _createPlayer(settings) {\n\t\tvar player = dashjs.MediaPlayer().create();\n\t\t_window2.default['__ready__' + settings.id](player);\n\t\treturn player;\n\t}\n};\n\nvar DashNativeRenderer = {\n\tname: 'native_dash',\n\toptions: {\n\t\tprefix: 'native_dash',\n\t\tdash: {\n\t\t\tpath: 'https://cdn.dashjs.org/latest/dash.all.min.js',\n\t\t\tdebug: false,\n\t\t\tdrm: {},\n\n\t\t\trobustnessLevel: ''\n\t\t}\n\t},\n\n\tcanPlayType: function canPlayType(type) {\n\t\treturn _constants.HAS_MSE && ['application/dash+xml'].indexOf(type.toLowerCase()) > -1;\n\t},\n\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar originalNode = mediaElement.originalNode,\n\t\t    id = mediaElement.id + '_' + options.prefix,\n\t\t    autoplay = originalNode.autoplay,\n\t\t    children = originalNode.children;\n\n\t\tvar node = null,\n\t\t    dashPlayer = null;\n\n\t\toriginalNode.removeAttribute('type');\n\t\tfor (var i = 0, total = children.length; i < total; i++) {\n\t\t\tchildren[i].removeAttribute('type');\n\t\t}\n\n\t\tnode = originalNode.cloneNode(true);\n\t\toptions = Object.assign(options, mediaElement.options);\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    events = _mejs2.default.html5media.events.concat(['click', 'mouseover', 'mouseout']).filter(function (e) {\n\t\t\treturn e !== 'error';\n\t\t}),\n\t\t    attachNativeEvents = function attachNativeEvents(e) {\n\t\t\tvar event = (0, _general.createEvent)(e.type, mediaElement);\n\t\t\tmediaElement.dispatchEvent(event);\n\t\t},\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tnode['get' + capName] = function () {\n\t\t\t\treturn dashPlayer !== null ? node[propName] : null;\n\t\t\t};\n\n\t\t\tnode['set' + capName] = function (value) {\n\t\t\t\tif (_mejs2.default.html5media.readOnlyProperties.indexOf(propName) === -1) {\n\t\t\t\t\tif (propName === 'src') {\n\t\t\t\t\t\tvar source = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.src ? value.src : value;\n\t\t\t\t\t\tnode[propName] = source;\n\t\t\t\t\t\tif (dashPlayer !== null) {\n\t\t\t\t\t\t\tdashPlayer.reset();\n\t\t\t\t\t\t\tfor (var _i = 0, _total = events.length; _i < _total; _i++) {\n\t\t\t\t\t\t\t\tnode.removeEventListener(events[_i], attachNativeEvents);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdashPlayer = NativeDash._createPlayer({\n\t\t\t\t\t\t\t\toptions: options.dash,\n\t\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && _typeof(value.drm) === 'object') {\n\t\t\t\t\t\t\t\tdashPlayer.setProtectionData(value.drm);\n\t\t\t\t\t\t\t\tif ((0, _general.isString)(options.dash.robustnessLevel) && options.dash.robustnessLevel) {\n\t\t\t\t\t\t\t\t\tdashPlayer.getProtectionController().setRobustnessLevel(options.dash.robustnessLevel);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdashPlayer.attachSource(source);\n\t\t\t\t\t\t\tif (autoplay) {\n\t\t\t\t\t\t\t\tdashPlayer.play();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode[propName] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var _i2 = 0, _total2 = props.length; _i2 < _total2; _i2++) {\n\t\t\tassignGettersSetters(props[_i2]);\n\t\t}\n\n\t\t_window2.default['__ready__' + id] = function (_dashPlayer) {\n\t\t\tmediaElement.dashPlayer = dashPlayer = _dashPlayer;\n\n\t\t\tvar dashEvents = dashjs.MediaPlayer.events,\n\t\t\t    assignEvents = function assignEvents(eventName) {\n\t\t\t\tif (eventName === 'loadedmetadata') {\n\t\t\t\t\tdashPlayer.initialize();\n\t\t\t\t\tdashPlayer.attachView(node);\n\t\t\t\t\tdashPlayer.setAutoPlay(false);\n\n\t\t\t\t\tif (_typeof(options.dash.drm) === 'object' && !_mejs2.default.Utils.isObjectEmpty(options.dash.drm)) {\n\t\t\t\t\t\tdashPlayer.setProtectionData(options.dash.drm);\n\t\t\t\t\t\tif ((0, _general.isString)(options.dash.robustnessLevel) && options.dash.robustnessLevel) {\n\t\t\t\t\t\t\tdashPlayer.getProtectionController().setRobustnessLevel(options.dash.robustnessLevel);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdashPlayer.attachSource(node.getSrc());\n\t\t\t\t}\n\n\t\t\t\tnode.addEventListener(eventName, attachNativeEvents);\n\t\t\t};\n\n\t\t\tfor (var _i3 = 0, _total3 = events.length; _i3 < _total3; _i3++) {\n\t\t\t\tassignEvents(events[_i3]);\n\t\t\t}\n\n\t\t\tvar assignMdashEvents = function assignMdashEvents(e) {\n\t\t\t\tif (e.type.toLowerCase() === 'error') {\n\t\t\t\t\tmediaElement.generateError(e.message, node.src);\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t} else {\n\t\t\t\t\tvar _event = (0, _general.createEvent)(e.type, mediaElement);\n\t\t\t\t\t_event.data = e;\n\t\t\t\t\tmediaElement.dispatchEvent(_event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfor (var eventType in dashEvents) {\n\t\t\t\tif (dashEvents.hasOwnProperty(eventType)) {\n\t\t\t\t\tdashPlayer.on(dashEvents[eventType], function (e) {\n\t\t\t\t\t\treturn assignMdashEvents(e);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (mediaFiles && mediaFiles.length > 0) {\n\t\t\tfor (var _i4 = 0, _total4 = mediaFiles.length; _i4 < _total4; _i4++) {\n\t\t\t\tif (_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[_i4].type)) {\n\t\t\t\t\tnode.setAttribute('src', mediaFiles[_i4].src);\n\t\t\t\t\tif (typeof mediaFiles[_i4].drm !== 'undefined') {\n\t\t\t\t\t\toptions.dash.drm = mediaFiles[_i4].drm;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tnode.setAttribute('id', id);\n\n\t\toriginalNode.parentNode.insertBefore(node, originalNode);\n\t\toriginalNode.autoplay = false;\n\t\toriginalNode.style.display = 'none';\n\n\t\tnode.setSize = function (width, height) {\n\t\t\tnode.style.width = width + 'px';\n\t\t\tnode.style.height = height + 'px';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.hide = function () {\n\t\t\tnode.pause();\n\t\t\tnode.style.display = 'none';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.show = function () {\n\t\t\tnode.style.display = '';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.destroy = function () {\n\t\t\tif (dashPlayer !== null) {\n\t\t\t\tdashPlayer.reset();\n\t\t\t}\n\t\t};\n\n\t\tvar event = (0, _general.createEvent)('rendererready', node);\n\t\tmediaElement.dispatchEvent(event);\n\n\t\tmediaElement.promises.push(NativeDash.load({\n\t\t\toptions: options.dash,\n\t\t\tid: id\n\t\t}));\n\n\t\treturn node;\n\t}\n};\n\n_media.typeChecks.push(function (url) {\n\treturn ~url.toLowerCase().indexOf('.mpd') ? 'application/dash+xml' : null;\n});\n\n_renderer.renderer.add(DashNativeRenderer);\n\n},{\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"7\":7,\"8\":8}],20:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.PluginDetector = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _constants = _dereq_(25);\n\nvar _media = _dereq_(28);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PluginDetector = exports.PluginDetector = {\n\tplugins: [],\n\n\thasPluginVersion: function hasPluginVersion(plugin, v) {\n\t\tvar pv = PluginDetector.plugins[plugin];\n\t\tv[1] = v[1] || 0;\n\t\tv[2] = v[2] || 0;\n\t\treturn pv[0] > v[0] || pv[0] === v[0] && pv[1] > v[1] || pv[0] === v[0] && pv[1] === v[1] && pv[2] >= v[2];\n\t},\n\n\taddPlugin: function addPlugin(p, pluginName, mimeType, activeX, axDetect) {\n\t\tPluginDetector.plugins[p] = PluginDetector.detectPlugin(pluginName, mimeType, activeX, axDetect);\n\t},\n\n\tdetectPlugin: function detectPlugin(pluginName, mimeType, activeX, axDetect) {\n\n\t\tvar version = [0, 0, 0],\n\t\t    description = void 0,\n\t\t    ax = void 0;\n\n\t\tif (_constants.NAV.plugins !== null && _constants.NAV.plugins !== undefined && _typeof(_constants.NAV.plugins[pluginName]) === 'object') {\n\t\t\tdescription = _constants.NAV.plugins[pluginName].description;\n\t\t\tif (description && !(typeof _constants.NAV.mimeTypes !== 'undefined' && _constants.NAV.mimeTypes[mimeType] && !_constants.NAV.mimeTypes[mimeType].enabledPlugin)) {\n\t\t\t\tversion = description.replace(pluginName, '').replace(/^\\s+/, '').replace(/\\sr/gi, '.').split('.');\n\t\t\t\tfor (var i = 0, total = version.length; i < total; i++) {\n\t\t\t\t\tversion[i] = parseInt(version[i].match(/\\d+/), 10);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (_window2.default.ActiveXObject !== undefined) {\n\t\t\ttry {\n\t\t\t\tax = new ActiveXObject(activeX);\n\t\t\t\tif (ax) {\n\t\t\t\t\tversion = axDetect(ax);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\treturn version;\n\t}\n};\n\nPluginDetector.addPlugin('flash', 'Shockwave Flash', 'application/x-shockwave-flash', 'ShockwaveFlash.ShockwaveFlash', function (ax) {\n\tvar version = [],\n\t    d = ax.GetVariable(\"$version\");\n\n\tif (d) {\n\t\td = d.split(\" \")[1].split(\",\");\n\t\tversion = [parseInt(d[0], 10), parseInt(d[1], 10), parseInt(d[2], 10)];\n\t}\n\treturn version;\n});\n\nvar FlashMediaElementRenderer = {\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar flash = {};\n\t\tvar isActive = false;\n\n\t\tflash.options = options;\n\t\tflash.id = mediaElement.id + '_' + flash.options.prefix;\n\t\tflash.mediaElement = mediaElement;\n\t\tflash.flashState = {};\n\t\tflash.flashApi = null;\n\t\tflash.flashApiStack = [];\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\t\tflash.flashState[propName] = null;\n\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tflash['get' + capName] = function () {\n\t\t\t\tif (flash.flashApi !== null) {\n\t\t\t\t\tif (typeof flash.flashApi['get_' + propName] === 'function') {\n\t\t\t\t\t\tvar value = flash.flashApi['get_' + propName]();\n\n\t\t\t\t\t\tif (propName === 'buffered') {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstart: function start() {\n\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tend: function end() {\n\t\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlength: 1\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tflash['set' + capName] = function (value) {\n\t\t\t\tif (propName === 'src') {\n\t\t\t\t\tvalue = (0, _media.absolutizeUrl)(value);\n\t\t\t\t}\n\n\t\t\t\tif (flash.flashApi !== null && flash.flashApi['set_' + propName] !== undefined) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tflash.flashApi['set_' + propName](value);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tflash.flashApiStack.push({\n\t\t\t\t\t\ttype: 'set',\n\t\t\t\t\t\tpropName: propName,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var i = 0, total = props.length; i < total; i++) {\n\t\t\tassignGettersSetters(props[i]);\n\t\t}\n\n\t\tvar methods = _mejs2.default.html5media.methods,\n\t\t    assignMethods = function assignMethods(methodName) {\n\t\t\tflash[methodName] = function () {\n\t\t\t\tif (isActive) {\n\t\t\t\t\tif (flash.flashApi !== null) {\n\t\t\t\t\t\tif (flash.flashApi['fire_' + methodName]) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tflash.flashApi['fire_' + methodName]();\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tflash.flashApiStack.push({\n\t\t\t\t\t\t\ttype: 'call',\n\t\t\t\t\t\t\tmethodName: methodName\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t\tmethods.push('stop');\n\t\tfor (var _i = 0, _total = methods.length; _i < _total; _i++) {\n\t\t\tassignMethods(methods[_i]);\n\t\t}\n\n\t\tvar initEvents = ['rendererready'];\n\n\t\tfor (var _i2 = 0, _total2 = initEvents.length; _i2 < _total2; _i2++) {\n\t\t\tvar event = (0, _general.createEvent)(initEvents[_i2], flash);\n\t\t\tmediaElement.dispatchEvent(event);\n\t\t}\n\n\t\t_window2.default['__ready__' + flash.id] = function () {\n\n\t\t\tflash.flashReady = true;\n\t\t\tflash.flashApi = _document2.default.getElementById('__' + flash.id);\n\n\t\t\tif (flash.flashApiStack.length) {\n\t\t\t\tfor (var _i3 = 0, _total3 = flash.flashApiStack.length; _i3 < _total3; _i3++) {\n\t\t\t\t\tvar stackItem = flash.flashApiStack[_i3];\n\n\t\t\t\t\tif (stackItem.type === 'set') {\n\t\t\t\t\t\tvar propName = stackItem.propName,\n\t\t\t\t\t\t    capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\t\t\t\tflash['set' + capName](stackItem.value);\n\t\t\t\t\t} else if (stackItem.type === 'call') {\n\t\t\t\t\t\tflash[stackItem.methodName]();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t_window2.default['__event__' + flash.id] = function (eventName, message) {\n\t\t\tvar event = (0, _general.createEvent)(eventName, flash);\n\t\t\tif (message) {\n\t\t\t\ttry {\n\t\t\t\t\tevent.data = JSON.parse(message);\n\t\t\t\t\tevent.details.data = JSON.parse(message);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tevent.message = message;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tflash.mediaElement.dispatchEvent(event);\n\t\t};\n\n\t\tflash.flashWrapper = _document2.default.createElement('div');\n\n\t\tif (['always', 'sameDomain'].indexOf(flash.options.shimScriptAccess) === -1) {\n\t\t\tflash.options.shimScriptAccess = 'sameDomain';\n\t\t}\n\n\t\tvar autoplay = mediaElement.originalNode.autoplay,\n\t\t    flashVars = ['uid=' + flash.id, 'autoplay=' + autoplay, 'allowScriptAccess=' + flash.options.shimScriptAccess, 'preload=' + (mediaElement.originalNode.getAttribute('preload') || '')],\n\t\t    isVideo = mediaElement.originalNode !== null && mediaElement.originalNode.tagName.toLowerCase() === 'video',\n\t\t    flashHeight = isVideo ? mediaElement.originalNode.height : 1,\n\t\t    flashWidth = isVideo ? mediaElement.originalNode.width : 1;\n\n\t\tif (mediaElement.originalNode.getAttribute('src')) {\n\t\t\tflashVars.push('src=' + mediaElement.originalNode.getAttribute('src'));\n\t\t}\n\n\t\tif (flash.options.enablePseudoStreaming === true) {\n\t\t\tflashVars.push('pseudostreamstart=' + flash.options.pseudoStreamingStartQueryParam);\n\t\t\tflashVars.push('pseudostreamtype=' + flash.options.pseudoStreamingType);\n\t\t}\n\n\t\tif (flash.options.streamDelimiter) {\n\t\t\tflashVars.push('streamdelimiter=' + encodeURIComponent(flash.options.streamDelimiter));\n\t\t}\n\n\t\tif (flash.options.proxyType) {\n\t\t\tflashVars.push('proxytype=' + flash.options.proxyType);\n\t\t}\n\n\t\tmediaElement.appendChild(flash.flashWrapper);\n\t\tmediaElement.originalNode.style.display = 'none';\n\n\t\tvar settings = [];\n\n\t\tif (_constants.IS_IE || _constants.IS_EDGE) {\n\t\t\tvar specialIEContainer = _document2.default.createElement('div');\n\t\t\tflash.flashWrapper.appendChild(specialIEContainer);\n\n\t\t\tif (_constants.IS_EDGE) {\n\t\t\t\tsettings = ['type=\"application/x-shockwave-flash\"', 'data=\"' + flash.options.pluginPath + flash.options.filename + '\"', 'id=\"__' + flash.id + '\"', 'width=\"' + flashWidth + '\"', 'height=\"' + flashHeight + '\\'\"'];\n\t\t\t} else {\n\t\t\t\tsettings = ['classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"', 'codebase=\"//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab\"', 'id=\"__' + flash.id + '\"', 'width=\"' + flashWidth + '\"', 'height=\"' + flashHeight + '\"'];\n\t\t\t}\n\n\t\t\tif (!isVideo) {\n\t\t\t\tsettings.push('style=\"clip: rect(0 0 0 0); position: absolute;\"');\n\t\t\t}\n\n\t\t\tspecialIEContainer.outerHTML = '<object ' + settings.join(' ') + '>' + ('<param name=\"movie\" value=\"' + flash.options.pluginPath + flash.options.filename + '?x=' + new Date() + '\" />') + ('<param name=\"flashvars\" value=\"' + flashVars.join('&amp;') + '\" />') + '<param name=\"quality\" value=\"high\" />' + '<param name=\"bgcolor\" value=\"#000000\" />' + '<param name=\"wmode\" value=\"transparent\" />' + ('<param name=\"allowScriptAccess\" value=\"' + flash.options.shimScriptAccess + '\" />') + '<param name=\"allowFullScreen\" value=\"true\" />' + ('<div>' + _i18n2.default.t('mejs.install-flash') + '</div>') + '</object>';\n\t\t} else {\n\n\t\t\tsettings = ['id=\"__' + flash.id + '\"', 'name=\"__' + flash.id + '\"', 'play=\"true\"', 'loop=\"false\"', 'quality=\"high\"', 'bgcolor=\"#000000\"', 'wmode=\"transparent\"', 'allowScriptAccess=\"' + flash.options.shimScriptAccess + '\"', 'allowFullScreen=\"true\"', 'type=\"application/x-shockwave-flash\"', 'pluginspage=\"//www.macromedia.com/go/getflashplayer\"', 'src=\"' + flash.options.pluginPath + flash.options.filename + '\"', 'flashvars=\"' + flashVars.join('&') + '\"'];\n\n\t\t\tif (isVideo) {\n\t\t\t\tsettings.push('width=\"' + flashWidth + '\"');\n\t\t\t\tsettings.push('height=\"' + flashHeight + '\"');\n\t\t\t} else {\n\t\t\t\tsettings.push('style=\"position: fixed; left: -9999em; top: -9999em;\"');\n\t\t\t}\n\n\t\t\tflash.flashWrapper.innerHTML = '<embed ' + settings.join(' ') + '>';\n\t\t}\n\n\t\tflash.flashNode = flash.flashWrapper.lastChild;\n\n\t\tflash.hide = function () {\n\t\t\tisActive = false;\n\t\t\tif (isVideo) {\n\t\t\t\tflash.flashNode.style.display = 'none';\n\t\t\t}\n\t\t};\n\t\tflash.show = function () {\n\t\t\tisActive = true;\n\t\t\tif (isVideo) {\n\t\t\t\tflash.flashNode.style.display = '';\n\t\t\t}\n\t\t};\n\t\tflash.setSize = function (width, height) {\n\t\t\tflash.flashNode.style.width = width + 'px';\n\t\t\tflash.flashNode.style.height = height + 'px';\n\n\t\t\tif (flash.flashApi !== null && typeof flash.flashApi.fire_setSize === 'function') {\n\t\t\t\tflash.flashApi.fire_setSize(width, height);\n\t\t\t}\n\t\t};\n\n\t\tflash.destroy = function () {\n\t\t\tflash.flashNode.remove();\n\t\t};\n\n\t\tif (mediaFiles && mediaFiles.length > 0) {\n\t\t\tfor (var _i4 = 0, _total4 = mediaFiles.length; _i4 < _total4; _i4++) {\n\t\t\t\tif (_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[_i4].type)) {\n\t\t\t\t\tflash.setSrc(mediaFiles[_i4].src);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn flash;\n\t}\n};\n\nvar hasFlash = PluginDetector.hasPluginVersion('flash', [10, 0, 0]);\n\nif (hasFlash) {\n\t_media.typeChecks.push(function (url) {\n\t\turl = url.toLowerCase();\n\n\t\tif (url.startsWith('rtmp')) {\n\t\t\tif (~url.indexOf('.mp3')) {\n\t\t\t\treturn 'audio/rtmp';\n\t\t\t} else {\n\t\t\t\treturn 'video/rtmp';\n\t\t\t}\n\t\t} else if (/\\.og(a|g)/i.test(url)) {\n\t\t\treturn 'audio/ogg';\n\t\t} else if (~url.indexOf('.m3u8')) {\n\t\t\treturn 'application/x-mpegURL';\n\t\t} else if (~url.indexOf('.mpd')) {\n\t\t\treturn 'application/dash+xml';\n\t\t} else if (~url.indexOf('.flv')) {\n\t\t\treturn 'video/flv';\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\tvar FlashMediaElementVideoRenderer = {\n\t\tname: 'flash_video',\n\t\toptions: {\n\t\t\tprefix: 'flash_video',\n\t\t\tfilename: 'mediaelement-flash-video.swf',\n\t\t\tenablePseudoStreaming: false,\n\n\t\t\tpseudoStreamingStartQueryParam: 'start',\n\n\t\t\tpseudoStreamingType: 'byte',\n\n\t\t\tproxyType: '',\n\n\t\t\tstreamDelimiter: ''\n\t\t},\n\n\t\tcanPlayType: function canPlayType(type) {\n\t\t\treturn ~['video/mp4', 'video/rtmp', 'audio/rtmp', 'rtmp/mp4', 'audio/mp4', 'video/flv', 'video/x-flv'].indexOf(type.toLowerCase());\n\t\t},\n\n\t\tcreate: FlashMediaElementRenderer.create\n\n\t};\n\t_renderer.renderer.add(FlashMediaElementVideoRenderer);\n\n\tvar FlashMediaElementHlsVideoRenderer = {\n\t\tname: 'flash_hls',\n\t\toptions: {\n\t\t\tprefix: 'flash_hls',\n\t\t\tfilename: 'mediaelement-flash-video-hls.swf'\n\t\t},\n\n\t\tcanPlayType: function canPlayType(type) {\n\t\t\treturn ~['application/x-mpegurl', 'application/vnd.apple.mpegurl', 'audio/mpegurl', 'audio/hls', 'video/hls'].indexOf(type.toLowerCase());\n\t\t},\n\n\t\tcreate: FlashMediaElementRenderer.create\n\t};\n\t_renderer.renderer.add(FlashMediaElementHlsVideoRenderer);\n\n\tvar FlashMediaElementMdashVideoRenderer = {\n\t\tname: 'flash_dash',\n\t\toptions: {\n\t\t\tprefix: 'flash_dash',\n\t\t\tfilename: 'mediaelement-flash-video-mdash.swf'\n\t\t},\n\n\t\tcanPlayType: function canPlayType(type) {\n\t\t\treturn ~['application/dash+xml'].indexOf(type.toLowerCase());\n\t\t},\n\n\t\tcreate: FlashMediaElementRenderer.create\n\t};\n\t_renderer.renderer.add(FlashMediaElementMdashVideoRenderer);\n\n\tvar FlashMediaElementAudioRenderer = {\n\t\tname: 'flash_audio',\n\t\toptions: {\n\t\t\tprefix: 'flash_audio',\n\t\t\tfilename: 'mediaelement-flash-audio.swf'\n\t\t},\n\n\t\tcanPlayType: function canPlayType(type) {\n\t\t\treturn ~['audio/mp3'].indexOf(type.toLowerCase());\n\t\t},\n\n\t\tcreate: FlashMediaElementRenderer.create\n\t};\n\t_renderer.renderer.add(FlashMediaElementAudioRenderer);\n\n\tvar FlashMediaElementAudioOggRenderer = {\n\t\tname: 'flash_audio_ogg',\n\t\toptions: {\n\t\t\tprefix: 'flash_audio_ogg',\n\t\t\tfilename: 'mediaelement-flash-audio-ogg.swf'\n\t\t},\n\n\t\tcanPlayType: function canPlayType(type) {\n\t\t\treturn ~['audio/ogg', 'audio/oga', 'audio/ogv'].indexOf(type.toLowerCase());\n\t\t},\n\n\t\tcreate: FlashMediaElementRenderer.create\n\t};\n\t_renderer.renderer.add(FlashMediaElementAudioOggRenderer);\n}\n\n},{\"2\":2,\"25\":25,\"27\":27,\"28\":28,\"3\":3,\"5\":5,\"7\":7,\"8\":8}],21:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _constants = _dereq_(25);\n\nvar _media = _dereq_(28);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NativeFlv = {\n\n\tpromise: null,\n\n\tload: function load(settings) {\n\t\tif (typeof flvjs !== 'undefined') {\n\t\t\tNativeFlv.promise = new Promise(function (resolve) {\n\t\t\t\tresolve();\n\t\t\t}).then(function () {\n\t\t\t\tNativeFlv._createPlayer(settings);\n\t\t\t});\n\t\t} else {\n\t\t\tsettings.options.path = typeof settings.options.path === 'string' ? settings.options.path : 'https://cdn.jsdelivr.net/npm/flv.js@latest';\n\n\t\t\tNativeFlv.promise = NativeFlv.promise || (0, _dom.loadScript)(settings.options.path);\n\t\t\tNativeFlv.promise.then(function () {\n\t\t\t\tNativeFlv._createPlayer(settings);\n\t\t\t});\n\t\t}\n\n\t\treturn NativeFlv.promise;\n\t},\n\n\t_createPlayer: function _createPlayer(settings) {\n\t\tflvjs.LoggingControl.enableDebug = settings.options.debug;\n\t\tflvjs.LoggingControl.enableVerbose = settings.options.debug;\n\t\tvar player = flvjs.createPlayer(settings.options, settings.configs);\n\t\t_window2.default['__ready__' + settings.id](player);\n\t\treturn player;\n\t}\n};\n\nvar FlvNativeRenderer = {\n\tname: 'native_flv',\n\toptions: {\n\t\tprefix: 'native_flv',\n\t\tflv: {\n\t\t\tpath: 'https://cdn.jsdelivr.net/npm/flv.js@latest',\n\n\t\t\tcors: true,\n\t\t\tdebug: false\n\t\t}\n\t},\n\n\tcanPlayType: function canPlayType(type) {\n\t\treturn _constants.HAS_MSE && ['video/x-flv', 'video/flv'].indexOf(type.toLowerCase()) > -1;\n\t},\n\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar originalNode = mediaElement.originalNode,\n\t\t    id = mediaElement.id + '_' + options.prefix;\n\n\t\tvar node = null,\n\t\t    flvPlayer = null;\n\n\t\tnode = originalNode.cloneNode(true);\n\t\toptions = Object.assign(options, mediaElement.options);\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    events = _mejs2.default.html5media.events.concat(['click', 'mouseover', 'mouseout']).filter(function (e) {\n\t\t\treturn e !== 'error';\n\t\t}),\n\t\t    attachNativeEvents = function attachNativeEvents(e) {\n\t\t\tvar event = (0, _general.createEvent)(e.type, mediaElement);\n\t\t\tmediaElement.dispatchEvent(event);\n\t\t},\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tnode['get' + capName] = function () {\n\t\t\t\treturn flvPlayer !== null ? node[propName] : null;\n\t\t\t};\n\n\t\t\tnode['set' + capName] = function (value) {\n\t\t\t\tif (_mejs2.default.html5media.readOnlyProperties.indexOf(propName) === -1) {\n\t\t\t\t\tif (propName === 'src') {\n\t\t\t\t\t\tnode[propName] = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.src ? value.src : value;\n\t\t\t\t\t\tif (flvPlayer !== null) {\n\t\t\t\t\t\t\tvar _flvOptions = {};\n\t\t\t\t\t\t\t_flvOptions.type = 'flv';\n\t\t\t\t\t\t\t_flvOptions.url = value;\n\t\t\t\t\t\t\t_flvOptions.cors = options.flv.cors;\n\t\t\t\t\t\t\t_flvOptions.debug = options.flv.debug;\n\t\t\t\t\t\t\t_flvOptions.path = options.flv.path;\n\t\t\t\t\t\t\tvar _flvConfigs = options.flv.configs;\n\n\t\t\t\t\t\t\tflvPlayer.destroy();\n\t\t\t\t\t\t\tfor (var i = 0, total = events.length; i < total; i++) {\n\t\t\t\t\t\t\t\tnode.removeEventListener(events[i], attachNativeEvents);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tflvPlayer = NativeFlv._createPlayer({\n\t\t\t\t\t\t\t\toptions: _flvOptions,\n\t\t\t\t\t\t\t\tconfigs: _flvConfigs,\n\t\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tflvPlayer.attachMediaElement(node);\n\t\t\t\t\t\t\tflvPlayer.load();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode[propName] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var i = 0, total = props.length; i < total; i++) {\n\t\t\tassignGettersSetters(props[i]);\n\t\t}\n\n\t\t_window2.default['__ready__' + id] = function (_flvPlayer) {\n\t\t\tmediaElement.flvPlayer = flvPlayer = _flvPlayer;\n\n\t\t\tvar flvEvents = flvjs.Events,\n\t\t\t    assignEvents = function assignEvents(eventName) {\n\t\t\t\tif (eventName === 'loadedmetadata') {\n\t\t\t\t\tflvPlayer.unload();\n\t\t\t\t\tflvPlayer.detachMediaElement();\n\t\t\t\t\tflvPlayer.attachMediaElement(node);\n\t\t\t\t\tflvPlayer.load();\n\t\t\t\t}\n\n\t\t\t\tnode.addEventListener(eventName, attachNativeEvents);\n\t\t\t};\n\n\t\t\tfor (var _i = 0, _total = events.length; _i < _total; _i++) {\n\t\t\t\tassignEvents(events[_i]);\n\t\t\t}\n\n\t\t\tvar assignFlvEvents = function assignFlvEvents(name, data) {\n\t\t\t\tif (name === 'error') {\n\t\t\t\t\tvar message = data[0] + ': ' + data[1] + ' ' + data[2].msg;\n\t\t\t\t\tmediaElement.generateError(message, node.src);\n\t\t\t\t} else {\n\t\t\t\t\tvar _event = (0, _general.createEvent)(name, mediaElement);\n\t\t\t\t\t_event.data = data;\n\t\t\t\t\tmediaElement.dispatchEvent(_event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar _loop = function _loop(eventType) {\n\t\t\t\tif (flvEvents.hasOwnProperty(eventType)) {\n\t\t\t\t\tflvPlayer.on(flvEvents[eventType], function () {\n\t\t\t\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\t\t\targs[_key] = arguments[_key];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn assignFlvEvents(flvEvents[eventType], args);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfor (var eventType in flvEvents) {\n\t\t\t\t_loop(eventType);\n\t\t\t}\n\t\t};\n\n\t\tif (mediaFiles && mediaFiles.length > 0) {\n\t\t\tfor (var _i2 = 0, _total2 = mediaFiles.length; _i2 < _total2; _i2++) {\n\t\t\t\tif (_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[_i2].type)) {\n\t\t\t\t\tnode.setAttribute('src', mediaFiles[_i2].src);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tnode.setAttribute('id', id);\n\n\t\toriginalNode.parentNode.insertBefore(node, originalNode);\n\t\toriginalNode.autoplay = false;\n\t\toriginalNode.style.display = 'none';\n\n\t\tvar flvOptions = {};\n\t\tflvOptions.type = 'flv';\n\t\tflvOptions.url = node.src;\n\t\tflvOptions.cors = options.flv.cors;\n\t\tflvOptions.debug = options.flv.debug;\n\t\tflvOptions.path = options.flv.path;\n\t\tvar flvConfigs = options.flv.configs;\n\n\t\tnode.setSize = function (width, height) {\n\t\t\tnode.style.width = width + 'px';\n\t\t\tnode.style.height = height + 'px';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.hide = function () {\n\t\t\tif (flvPlayer !== null) {\n\t\t\t\tflvPlayer.pause();\n\t\t\t}\n\t\t\tnode.style.display = 'none';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.show = function () {\n\t\t\tnode.style.display = '';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.destroy = function () {\n\t\t\tif (flvPlayer !== null) {\n\t\t\t\tflvPlayer.destroy();\n\t\t\t}\n\t\t};\n\n\t\tvar event = (0, _general.createEvent)('rendererready', node);\n\t\tmediaElement.dispatchEvent(event);\n\n\t\tmediaElement.promises.push(NativeFlv.load({\n\t\t\toptions: flvOptions,\n\t\t\tconfigs: flvConfigs,\n\t\t\tid: id\n\t\t}));\n\n\t\treturn node;\n\t}\n};\n\n_media.typeChecks.push(function (url) {\n\treturn ~url.toLowerCase().indexOf('.flv') ? 'video/flv' : null;\n});\n\n_renderer.renderer.add(FlvNativeRenderer);\n\n},{\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"7\":7,\"8\":8}],22:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _constants = _dereq_(25);\n\nvar _media = _dereq_(28);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NativeHls = {\n\n\tpromise: null,\n\n\tload: function load(settings) {\n\t\tif (typeof Hls !== 'undefined') {\n\t\t\tNativeHls.promise = new Promise(function (resolve) {\n\t\t\t\tresolve();\n\t\t\t}).then(function () {\n\t\t\t\tNativeHls._createPlayer(settings);\n\t\t\t});\n\t\t} else {\n\t\t\tsettings.options.path = typeof settings.options.path === 'string' ? settings.options.path : 'https://cdn.jsdelivr.net/npm/hls.js@latest';\n\n\t\t\tNativeHls.promise = NativeHls.promise || (0, _dom.loadScript)(settings.options.path);\n\t\t\tNativeHls.promise.then(function () {\n\t\t\t\tNativeHls._createPlayer(settings);\n\t\t\t});\n\t\t}\n\n\t\treturn NativeHls.promise;\n\t},\n\n\t_createPlayer: function _createPlayer(settings) {\n\t\tvar player = new Hls(settings.options);\n\t\t_window2.default['__ready__' + settings.id](player);\n\t\treturn player;\n\t}\n};\n\nvar HlsNativeRenderer = {\n\tname: 'native_hls',\n\toptions: {\n\t\tprefix: 'native_hls',\n\t\thls: {\n\t\t\tpath: 'https://cdn.jsdelivr.net/npm/hls.js@latest',\n\n\t\t\tautoStartLoad: false,\n\t\t\tdebug: false\n\t\t}\n\t},\n\n\tcanPlayType: function canPlayType(type) {\n\t\treturn _constants.HAS_MSE && ['application/x-mpegurl', 'application/vnd.apple.mpegurl', 'audio/mpegurl', 'audio/hls', 'video/hls'].indexOf(type.toLowerCase()) > -1;\n\t},\n\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar originalNode = mediaElement.originalNode,\n\t\t    id = mediaElement.id + '_' + options.prefix,\n\t\t    preload = originalNode.getAttribute('preload'),\n\t\t    autoplay = originalNode.autoplay;\n\n\t\tvar hlsPlayer = null,\n\t\t    node = null,\n\t\t    index = 0,\n\t\t    total = mediaFiles.length;\n\n\t\tnode = originalNode.cloneNode(true);\n\t\toptions = Object.assign(options, mediaElement.options);\n\t\toptions.hls.autoStartLoad = preload && preload !== 'none' || autoplay;\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    events = _mejs2.default.html5media.events.concat(['click', 'mouseover', 'mouseout']).filter(function (e) {\n\t\t\treturn e !== 'error';\n\t\t}),\n\t\t    attachNativeEvents = function attachNativeEvents(e) {\n\t\t\tvar event = (0, _general.createEvent)(e.type, mediaElement);\n\t\t\tmediaElement.dispatchEvent(event);\n\t\t},\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tnode['get' + capName] = function () {\n\t\t\t\treturn hlsPlayer !== null ? node[propName] : null;\n\t\t\t};\n\n\t\t\tnode['set' + capName] = function (value) {\n\t\t\t\tif (_mejs2.default.html5media.readOnlyProperties.indexOf(propName) === -1) {\n\t\t\t\t\tif (propName === 'src') {\n\t\t\t\t\t\tnode[propName] = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.src ? value.src : value;\n\t\t\t\t\t\tif (hlsPlayer !== null) {\n\t\t\t\t\t\t\thlsPlayer.destroy();\n\t\t\t\t\t\t\tfor (var i = 0, _total = events.length; i < _total; i++) {\n\t\t\t\t\t\t\t\tnode.removeEventListener(events[i], attachNativeEvents);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thlsPlayer = NativeHls._createPlayer({\n\t\t\t\t\t\t\t\toptions: options.hls,\n\t\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\thlsPlayer.loadSource(value);\n\t\t\t\t\t\t\thlsPlayer.attachMedia(node);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode[propName] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var i = 0, _total2 = props.length; i < _total2; i++) {\n\t\t\tassignGettersSetters(props[i]);\n\t\t}\n\n\t\t_window2.default['__ready__' + id] = function (_hlsPlayer) {\n\t\t\tmediaElement.hlsPlayer = hlsPlayer = _hlsPlayer;\n\t\t\tvar hlsEvents = Hls.Events,\n\t\t\t    assignEvents = function assignEvents(eventName) {\n\t\t\t\tif (eventName === 'loadedmetadata') {\n\t\t\t\t\tvar url = mediaElement.originalNode.src;\n\t\t\t\t\thlsPlayer.detachMedia();\n\t\t\t\t\thlsPlayer.loadSource(url);\n\t\t\t\t\thlsPlayer.attachMedia(node);\n\t\t\t\t}\n\n\t\t\t\tnode.addEventListener(eventName, attachNativeEvents);\n\t\t\t};\n\n\t\t\tfor (var _i = 0, _total3 = events.length; _i < _total3; _i++) {\n\t\t\t\tassignEvents(events[_i]);\n\t\t\t}\n\n\t\t\tvar recoverDecodingErrorDate = void 0,\n\t\t\t    recoverSwapAudioCodecDate = void 0;\n\t\t\tvar assignHlsEvents = function assignHlsEvents(name, data) {\n\t\t\t\tif (name === 'hlsError') {\n\t\t\t\t\tconsole.warn(data);\n\t\t\t\t\tdata = data[1];\n\n\t\t\t\t\tif (data.fatal) {\n\t\t\t\t\t\tswitch (data.type) {\n\t\t\t\t\t\t\tcase 'mediaError':\n\t\t\t\t\t\t\t\tvar now = new Date().getTime();\n\t\t\t\t\t\t\t\tif (!recoverDecodingErrorDate || now - recoverDecodingErrorDate > 3000) {\n\t\t\t\t\t\t\t\t\trecoverDecodingErrorDate = new Date().getTime();\n\t\t\t\t\t\t\t\t\thlsPlayer.recoverMediaError();\n\t\t\t\t\t\t\t\t} else if (!recoverSwapAudioCodecDate || now - recoverSwapAudioCodecDate > 3000) {\n\t\t\t\t\t\t\t\t\trecoverSwapAudioCodecDate = new Date().getTime();\n\t\t\t\t\t\t\t\t\tconsole.warn('Attempting to swap Audio Codec and recover from media error');\n\t\t\t\t\t\t\t\t\thlsPlayer.swapAudioCodec();\n\t\t\t\t\t\t\t\t\thlsPlayer.recoverMediaError();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvar message = 'Cannot recover, last media error recovery failed';\n\t\t\t\t\t\t\t\t\tmediaElement.generateError(message, node.src);\n\t\t\t\t\t\t\t\t\tconsole.error(message);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'networkError':\n\t\t\t\t\t\t\t\tif (data.details === 'manifestLoadError') {\n\t\t\t\t\t\t\t\t\tif (index < total && mediaFiles[index + 1] !== undefined) {\n\t\t\t\t\t\t\t\t\t\tnode.setSrc(mediaFiles[index++].src);\n\t\t\t\t\t\t\t\t\t\tnode.load();\n\t\t\t\t\t\t\t\t\t\tnode.play();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tvar _message = 'Network error';\n\t\t\t\t\t\t\t\t\t\tmediaElement.generateError(_message, mediaFiles);\n\t\t\t\t\t\t\t\t\t\tconsole.error(_message);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvar _message2 = 'Network error';\n\t\t\t\t\t\t\t\t\tmediaElement.generateError(_message2, mediaFiles);\n\t\t\t\t\t\t\t\t\tconsole.error(_message2);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\thlsPlayer.destroy();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar event = (0, _general.createEvent)(name, mediaElement);\n\t\t\t\tevent.data = data;\n\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t};\n\n\t\t\tvar _loop = function _loop(eventType) {\n\t\t\t\tif (hlsEvents.hasOwnProperty(eventType)) {\n\t\t\t\t\thlsPlayer.on(hlsEvents[eventType], function () {\n\t\t\t\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\t\t\targs[_key] = arguments[_key];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn assignHlsEvents(hlsEvents[eventType], args);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfor (var eventType in hlsEvents) {\n\t\t\t\t_loop(eventType);\n\t\t\t}\n\t\t};\n\n\t\tif (total > 0) {\n\t\t\tfor (; index < total; index++) {\n\t\t\t\tif (_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[index].type)) {\n\t\t\t\t\tnode.setAttribute('src', mediaFiles[index].src);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (preload !== 'auto' && !autoplay) {\n\t\t\tnode.addEventListener('play', function () {\n\t\t\t\tif (hlsPlayer !== null) {\n\t\t\t\t\thlsPlayer.startLoad();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tnode.addEventListener('pause', function () {\n\t\t\t\tif (hlsPlayer !== null) {\n\t\t\t\t\thlsPlayer.stopLoad();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tnode.setAttribute('id', id);\n\n\t\toriginalNode.parentNode.insertBefore(node, originalNode);\n\t\toriginalNode.autoplay = false;\n\t\toriginalNode.style.display = 'none';\n\n\t\tnode.setSize = function (width, height) {\n\t\t\tnode.style.width = width + 'px';\n\t\t\tnode.style.height = height + 'px';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.hide = function () {\n\t\t\tnode.pause();\n\t\t\tnode.style.display = 'none';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.show = function () {\n\t\t\tnode.style.display = '';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.destroy = function () {\n\t\t\tif (hlsPlayer !== null) {\n\t\t\t\thlsPlayer.stopLoad();\n\t\t\t\thlsPlayer.destroy();\n\t\t\t}\n\t\t};\n\n\t\tvar event = (0, _general.createEvent)('rendererready', node);\n\t\tmediaElement.dispatchEvent(event);\n\n\t\tmediaElement.promises.push(NativeHls.load({\n\t\t\toptions: options.hls,\n\t\t\tid: id\n\t\t}));\n\n\t\treturn node;\n\t}\n};\n\n_media.typeChecks.push(function (url) {\n\treturn ~url.toLowerCase().indexOf('.m3u8') ? 'application/x-mpegURL' : null;\n});\n\n_renderer.renderer.add(HlsNativeRenderer);\n\n},{\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"7\":7,\"8\":8}],23:[function(_dereq_,module,exports){\n'use strict';\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _constants = _dereq_(25);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HtmlMediaElement = {\n\tname: 'html5',\n\toptions: {\n\t\tprefix: 'html5'\n\t},\n\n\tcanPlayType: function canPlayType(type) {\n\n\t\tvar mediaElement = _document2.default.createElement('video');\n\n\t\tif (_constants.IS_ANDROID && /\\/mp(3|4)$/i.test(type) || ~['application/x-mpegurl', 'vnd.apple.mpegurl', 'audio/mpegurl', 'audio/hls', 'video/hls'].indexOf(type.toLowerCase()) && _constants.SUPPORTS_NATIVE_HLS) {\n\t\t\treturn 'yes';\n\t\t} else if (mediaElement.canPlayType) {\n\t\t\treturn mediaElement.canPlayType(type.toLowerCase()).replace(/no/, '');\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t},\n\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar id = mediaElement.id + '_' + options.prefix;\n\t\tvar isActive = false;\n\n\t\tvar node = null;\n\n\t\tif (mediaElement.originalNode === undefined || mediaElement.originalNode === null) {\n\t\t\tnode = _document2.default.createElement('audio');\n\t\t\tmediaElement.appendChild(node);\n\t\t} else {\n\t\t\tnode = mediaElement.originalNode;\n\t\t}\n\n\t\tnode.setAttribute('id', id);\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tnode['get' + capName] = function () {\n\t\t\t\treturn node[propName];\n\t\t\t};\n\n\t\t\tnode['set' + capName] = function (value) {\n\t\t\t\tif (_mejs2.default.html5media.readOnlyProperties.indexOf(propName) === -1) {\n\t\t\t\t\tnode[propName] = value;\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var i = 0, _total = props.length; i < _total; i++) {\n\t\t\tassignGettersSetters(props[i]);\n\t\t}\n\n\t\tvar events = _mejs2.default.html5media.events.concat(['click', 'mouseover', 'mouseout']).filter(function (e) {\n\t\t\treturn e !== 'error';\n\t\t}),\n\t\t    assignEvents = function assignEvents(eventName) {\n\t\t\tnode.addEventListener(eventName, function (e) {\n\t\t\t\tif (isActive) {\n\t\t\t\t\tvar _event = (0, _general.createEvent)(e.type, e.target);\n\t\t\t\t\tmediaElement.dispatchEvent(_event);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tfor (var _i = 0, _total2 = events.length; _i < _total2; _i++) {\n\t\t\tassignEvents(events[_i]);\n\t\t}\n\n\t\tnode.setSize = function (width, height) {\n\t\t\tnode.style.width = width + 'px';\n\t\t\tnode.style.height = height + 'px';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.hide = function () {\n\t\t\tisActive = false;\n\t\t\tnode.style.display = 'none';\n\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.show = function () {\n\t\t\tisActive = true;\n\t\t\tnode.style.display = '';\n\n\t\t\treturn node;\n\t\t};\n\n\t\tvar index = 0,\n\t\t    total = mediaFiles.length;\n\t\tif (total > 0) {\n\t\t\tfor (; index < total; index++) {\n\t\t\t\tif (_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[index].type)) {\n\t\t\t\t\tnode.setAttribute('src', mediaFiles[index].src);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tnode.addEventListener('error', function (e) {\n\t\t\tif (e && e.target && e.target.error && e.target.error.code === 4 && isActive) {\n\t\t\t\tif (index < total && mediaFiles[index + 1] !== undefined) {\n\t\t\t\t\tnode.src = mediaFiles[index++].src;\n\t\t\t\t\tnode.load();\n\t\t\t\t\tnode.play();\n\t\t\t\t} else {\n\t\t\t\t\tmediaElement.generateError('Media error: Format(s) not supported or source(s) not found', mediaFiles);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tvar event = (0, _general.createEvent)('rendererready', node);\n\t\tmediaElement.dispatchEvent(event);\n\n\t\treturn node;\n\t}\n};\n\n_window2.default.HtmlMediaElement = _mejs2.default.HtmlMediaElement = HtmlMediaElement;\n\n_renderer.renderer.add(HtmlMediaElement);\n\n},{\"2\":2,\"25\":25,\"27\":27,\"3\":3,\"7\":7,\"8\":8}],24:[function(_dereq_,module,exports){\n'use strict';\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _media = _dereq_(28);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar YouTubeApi = {\n\tisIframeStarted: false,\n\n\tisIframeLoaded: false,\n\n\tiframeQueue: [],\n\n\tenqueueIframe: function enqueueIframe(settings) {\n\t\tYouTubeApi.isLoaded = typeof YT !== 'undefined' && YT.loaded;\n\n\t\tif (YouTubeApi.isLoaded) {\n\t\t\tYouTubeApi.createIframe(settings);\n\t\t} else {\n\t\t\tYouTubeApi.loadIframeApi();\n\t\t\tYouTubeApi.iframeQueue.push(settings);\n\t\t}\n\t},\n\n\tloadIframeApi: function loadIframeApi() {\n\t\tif (!YouTubeApi.isIframeStarted) {\n\t\t\t(0, _dom.loadScript)('https://www.youtube.com/player_api');\n\t\t\tYouTubeApi.isIframeStarted = true;\n\t\t}\n\t},\n\n\tiFrameReady: function iFrameReady() {\n\n\t\tYouTubeApi.isLoaded = true;\n\t\tYouTubeApi.isIframeLoaded = true;\n\n\t\twhile (YouTubeApi.iframeQueue.length > 0) {\n\t\t\tvar settings = YouTubeApi.iframeQueue.pop();\n\t\t\tYouTubeApi.createIframe(settings);\n\t\t}\n\t},\n\n\tcreateIframe: function createIframe(settings) {\n\t\treturn new YT.Player(settings.containerId, settings);\n\t},\n\n\tgetYouTubeId: function getYouTubeId(url) {\n\n\t\tvar youTubeId = '';\n\n\t\tif (url.indexOf('?') > 0) {\n\t\t\tyouTubeId = YouTubeApi.getYouTubeIdFromParam(url);\n\n\t\t\tif (youTubeId === '') {\n\t\t\t\tyouTubeId = YouTubeApi.getYouTubeIdFromUrl(url);\n\t\t\t}\n\t\t} else {\n\t\t\tyouTubeId = YouTubeApi.getYouTubeIdFromUrl(url);\n\t\t}\n\n\t\tvar id = youTubeId.substring(youTubeId.lastIndexOf('/') + 1);\n\t\tyouTubeId = id.split('?');\n\t\treturn youTubeId[0];\n\t},\n\n\tgetYouTubeIdFromParam: function getYouTubeIdFromParam(url) {\n\n\t\tif (url === undefined || url === null || !url.trim().length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar parts = url.split('?'),\n\t\t    parameters = parts[1].split('&');\n\n\t\tvar youTubeId = '';\n\n\t\tfor (var i = 0, total = parameters.length; i < total; i++) {\n\t\t\tvar paramParts = parameters[i].split('=');\n\t\t\tif (paramParts[0] === 'v') {\n\t\t\t\tyouTubeId = paramParts[1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn youTubeId;\n\t},\n\n\tgetYouTubeIdFromUrl: function getYouTubeIdFromUrl(url) {\n\n\t\tif (url === undefined || url === null || !url.trim().length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar parts = url.split('?');\n\t\turl = parts[0];\n\t\treturn url.substring(url.lastIndexOf('/') + 1);\n\t},\n\n\tgetYouTubeNoCookieUrl: function getYouTubeNoCookieUrl(url) {\n\t\tif (url === undefined || url === null || !url.trim().length || url.indexOf('//www.youtube') === -1) {\n\t\t\treturn url;\n\t\t}\n\n\t\tvar parts = url.split('/');\n\t\tparts[2] = parts[2].replace('.com', '-nocookie.com');\n\t\treturn parts.join('/');\n\t}\n};\n\nvar YouTubeIframeRenderer = {\n\tname: 'youtube_iframe',\n\n\toptions: {\n\t\tprefix: 'youtube_iframe',\n\n\t\tyoutube: {\n\t\t\tautoplay: 0,\n\t\t\tcontrols: 0,\n\t\t\tdisablekb: 1,\n\t\t\tend: 0,\n\t\t\tloop: 0,\n\t\t\tmodestbranding: 0,\n\t\t\tplaysinline: 0,\n\t\t\trel: 0,\n\t\t\tshowinfo: 0,\n\t\t\tstart: 0,\n\t\t\tiv_load_policy: 3,\n\n\t\t\tnocookie: false,\n\n\t\t\timageQuality: null\n\t\t}\n\t},\n\n\tcanPlayType: function canPlayType(type) {\n\t\treturn ~['video/youtube', 'video/x-youtube'].indexOf(type.toLowerCase());\n\t},\n\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar youtube = {},\n\t\t    apiStack = [],\n\t\t    readyState = 4;\n\n\t\tvar youTubeApi = null,\n\t\t    paused = true,\n\t\t    ended = false,\n\t\t    youTubeIframe = null,\n\t\t    volume = 1;\n\n\t\tyoutube.options = options;\n\t\tyoutube.id = mediaElement.id + '_' + options.prefix;\n\t\tyoutube.mediaElement = mediaElement;\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tyoutube['get' + capName] = function () {\n\t\t\t\tif (youTubeApi !== null) {\n\t\t\t\t\tvar value = null;\n\n\t\t\t\t\tswitch (propName) {\n\t\t\t\t\t\tcase 'currentTime':\n\t\t\t\t\t\t\treturn youTubeApi.getCurrentTime();\n\t\t\t\t\t\tcase 'duration':\n\t\t\t\t\t\t\treturn youTubeApi.getDuration();\n\t\t\t\t\t\tcase 'volume':\n\t\t\t\t\t\t\tvolume = youTubeApi.getVolume() / 100;\n\t\t\t\t\t\t\treturn volume;\n\t\t\t\t\t\tcase 'playbackRate':\n\t\t\t\t\t\t\treturn youTubeApi.getPlaybackRate();\n\t\t\t\t\t\tcase 'paused':\n\t\t\t\t\t\t\treturn paused;\n\t\t\t\t\t\tcase 'ended':\n\t\t\t\t\t\t\treturn ended;\n\t\t\t\t\t\tcase 'muted':\n\t\t\t\t\t\t\treturn youTubeApi.isMuted();\n\t\t\t\t\t\tcase 'buffered':\n\t\t\t\t\t\t\tvar percentLoaded = youTubeApi.getVideoLoadedFraction(),\n\t\t\t\t\t\t\t    duration = youTubeApi.getDuration();\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstart: function start() {\n\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tend: function end() {\n\t\t\t\t\t\t\t\t\treturn percentLoaded * duration;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlength: 1\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'src':\n\t\t\t\t\t\t\treturn youTubeApi.getVideoUrl();\n\t\t\t\t\t\tcase 'readyState':\n\t\t\t\t\t\t\treturn readyState;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tyoutube['set' + capName] = function (value) {\n\t\t\t\tif (youTubeApi !== null) {\n\t\t\t\t\tswitch (propName) {\n\t\t\t\t\t\tcase 'src':\n\t\t\t\t\t\t\tvar url = typeof value === 'string' ? value : value[0].src,\n\t\t\t\t\t\t\t    _videoId = YouTubeApi.getYouTubeId(url);\n\n\t\t\t\t\t\t\tif (mediaElement.originalNode.autoplay) {\n\t\t\t\t\t\t\t\tyouTubeApi.loadVideoById(_videoId);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tyouTubeApi.cueVideoById(_videoId);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'currentTime':\n\t\t\t\t\t\t\tyouTubeApi.seekTo(value);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'muted':\n\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\tyouTubeApi.mute();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tyouTubeApi.unMute();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar event = (0, _general.createEvent)('volumechange', youtube);\n\t\t\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'volume':\n\t\t\t\t\t\t\tvolume = value;\n\t\t\t\t\t\t\tyouTubeApi.setVolume(value * 100);\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar event = (0, _general.createEvent)('volumechange', youtube);\n\t\t\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'playbackRate':\n\t\t\t\t\t\t\tyouTubeApi.setPlaybackRate(value);\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar event = (0, _general.createEvent)('ratechange', youtube);\n\t\t\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'readyState':\n\t\t\t\t\t\t\tvar event = (0, _general.createEvent)('canplay', youtube);\n\t\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tapiStack.push({ type: 'set', propName: propName, value: value });\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var i = 0, total = props.length; i < total; i++) {\n\t\t\tassignGettersSetters(props[i]);\n\t\t}\n\n\t\tvar methods = _mejs2.default.html5media.methods,\n\t\t    assignMethods = function assignMethods(methodName) {\n\t\t\tyoutube[methodName] = function () {\n\t\t\t\tif (youTubeApi !== null) {\n\t\t\t\t\tswitch (methodName) {\n\t\t\t\t\t\tcase 'play':\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t\treturn youTubeApi.playVideo();\n\t\t\t\t\t\tcase 'pause':\n\t\t\t\t\t\t\tpaused = true;\n\t\t\t\t\t\t\treturn youTubeApi.pauseVideo();\n\t\t\t\t\t\tcase 'load':\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tapiStack.push({ type: 'call', methodName: methodName });\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var _i = 0, _total = methods.length; _i < _total; _i++) {\n\t\t\tassignMethods(methods[_i]);\n\t\t}\n\n\t\tvar errorHandler = function errorHandler(error) {\n\t\t\tvar message = '';\n\t\t\tswitch (error.data) {\n\t\t\t\tcase 2:\n\t\t\t\t\tmessage = 'The request contains an invalid parameter value. Verify that video ID has 11 characters and that contains no invalid characters, such as exclamation points or asterisks.';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tmessage = 'The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 100:\n\t\t\t\t\tmessage = 'The video requested was not found. Either video has been removed or has been marked as private.';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 101:\n\t\t\t\tcase 105:\n\t\t\t\t\tmessage = 'The owner of the requested video does not allow it to be played in embedded players.';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tmessage = 'Unknown error.';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmediaElement.generateError('Code ' + error.data + ': ' + message, mediaFiles);\n\t\t};\n\n\t\tvar youtubeContainer = _document2.default.createElement('div');\n\t\tyoutubeContainer.id = youtube.id;\n\n\t\tif (youtube.options.youtube.nocookie) {\n\t\t\tmediaElement.originalNode.src = YouTubeApi.getYouTubeNoCookieUrl(mediaFiles[0].src);\n\t\t}\n\n\t\tmediaElement.originalNode.parentNode.insertBefore(youtubeContainer, mediaElement.originalNode);\n\t\tmediaElement.originalNode.style.display = 'none';\n\n\t\tvar isAudio = mediaElement.originalNode.tagName.toLowerCase() === 'audio',\n\t\t    height = isAudio ? '1' : mediaElement.originalNode.height,\n\t\t    width = isAudio ? '1' : mediaElement.originalNode.width,\n\t\t    videoId = YouTubeApi.getYouTubeId(mediaFiles[0].src),\n\t\t    youtubeSettings = {\n\t\t\tid: youtube.id,\n\t\t\tcontainerId: youtubeContainer.id,\n\t\t\tvideoId: videoId,\n\t\t\theight: height,\n\t\t\twidth: width,\n\t\t\tplayerVars: Object.assign({\n\t\t\t\tcontrols: 0,\n\t\t\t\trel: 0,\n\t\t\t\tdisablekb: 1,\n\t\t\t\tshowinfo: 0,\n\t\t\t\tmodestbranding: 0,\n\t\t\t\thtml5: 1,\n\t\t\t\tiv_load_policy: 3\n\t\t\t}, youtube.options.youtube),\n\t\t\torigin: _window2.default.location.host,\n\t\t\tevents: {\n\t\t\t\tonReady: function onReady(e) {\n\t\t\t\t\tmediaElement.youTubeApi = youTubeApi = e.target;\n\t\t\t\t\tmediaElement.youTubeState = {\n\t\t\t\t\t\tpaused: true,\n\t\t\t\t\t\tended: false\n\t\t\t\t\t};\n\n\t\t\t\t\tif (apiStack.length) {\n\t\t\t\t\t\tfor (var _i2 = 0, _total2 = apiStack.length; _i2 < _total2; _i2++) {\n\n\t\t\t\t\t\t\tvar stackItem = apiStack[_i2];\n\n\t\t\t\t\t\t\tif (stackItem.type === 'set') {\n\t\t\t\t\t\t\t\tvar propName = stackItem.propName,\n\t\t\t\t\t\t\t\t    capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\t\t\t\t\t\tyoutube['set' + capName](stackItem.value);\n\t\t\t\t\t\t\t} else if (stackItem.type === 'call') {\n\t\t\t\t\t\t\t\tyoutube[stackItem.methodName]();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tyouTubeIframe = youTubeApi.getIframe();\n\n\t\t\t\t\tif (mediaElement.originalNode.muted) {\n\t\t\t\t\t\tyouTubeApi.mute();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar events = ['mouseover', 'mouseout'],\n\t\t\t\t\t    assignEvents = function assignEvents(e) {\n\t\t\t\t\t\tvar newEvent = (0, _general.createEvent)(e.type, youtube);\n\t\t\t\t\t\tmediaElement.dispatchEvent(newEvent);\n\t\t\t\t\t};\n\n\t\t\t\t\tfor (var _i3 = 0, _total3 = events.length; _i3 < _total3; _i3++) {\n\t\t\t\t\t\tyouTubeIframe.addEventListener(events[_i3], assignEvents, false);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar initEvents = ['rendererready', 'loadedmetadata', 'loadeddata', 'canplay'];\n\n\t\t\t\t\tfor (var _i4 = 0, _total4 = initEvents.length; _i4 < _total4; _i4++) {\n\t\t\t\t\t\tvar event = (0, _general.createEvent)(initEvents[_i4], youtube);\n\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonStateChange: function onStateChange(e) {\n\t\t\t\t\tvar events = [];\n\n\t\t\t\t\tswitch (e.data) {\n\t\t\t\t\t\tcase -1:\n\t\t\t\t\t\t\tevents = ['loadedmetadata'];\n\t\t\t\t\t\t\tpaused = true;\n\t\t\t\t\t\t\tended = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\tevents = ['ended'];\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t\tended = !youtube.options.youtube.loop;\n\t\t\t\t\t\t\tif (!youtube.options.youtube.loop) {\n\t\t\t\t\t\t\t\tyoutube.stopInterval();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tevents = ['play', 'playing'];\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t\tended = false;\n\t\t\t\t\t\t\tyoutube.startInterval();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\tevents = ['pause'];\n\t\t\t\t\t\t\tpaused = true;\n\t\t\t\t\t\t\tended = false;\n\t\t\t\t\t\t\tyoutube.stopInterval();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\tevents = ['progress'];\n\t\t\t\t\t\t\tended = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 5:\n\t\t\t\t\t\t\tevents = ['loadeddata', 'loadedmetadata', 'canplay'];\n\t\t\t\t\t\t\tpaused = true;\n\t\t\t\t\t\t\tended = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (var _i5 = 0, _total5 = events.length; _i5 < _total5; _i5++) {\n\t\t\t\t\t\tvar event = (0, _general.createEvent)(events[_i5], youtube);\n\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonError: function onError(e) {\n\t\t\t\t\treturn errorHandler(e);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (isAudio || mediaElement.originalNode.hasAttribute('playsinline')) {\n\t\t\tyoutubeSettings.playerVars.playsinline = 1;\n\t\t}\n\n\t\tif (mediaElement.originalNode.controls) {\n\t\t\tyoutubeSettings.playerVars.controls = 1;\n\t\t}\n\t\tif (mediaElement.originalNode.autoplay) {\n\t\t\tyoutubeSettings.playerVars.autoplay = 1;\n\t\t}\n\t\tif (mediaElement.originalNode.loop) {\n\t\t\tyoutubeSettings.playerVars.loop = 1;\n\t\t}\n\n\t\tif ((youtubeSettings.playerVars.loop && parseInt(youtubeSettings.playerVars.loop, 10) === 1 || mediaElement.originalNode.src.indexOf('loop=') > -1) && !youtubeSettings.playerVars.playlist && mediaElement.originalNode.src.indexOf('playlist=') === -1) {\n\t\t\tyoutubeSettings.playerVars.playlist = YouTubeApi.getYouTubeId(mediaElement.originalNode.src);\n\t\t}\n\n\t\tYouTubeApi.enqueueIframe(youtubeSettings);\n\n\t\tyoutube.onEvent = function (eventName, player, _youTubeState) {\n\t\t\tif (_youTubeState !== null && _youTubeState !== undefined) {\n\t\t\t\tmediaElement.youTubeState = _youTubeState;\n\t\t\t}\n\t\t};\n\n\t\tyoutube.setSize = function (width, height) {\n\t\t\tif (youTubeApi !== null) {\n\t\t\t\tyouTubeApi.setSize(width, height);\n\t\t\t}\n\t\t};\n\t\tyoutube.hide = function () {\n\t\t\tyoutube.stopInterval();\n\t\t\tyoutube.pause();\n\t\t\tif (youTubeIframe) {\n\t\t\t\tyouTubeIframe.style.display = 'none';\n\t\t\t}\n\t\t};\n\t\tyoutube.show = function () {\n\t\t\tif (youTubeIframe) {\n\t\t\t\tyouTubeIframe.style.display = '';\n\t\t\t}\n\t\t};\n\t\tyoutube.destroy = function () {\n\t\t\tyouTubeApi.destroy();\n\t\t};\n\t\tyoutube.interval = null;\n\n\t\tyoutube.startInterval = function () {\n\t\t\tyoutube.interval = setInterval(function () {\n\t\t\t\tvar event = (0, _general.createEvent)('timeupdate', youtube);\n\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t}, 250);\n\t\t};\n\t\tyoutube.stopInterval = function () {\n\t\t\tif (youtube.interval) {\n\t\t\t\tclearInterval(youtube.interval);\n\t\t\t}\n\t\t};\n\t\tyoutube.getPosterUrl = function () {\n\t\t\tvar quality = options.youtube.imageQuality,\n\t\t\t    resolutions = ['default', 'hqdefault', 'mqdefault', 'sddefault', 'maxresdefault'],\n\t\t\t    id = YouTubeApi.getYouTubeId(mediaElement.originalNode.src);\n\t\t\treturn quality && resolutions.indexOf(quality) > -1 && id ? 'https://img.youtube.com/vi/' + id + '/' + quality + '.jpg' : '';\n\t\t};\n\n\t\treturn youtube;\n\t}\n};\n\n_window2.default.onYouTubePlayerAPIReady = function () {\n\tYouTubeApi.iFrameReady();\n};\n\n_media.typeChecks.push(function (url) {\n\treturn (/\\/\\/(www\\.youtube|youtu\\.?be)/i.test(url) ? 'video/x-youtube' : null\n\t);\n});\n\n_renderer.renderer.add(YouTubeIframeRenderer);\n\n},{\"2\":2,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"7\":7,\"8\":8}],25:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.cancelFullScreen = exports.requestFullScreen = exports.isFullScreen = exports.FULLSCREEN_EVENT_NAME = exports.HAS_NATIVE_FULLSCREEN_ENABLED = exports.HAS_TRUE_NATIVE_FULLSCREEN = exports.HAS_IOS_FULLSCREEN = exports.HAS_MS_NATIVE_FULLSCREEN = exports.HAS_MOZ_NATIVE_FULLSCREEN = exports.HAS_WEBKIT_NATIVE_FULLSCREEN = exports.HAS_NATIVE_FULLSCREEN = exports.SUPPORTS_NATIVE_HLS = exports.SUPPORT_PASSIVE_EVENT = exports.SUPPORT_POINTER_EVENTS = exports.HAS_MSE = exports.IS_STOCK_ANDROID = exports.IS_SAFARI = exports.IS_FIREFOX = exports.IS_CHROME = exports.IS_EDGE = exports.IS_IE = exports.IS_ANDROID = exports.IS_IOS = exports.IS_IPOD = exports.IS_IPHONE = exports.IS_IPAD = exports.UA = exports.NAV = undefined;\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NAV = exports.NAV = _window2.default.navigator;\nvar UA = exports.UA = NAV.userAgent.toLowerCase();\nvar IS_IPAD = exports.IS_IPAD = /ipad/i.test(UA) && !_window2.default.MSStream;\nvar IS_IPHONE = exports.IS_IPHONE = /iphone/i.test(UA) && !_window2.default.MSStream;\nvar IS_IPOD = exports.IS_IPOD = /ipod/i.test(UA) && !_window2.default.MSStream;\nvar IS_IOS = exports.IS_IOS = /ipad|iphone|ipod/i.test(UA) && !_window2.default.MSStream;\nvar IS_ANDROID = exports.IS_ANDROID = /android/i.test(UA);\nvar IS_IE = exports.IS_IE = /(trident|microsoft)/i.test(NAV.appName);\nvar IS_EDGE = exports.IS_EDGE = 'msLaunchUri' in NAV && !('documentMode' in _document2.default);\nvar IS_CHROME = exports.IS_CHROME = /chrome/i.test(UA);\nvar IS_FIREFOX = exports.IS_FIREFOX = /firefox/i.test(UA);\nvar IS_SAFARI = exports.IS_SAFARI = /safari/i.test(UA) && !IS_CHROME;\nvar IS_STOCK_ANDROID = exports.IS_STOCK_ANDROID = /^mozilla\\/\\d+\\.\\d+\\s\\(linux;\\su;/i.test(UA);\nvar HAS_MSE = exports.HAS_MSE = 'MediaSource' in _window2.default;\nvar SUPPORT_POINTER_EVENTS = exports.SUPPORT_POINTER_EVENTS = function () {\n\tvar element = _document2.default.createElement('x'),\n\t    documentElement = _document2.default.documentElement,\n\t    getComputedStyle = _window2.default.getComputedStyle;\n\n\tif (!('pointerEvents' in element.style)) {\n\t\treturn false;\n\t}\n\n\telement.style.pointerEvents = 'auto';\n\telement.style.pointerEvents = 'x';\n\tdocumentElement.appendChild(element);\n\tvar supports = getComputedStyle && (getComputedStyle(element, '') || {}).pointerEvents === 'auto';\n\telement.remove();\n\treturn !!supports;\n}();\n\nvar SUPPORT_PASSIVE_EVENT = exports.SUPPORT_PASSIVE_EVENT = function () {\n\tvar supportsPassive = false;\n\ttry {\n\t\tvar opts = Object.defineProperty({}, 'passive', {\n\t\t\tget: function get() {\n\t\t\t\tsupportsPassive = true;\n\t\t\t}\n\t\t});\n\t\t_window2.default.addEventListener('test', null, opts);\n\t} catch (e) {}\n\n\treturn supportsPassive;\n}();\n\nvar html5Elements = ['source', 'track', 'audio', 'video'];\nvar video = void 0;\n\nfor (var i = 0, total = html5Elements.length; i < total; i++) {\n\tvideo = _document2.default.createElement(html5Elements[i]);\n}\n\nvar SUPPORTS_NATIVE_HLS = exports.SUPPORTS_NATIVE_HLS = IS_SAFARI || IS_IE && /edge/i.test(UA);\n\nvar hasiOSFullScreen = video.webkitEnterFullscreen !== undefined;\n\nvar hasNativeFullscreen = video.requestFullscreen !== undefined;\n\nif (hasiOSFullScreen && /mac os x 10_5/i.test(UA)) {\n\thasNativeFullscreen = false;\n\thasiOSFullScreen = false;\n}\n\nvar hasWebkitNativeFullScreen = video.webkitRequestFullScreen !== undefined;\nvar hasMozNativeFullScreen = video.mozRequestFullScreen !== undefined;\nvar hasMsNativeFullScreen = video.msRequestFullscreen !== undefined;\nvar hasTrueNativeFullScreen = hasWebkitNativeFullScreen || hasMozNativeFullScreen || hasMsNativeFullScreen;\nvar nativeFullScreenEnabled = hasTrueNativeFullScreen;\nvar fullScreenEventName = '';\nvar isFullScreen = void 0,\n    requestFullScreen = void 0,\n    cancelFullScreen = void 0;\n\nif (hasMozNativeFullScreen) {\n\tnativeFullScreenEnabled = _document2.default.mozFullScreenEnabled;\n} else if (hasMsNativeFullScreen) {\n\tnativeFullScreenEnabled = _document2.default.msFullscreenEnabled;\n}\n\nif (IS_CHROME) {\n\thasiOSFullScreen = false;\n}\n\nif (hasTrueNativeFullScreen) {\n\tif (hasWebkitNativeFullScreen) {\n\t\tfullScreenEventName = 'webkitfullscreenchange';\n\t} else if (hasMozNativeFullScreen) {\n\t\tfullScreenEventName = 'fullscreenchange';\n\t} else if (hasMsNativeFullScreen) {\n\t\tfullScreenEventName = 'MSFullscreenChange';\n\t}\n\n\texports.isFullScreen = isFullScreen = function isFullScreen() {\n\t\tif (hasMozNativeFullScreen) {\n\t\t\treturn _document2.default.mozFullScreen;\n\t\t} else if (hasWebkitNativeFullScreen) {\n\t\t\treturn _document2.default.webkitIsFullScreen;\n\t\t} else if (hasMsNativeFullScreen) {\n\t\t\treturn _document2.default.msFullscreenElement !== null;\n\t\t}\n\t};\n\n\texports.requestFullScreen = requestFullScreen = function requestFullScreen(el) {\n\t\tif (hasWebkitNativeFullScreen) {\n\t\t\tel.webkitRequestFullScreen();\n\t\t} else if (hasMozNativeFullScreen) {\n\t\t\tel.mozRequestFullScreen();\n\t\t} else if (hasMsNativeFullScreen) {\n\t\t\tel.msRequestFullscreen();\n\t\t}\n\t};\n\n\texports.cancelFullScreen = cancelFullScreen = function cancelFullScreen() {\n\t\tif (hasWebkitNativeFullScreen) {\n\t\t\t_document2.default.webkitCancelFullScreen();\n\t\t} else if (hasMozNativeFullScreen) {\n\t\t\t_document2.default.mozCancelFullScreen();\n\t\t} else if (hasMsNativeFullScreen) {\n\t\t\t_document2.default.msExitFullscreen();\n\t\t}\n\t};\n}\n\nvar HAS_NATIVE_FULLSCREEN = exports.HAS_NATIVE_FULLSCREEN = hasNativeFullscreen;\nvar HAS_WEBKIT_NATIVE_FULLSCREEN = exports.HAS_WEBKIT_NATIVE_FULLSCREEN = hasWebkitNativeFullScreen;\nvar HAS_MOZ_NATIVE_FULLSCREEN = exports.HAS_MOZ_NATIVE_FULLSCREEN = hasMozNativeFullScreen;\nvar HAS_MS_NATIVE_FULLSCREEN = exports.HAS_MS_NATIVE_FULLSCREEN = hasMsNativeFullScreen;\nvar HAS_IOS_FULLSCREEN = exports.HAS_IOS_FULLSCREEN = hasiOSFullScreen;\nvar HAS_TRUE_NATIVE_FULLSCREEN = exports.HAS_TRUE_NATIVE_FULLSCREEN = hasTrueNativeFullScreen;\nvar HAS_NATIVE_FULLSCREEN_ENABLED = exports.HAS_NATIVE_FULLSCREEN_ENABLED = nativeFullScreenEnabled;\nvar FULLSCREEN_EVENT_NAME = exports.FULLSCREEN_EVENT_NAME = fullScreenEventName;\nexports.isFullScreen = isFullScreen;\nexports.requestFullScreen = requestFullScreen;\nexports.cancelFullScreen = cancelFullScreen;\n\n\n_mejs2.default.Features = _mejs2.default.Features || {};\n_mejs2.default.Features.isiPad = IS_IPAD;\n_mejs2.default.Features.isiPod = IS_IPOD;\n_mejs2.default.Features.isiPhone = IS_IPHONE;\n_mejs2.default.Features.isiOS = _mejs2.default.Features.isiPhone || _mejs2.default.Features.isiPad;\n_mejs2.default.Features.isAndroid = IS_ANDROID;\n_mejs2.default.Features.isIE = IS_IE;\n_mejs2.default.Features.isEdge = IS_EDGE;\n_mejs2.default.Features.isChrome = IS_CHROME;\n_mejs2.default.Features.isFirefox = IS_FIREFOX;\n_mejs2.default.Features.isSafari = IS_SAFARI;\n_mejs2.default.Features.isStockAndroid = IS_STOCK_ANDROID;\n_mejs2.default.Features.hasMSE = HAS_MSE;\n_mejs2.default.Features.supportsNativeHLS = SUPPORTS_NATIVE_HLS;\n_mejs2.default.Features.supportsPointerEvents = SUPPORT_POINTER_EVENTS;\n_mejs2.default.Features.supportsPassiveEvent = SUPPORT_PASSIVE_EVENT;\n_mejs2.default.Features.hasiOSFullScreen = HAS_IOS_FULLSCREEN;\n_mejs2.default.Features.hasNativeFullscreen = HAS_NATIVE_FULLSCREEN;\n_mejs2.default.Features.hasWebkitNativeFullScreen = HAS_WEBKIT_NATIVE_FULLSCREEN;\n_mejs2.default.Features.hasMozNativeFullScreen = HAS_MOZ_NATIVE_FULLSCREEN;\n_mejs2.default.Features.hasMsNativeFullScreen = HAS_MS_NATIVE_FULLSCREEN;\n_mejs2.default.Features.hasTrueNativeFullScreen = HAS_TRUE_NATIVE_FULLSCREEN;\n_mejs2.default.Features.nativeFullScreenEnabled = HAS_NATIVE_FULLSCREEN_ENABLED;\n_mejs2.default.Features.fullScreenEventName = FULLSCREEN_EVENT_NAME;\n_mejs2.default.Features.isFullScreen = isFullScreen;\n_mejs2.default.Features.requestFullScreen = requestFullScreen;\n_mejs2.default.Features.cancelFullScreen = cancelFullScreen;\n\n},{\"2\":2,\"3\":3,\"7\":7}],26:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.removeClass = exports.addClass = exports.hasClass = undefined;\nexports.loadScript = loadScript;\nexports.offset = offset;\nexports.toggleClass = toggleClass;\nexports.fadeOut = fadeOut;\nexports.fadeIn = fadeIn;\nexports.siblings = siblings;\nexports.visible = visible;\nexports.ajax = ajax;\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction loadScript(url) {\n\treturn new Promise(function (resolve, reject) {\n\t\tvar script = _document2.default.createElement('script');\n\t\tscript.src = url;\n\t\tscript.async = true;\n\t\tscript.onload = function () {\n\t\t\tscript.remove();\n\t\t\tresolve();\n\t\t};\n\t\tscript.onerror = function () {\n\t\t\tscript.remove();\n\t\t\treject();\n\t\t};\n\t\t_document2.default.head.appendChild(script);\n\t});\n}\n\nfunction offset(el) {\n\tvar rect = el.getBoundingClientRect(),\n\t    scrollLeft = _window2.default.pageXOffset || _document2.default.documentElement.scrollLeft,\n\t    scrollTop = _window2.default.pageYOffset || _document2.default.documentElement.scrollTop;\n\treturn { top: rect.top + scrollTop, left: rect.left + scrollLeft };\n}\n\nvar hasClassMethod = void 0,\n    addClassMethod = void 0,\n    removeClassMethod = void 0;\n\nif ('classList' in _document2.default.documentElement) {\n\thasClassMethod = function hasClassMethod(el, className) {\n\t\treturn el.classList !== undefined && el.classList.contains(className);\n\t};\n\taddClassMethod = function addClassMethod(el, className) {\n\t\treturn el.classList.add(className);\n\t};\n\tremoveClassMethod = function removeClassMethod(el, className) {\n\t\treturn el.classList.remove(className);\n\t};\n} else {\n\thasClassMethod = function hasClassMethod(el, className) {\n\t\treturn new RegExp('\\\\b' + className + '\\\\b').test(el.className);\n\t};\n\taddClassMethod = function addClassMethod(el, className) {\n\t\tif (!hasClass(el, className)) {\n\t\t\tel.className += ' ' + className;\n\t\t}\n\t};\n\tremoveClassMethod = function removeClassMethod(el, className) {\n\t\tel.className = el.className.replace(new RegExp('\\\\b' + className + '\\\\b', 'g'), '');\n\t};\n}\n\nvar hasClass = exports.hasClass = hasClassMethod;\nvar addClass = exports.addClass = addClassMethod;\nvar removeClass = exports.removeClass = removeClassMethod;\n\nfunction toggleClass(el, className) {\n\thasClass(el, className) ? removeClass(el, className) : addClass(el, className);\n}\n\nfunction fadeOut(el) {\n\tvar duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 400;\n\tvar callback = arguments[2];\n\n\tif (!el.style.opacity) {\n\t\tel.style.opacity = 1;\n\t}\n\n\tvar start = null;\n\t_window2.default.requestAnimationFrame(function animate(timestamp) {\n\t\tstart = start || timestamp;\n\t\tvar progress = timestamp - start;\n\t\tvar opacity = parseFloat(1 - progress / duration, 2);\n\t\tel.style.opacity = opacity < 0 ? 0 : opacity;\n\t\tif (progress > duration) {\n\t\t\tif (callback && typeof callback === 'function') {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t} else {\n\t\t\t_window2.default.requestAnimationFrame(animate);\n\t\t}\n\t});\n}\n\nfunction fadeIn(el) {\n\tvar duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 400;\n\tvar callback = arguments[2];\n\n\tif (!el.style.opacity) {\n\t\tel.style.opacity = 0;\n\t}\n\n\tvar start = null;\n\t_window2.default.requestAnimationFrame(function animate(timestamp) {\n\t\tstart = start || timestamp;\n\t\tvar progress = timestamp - start;\n\t\tvar opacity = parseFloat(progress / duration, 2);\n\t\tel.style.opacity = opacity > 1 ? 1 : opacity;\n\t\tif (progress > duration) {\n\t\t\tif (callback && typeof callback === 'function') {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t} else {\n\t\t\t_window2.default.requestAnimationFrame(animate);\n\t\t}\n\t});\n}\n\nfunction siblings(el, filter) {\n\tvar siblings = [];\n\tel = el.parentNode.firstChild;\n\tdo {\n\t\tif (!filter || filter(el)) {\n\t\t\tsiblings.push(el);\n\t\t}\n\t} while (el = el.nextSibling);\n\treturn siblings;\n}\n\nfunction visible(elem) {\n\tif (elem.getClientRects !== undefined && elem.getClientRects === 'function') {\n\t\treturn !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);\n\t}\n\treturn !!(elem.offsetWidth || elem.offsetHeight);\n}\n\nfunction ajax(url, dataType, success, error) {\n\tvar xhr = _window2.default.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');\n\n\tvar type = 'application/x-www-form-urlencoded; charset=UTF-8',\n\t    completed = false,\n\t    accept = '*/'.concat('*');\n\n\tswitch (dataType) {\n\t\tcase 'text':\n\t\t\ttype = 'text/plain';\n\t\t\tbreak;\n\t\tcase 'json':\n\t\t\ttype = 'application/json, text/javascript';\n\t\t\tbreak;\n\t\tcase 'html':\n\t\t\ttype = 'text/html';\n\t\t\tbreak;\n\t\tcase 'xml':\n\t\t\ttype = 'application/xml, text/xml';\n\t\t\tbreak;\n\t}\n\n\tif (type !== 'application/x-www-form-urlencoded') {\n\t\taccept = type + ', */*; q=0.01';\n\t}\n\n\tif (xhr) {\n\t\txhr.open('GET', url, true);\n\t\txhr.setRequestHeader('Accept', accept);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (completed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (xhr.readyState === 4) {\n\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\tcompleted = true;\n\t\t\t\t\tvar data = void 0;\n\t\t\t\t\tswitch (dataType) {\n\t\t\t\t\t\tcase 'json':\n\t\t\t\t\t\t\tdata = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'xml':\n\t\t\t\t\t\t\tdata = xhr.responseXML;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tdata = xhr.responseText;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tsuccess(data);\n\t\t\t\t} else if (typeof error === 'function') {\n\t\t\t\t\terror(xhr.status);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\txhr.send();\n\t}\n}\n\n_mejs2.default.Utils = _mejs2.default.Utils || {};\n_mejs2.default.Utils.offset = offset;\n_mejs2.default.Utils.hasClass = hasClass;\n_mejs2.default.Utils.addClass = addClass;\n_mejs2.default.Utils.removeClass = removeClass;\n_mejs2.default.Utils.toggleClass = toggleClass;\n_mejs2.default.Utils.fadeIn = fadeIn;\n_mejs2.default.Utils.fadeOut = fadeOut;\n_mejs2.default.Utils.siblings = siblings;\n_mejs2.default.Utils.visible = visible;\n_mejs2.default.Utils.ajax = ajax;\n_mejs2.default.Utils.loadScript = loadScript;\n\n},{\"2\":2,\"3\":3,\"7\":7}],27:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.escapeHTML = escapeHTML;\nexports.debounce = debounce;\nexports.isObjectEmpty = isObjectEmpty;\nexports.splitEvents = splitEvents;\nexports.createEvent = createEvent;\nexports.isNodeAfter = isNodeAfter;\nexports.isString = isString;\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction escapeHTML(input) {\n\n\tif (typeof input !== 'string') {\n\t\tthrow new Error('Argument passed must be a string');\n\t}\n\n\tvar map = {\n\t\t'&': '&amp;',\n\t\t'<': '&lt;',\n\t\t'>': '&gt;',\n\t\t'\"': '&quot;'\n\t};\n\n\treturn input.replace(/[&<>\"]/g, function (c) {\n\t\treturn map[c];\n\t});\n}\n\nfunction debounce(func, wait) {\n\tvar _this = this,\n\t    _arguments = arguments;\n\n\tvar immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n\n\tif (typeof func !== 'function') {\n\t\tthrow new Error('First argument must be a function');\n\t}\n\n\tif (typeof wait !== 'number') {\n\t\tthrow new Error('Second argument must be a numeric value');\n\t}\n\n\tvar timeout = void 0;\n\treturn function () {\n\t\tvar context = _this,\n\t\t    args = _arguments;\n\t\tvar later = function later() {\n\t\t\ttimeout = null;\n\t\t\tif (!immediate) {\n\t\t\t\tfunc.apply(context, args);\n\t\t\t}\n\t\t};\n\t\tvar callNow = immediate && !timeout;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\n\t\tif (callNow) {\n\t\t\tfunc.apply(context, args);\n\t\t}\n\t};\n}\n\nfunction isObjectEmpty(instance) {\n\treturn Object.getOwnPropertyNames(instance).length <= 0;\n}\n\nfunction splitEvents(events, id) {\n\tvar rwindow = /^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\\b/;\n\n\tvar ret = { d: [], w: [] };\n\t(events || '').split(' ').forEach(function (v) {\n\t\tvar eventName = '' + v + (id ? '.' + id : '');\n\n\t\tif (eventName.startsWith('.')) {\n\t\t\tret.d.push(eventName);\n\t\t\tret.w.push(eventName);\n\t\t} else {\n\t\t\tret[rwindow.test(v) ? 'w' : 'd'].push(eventName);\n\t\t}\n\t});\n\n\tret.d = ret.d.join(' ');\n\tret.w = ret.w.join(' ');\n\treturn ret;\n}\n\nfunction createEvent(eventName, target) {\n\n\tif (typeof eventName !== 'string') {\n\t\tthrow new Error('Event name must be a string');\n\t}\n\n\tvar eventFrags = eventName.match(/([a-z]+\\.([a-z]+))/i),\n\t    detail = {\n\t\ttarget: target\n\t};\n\n\tif (eventFrags !== null) {\n\t\teventName = eventFrags[1];\n\t\tdetail.namespace = eventFrags[2];\n\t}\n\n\treturn new window.CustomEvent(eventName, {\n\t\tdetail: detail\n\t});\n}\n\nfunction isNodeAfter(sourceNode, targetNode) {\n\n\treturn !!(sourceNode && targetNode && sourceNode.compareDocumentPosition(targetNode) & 2);\n}\n\nfunction isString(value) {\n\treturn typeof value === 'string';\n}\n\n_mejs2.default.Utils = _mejs2.default.Utils || {};\n_mejs2.default.Utils.escapeHTML = escapeHTML;\n_mejs2.default.Utils.debounce = debounce;\n_mejs2.default.Utils.isObjectEmpty = isObjectEmpty;\n_mejs2.default.Utils.splitEvents = splitEvents;\n_mejs2.default.Utils.createEvent = createEvent;\n_mejs2.default.Utils.isNodeAfter = isNodeAfter;\n_mejs2.default.Utils.isString = isString;\n\n},{\"7\":7}],28:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.typeChecks = undefined;\nexports.absolutizeUrl = absolutizeUrl;\nexports.formatType = formatType;\nexports.getMimeFromType = getMimeFromType;\nexports.getTypeFromFile = getTypeFromFile;\nexports.getExtension = getExtension;\nexports.normalizeExtension = normalizeExtension;\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _general = _dereq_(27);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar typeChecks = exports.typeChecks = [];\n\nfunction absolutizeUrl(url) {\n\n\tif (typeof url !== 'string') {\n\t\tthrow new Error('`url` argument must be a string');\n\t}\n\n\tvar el = document.createElement('div');\n\tel.innerHTML = '<a href=\"' + (0, _general.escapeHTML)(url) + '\">x</a>';\n\treturn el.firstChild.href;\n}\n\nfunction formatType(url) {\n\tvar type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n\treturn url && !type ? getTypeFromFile(url) : type;\n}\n\nfunction getMimeFromType(type) {\n\n\tif (typeof type !== 'string') {\n\t\tthrow new Error('`type` argument must be a string');\n\t}\n\n\treturn type && type.indexOf(';') > -1 ? type.substr(0, type.indexOf(';')) : type;\n}\n\nfunction getTypeFromFile(url) {\n\n\tif (typeof url !== 'string') {\n\t\tthrow new Error('`url` argument must be a string');\n\t}\n\n\tfor (var i = 0, total = typeChecks.length; i < total; i++) {\n\t\tvar type = typeChecks[i](url);\n\n\t\tif (type) {\n\t\t\treturn type;\n\t\t}\n\t}\n\n\tvar ext = getExtension(url),\n\t    normalizedExt = normalizeExtension(ext);\n\n\tvar mime = 'video/mp4';\n\n\tif (normalizedExt) {\n\t\tif (~['mp4', 'm4v', 'ogg', 'ogv', 'webm', 'flv', 'mpeg', 'mov'].indexOf(normalizedExt)) {\n\t\t\tmime = 'video/' + normalizedExt;\n\t\t} else if (~['mp3', 'oga', 'wav', 'mid', 'midi'].indexOf(normalizedExt)) {\n\t\t\tmime = 'audio/' + normalizedExt;\n\t\t}\n\t}\n\n\treturn mime;\n}\n\nfunction getExtension(url) {\n\n\tif (typeof url !== 'string') {\n\t\tthrow new Error('`url` argument must be a string');\n\t}\n\n\tvar baseUrl = url.split('?')[0],\n\t    baseName = baseUrl.split('\\\\').pop().split('/').pop();\n\treturn ~baseName.indexOf('.') ? baseName.substring(baseName.lastIndexOf('.') + 1) : '';\n}\n\nfunction normalizeExtension(extension) {\n\n\tif (typeof extension !== 'string') {\n\t\tthrow new Error('`extension` argument must be a string');\n\t}\n\n\tswitch (extension) {\n\t\tcase 'mp4':\n\t\tcase 'm4v':\n\t\t\treturn 'mp4';\n\t\tcase 'webm':\n\t\tcase 'webma':\n\t\tcase 'webmv':\n\t\t\treturn 'webm';\n\t\tcase 'ogg':\n\t\tcase 'oga':\n\t\tcase 'ogv':\n\t\t\treturn 'ogg';\n\t\tdefault:\n\t\t\treturn extension;\n\t}\n}\n\n_mejs2.default.Utils = _mejs2.default.Utils || {};\n_mejs2.default.Utils.typeChecks = typeChecks;\n_mejs2.default.Utils.absolutizeUrl = absolutizeUrl;\n_mejs2.default.Utils.formatType = formatType;\n_mejs2.default.Utils.getMimeFromType = getMimeFromType;\n_mejs2.default.Utils.getTypeFromFile = getTypeFromFile;\n_mejs2.default.Utils.getExtension = getExtension;\n_mejs2.default.Utils.normalizeExtension = normalizeExtension;\n\n},{\"27\":27,\"7\":7}],29:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _promisePolyfill = _dereq_(4);\n\nvar _promisePolyfill2 = _interopRequireDefault(_promisePolyfill);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function (arr) {\n\tarr.forEach(function (item) {\n\t\tif (item.hasOwnProperty('remove')) {\n\t\t\treturn;\n\t\t}\n\t\tObject.defineProperty(item, 'remove', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\twritable: true,\n\t\t\tvalue: function remove() {\n\t\t\t\tthis.parentNode.removeChild(this);\n\t\t\t}\n\t\t});\n\t});\n})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);\n\n(function () {\n\n\tif (typeof window.CustomEvent === 'function') {\n\t\treturn false;\n\t}\n\n\tfunction CustomEvent(event, params) {\n\t\tparams = params || { bubbles: false, cancelable: false, detail: undefined };\n\t\tvar evt = _document2.default.createEvent('CustomEvent');\n\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n\t\treturn evt;\n\t}\n\n\tCustomEvent.prototype = window.Event.prototype;\n\twindow.CustomEvent = CustomEvent;\n})();\n\nif (typeof Object.assign !== 'function') {\n\tObject.assign = function (target) {\n\n\t\tif (target === null || target === undefined) {\n\t\t\tthrow new TypeError('Cannot convert undefined or null to object');\n\t\t}\n\n\t\tvar to = Object(target);\n\n\t\tfor (var index = 1, total = arguments.length; index < total; index++) {\n\t\t\tvar nextSource = arguments[index];\n\n\t\t\tif (nextSource !== null) {\n\t\t\t\tfor (var nextKey in nextSource) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n\t\t\t\t\t\tto[nextKey] = nextSource[nextKey];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn to;\n\t};\n}\n\nif (!String.prototype.startsWith) {\n\tString.prototype.startsWith = function (searchString, position) {\n\t\tposition = position || 0;\n\t\treturn this.substr(position, searchString.length) === searchString;\n\t};\n}\n\nif (!Element.prototype.matches) {\n\tElement.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function (s) {\n\t\tvar matches = (this.document || this.ownerDocument).querySelectorAll(s),\n\t\t    i = matches.length - 1;\n\t\twhile (--i >= 0 && matches.item(i) !== this) {}\n\t\treturn i > -1;\n\t};\n}\n\nif (window.Element && !Element.prototype.closest) {\n\tElement.prototype.closest = function (s) {\n\t\tvar matches = (this.document || this.ownerDocument).querySelectorAll(s),\n\t\t    i = void 0,\n\t\t    el = this;\n\t\tdo {\n\t\t\ti = matches.length;\n\t\t\twhile (--i >= 0 && matches.item(i) !== el) {}\n\t\t} while (i < 0 && (el = el.parentElement));\n\t\treturn el;\n\t};\n}\n\n(function () {\n\tvar lastTime = 0;\n\tvar vendors = ['ms', 'moz', 'webkit', 'o'];\n\tfor (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n\t\twindow.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n\t\twindow.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n\t}\n\n\tif (!window.requestAnimationFrame) window.requestAnimationFrame = function (callback) {\n\t\tvar currTime = new Date().getTime();\n\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\tvar id = window.setTimeout(function () {\n\t\t\tcallback(currTime + timeToCall);\n\t\t}, timeToCall);\n\t\tlastTime = currTime + timeToCall;\n\t\treturn id;\n\t};\n\n\tif (!window.cancelAnimationFrame) window.cancelAnimationFrame = function (id) {\n\t\tclearTimeout(id);\n\t};\n})();\n\nif (/firefox/i.test(navigator.userAgent)) {\n\tvar getComputedStyle = window.getComputedStyle;\n\twindow.getComputedStyle = function (el, pseudoEl) {\n\t\tvar t = getComputedStyle(el, pseudoEl);\n\t\treturn t === null ? { getPropertyValue: function getPropertyValue() {} } : t;\n\t};\n}\n\nif (!window.Promise) {\n\twindow.Promise = _promisePolyfill2.default;\n}\n\n(function (constructor) {\n\tif (constructor && constructor.prototype && constructor.prototype.children === null) {\n\t\tObject.defineProperty(constructor.prototype, 'children', {\n\t\t\tget: function get() {\n\t\t\t\tvar i = 0,\n\t\t\t\t    node = void 0,\n\t\t\t\t    nodes = this.childNodes,\n\t\t\t\t    children = [];\n\t\t\t\twhile (node = nodes[i++]) {\n\t\t\t\t\tif (node.nodeType === 1) {\n\t\t\t\t\t\tchildren.push(node);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn children;\n\t\t\t}\n\t\t});\n\t}\n})(window.Node || window.Element);\n\n},{\"2\":2,\"4\":4}],30:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.isDropFrame = isDropFrame;\nexports.secondsToTimeCode = secondsToTimeCode;\nexports.timeCodeToSeconds = timeCodeToSeconds;\nexports.calculateTimeFormat = calculateTimeFormat;\nexports.convertSMPTEtoSeconds = convertSMPTEtoSeconds;\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isDropFrame() {\n\tvar fps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 25;\n\n\treturn !(fps % 1 === 0);\n}\nfunction secondsToTimeCode(time) {\n\tvar forceHours = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\tvar showFrameCount = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\tvar fps = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 25;\n\tvar secondsDecimalLength = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n\tvar timeFormat = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'hh:mm:ss';\n\n\n\ttime = !time || typeof time !== 'number' || time < 0 ? 0 : time;\n\n\tvar dropFrames = Math.round(fps * 0.066666),\n\t    timeBase = Math.round(fps),\n\t    framesPer24Hours = Math.round(fps * 3600) * 24,\n\t    framesPer10Minutes = Math.round(fps * 600),\n\t    frameSep = isDropFrame(fps) ? ';' : ':',\n\t    hours = void 0,\n\t    minutes = void 0,\n\t    seconds = void 0,\n\t    frames = void 0,\n\t    f = Math.round(time * fps);\n\n\tif (isDropFrame(fps)) {\n\n\t\tif (f < 0) {\n\t\t\tf = framesPer24Hours + f;\n\t\t}\n\n\t\tf = f % framesPer24Hours;\n\n\t\tvar d = Math.floor(f / framesPer10Minutes);\n\t\tvar m = f % framesPer10Minutes;\n\t\tf = f + dropFrames * 9 * d;\n\t\tif (m > dropFrames) {\n\t\t\tf = f + dropFrames * Math.floor((m - dropFrames) / Math.round(timeBase * 60 - dropFrames));\n\t\t}\n\n\t\tvar timeBaseDivision = Math.floor(f / timeBase);\n\n\t\thours = Math.floor(Math.floor(timeBaseDivision / 60) / 60);\n\t\tminutes = Math.floor(timeBaseDivision / 60) % 60;\n\n\t\tif (showFrameCount) {\n\t\t\tseconds = timeBaseDivision % 60;\n\t\t} else {\n\t\t\tseconds = Math.floor(f / timeBase % 60).toFixed(secondsDecimalLength);\n\t\t}\n\t} else {\n\t\thours = Math.floor(time / 3600) % 24;\n\t\tminutes = Math.floor(time / 60) % 60;\n\t\tif (showFrameCount) {\n\t\t\tseconds = Math.floor(time % 60);\n\t\t} else {\n\t\t\tseconds = Math.floor(time % 60).toFixed(secondsDecimalLength);\n\t\t}\n\t}\n\thours = hours <= 0 ? 0 : hours;\n\tminutes = minutes <= 0 ? 0 : minutes;\n\tseconds = seconds <= 0 ? 0 : seconds;\n\n\tseconds = seconds === 60 ? 0 : seconds;\n\tminutes = minutes === 60 ? 0 : minutes;\n\n\tvar timeFormatFrags = timeFormat.split(':');\n\tvar timeFormatSettings = {};\n\tfor (var i = 0, total = timeFormatFrags.length; i < total; ++i) {\n\t\tvar unique = '';\n\t\tfor (var j = 0, t = timeFormatFrags[i].length; j < t; j++) {\n\t\t\tif (unique.indexOf(timeFormatFrags[i][j]) < 0) {\n\t\t\t\tunique += timeFormatFrags[i][j];\n\t\t\t}\n\t\t}\n\t\tif (~['f', 's', 'm', 'h'].indexOf(unique)) {\n\t\t\ttimeFormatSettings[unique] = timeFormatFrags[i].length;\n\t\t}\n\t}\n\n\tvar result = forceHours || hours > 0 ? (hours < 10 && timeFormatSettings.h > 1 ? '0' + hours : hours) + ':' : '';\n\tresult += (minutes < 10 && timeFormatSettings.m > 1 ? '0' + minutes : minutes) + ':';\n\tresult += '' + (seconds < 10 && timeFormatSettings.s > 1 ? '0' + seconds : seconds);\n\n\tif (showFrameCount) {\n\t\tframes = (f % timeBase).toFixed(0);\n\t\tframes = frames <= 0 ? 0 : frames;\n\t\tresult += frames < 10 && timeFormatSettings.f ? frameSep + '0' + frames : '' + frameSep + frames;\n\t}\n\n\treturn result;\n}\n\nfunction timeCodeToSeconds(time) {\n\tvar fps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 25;\n\n\n\tif (typeof time !== 'string') {\n\t\tthrow new TypeError('Time must be a string');\n\t}\n\n\tif (time.indexOf(';') > 0) {\n\t\ttime = time.replace(';', ':');\n\t}\n\n\tif (!/\\d{2}(\\:\\d{2}){0,3}/i.test(time)) {\n\t\tthrow new TypeError('Time code must have the format `00:00:00`');\n\t}\n\n\tvar parts = time.split(':');\n\n\tvar output = void 0,\n\t    hours = 0,\n\t    minutes = 0,\n\t    seconds = 0,\n\t    frames = 0,\n\t    totalMinutes = 0,\n\t    dropFrames = Math.round(fps * 0.066666),\n\t    timeBase = Math.round(fps),\n\t    hFrames = timeBase * 3600,\n\t    mFrames = timeBase * 60;\n\n\tswitch (parts.length) {\n\t\tdefault:\n\t\tcase 1:\n\t\t\tseconds = parseInt(parts[0], 10);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tminutes = parseInt(parts[0], 10);\n\t\t\tseconds = parseInt(parts[1], 10);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\thours = parseInt(parts[0], 10);\n\t\t\tminutes = parseInt(parts[1], 10);\n\t\t\tseconds = parseInt(parts[2], 10);\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\thours = parseInt(parts[0], 10);\n\t\t\tminutes = parseInt(parts[1], 10);\n\t\t\tseconds = parseInt(parts[2], 10);\n\t\t\tframes = parseInt(parts[3], 10);\n\t\t\tbreak;\n\t}\n\n\tif (isDropFrame(fps)) {\n\t\ttotalMinutes = 60 * hours + minutes;\n\t\toutput = hFrames * hours + mFrames * minutes + timeBase * seconds + frames - dropFrames * (totalMinutes - Math.floor(totalMinutes / 10));\n\t} else {\n\t\toutput = (hFrames * hours + mFrames * minutes + fps * seconds + frames) / fps;\n\t}\n\n\treturn parseFloat(output.toFixed(3));\n}\n\nfunction calculateTimeFormat(time, options) {\n\tvar fps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 25;\n\n\n\ttime = !time || typeof time !== 'number' || time < 0 ? 0 : time;\n\n\tvar hours = Math.floor(time / 3600) % 24,\n\t    minutes = Math.floor(time / 60) % 60,\n\t    seconds = Math.floor(time % 60),\n\t    frames = Math.floor((time % 1 * fps).toFixed(3)),\n\t    lis = [[frames, 'f'], [seconds, 's'], [minutes, 'm'], [hours, 'h']];\n\n\tvar format = options.timeFormat,\n\t    firstTwoPlaces = format[1] === format[0],\n\t    separatorIndex = firstTwoPlaces ? 2 : 1,\n\t    separator = format.length < separatorIndex ? format[separatorIndex] : ':',\n\t    firstChar = format[0],\n\t    required = false;\n\n\tfor (var i = 0, len = lis.length; i < len; i++) {\n\t\tif (~format.indexOf(lis[i][1])) {\n\t\t\trequired = true;\n\t\t} else if (required) {\n\t\t\tvar hasNextValue = false;\n\t\t\tfor (var j = i; j < len; j++) {\n\t\t\t\tif (lis[j][0] > 0) {\n\t\t\t\t\thasNextValue = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!hasNextValue) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (!firstTwoPlaces) {\n\t\t\t\tformat = firstChar + format;\n\t\t\t}\n\t\t\tformat = lis[i][1] + separator + format;\n\t\t\tif (firstTwoPlaces) {\n\t\t\t\tformat = lis[i][1] + format;\n\t\t\t}\n\t\t\tfirstChar = lis[i][1];\n\t\t}\n\t}\n\n\toptions.timeFormat = format;\n}\n\nfunction convertSMPTEtoSeconds(SMPTE) {\n\n\tif (typeof SMPTE !== 'string') {\n\t\tthrow new TypeError('Argument must be a string value');\n\t}\n\n\tSMPTE = SMPTE.replace(',', '.');\n\n\tvar decimalLen = ~SMPTE.indexOf('.') ? SMPTE.split('.')[1].length : 0;\n\n\tvar secs = 0,\n\t    multiplier = 1;\n\n\tSMPTE = SMPTE.split(':').reverse();\n\n\tfor (var i = 0, total = SMPTE.length; i < total; i++) {\n\t\tmultiplier = 1;\n\t\tif (i > 0) {\n\t\t\tmultiplier = Math.pow(60, i);\n\t\t}\n\t\tsecs += Number(SMPTE[i]) * multiplier;\n\t}\n\treturn Number(secs.toFixed(decimalLen));\n}\n\n_mejs2.default.Utils = _mejs2.default.Utils || {};\n_mejs2.default.Utils.secondsToTimeCode = secondsToTimeCode;\n_mejs2.default.Utils.timeCodeToSeconds = timeCodeToSeconds;\n_mejs2.default.Utils.calculateTimeFormat = calculateTimeFormat;\n_mejs2.default.Utils.convertSMPTEtoSeconds = convertSMPTEtoSeconds;\n\n},{\"7\":7}]},{},[29,6,5,15,23,20,19,21,22,24,16,18,17,9,10,11,12,13,14]);\n","module.exports = require('./build/mediaelement-and-player.js');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isFilled = exports.isDefined = exports.isPresent = void 0;\nfunction isPresent(t) {\n    return t !== undefined && t !== null;\n}\nexports.isPresent = isPresent;\nfunction isDefined(t) {\n    return t !== undefined;\n}\nexports.isDefined = isDefined;\nfunction isFilled(t) {\n    return t !== null;\n}\nexports.isFilled = isFilled;\n//# sourceMappingURL=index.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__4985__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5129__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2935__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7725__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(8022);\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();"],"sourceRoot":""}