{"version":3,"sources":["webpack://library/webpack/universalModuleDefinition","webpack://library/./src/action/action.ts","webpack://library/./src/action/endable-action.ts","webpack://library/./src/action/index.ts","webpack://library/./src/action/is-promise.ts","webpack://library/./src/action/timeline-action.ts","webpack://library/./src/chrono-trigger-engine.ts","webpack://library/./src/configuration/api/action-creator-factory.ts","webpack://library/./src/configuration/api/action-editor.ts","webpack://library/./src/configuration/api/configuration-factory.ts","webpack://library/./src/configuration/api/name-providers.ts","webpack://library/./src/configuration/api/timeline-provider-settings-editor.ts","webpack://library/./src/configuration/configuration-resolver.ts","webpack://library/./src/controllers/event-listener-controller.ts","webpack://library/./src/controllers/index.ts","webpack://library/./src/controllers/label-controller.ts","webpack://library/./src/controllers/lottie-controller.ts","webpack://library/./src/controllers/navigation-controller.ts","webpack://library/./src/controllers/progressbar-controller.ts","webpack://library/./src/controllers/routing-controller.ts","webpack://library/./src/controllers/subtitles-controller.ts","webpack://library/./src/engine-factory.ts","webpack://library/./src/eventbus/actionregistry-eventbus-listener.ts","webpack://library/./src/eventbus/eventbus.ts","webpack://library/./src/eventbus/index.ts","webpack://library/./src/eventbus/request-video-uri-interceptor.ts","webpack://library/./src/importer/webpack-resource-importer.ts","webpack://library/./src/index.ts","webpack://library/./src/language-manager.ts","webpack://library/./src/operation/add-class.ts","webpack://library/./src/operation/add-controller-to-element.ts","webpack://library/./src/operation/add-option-list.ts","webpack://library/./src/operation/animate-with-class.ts","webpack://library/./src/operation/animate.ts","webpack://library/./src/operation/broadcast-event.ts","webpack://library/./src/operation/clear-element.ts","webpack://library/./src/operation/clear-operation-data.ts","webpack://library/./src/operation/create-element.ts","webpack://library/./src/operation/custom-function.ts","webpack://library/./src/operation/end-action.ts","webpack://library/./src/operation/end-loop.ts","webpack://library/./src/operation/extend-controller.ts","webpack://library/./src/operation/get-controller-from-element.ts","webpack://library/./src/operation/get-controller-instance.ts","webpack://library/./src/operation/get-element-dimensions.ts","webpack://library/./src/operation/get-import.ts","webpack://library/./src/operation/helper/attach-controller-to-element.ts","webpack://library/./src/operation/helper/deepcopy.ts","webpack://library/./src/operation/helper/extract-operation-data-argument-values.ts","webpack://library/./src/operation/helper/get-element-data.ts","webpack://library/./src/operation/helper/get-nested-property-value.ts","webpack://library/./src/operation/helper/get-nested-value.ts","webpack://library/./src/operation/helper/internal-resolve.ts","webpack://library/./src/operation/helper/merge-operation-data.ts","webpack://library/./src/operation/helper/modify-dimensions.ts","webpack://library/./src/operation/helper/remove-event-data-from-operation-data.ts","webpack://library/./src/operation/helper/resolve-event-arguments.ts","webpack://library/./src/operation/helper/resolve-property-values.ts","webpack://library/./src/operation/index.ts","webpack://library/./src/operation/load-json.ts","webpack://library/./src/operation/log.ts","webpack://library/./src/operation/metadata/add-class.ts","webpack://library/./src/operation/metadata/add-controller-to-element.ts","webpack://library/./src/operation/metadata/add-option-list.ts","webpack://library/./src/operation/metadata/animate-with-class.ts","webpack://library/./src/operation/metadata/animate.ts","webpack://library/./src/operation/metadata/broadcast-event.ts","webpack://library/./src/operation/metadata/clear-element.ts","webpack://library/./src/operation/metadata/clear-operation-data.ts","webpack://library/./src/operation/metadata/create-element.ts","webpack://library/./src/operation/metadata/custom-function.ts","webpack://library/./src/operation/metadata/end-action.ts","webpack://library/./src/operation/metadata/end-loop.ts","webpack://library/./src/operation/metadata/extend-controller.ts","webpack://library/./src/operation/metadata/get-controller-from-element.ts","webpack://library/./src/operation/metadata/get-controller-instance.ts","webpack://library/./src/operation/metadata/get-element-dimensions.ts","webpack://library/./src/operation/metadata/get-import.ts","webpack://library/./src/operation/metadata/index.ts","webpack://library/./src/operation/metadata/load-json.ts","webpack://library/./src/operation/metadata/log.ts","webpack://library/./src/operation/metadata/remove-class.ts","webpack://library/./src/operation/metadata/remove-controller-from-element.ts","webpack://library/./src/operation/metadata/remove-element.ts","webpack://library/./src/operation/metadata/remove-properties-from-operation-data.ts","webpack://library/./src/operation/metadata/reparent-element.ts","webpack://library/./src/operation/metadata/request-action.ts","webpack://library/./src/operation/metadata/resize-action.ts","webpack://library/./src/operation/metadata/select-element.ts","webpack://library/./src/operation/metadata/set-element-attributes.ts","webpack://library/./src/operation/metadata/set-element-content.ts","webpack://library/./src/operation/metadata/set-operation-data.ts","webpack://library/./src/operation/metadata/set-style.ts","webpack://library/./src/operation/metadata/start-action.ts","webpack://library/./src/operation/metadata/start-loop.ts","webpack://library/./src/operation/metadata/toggle-class.ts","webpack://library/./src/operation/metadata/toggle-element.ts","webpack://library/./src/operation/metadata/wait.ts","webpack://library/./src/operation/remove-class.ts","webpack://library/./src/operation/remove-controller-from-element.ts","webpack://library/./src/operation/remove-element.ts","webpack://library/./src/operation/remove-properties-from-operation-data.ts","webpack://library/./src/operation/reparent-element.ts","webpack://library/./src/operation/request-action.ts","webpack://library/./src/operation/resize-action.ts","webpack://library/./src/operation/select-element.ts","webpack://library/./src/operation/set-element-attributes.ts","webpack://library/./src/operation/set-element-content.ts","webpack://library/./src/operation/set-operation-data.ts","webpack://library/./src/operation/set-style.ts","webpack://library/./src/operation/start-action.ts","webpack://library/./src/operation/start-loop.ts","webpack://library/./src/operation/toggle-class.ts","webpack://library/./src/operation/toggle-element.ts","webpack://library/./src/operation/wait.ts","webpack://library/./src/timeline-event-names.ts","webpack://library/./src/timelineproviders/index.ts","webpack://library/./src/timelineproviders/jwplayer-timeline-provider.ts","webpack://library/./src/timelineproviders/media-element-timeline-provider.ts","webpack://library/./src/timelineproviders/request-animation-frame-timeline-provider.ts","webpack://library/./node_modules/mediaelement/build/mediaelement-and-player.js","webpack://library/./node_modules/mediaelement/full.js","webpack://library/./node_modules/ts-is-present/lib/index.js","webpack://library/external {\"amd\":\"jquery\",\"global\":\"jQuery\",\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\"}","webpack://library/external {\"amd\":\"lottie-web\",\"global\":\"lottie\",\"commonjs\":\"lottie-web\",\"commonjs2\":\"lottie-web\"}","webpack://library/external {\"amd\":\"mousetrap\",\"global\":\"Mousetrap\",\"commonjs\":\"mousetrap\",\"commonjs2\":\"mousetrap\"}","webpack://library/external {\"amd\":\"uuid\",\"global\":\"uuid\",\"commonjs\":\"uuid\",\"commonjs2\":\"uuid\"}","webpack://library/webpack/bootstrap","webpack://library/webpack/startup","webpack://library/webpack/runtime/global"],"names":["root","factory","exports","module","require","define","amd","undefined","self","__WEBPACK_EXTERNAL_MODULE__4985__","__WEBPACK_EXTERNAL_MODULE__7725__","__WEBPACK_EXTERNAL_MODULE__5129__","__WEBPACK_EXTERNAL_MODULE__2935__","name","startOperations","eventbus","id","initOperationData","context","Promise","resolve","reject","this","executeOperation","catch","e","console","error","operations","idx","previousOperationData","hasOwnProperty","newIndex","currentIndex","skip","length","operationInfo","copy","operationData","deepcopy","mergedOperationData","Object","assign","result","instance","call","isPromise","then","resultOperationData","EndableAction","Action","endOperations","eventBus","super","TimelineAction","obj","duration","active","end","start","configuration","timelineProviders","languageManager","_timeLineActionsLookup","_eventbusListeners","_currentTimelineUri","_activeTimelineProvider","_lastPosition","_createLayoutTemplate","_addInitialisationListeners","timelines","uri","_createTimelineLookup","push","on","TimelineEventNames","TIME","_onTimeHandler","bind","Math","floor","SEEK","_onSeekHandler","_initializeTimelineProvider","containerSelector","container","Error","layoutTemplate","html","warn","firstTimeline","providerSettings","type","destroy","provider","init","_executeActions","initActions","_cleanUpTimeline","_cleanUp","forEach","remover","values","info","REQUEST_ENGINE_ROOT","_handleRequestEngineRoot","REQUEST_TIMELINE_URI","_handleRequestTimelineUri","REQUEST_CURRENT_TIMELINE_POSITION","_handleRequestTimelinePosition","REQUEST_TIMELINE_CLEANUP","_handleTimelineComplete","EXECUTE_TIMELINEACTION","_handleExecuteTimelineAction","RESIZE_TIMELINEACTION","_resizeTimelineAction","REQUEST_CURRENT_TIMELINE","_requestCurrentTimeline","timelineInfo","timelineActions","_addTimelineAction","timeLineAction","startPosition","timelineStartPositions","_initializeTimelinePosition","_initializeUriLookup","startMethod","isStart","Infinity","isFinite","timelineEndPositions","endMethod","lookup","position","actions","methodName","engineRootSelector","resultCallback","previousVideoPosition","stop","timelineConfig","find","timeline","broadcast","CURRENT_TIMELINE_CHANGE","newProviderSettings","loop","once","FIRST_FRAME","pause","DURATION","getDuration","_executeStartActions","seek","offset","playlistItem","_executeRelevantActions","_getActiveActions","_getActionsForPosition","allActions","filter","action","sort","a","b","executionType","_getRelevantTimelineActions","currentActions","apply","getPosition","index","_getTimelineActionsForUri","event","isNaN","pos","_executeActionsForPosition","POSITION_UPDATE","TIME_UPDATE","_executeSeekActions","executions","exec","newActions","promise","configurationfactory","creator","ActionCreator","addAction","actionConfig","EndableActionCreator","addInitAction","addEventAction","TimelineActionCreator","addTimelineAction","callBack","newConfig","systemName","array_move","arr","old_index","new_index","splice","ActionEditor","configurationFactory","slice","OperationEditor","operation","o","indexOf","direction","EndableActionEditor","operationConfig","actionEditor","updateConfiguration","key","value","setOperationData","keys","config","actionCreatorFactory","ActionCreatorFactory","defaultLanguage","engine","timelineProviderSettings","language","availableLanguages","labels","selector","code","languageLabel","_initializeCollection","label","collectionName","parent","_internalAddAction","getTimeline","createAction","createInitAction","createEventAction","createTimelineAction","t","l","labelTranslations","languageCode","translation","labelConfig","_initializeLabel","_getLabelTranslation","eventActions","TimelineActionEditor","controllers","operationName","getMetadata","operationMetadata","providersSettings","timelineType","poster","vendor","TimelineProviderSettingsEditor","providersSettingsEditor","resolveTimelines","importer","resolveTimelineAction","map","resolveOperation","import","resolveActionConfiguration","resolveEndableActionConfiguration","actionConfiguration","resolvedConfig","resolveActions","actionConfigurations","resolvePlaceholders","rootConfig","isDefined","Array","isArray","item","startsWith","configProperty","substr","getNestedPropertyValue","templateKey","jsonKey","json","resolvePlaceholder","actionRegistryListener","timelineFlow","eventActionConfigurations","eventName","eventTopic","eventAction","registerAction","resolveEventActions","reduce","aggr","actionInstanceInfos","selectedElement","actionOperationData","actionInstance","actionName","_isStartAction","REQUEST_ACTION","_getElementTagName","_selectEventHandler","_eventHandler","element","tagName","toUpperCase","target","targetValue","_executeAction","actionInfo","options","i","opt","selected","eventArgs","_eventbus","off","EventListenerController","LabelController","LottieController","NavigationController","ProgressbarController","RoutingController","SubtitlesController","listeners","currentLanguage","labelData","REQUEST_CURRENT_LANGUAGE","REQUEST_LABEL_COLLECTION","labelId","labelCollection","createTextDataLookup","setLabel","LANGUAGE_CHANGE","handleLanguageChange","func","data","d","animationItem","serializedData","serializedIEData","freezePosition","endPosition","renderer","autoplay","animationData","labelIds","viewBox","iefallback","url","parseFilename","JSON","stringify","split","setting","resultHolder","REQUEST_LABEL_COLLECTIONS","labelCollections","createAnimation","addEventListener","playSegments","serialized","isIE","join","parse","animationSettings","loadAnimation","timeCompleted","attr","infos","window","document","navigation","navLookup","navVidIdLookup","ctrlLookup","activeNavigationPoint","labelControllers","eventhandlers","buildNavigationData","handleNavigateVideoUrl","highlightMenu","handleRequestCurrentNavigation","handleVideoComplete","buildHtml","initHistory","navId","getQueryVariable","videoIndex","videoUrlIndex","variableIdx","href","location","hashIndex","query","substring","labelCtrl","navigationData","title","handler","ctrl","detach","onpopstate","state","parentElm","ul","addNavElement","append","visible","li","addLabel","addClickHandler","children","mouseup","menuMouseupHandler","navdata","requestedVideoPosition","pushCurrentState","navElm","removeClass","addClass","navData","autoNext","next","attach","nav","previous","nextId","roots","childId","textElement","detachers","positionUpdateHandler","clickHandler","percentage","css","text","handleBeforeRequestVideoUrl","handlePushHistoryState","handlePopstate","history","pushState","navigationId","_index","_requestedVideoPosition","isHistoryRequest","currentPosition","currentState","replaceState","actionLookup","lastFunc","detachTime","onTimeHandler","detachSeek","SEEKED","onSeekedHandler","detachLangChange","languageChangeHandler","internalDetach","detachMethods","f","newLanguage","empty","arg","removeTitle","titleLanguageLookup","subtitleData","titles","subtitleTimeLookup","ii","j","jj","subs","lang","setTitle","createActionLookup","windowRef","resizeTimeout","actionsLookup","Eventbus","REQUEST_INSTANCE","_requestInstanceHandler","_requestActionHandler","REQUEST_FUNCTION","_requestFunctionHandler","resize","_resizeHandler","clear","clearTimeout","setTimeout","RESIZE","_importSystemEntry","_importSystemEntryWithEventbusDependency","resolver","EngineClass","ActionRegistryEventbusListener","registerEventlistener","registerInterceptor","RequestVideoUriInterceptor","ConfigurationResolver","resolvedConfiguration","process","_createTimelineProviders","LanguageManager","chronoTriggerEngine","preventDefault","PLAY_TOGGLE_REQUEST","entries","acc","settings","timelineProviderClass","args","eventHandlers","eventInterceptors","eventListeners","eventHandler","_getEventHandlers","eventHandlerDecorator","arguments","handlers","_callHandlers","eventbusListener","interceptor","_getEventInterceptors","intercept","listener","handleEvent","BEFORE_REQUEST_TIMELINE_URI","ops","ctrls","providers","prvdrs","main","m","ChronoTriggerEngine","ConfigurationFactory","ControllerNamesProvider","OperationMetadataProvider","OperationNamesProvider","TimeLineEventNamesProvider","EngineFactory","WebpackResourceImporter","_setRootElementLang","_createLabelLookup","_addEventbusListeners","_handleRequestLabelCollection","_handleRequestLabelCollections","_handleRequestCurrentLanguage","_handleLanguageChange","rootSelector","_extractLanguageFromCulture","culture","shift","_eventBus","className","addControllerToElement","controllerInstance","newOperationData","internalResolve","createOptionElementText","valueProperty","labelProperty","defaultIndex","defaultValue","addOptionList","optionData","createOption","optionElements","animateWithClass","one","animate","animationEasing","animationProperties","animationDuration","broadcastEvent","eventArguments","resolveEventArguments","broadcastForTopic","removeEventDataFromOperationData","clearElement","clearOperationData","properties","createElement","resolvePropertyValues","elementName","attributes","serializedAttrs","template","customFunction","endAction","mergedData","mergeOperationData","endLoop","loopIndex","loopLength","startIndex","extendController","controllerExtension","getControllerFromElement","controllerName","controller","getElementControllers","getControllerInstance","propertyName","getElementDimensions","modifier","dimensions","width","innerWidth","height","innerHeight","getImport","importedInstance","original","sourceObject","argumentValue","toLowerCase","propNames","getElementData","propertyChain","currentInstance","suffix","prop","parts","ratioModifier","prefix","endIdx","isPercent","getModifierSuffix","parseInt","widthModifier","heightModifier","_modifyDimensions","ratios","modifyDimensionsByRatio","extract","get","loadJSON","log","removeControllerFromElement","removeElement","removePropertiesFromOperationData","reparentElement","requestAction","resizeAction","selectElement","setElementAttributes","setElementContent","setStyle","startAction","startLoop","toggleClass","toggleElement","wait","jsonCache","cache","fetch","response","body","group","dir","groupEnd","description","dependentProperties","required","outputProperties","default","propertyNames","newParentSelector","useSelectedElementAsRoot","override","collection","milliseconds","remove","appendTo","findElementBySelector","attrName","resolvedProperties","toggle","PLAY_REQUEST","STOP_REQUEST","PAUSE_REQUEST","SEEK_REQUEST","RESIZE_REQUEST","CONTAINER_REQUEST","DURATION_REQUEST","COMPLETE","PLAY","STOP","PAUSE","JwPlayerTimelineProvider","MediaElementTimelineProvider","RequestAnimationFrameTimelineProvider","_paused","_player","_currentLoopHandler","_playlist","_videoElementId","_addEventListeners","urls","_extractUrls","jwp","jwplayer","p","w","h","setup","file","image","controls","autostart","displaytitle","displaydescription","nextUpDisplay","abouttext","aboutlink","stretching","repeat","_handlePlayerReady","load","_loopHandler","_seekedHandler","_handlePlayerComplete","play","getPlaylistIndex","jwplayerEvent","toggleplay","_container","getProvider","findIndex","getState","getMute","getVolume","setMute","volume","setVolume","MediaElementPlayer","g","_length","_urls","_addVideoElements","videoElement","getElementById","player","success","mediaElement","_originalNode","_timeUpdateHandler","controlsAreVisible","controlsEnabled","currentTime","videoElm","_extractFileType","lastIdx","lastIndexOf","setSrc","paused","setCurrentTime","getCurrentTime","_requestID","_last","_currentPosition","_updateBound","_update","_firstFrame","_granularity","_playState","_extractPlaylist","_currentPlaylistItem","_resize","requestDurationHandler","now","_reset","requestAnimationFrame","_cancelAnimationFrame","_containerElement","cancelAnimationFrame","_start","n","r","s","u","1","_dereq_","2","global","doccy","topLevel","minDoc","3","win","4","setTimeoutFunc","noop","fn","TypeError","_state","_handled","_value","_deferreds","doResolve","handle","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","newValue","finale","thisArg","_unhandledRejectionFn","len","Handler","done","reason","ex","prototype","prom","all","remaining","res","val","constructor","race","setImmediate","err","_setImmediateFn","_setUnhandledRejectionFn","5","defineProperty","_typeof","Symbol","iterator","_mejs","_mejs2","__esModule","_en","_general","i18n","en","EN","_len","_key","test","isObjectEmpty","message","pluralParam","str","pluralForm","_plural","input","number","form","concat","replace","escapeHTML","mejsL10n","strings","6","_window2","_interopRequireDefault","_document2","_media2","_renderer","_constants","MediaElement","idOrNode","sources","_this","Constructor","_classCallCheck","defaults","renderers","fakeNodeName","pluginPath","shimScriptAccess","originalNode","random","toString","setAttribute","getAttribute","parentNode","insertBefore","appendChild","processURL","protocol","IS_IOS","html5media","mediaTypes","xhr","XMLHttpRequest","onreadystatechange","readyState","status","blobUrl","URL","webkitURL","createObjectURL","open","responseType","send","mediaFiles","nodeName","src","_sources","nodeSource","node","formatType","_type","events","promises","rendererName","changeRenderer","media","show","hide","newRenderer","newRendererType","rendererArray","order","_i","total","renderOptions","create","setSize","generateError","urlList","createEvent","dispatchEvent","props","methods","addProperty","onGet","onSet","oldValue","set","assignGettersSetters","propName","capName","getFn","setFn","getSrc","getTypeFromFile","_src","absolutizeUrl","_type2","_i2","_src2","_type3","_media","renderInfo","select","triggerAction","tmpResponse","assignMethods","_i3","_i4","_total","callback","removeEventListener","callbacks","_i5","_i6","cloneNode","wrapper","parentElement","removeAttribute","7","_window","mejs","readOnlyProperties","8","_createClass","defineProperties","descriptor","enumerable","configurable","writable","protoProps","staticProps","Renderer","renderersLength","rendererIndicator","rendererRanking","jl","canPlayType","_order","_renderers","Renderers","9","_i18n2","_player2","Features","newObj","_interopRequireWildcard","_dom","usePluginFullScreen","fullscreenText","useFakeFullscreen","isFullScreen","isNativeFullScreen","isInIframe","isPluginClickThroughCreated","fullscreenMode","containerSizeTimeout","buildfullscreen","isVideo","detectFullscreenMode","fullscreenTitle","isString","fullscreenBtn","classPrefix","innerHTML","addControlElement","HAS_TRUE_NATIVE_FULLSCREEN","IS_FULLSCREEN","exitFullScreen","enterFullScreen","keyActions","ctrlKey","exitFullscreenCallback","which","keyCode","enableKeyboard","globalBind","normalHeight","normalWidth","FULLSCREEN_EVENT_NAME","setControlsSize","cleanfullscreen","globalUnbind","isNative","mode","SUPPORT_POINTER_EVENTS","containerStyles","getComputedStyle","getElement","HAS_IOS_FULLSCREEN","webkitEnterFullscreen","documentElement","parseFloat","requestFullScreen","checkFullscreen","windowWidth","clientWidth","screenWidth","screen","abs","style","elements","querySelectorAll","setDimensions","layers","zoomFactor","min","captionText","querySelector","fontSize","lineHeight","bottom","offsetHeight","cancelFullScreen","_total2","10","playText","pauseText","buildplaypause","op","playTitle","pauseTitle","playBtn","togglePlayPause","11","_time","enableProgressTooltip","useSmoothHover","forceLive","buildprogress","lastKeyPressTime","mouseIsDown","startedPaused","autoRewindInitial","autoRewind","tooltip","rail","showControls","startControlsTimer","timeSlider","focus","newTime","max","defaultSeekBackwardInterval","defaultSeekForwardInterval","loaded","current","timefloat","timefloatcurrent","slider","hovered","buffer","forcedHandlePause","setTransformStyle","transform","webkitTransform","MozTransform","msTransform","OTransform","display","handleMouseMove","totalStyles","offsetStyles","offsetWidth","mozTransform","oTransform","cssMatrix","leftPos","x","originalEvent","changedTouches","pageX","left","toFixed","setCurrentRailHandle","updateCurrent","IS_ANDROID","handleLocation","m41","hoverScaleX","half","offsetContainer","Utils","tooltipStyles","hasClass","marginLeft","secondsToTimeCode","alwaysShowHours","showTimecodeFrameCount","framesPerSecond","secondsDecimalLength","timeFormat","restartPlayer","Date","seekForward","seekBackward","seekTime","newVolume","mutePlayer","setMuted","IS_FIREFOX","stopPropagation","endEvents","totalEvents","closest","SUPPORT_PASSIVE_EVENT","passive","broadcastCallback","seconds","timeSliderText","time","innerText","setProgressRail","setCurrentRail","tabIndex","cleanprogress","detail","percent","buffered","bytesTotal","bufferedBytes","lengthComputable","fakeTime","setCurrentRailMain","nTime","tW","newWidth","round","handlePos","12","timeAndDurationSeparator","buildcurrent","updateTimeCallback","cleancurrent","buildduration","lastChild","updateDurationCallback","updateDuration","cleanduration","timecode","13","startLanguage","tracksText","chaptersText","tracksAriaLive","hideCaptionsButtonWhenEmpty","toggleCaptionsButtonWhenOnlyOne","slidesSelector","hasChapters","buildtracks","findTracks","tracks","trackFiles","tracksTitle","chaptersTitle","domNode","textTracks","cleartracks","captions","firstChild","captionsText","captionsButton","disabled","chaptersButton","subtitleCount","kind","trim","trackToLoad","selectedTrack","isLoadingTrack","_kind","addTrackButton","trackId","srclang","loadNextTrack","inEvents","outEvents","keyboard","setTrack","_total3","_total4","radio","siblings","el","_i7","_total5","_i8","_total6","alwaysShowControls","displayCaptions","slidesContainer","displaySlides","chapters","rebuildtracks","tracktags","track","isLoaded","setByKeyboard","radios","checked","_i9","_total7","_i10","_total8","_i11","_total9","_track","caption","loadTrack","checkForTracks","ajax","TrackFormatParser","dfxp","webvtt","enableTrackButton","setupSlides","drawChapters","removeTrackButton","codes","targetSiblings","button","hasSubtitles","searchTrackPosition","captionTextPreprocessor","div","scripts","getElementsByTagName","allElements","_i12","attributesObj","sanitize","identifier","slides","imgs","showSlide","img","fadeIn","fadeOut","_visible","_i13","_total10","listItems","_i14","_total11","_i15","_total12","lo","hi","mid","af","sq","ar","be","bg","ca","zh","hr","cs","da","nl","et","fl","fi","fr","gl","de","ht","iw","hu","is","ga","it","ja","ko","lv","lt","mk","ms","mt","no","fa","pl","pt","ro","ru","sr","sk","sl","es","sw","sv","tl","th","tr","uk","vi","cy","yi","pattern","trackText","lines","convertSMPTEtoSeconds","$","styleNode","styles","_i16","_total13","_temp","eq","_style","14","muteText","unmuteText","allyVolumeControlText","hideVolumeOnTouchDevices","audioVolume","videoVolume","startVolume","buildvolume","volumeControlText","mute","volumeSlider","matches","muted","anchor","nextSibling","mouseIsOver","modified","volumeTotal","volumeCurrent","volumeHandle","positionVolumeHandle","firstElementChild","_button","volumePercentage","volumeStyles","marginBottom","handleVolumeMove","totalOffset","railHeight","pageY","top","railWidth","toggleMute","relatedTarget","rendered","15","16","_mediaelement2","_default2","dom","mepIndex","players","showPosterWhenEnded","showPosterWhenPaused","defaultVideoWidth","defaultVideoHeight","videoWidth","videoHeight","defaultAudioWidth","defaultAudioHeight","audioWidth","audioHeight","enableAutosize","hideVideoControlsOnLoad","hideVideoControlsOnPause","clickToPlayPause","controlsTimeoutDefault","controlsTimeoutMouseEnter","controlsTimeoutMouseLeave","iPadUseNativeControls","iPhoneUseNativeControls","AndroidUseNativeControls","features","useDefaultControls","pauseOtherPlayers","customError","ended","MepDefaults","hasFocus","controlsTimer","currentMediaTime","proxy","calculateTimeFormat","playerOptions","_meReady","_handleError","isDynamic","IS_IPAD","IS_IPHONE","videoPlayerTitle","offscreen","btnSelector","isNodeAfter","background","outerContainer","tagType","capsTagName","initialAspectRatio","setPlayerSize","pluginWidth","pluginHeight","doAnimation","_loop","opacity","forceHide","_loop2","timeout","killControlsTimer","hideControls","autoplayAttr","enableControls","created","featurePosition","_setDefaultPlayer","buildposter","buildkeyboard","buildoverlays","defaultControls","buildfeatures","clickToPlayPauseCallback","pressed","createIframeLayer","playerIndex","ignorePauseOtherPlayersOption","loadingElement","exp","currentTarget","keyboardAction","globalResizeCallback","webkitIsFullScreen","errorContainer","errorContent","imgError","outerHTML","disableControls","setFillMode","setResponsiveMode","hasFluidMode","maxWidth","currentStyle","ratio","parentEl","frameElement","parentStyles","nativeWidth","nativeHeight","aspectRatio","parentHeight","newHeight","parentWidth","clientHeight","layerChildren","isIframe","maxHeight","targetElement","initHeight","initWidth","scaleX1","scaleY1","scaleX2","scaleY2","bScaleOnWidth","finalWidth","finalHeight","marginTop","totalMargin","marginRight","railStyles","railMargin","siblingsWidth","minWidth","child","layer","posterDiv","posterImg","backgroundImage","doc","ownerDocument","splitEvents","eventList","part","_eventList","_eventList2","feature","posterUrl","setPoster","getPosterUrl","loading","bigPlay","keyPressed","IS_STOCK_ANDROID","hasError","canplayTimeout","evt","initEvent","onkeydown","globalKeydownCallback","activeElement","globalClickCallback","keyAction","featureIndex","source","_loop3","newTrack","17","DefaultPlayer","seekable","18","jQuery","Zepto","ender","mediaelementplayer","each","removeData","ready","19","NativeDash","dashjs","_createPlayer","path","loadScript","MediaPlayer","DashNativeRenderer","dash","debug","drm","robustnessLevel","HAS_MSE","dashPlayer","attachNativeEvents","reset","setProtectionData","getProtectionController","setRobustnessLevel","attachSource","_dashPlayer","dashEvents","initialize","attachView","setAutoPlay","assignMdashEvents","_event","eventType","typeChecks","add","20","PluginDetector","plugins","hasPluginVersion","plugin","v","pv","addPlugin","pluginName","mimeType","activeX","axDetect","detectPlugin","version","ax","NAV","mimeTypes","enabledPlugin","match","ActiveXObject","GetVariable","FlashMediaElementRenderer","flash","isActive","flashState","flashApi","flashApiStack","initEvents","flashReady","stackItem","details","flashWrapper","flashVars","flashHeight","flashWidth","enablePseudoStreaming","pseudoStreamingStartQueryParam","pseudoStreamingType","streamDelimiter","encodeURIComponent","proxyType","IS_IE","IS_EDGE","specialIEContainer","filename","flashNode","fire_setSize","FlashMediaElementVideoRenderer","FlashMediaElementHlsVideoRenderer","FlashMediaElementMdashVideoRenderer","FlashMediaElementAudioRenderer","FlashMediaElementAudioOggRenderer","21","NativeFlv","flvjs","LoggingControl","enableDebug","enableVerbose","createPlayer","configs","FlvNativeRenderer","flv","cors","flvPlayer","_flvOptions","_flvConfigs","attachMediaElement","_flvPlayer","flvEvents","Events","unload","detachMediaElement","assignFlvEvents","msg","flvOptions","flvConfigs","22","NativeHls","Hls","HlsNativeRenderer","hls","autoStartLoad","preload","hlsPlayer","loadSource","attachMedia","_hlsPlayer","hlsEvents","assignEvents","detachMedia","recoverDecodingErrorDate","recoverSwapAudioCodecDate","assignHlsEvents","fatal","getTime","recoverMediaError","swapAudioCodec","_message","_message2","startLoad","stopLoad","23","HtmlMediaElement","SUPPORTS_NATIVE_HLS","24","YouTubeApi","isIframeStarted","isIframeLoaded","iframeQueue","enqueueIframe","YT","createIframe","loadIframeApi","iFrameReady","pop","Player","containerId","getYouTubeId","youTubeId","getYouTubeIdFromParam","getYouTubeIdFromUrl","parameters","paramParts","getYouTubeNoCookieUrl","YouTubeIframeRenderer","youtube","disablekb","modestbranding","playsinline","rel","showinfo","iv_load_policy","nocookie","imageQuality","apiStack","youTubeApi","youTubeIframe","getPlaybackRate","isMuted","percentLoaded","getVideoLoadedFraction","getVideoUrl","_videoId","loadVideoById","cueVideoById","seekTo","unMute","setPlaybackRate","playVideo","pauseVideo","youtubeContainer","isAudio","videoId","youtubeSettings","playerVars","html5","origin","host","onReady","youTubeState","getIframe","newEvent","onStateChange","stopInterval","startInterval","onError","errorHandler","hasAttribute","playlist","onEvent","_youTubeState","interval","setInterval","clearInterval","quality","onYouTubePlayerAPIReady","25","HAS_NATIVE_FULLSCREEN_ENABLED","HAS_MS_NATIVE_FULLSCREEN","HAS_MOZ_NATIVE_FULLSCREEN","HAS_WEBKIT_NATIVE_FULLSCREEN","HAS_NATIVE_FULLSCREEN","IS_SAFARI","IS_CHROME","IS_IPOD","UA","navigator","userAgent","MSStream","appName","pointerEvents","supports","supportsPassive","opts","html5Elements","video","hasiOSFullScreen","hasNativeFullscreen","requestFullscreen","hasWebkitNativeFullScreen","webkitRequestFullScreen","hasMozNativeFullScreen","mozRequestFullScreen","hasMsNativeFullScreen","msRequestFullscreen","hasTrueNativeFullScreen","nativeFullScreenEnabled","fullScreenEventName","mozFullScreenEnabled","msFullscreenEnabled","mozFullScreen","msFullscreenElement","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","isiPad","isiPod","isiPhone","isiOS","isAndroid","isEdge","isChrome","isFirefox","isSafari","isStockAndroid","hasMSE","supportsNativeHLS","supportsPointerEvents","supportsPassiveEvent","26","script","async","onload","onerror","head","rect","getBoundingClientRect","scrollLeft","pageXOffset","scrollTop","pageYOffset","hasClassMethod","addClassMethod","removeClassMethod","classList","contains","RegExp","timestamp","progress","elem","getClientRects","dataType","completed","accept","setRequestHeader","responseText","responseXML","27","debounce","c","_arguments","immediate","callNow","getOwnPropertyNames","rwindow","eventFrags","namespace","CustomEvent","sourceNode","targetNode","compareDocumentPosition","28","getMimeFromType","getExtension","normalizeExtension","normalizedExt","mime","baseName","extension","29","_promisePolyfill2","Element","CharacterData","DocumentType","removeChild","params","bubbles","cancelable","initCustomEvent","Event","to","nextSource","nextKey","String","searchString","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","lastTime","vendors","currTime","timeToCall","pseudoEl","getPropertyValue","Node","nodes","childNodes","nodeType","30","isDropFrame","timeCodeToSeconds","fps","forceHours","showFrameCount","dropFrames","timeBase","framesPer24Hours","framesPer10Minutes","frameSep","hours","minutes","frames","timeBaseDivision","timeFormatFrags","timeFormatSettings","unique","output","totalMinutes","hFrames","mFrames","lis","format","firstTwoPlaces","separatorIndex","separator","firstChar","hasNextValue","SMPTE","decimalLen","secs","multiplier","reverse","pow","Number","isFilled","isPresent","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","globalThis","Function"],"mappings":"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","file":"library.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"), require(\"uuid\"), require(\"lottie-web\"), require(\"mousetrap\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"library\", [\"jquery\", \"uuid\", \"lottie-web\", \"mousetrap\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"library\"] = factory(require(\"jquery\"), require(\"uuid\"), require(\"lottie-web\"), require(\"mousetrap\"));\n\telse\n\t\troot[\"library\"] = factory(root[undefined], root[undefined], root[undefined], root[undefined]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__4985__, __WEBPACK_EXTERNAL_MODULE__7725__, __WEBPACK_EXTERNAL_MODULE__5129__, __WEBPACK_EXTERNAL_MODULE__2935__) {\nreturn ","import { IResolvedOperation } from '../configuration/types';\r\nimport { IEventbus } from '../eventbus/types';\r\nimport { deepcopy } from '../operation/helper/deepcopy';\r\nimport { TActionContext, TOperationData, TOperationResult } from '../operation/types';\r\nimport { isPromise } from './is-promise';\r\nimport { IAction } from './types';\r\n\r\nexport class Action implements IAction {\r\n  public id = '';\r\n\r\n  constructor(public name: string, public startOperations: IResolvedOperation[], private eventbus: IEventbus) {}\r\n\r\n  start(initOperationData?: TOperationData): Promise<TOperationData> {\r\n    const context = {};\r\n    const result = new Promise<TOperationData>((resolve, reject) => {\r\n      this.executeOperation(this.startOperations, 0, resolve, reject, initOperationData, context);\r\n    }).catch((e) => {\r\n      console.error(`Error in action start '${this.name}'`);\r\n      console.error(e);\r\n      throw e;\r\n    });\r\n    return result;\r\n  }\r\n\r\n  executeOperation(\r\n    operations: IResolvedOperation[],\r\n    idx: number,\r\n    resolve: (value?: any | PromiseLike<any>) => void,\r\n    reject: (reason?: any) => void,\r\n    previousOperationData: TOperationData | undefined,\r\n    context: TActionContext\r\n  ): void {\r\n    previousOperationData = previousOperationData || {};\r\n    if (context.hasOwnProperty('newIndex')) {\r\n      idx = context.newIndex;\r\n      delete context.newIndex;\r\n    }\r\n    context.currentIndex = idx;\r\n    if (context.skip) {\r\n      if (idx < operations.length) {\r\n        this.executeOperation(operations, ++idx, resolve, reject, previousOperationData, context);\r\n      } else {\r\n        resolve(previousOperationData);\r\n      }\r\n    }\r\n\r\n    if (idx < operations.length) {\r\n      const operationInfo = operations[idx];\r\n      const copy = operationInfo.operationData ? deepcopy(operationInfo.operationData) : {};\r\n      const mergedOperationData = Object.assign(previousOperationData, copy);\r\n\r\n      const result: TOperationResult = operationInfo.instance.call(context, mergedOperationData, this.eventbus);\r\n\r\n      if (isPromise(result)) {\r\n        result\r\n          .then((resultOperationData: TOperationData) => {\r\n            this.executeOperation(operations, ++idx, resolve, reject, resultOperationData, context);\r\n          })\r\n          .catch((error: any) => {\r\n            reject(error);\r\n          });\r\n      } else {\r\n        this.executeOperation(operations, ++idx, resolve, reject, result, context);\r\n      }\r\n    } else {\r\n      resolve(previousOperationData);\r\n    }\r\n  }\r\n}\r\n","import { IResolvedOperation } from '../configuration/types';\r\nimport { IEventbus } from '../eventbus/types';\r\nimport { TOperationData } from '../operation/types';\r\nimport { Action } from './action';\r\n\r\nexport class EndableAction extends Action {\r\n  constructor(\r\n    name: string,\r\n    startOperations: IResolvedOperation[],\r\n    public endOperations: IResolvedOperation[],\r\n    eventBus: IEventbus\r\n  ) {\r\n    super(name, startOperations, eventBus);\r\n  }\r\n\r\n  end(initOperationData?: TOperationData): Promise<TOperationData> {\r\n    if (this.endOperations.length) {\r\n      const context = {};\r\n      const idx = 0;\r\n      const result = new Promise<TOperationData>((resolve, reject) => {\r\n        this.executeOperation(this.endOperations, idx, resolve, reject, initOperationData, context);\r\n      }).catch((e) => {\r\n        console.error(`Error in action end'${this.name}'`);\r\n        throw e;\r\n      });\r\n      return result;\r\n    }\r\n    return new Promise((resolve) => {\r\n      resolve(initOperationData);\r\n    });\r\n  }\r\n}\r\n","export { Action } from './action';\r\nexport { EndableAction } from './endable-action';\r\nexport { TimelineAction } from './timeline-action';\r\n","export function isPromise(obj: any): obj is Promise<unknown> {\r\n  return typeof obj === 'object' && typeof obj.then === 'function';\r\n}\r\n","import { IResolvedOperation } from '../configuration/types';\r\nimport { IEventbus } from '../eventbus/types';\r\nimport { TOperationData } from '../operation/types';\r\nimport { IStrictDuration } from '../types';\r\nimport { EndableAction } from './endable-action';\r\n\r\nexport class TimelineAction extends EndableAction {\r\n  public active = false;\r\n\r\n  constructor(\r\n    name: string,\r\n    startOperations: IResolvedOperation[],\r\n    endOperations: IResolvedOperation[],\r\n    public duration: IStrictDuration,\r\n    eventBus: IEventbus\r\n  ) {\r\n    super(name, startOperations, endOperations, eventBus);\r\n  }\r\n\r\n  start(initOperationData: TOperationData): Promise<TOperationData> {\r\n    if (!this.active || this.duration.end < 0) {\r\n      this.active = this.duration.end > -1;\r\n      return super.start(initOperationData);\r\n    }\r\n    return new Promise((resolve) => {\r\n      resolve();\r\n    });\r\n  }\r\n\r\n  end(initOperationData: TOperationData): Promise<TOperationData> {\r\n    this.active = false;\r\n    return super.end(initOperationData);\r\n  }\r\n}\r\n","import $ from 'jquery';\r\nimport { IEndableAction, ITimelineAction } from './action/types';\r\nimport { IResolvedEngineConfiguration } from './configuration/types';\r\nimport { IEventbus, TEventHandlerRemover } from './eventbus/types';\r\nimport { LanguageManager } from './language-manager';\r\nimport { TOperation } from './operation/types';\r\nimport { TimelineEventNames } from './timeline-event-names';\r\nimport { ITimelineProvider } from './timelineproviders/types';\r\nimport { IChronoTriggerEngine, ITimelineProviderInfo, TimelineTypes, TResultCallback } from './types';\r\n\r\n/**\r\n * ChronoTriggerEngine, this is where the magic happens. The engine is responsible for starting and stoppping\r\n * the given timeline provider and triggering the actions associated with it.\r\n * ...\r\n */\r\nexport class ChronoTriggerEngine implements IChronoTriggerEngine {\r\n  private _timeLineActionsLookup: Record<string, any> = {};\r\n  private _eventbusListeners: TEventHandlerRemover[] = [];\r\n  private _currentTimelineUri: string = '';\r\n  private _activeTimelineProvider: ITimelineProvider | undefined = undefined;\r\n  private _lastPosition: number = -1;\r\n\r\n  constructor(\r\n    private configuration: IResolvedEngineConfiguration,\r\n    private eventbus: IEventbus,\r\n    private timelineProviders: Record<TimelineTypes, ITimelineProviderInfo>,\r\n    private languageManager: LanguageManager\r\n  ) {}\r\n\r\n  init(): Promise<ITimelineProvider> {\r\n    this._createLayoutTemplate();\r\n\r\n    this._addInitialisationListeners();\r\n\r\n    const { timelines } = this.configuration;\r\n\r\n    this._currentTimelineUri = timelines && timelines.length ? timelines[0].uri : '';\r\n\r\n    this._createTimelineLookup();\r\n\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.TIME, this._onTimeHandler.bind(this, Math.floor)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.SEEK, this._onSeekHandler.bind(this, Math.floor)));\r\n\r\n    return this._initializeTimelineProvider();\r\n  }\r\n\r\n  _createLayoutTemplate() {\r\n    const { containerSelector } = this.configuration;\r\n    const container = $(containerSelector);\r\n\r\n    if (!container || !container.length) {\r\n      throw new Error(`Container selector not found: ${containerSelector}`);\r\n    }\r\n\r\n    const { layoutTemplate } = this.configuration;\r\n\r\n    if (layoutTemplate && layoutTemplate.length) {\r\n      container.html(layoutTemplate);\r\n    } else {\r\n      console.warn('layoutTemplate is empty, unable to create layout');\r\n    }\r\n  }\r\n\r\n  _initializeTimelineProvider(): Promise<ITimelineProvider> {\r\n    if (!this.configuration.timelines?.length) {\r\n      return Promise.resolve<any>(undefined);\r\n    }\r\n\r\n    const firstTimeline = this.configuration.timelines[0];\r\n    const providerSettings = this.timelineProviders[firstTimeline.type];\r\n\r\n    if (!providerSettings) {\r\n      throw new Error(`No timeline provider configured for type ${firstTimeline.type}`);\r\n    }\r\n\r\n    if (this._activeTimelineProvider) {\r\n      this._activeTimelineProvider.destroy();\r\n    }\r\n\r\n    this._activeTimelineProvider = providerSettings.provider;\r\n\r\n    return new Promise((resolve) => {\r\n      if (this._activeTimelineProvider) {\r\n        this._activeTimelineProvider.init().then(() => {\r\n          this._executeActions(this.configuration.initActions, 'start').then(() => {\r\n            resolve(this._activeTimelineProvider);\r\n          });\r\n        });\r\n      } else {\r\n        resolve();\r\n      }\r\n    });\r\n  }\r\n\r\n  async _cleanUp() {\r\n    await this._cleanUpTimeline();\r\n    await this._executeActions(this.configuration.initActions, 'end');\r\n  }\r\n\r\n  async destroy() {\r\n    await this._cleanUp();\r\n    this._activeTimelineProvider = undefined;\r\n    this._eventbusListeners.forEach((remover) => remover());\r\n    if (this.timelineProviders) {\r\n      Object.values(this.timelineProviders).forEach((info) => info.provider.destroy());\r\n    }\r\n  }\r\n\r\n  _addInitialisationListeners() {\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(\r\n        TimelineEventNames.REQUEST_ENGINE_ROOT,\r\n        this._handleRequestEngineRoot.bind(this, this.configuration.containerSelector)\r\n      )\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.REQUEST_TIMELINE_URI, this._handleRequestTimelineUri.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(\r\n        TimelineEventNames.REQUEST_CURRENT_TIMELINE_POSITION,\r\n        this._handleRequestTimelinePosition.bind(this, Math.floor)\r\n      )\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.REQUEST_TIMELINE_CLEANUP, this._handleTimelineComplete.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.EXECUTE_TIMELINEACTION, this._handleExecuteTimelineAction.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.RESIZE_TIMELINEACTION, this._resizeTimelineAction.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.REQUEST_CURRENT_TIMELINE, this._requestCurrentTimeline.bind(this))\r\n    );\r\n  }\r\n\r\n  _createTimelineLookup() {\r\n    if (!this.configuration.timelines) {\r\n      return;\r\n    }\r\n    this.configuration.timelines.forEach((timelineInfo) => {\r\n      timelineInfo.timelineActions.forEach(this._addTimelineAction.bind(this, timelineInfo.uri));\r\n    });\r\n  }\r\n\r\n  _addTimelineAction(uri: string, timeLineAction: ITimelineAction) {\r\n    const startPosition = timeLineAction.duration.start;\r\n    const timelineStartPositions = this._initializeTimelinePosition(\r\n      this._initializeUriLookup(this._timeLineActionsLookup, uri),\r\n      startPosition\r\n    );\r\n    const startMethod = timeLineAction.start.bind(timeLineAction);\r\n\r\n    if (timeLineAction.id.length) {\r\n      (startMethod as any).id = timeLineAction.id;\r\n      (startMethod as any).isStart = true;\r\n    }\r\n\r\n    timelineStartPositions.push(startMethod);\r\n\r\n    let end = timeLineAction.duration.end;\r\n    if (end < 0) {\r\n      end = timeLineAction.duration.end = Infinity;\r\n    }\r\n\r\n    if (isFinite(end)) {\r\n      const timelineEndPositions = this._initializeTimelinePosition(this._timeLineActionsLookup[uri], end);\r\n      const endMethod = timeLineAction.end.bind(timeLineAction);\r\n\r\n      if (timeLineAction.id.length) {\r\n        (endMethod as any).id = timeLineAction.id;\r\n      }\r\n\r\n      timelineEndPositions.push(endMethod);\r\n    }\r\n  }\r\n\r\n  _initializeUriLookup(lookup: Record<string, any>, uri: string): Record<number, any> {\r\n    if (!lookup[uri]) {\r\n      lookup[uri] = {};\r\n    }\r\n\r\n    return lookup[uri];\r\n  }\r\n\r\n  _initializeTimelinePosition(lookup: Record<number, any>, position: number): TOperation[] {\r\n    if (!lookup[position]) {\r\n      lookup[position] = [];\r\n    }\r\n\r\n    return lookup[position];\r\n  }\r\n\r\n  _executeActions(actions: IEndableAction[], methodName: 'start' | 'end', idx = 0): Promise<any> {\r\n    if (actions && idx < actions.length) {\r\n      const action = actions[idx];\r\n\r\n      const promise = action[methodName]();\r\n      return promise.then(() => {\r\n        return this._executeActions(actions, methodName, ++idx);\r\n      });\r\n    }\r\n\r\n    return new Promise((resolve) => {\r\n      resolve();\r\n    });\r\n  }\r\n\r\n  _handleRequestEngineRoot(engineRootSelector: string, resultCallback: TResultCallback) {\r\n    resultCallback($(engineRootSelector));\r\n  }\r\n\r\n  _handleRequestTimelineUri(uri: string, position?: number, previousVideoPosition?: number) {\r\n    if (!this._activeTimelineProvider) {\r\n      return;\r\n    }\r\n\r\n    previousVideoPosition = previousVideoPosition ?? 0;\r\n    this._activeTimelineProvider.stop();\r\n\r\n    this._cleanUpTimeline().then(() => {\r\n      const timelineConfig = this.configuration.timelines.find((timeline) => timeline.uri === uri);\r\n      if (!timelineConfig || !this._activeTimelineProvider || this._currentTimelineUri === timelineConfig.uri) {\r\n        return;\r\n      }\r\n      this._currentTimelineUri = timelineConfig.uri;\r\n\r\n      this.eventbus.broadcast(TimelineEventNames.CURRENT_TIMELINE_CHANGE, [this._currentTimelineUri]);\r\n\r\n      const newProviderSettings = this.timelineProviders[timelineConfig.type];\r\n\r\n      if (this._activeTimelineProvider !== newProviderSettings.provider) {\r\n        this._activeTimelineProvider.destroy();\r\n        this._activeTimelineProvider = newProviderSettings.provider;\r\n      }\r\n\r\n      this._activeTimelineProvider.loop = timelineConfig.loop;\r\n\r\n      position = position ?? 0;\r\n      if (!this._activeTimelineProvider.loop && position > 0) {\r\n        this.eventbus.once(TimelineEventNames.FIRST_FRAME, () => {\r\n          if (!this._activeTimelineProvider) {\r\n            return;\r\n          }\r\n\r\n          this._activeTimelineProvider.pause();\r\n          this.eventbus.broadcast(TimelineEventNames.DURATION, [this._activeTimelineProvider.getDuration()]);\r\n          this._executeStartActions().then(() => {\r\n            position = position ?? 0;\r\n            this._activeTimelineProvider?.seek(position);\r\n            this._onSeekHandler(Math.floor, {\r\n              offset: position,\r\n            });\r\n          });\r\n        });\r\n      }\r\n\r\n      this._activeTimelineProvider.playlistItem(uri);\r\n    });\r\n  }\r\n\r\n  _cleanUpTimeline() {\r\n    return this._executeRelevantActions(this._getActiveActions, 'end');\r\n  }\r\n\r\n  _executeStartActions() {\r\n    return this._executeRelevantActions(this._getActionsForPosition.bind(this, 0), 'start');\r\n  }\r\n\r\n  _getActionsForPosition(position: number, allActions: ITimelineAction[]) {\r\n    return allActions.filter((action) => {\r\n      return !action.active && action.duration.start <= position && action.duration.end >= position;\r\n    });\r\n  }\r\n\r\n  _getActiveActions(allActions: ITimelineAction[]) {\r\n    const actions = allActions.filter((action) => action.active);\r\n    return actions.sort((a, b) => {\r\n      if (b.duration.start < a.duration.start) {\r\n        return -1;\r\n      } else if (b.duration.start > a.duration.start) {\r\n        return 1;\r\n      } else {\r\n        return 0;\r\n      }\r\n    });\r\n  }\r\n\r\n  _executeRelevantActions(filter: Function, executionType: 'start' | 'end') {\r\n    const timelineActions = this._getRelevantTimelineActions();\r\n    const currentActions = filter.apply(this, [timelineActions]);\r\n    return this._executeActions(currentActions, executionType, 0);\r\n  }\r\n\r\n  _handleRequestTimelinePosition(floor: Function, resultCallback: TResultCallback) {\r\n    resultCallback(floor(this._activeTimelineProvider?.getPosition() || -1));\r\n  }\r\n\r\n  _handleTimelineComplete() {\r\n    this._cleanUpTimeline();\r\n  }\r\n\r\n  _handleExecuteTimelineAction(uri: string, index: number, start: boolean) {\r\n    const actions = this._getTimelineActionsForUri(uri);\r\n    const action = actions ? actions[index] : null;\r\n    if (action) {\r\n      if (start) {\r\n        action.start();\r\n      } else {\r\n        action.end();\r\n      }\r\n    }\r\n  }\r\n\r\n  _resizeTimelineAction(/*uri: string, index: number*/) {\r\n    console.error('no resizing implemented');\r\n  }\r\n\r\n  _getRelevantTimelineActions() {\r\n    return this._getTimelineActionsForUri(this._currentTimelineUri);\r\n  }\r\n\r\n  _requestCurrentTimeline(resultCallback: TResultCallback) {\r\n    resultCallback(this._currentTimelineUri);\r\n  }\r\n\r\n  _getTimelineActionsForUri(uri: string): ITimelineAction[] {\r\n    const info = this.configuration.timelines.find((timelineInfo) => {\r\n      return timelineInfo.uri === uri;\r\n    });\r\n    return info?.timelineActions ?? [];\r\n  }\r\n\r\n  _onTimeHandler(floor: Function, event: any) {\r\n    if (!isNaN(event.position)) {\r\n      const pos = floor(event.position);\r\n\r\n      if (this._lastPosition !== pos) {\r\n        this._executeActionsForPosition(pos);\r\n        this.eventbus.broadcast(TimelineEventNames.POSITION_UPDATE, [pos, this._activeTimelineProvider?.getDuration()]);\r\n      }\r\n\r\n      this.eventbus.broadcast(TimelineEventNames.TIME_UPDATE, [\r\n        event.position,\r\n        this._activeTimelineProvider?.getDuration(),\r\n      ]);\r\n    }\r\n  }\r\n\r\n  _onSeekHandler(floor: Function, event: { offset: number }) {\r\n    if (isNaN(event.offset)) {\r\n      return;\r\n    }\r\n\r\n    const pos = floor(event.offset);\r\n\r\n    this._executeSeekActions(pos).then(() => {\r\n      this._activeTimelineProvider?.start();\r\n    });\r\n  }\r\n\r\n  _executeActionsForPosition(position: number) {\r\n    this._lastPosition = position;\r\n    const actions = this._timeLineActionsLookup[this._currentTimelineUri];\r\n\r\n    if (actions) {\r\n      const executions = actions[position];\r\n      executions?.forEach((exec: () => void) => {\r\n        exec();\r\n      });\r\n    }\r\n  }\r\n\r\n  _executeSeekActions(pos: number) {\r\n    const timelineActions = this._getRelevantTimelineActions();\r\n\r\n    if (!timelineActions) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    const currentActions = this._getActiveActions(timelineActions);\r\n    const newActions = this._getActionsForPosition(pos, timelineActions);\r\n    const promise = this._executeActions(currentActions, 'end', 0);\r\n\r\n    return new Promise((resolve) => {\r\n      promise.then(() => {\r\n        this._executeActions(newActions, 'start', 0).then(() => {\r\n          resolve();\r\n        });\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\nimport * as operations from '../../operation';\r\nimport { deepcopy } from '../../operation/helper/deepcopy';\r\nimport { TOperationData } from '../../operation/types';\r\nimport { IActionConfiguration, IEndableActionConfiguration, ITimelineActionConfiguration } from '../types';\r\nimport { ConfigurationFactory } from './configuration-factory';\r\n\r\nexport class ActionCreatorFactory {\r\n  constructor(private readonly configurationfactory: ConfigurationFactory) {}\r\n\r\n  createAction(name: string): ActionCreator {\r\n    const creator = new ActionCreator(name, this);\r\n    this.configurationfactory.addAction(creator.actionConfig);\r\n    return creator;\r\n  }\r\n\r\n  createInitAction(name: string): EndableActionCreator {\r\n    const creator = new EndableActionCreator(name, this);\r\n    this.configurationfactory.addInitAction(creator.actionConfig);\r\n    return creator;\r\n  }\r\n\r\n  createEventAction(name: string): ActionCreator {\r\n    const creator = new ActionCreator(name, this);\r\n    this.configurationfactory.addEventAction(creator.actionConfig);\r\n    return creator;\r\n  }\r\n\r\n  createTimelineAction(uri: string, name: string): TimelineActionCreator {\r\n    const creator = new TimelineActionCreator(name, this);\r\n    this.configurationfactory.addTimelineAction(uri, creator.actionConfig);\r\n    return creator;\r\n  }\r\n\r\n  end() {\r\n    return this.configurationfactory;\r\n  }\r\n}\r\n\r\nexport class ActionCreator<T extends IActionConfiguration = IActionConfiguration> {\r\n  actionConfig: T;\r\n\r\n  constructor(name: string | undefined, private readonly factory: ActionCreatorFactory) {\r\n    this.actionConfig = {\r\n      name: '',\r\n      id: uuidv4(),\r\n      startOperations: [],\r\n    } as any;\r\n    if (name?.length) {\r\n      this.actionConfig.name = name;\r\n    }\r\n  }\r\n\r\n  getId() {\r\n    return this.actionConfig.id;\r\n  }\r\n\r\n  setName(name: string) {\r\n    this.actionConfig.name = name;\r\n    return this;\r\n  }\r\n\r\n  getConfiguration(callBack: (config: T) => T) {\r\n    const copy = deepcopy(this.actionConfig);\r\n    const newConfig = callBack.call(this, copy);\r\n    if (newConfig) {\r\n      this.actionConfig = newConfig;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  addStartOperation(systemName: string, operationData: TOperationData) {\r\n    if (!(operations as Record<string, any>)[systemName]) {\r\n      throw Error(`Unknown operation: ${systemName}`);\r\n    }\r\n\r\n    const { startOperations } = this.actionConfig;\r\n    startOperations.push({\r\n      id: uuidv4(),\r\n      systemName: systemName,\r\n      operationData: operationData,\r\n    });\r\n    return this;\r\n  }\r\n\r\n  next() {\r\n    return this.factory;\r\n  }\r\n}\r\n\r\nexport class EndableActionCreator<\r\n  T extends IEndableActionConfiguration = IEndableActionConfiguration\r\n> extends ActionCreator<T> {\r\n  addEndOperation(systemName: string, operationData: TOperationData) {\r\n    if (!(operations as Record<string, any>)[systemName]) {\r\n      throw Error(`Unknown operation: ${systemName}`);\r\n    }\r\n\r\n    let { endOperations } = this.actionConfig;\r\n    if (endOperations) {\r\n      endOperations = this.actionConfig.endOperations = [];\r\n    }\r\n    endOperations.push({\r\n      id: uuidv4(),\r\n      systemName: systemName,\r\n      operationData: operationData,\r\n    });\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class TimelineActionCreator extends EndableActionCreator<ITimelineActionConfiguration> {\r\n  addDuration(start: number, end?: number) {\r\n    this.actionConfig.duration = {\r\n      start: start,\r\n    };\r\n    if (end) {\r\n      this.actionConfig.duration.end = end;\r\n    }\r\n    return this;\r\n  }\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\nimport * as operations from '../../operation';\r\nimport { deepcopy } from '../../operation/helper/deepcopy';\r\nimport { TOperationData } from '../../operation/types';\r\nimport { IDuration } from '../../types';\r\nimport {\r\n  IActionConfiguration,\r\n  IEndableActionConfiguration,\r\n  IOperationConfiguration,\r\n  ITimelineActionConfiguration,\r\n} from '../types';\r\nimport { ConfigurationFactory } from './configuration-factory';\r\n\r\nfunction array_move(arr: any[], old_index: number, new_index: number) {\r\n  if (new_index >= arr.length) {\r\n    new_index = 0;\r\n  } else if (new_index < 0) {\r\n    new_index = arr.length - 1;\r\n  }\r\n  arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\r\n}\r\n\r\nexport class ActionEditor<T extends IActionConfiguration = IActionConfiguration> {\r\n  constructor(protected actionConfig: T, protected readonly configurationFactory: ConfigurationFactory) {}\r\n\r\n  updateConfiguration() {\r\n    this.actionConfig = {\r\n      ...this.actionConfig,\r\n    };\r\n  }\r\n\r\n  getConfiguration(callBack: (config: T) => T) {\r\n    const copy = deepcopy(this.actionConfig);\r\n    const newConfig = callBack.call(this, copy);\r\n    if (newConfig) {\r\n      this.actionConfig = newConfig;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  setName(name: string) {\r\n    this.actionConfig = {\r\n      ...this.actionConfig,\r\n      name,\r\n    };\r\n    return this;\r\n  }\r\n\r\n  getName() {\r\n    return this.actionConfig.name;\r\n  }\r\n\r\n  addStartOperation(systemName: string, operationData: TOperationData): OperationEditor<this> {\r\n    if (!(operations as any)[systemName]) {\r\n      throw Error(`Unknown operation: ${systemName}`);\r\n    }\r\n\r\n    const startOperations = this.actionConfig.startOperations ? this.actionConfig.startOperations.slice() : [];\r\n\r\n    const newConfig = {\r\n      id: uuidv4(),\r\n      systemName: systemName,\r\n      operationData: operationData,\r\n    };\r\n\r\n    startOperations.push(newConfig);\r\n\r\n    this.actionConfig = {\r\n      ...this.actionConfig,\r\n      startOperations,\r\n    };\r\n\r\n    return new OperationEditor<this>(newConfig, this);\r\n  }\r\n\r\n  editStartOperation(id: string) {\r\n    const { startOperations } = this.actionConfig;\r\n    const operation = startOperations.find((o) => o.id === id);\r\n\r\n    if (operation) {\r\n      return new OperationEditor<ActionEditor<T>>(operation, this);\r\n    }\r\n\r\n    throw new Error(`start operation not found for id ${id}`);\r\n  }\r\n\r\n  removeStartOperation(id: string) {\r\n    const startOperations = this.actionConfig.startOperations ? this.actionConfig.startOperations.slice() : [];\r\n    const operation = startOperations.find((o) => o.id === id);\r\n\r\n    if (!operation) {\r\n      throw new Error(`start operation not found for id ${id}`);\r\n    }\r\n\r\n    const idx = startOperations.indexOf(operation);\r\n\r\n    if (idx > -1) {\r\n      startOperations.splice(idx, 1);\r\n      this.actionConfig = {\r\n        ...this.actionConfig,\r\n        startOperations,\r\n      };\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  moveStartOperation(id: string, direction: 'up' | 'down') {\r\n    const startOperations = this.actionConfig.startOperations ? this.actionConfig.startOperations.slice() : [];\r\n    const operation = startOperations.find((o) => o.id === id);\r\n\r\n    if (!operation) {\r\n      throw new Error(`start operation not found for id ${id}`);\r\n    }\r\n\r\n    const idx = startOperations.indexOf(operation);\r\n\r\n    if (idx > -1) {\r\n      const newIdx = direction === 'up' ? idx + 1 : idx - 1;\r\n      array_move(startOperations, idx, newIdx);\r\n      this.actionConfig = {\r\n        ...this.actionConfig,\r\n        startOperations,\r\n      };\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  next() {\r\n    return this.configurationFactory;\r\n  }\r\n}\r\n\r\nexport class EndableActionEditor<\r\n  T extends IEndableActionConfiguration = IEndableActionConfiguration\r\n> extends ActionEditor<T> {\r\n  addEndOperation(systemName: string, operationData: TOperationData) {\r\n    if (!(operations as any)[systemName]) {\r\n      throw Error(`Unknown operation: ${systemName}`);\r\n    }\r\n\r\n    const endOperations = this.actionConfig.endOperations ? this.actionConfig.endOperations.slice() : [];\r\n\r\n    const newConfig = {\r\n      id: uuidv4(),\r\n      systemName: systemName,\r\n      operationData: operationData,\r\n    };\r\n\r\n    endOperations.push(newConfig);\r\n\r\n    this.actionConfig.endOperations = endOperations;\r\n\r\n    return new OperationEditor<this>(newConfig, this);\r\n  }\r\n\r\n  editEndOperation(id: string) {\r\n    const { endOperations } = this.actionConfig;\r\n    const operationConfig = endOperations.find((o) => o.id === id);\r\n\r\n    if (operationConfig) {\r\n      return new OperationEditor<this>(operationConfig, this);\r\n    }\r\n\r\n    throw new Error(`operation not found for id ${id}`);\r\n  }\r\n\r\n  removeEndOperation(id: string) {\r\n    const endOperations = this.actionConfig.endOperations ? this.actionConfig.endOperations.slice() : [];\r\n    const operation = endOperations.find((o) => o.id === id);\r\n\r\n    if (!operation) {\r\n      throw new Error(`operation not found for id ${id}`);\r\n    }\r\n\r\n    const idx = endOperations.indexOf(operation);\r\n\r\n    if (idx > -1) {\r\n      endOperations.splice(idx, 1);\r\n      this.actionConfig = {\r\n        ...this.actionConfig,\r\n        endOperations,\r\n      };\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  moveEndOperation(id: string, direction: 'up' | 'down') {\r\n    const endOperations = this.actionConfig.endOperations ? this.actionConfig.endOperations.slice() : [];\r\n    const operation = endOperations.find((o) => o.id === id);\r\n\r\n    if (!operation) {\r\n      throw new Error(`operation not found for id ${id}`);\r\n    }\r\n\r\n    const idx = endOperations.indexOf(operation);\r\n\r\n    if (idx > -1) {\r\n      const newIdx = direction === 'up' ? idx + 1 : idx - 1;\r\n      array_move(endOperations, idx, newIdx);\r\n      this.actionConfig = {\r\n        ...this.actionConfig,\r\n        endOperations,\r\n      };\r\n    }\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class TimelineActionEditor extends EndableActionEditor<ITimelineActionConfiguration> {\r\n  setDuration(start: number, end?: number) {\r\n    if (end != undefined && start > end) {\r\n      throw Error('start position cannot be higher than end position');\r\n    }\r\n\r\n    const duration: IDuration = {\r\n      start,\r\n    };\r\n\r\n    if (end) {\r\n      duration.end = end;\r\n    }\r\n\r\n    this.actionConfig = {\r\n      ...this.actionConfig,\r\n      duration,\r\n    };\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class OperationEditor<T extends ActionEditor> {\r\n  constructor(private operationConfig: IOperationConfiguration, private actionEditor: T) {}\r\n\r\n  getConfiguration(callBack: (config: IOperationConfiguration) => IOperationConfiguration) {\r\n    const copy = deepcopy(this.operationConfig);\r\n    const newConfig = callBack.call(this, copy);\r\n\r\n    if (newConfig) {\r\n      this.operationConfig = newConfig;\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  getSystemName() {\r\n    return this.operationConfig.systemName;\r\n  }\r\n\r\n  setSystemName(systemName: string) {\r\n    if (!(operations as any)[systemName]) {\r\n      throw Error(`Unknown operation: ${systemName}`);\r\n    }\r\n\r\n    this.operationConfig.systemName = systemName;\r\n    this.actionEditor.updateConfiguration();\r\n    return this;\r\n  }\r\n\r\n  setOperationData(operationData: TOperationData) {\r\n    this.operationConfig.operationData = operationData;\r\n    this.actionEditor.updateConfiguration();\r\n    return this;\r\n  }\r\n\r\n  setOperationDataItem(key: string, value: any) {\r\n    const { operationData = {} } = this.operationConfig;\r\n    operationData[key] = value;\r\n    return this.setOperationData(operationData);\r\n  }\r\n\r\n  getOperationDataKeys() {\r\n    const { operationData } = this.operationConfig;\r\n    return operationData ? Object.keys(operationData) : [];\r\n  }\r\n\r\n  getOperationDataValue(key: string) {\r\n    const { operationData } = this.operationConfig;\r\n    return operationData?.[key];\r\n  }\r\n\r\n  next() {\r\n    return this.actionEditor;\r\n  }\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\nimport { deepcopy } from '../../operation/helper/deepcopy';\r\nimport { ILabel, ILanguageLabel, TimelineTypes } from '../../types';\r\nimport {\r\n  IActionConfiguration,\r\n  IEngineConfiguration,\r\n  ITimelineActionConfiguration,\r\n  ITimelineConfiguration,\r\n} from '../types';\r\nimport { ActionCreatorFactory } from './action-creator-factory';\r\nimport { ActionEditor, EndableActionEditor, TimelineActionEditor } from './action-editor';\r\nimport TimelineProvidersSettingsEditor from './timeline-provider-settings-editor';\r\n\r\nexport type TEngineConfigurationLists = Pick<\r\n  IEngineConfiguration,\r\n  'availableLanguages' | 'initActions' | 'actions' | 'eventActions' | 'timelines' | 'labels'\r\n>;\r\n\r\nexport class ConfigurationFactory {\r\n  actionCreatorFactory: ActionCreatorFactory;\r\n  configuration: IEngineConfiguration;\r\n\r\n  constructor(config?: IEngineConfiguration) {\r\n    this.configuration = config || ({} as any);\r\n    this.actionCreatorFactory = new ActionCreatorFactory(this);\r\n  }\r\n\r\n  init(defaultLanguage: string) {\r\n    this.configuration = {\r\n      id: uuidv4(),\r\n      engine: {\r\n        systemName: 'ChronoTriggerEngine',\r\n      },\r\n      containerSelector: '#ct-container',\r\n      timelineProviderSettings: {} as any,\r\n      language: defaultLanguage,\r\n      availableLanguages: [],\r\n      layoutTemplate: '',\r\n      initActions: [],\r\n      actions: [],\r\n      timelines: [],\r\n      labels: [],\r\n    };\r\n\r\n    return this;\r\n  }\r\n\r\n  setDefaultLanguage(defaultLanguage: string) {\r\n    this.configuration.language = defaultLanguage;\r\n    return this;\r\n  }\r\n\r\n  setContainerSelector(selector: string) {\r\n    this.configuration.containerSelector = selector;\r\n    return this;\r\n  }\r\n\r\n  editTimelineProviderSettings() {\r\n    return new TimelineProvidersSettingsEditor(this.configuration.timelineProviderSettings, this);\r\n  }\r\n\r\n  getConfiguration(callBack: (copy: IEngineConfiguration) => IEngineConfiguration) {\r\n    const copy = deepcopy<IEngineConfiguration>(this.configuration);\r\n    const newConfig = callBack.call(this, copy);\r\n    if (newConfig) {\r\n      this.configuration = newConfig;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  addLanguage(code: string, languageLabel: string) {\r\n    const languages = this._initializeCollection(this.configuration, 'availableLanguages');\r\n    languages.push({\r\n      code: code,\r\n      label: languageLabel,\r\n    });\r\n    return this;\r\n  }\r\n\r\n  _internalAddAction(collectionName: keyof TEngineConfigurationLists, action: IActionConfiguration) {\r\n    const actions = this._initializeCollection(this.configuration, collectionName);\r\n    actions?.push(action as any);\r\n  }\r\n\r\n  _initializeCollection<T, K extends keyof T>(parent: T, name: K): T[K] {\r\n    if (!parent[name]) {\r\n      (parent[name] as any) = [];\r\n    }\r\n    return parent[name] as T[K];\r\n  }\r\n\r\n  addAction(action: IActionConfiguration) {\r\n    this._internalAddAction('actions', action);\r\n  }\r\n\r\n  addInitAction(action: IActionConfiguration) {\r\n    this._internalAddAction('initActions', action);\r\n  }\r\n\r\n  addEventAction(action: IActionConfiguration) {\r\n    this._internalAddAction('eventActions', action);\r\n  }\r\n\r\n  addTimelineAction(uri: string, action: ITimelineActionConfiguration) {\r\n    const timeline = this.getTimeline(uri);\r\n    if (timeline) {\r\n      const timelineActions = this._initializeCollection(timeline, 'timelineActions');\r\n      timelineActions.push(action);\r\n    } else {\r\n      throw Error(`No timeline found for uri '${uri}'`);\r\n    }\r\n  }\r\n\r\n  createAction(name: string) {\r\n    return this.actionCreatorFactory.createAction(name);\r\n  }\r\n\r\n  createInitAction(name: string) {\r\n    return this.actionCreatorFactory.createInitAction(name);\r\n  }\r\n\r\n  createEventAction(name: string) {\r\n    return this.actionCreatorFactory.createEventAction(name);\r\n  }\r\n\r\n  createTimelineAction(uri: string, name: string) {\r\n    return this.actionCreatorFactory.createTimelineAction(uri, name);\r\n  }\r\n\r\n  addTimeline(uri: string, type: TimelineTypes, duration: number, loop: boolean, selector: string) {\r\n    const timelines = this._initializeCollection(this.configuration, 'timelines');\r\n    const timeline = this.getTimeline(uri);\r\n    if (timeline) {\r\n      throw Error(`timeline for uri ${uri} already exists`);\r\n    }\r\n    const timelineConfig: ITimelineConfiguration = {\r\n      type: type,\r\n      uri: uri,\r\n      duration: duration,\r\n      loop: loop,\r\n      selector: selector,\r\n      timelineActions: [],\r\n    };\r\n    timelines.push(timelineConfig);\r\n    return this;\r\n  }\r\n\r\n  getTimeline(uri: string) {\r\n    return this.configuration.timelines.find((t) => t.uri === uri);\r\n  }\r\n\r\n  removeTimeline(uri: string) {\r\n    const timelineConfig = this.getTimeline(uri);\r\n    if (timelineConfig) {\r\n      const idx = this.configuration.timelines.indexOf(timelineConfig);\r\n      if (idx > -1) {\r\n        this.configuration.timelines.splice(idx, 1);\r\n      }\r\n    }\r\n    return this;\r\n  }\r\n\r\n  _initializeLabel(id: string, labels: ILanguageLabel[]) {\r\n    let label = labels.find((l) => l.id === id);\r\n    if (!label) {\r\n      labels.push({\r\n        id: id,\r\n        labels: [],\r\n      });\r\n      label = labels[labels.length - 1];\r\n    }\r\n    return label;\r\n  }\r\n\r\n  _getLabelTranslation(labelTranslations: ILabel[], languageCode: string) {\r\n    let translation = labelTranslations.find((l) => l.code === languageCode);\r\n    if (!translation) {\r\n      translation = {\r\n        code: languageCode,\r\n        label: '',\r\n      };\r\n      labelTranslations.push(translation);\r\n    }\r\n    return translation;\r\n  }\r\n\r\n  addLabel(id: string, code: string, translation: string) {\r\n    const labels = this._initializeCollection(this.configuration, 'labels');\r\n    const labelConfig = this._initializeLabel(id, labels);\r\n    const labelTranslation = this._getLabelTranslation(labelConfig.labels, code);\r\n    labelTranslation.label = translation;\r\n    return this;\r\n  }\r\n\r\n  editAction(id: string) {\r\n    const actionConfig = this.configuration.actions.find((a) => a.id === id);\r\n    if (actionConfig) {\r\n      return new ActionEditor(actionConfig, this);\r\n    }\r\n    throw new Error(`Action not found for id ${id}`);\r\n  }\r\n\r\n  editEventAction(id: string) {\r\n    const actionConfig = this.configuration.eventActions?.find((a) => a.id === id);\r\n    if (actionConfig) {\r\n      return new ActionEditor(actionConfig, this);\r\n    }\r\n    throw new Error(`Event action not found for id ${id}`);\r\n  }\r\n\r\n  editInitAction(id: string) {\r\n    const actionConfig = this.configuration.initActions.find((a) => a.id === id);\r\n    if (actionConfig) {\r\n      return new EndableActionEditor(actionConfig, this);\r\n    }\r\n    throw new Error(`Init action not found for id ${id}`);\r\n  }\r\n\r\n  editTimelineAction(uri: string, id: string) {\r\n    const timeline = this.getTimeline(uri);\r\n    if (!timeline) {\r\n      throw new Error(`Timeline not found for id ${id}`);\r\n    }\r\n    const actionConfig = timeline.timelineActions.find((a) => a.id === id);\r\n    if (actionConfig) {\r\n      return new TimelineActionEditor(actionConfig, this);\r\n    }\r\n    throw new Error(`Timeline action not found for id ${id}`);\r\n  }\r\n}\r\n","import * as controllers from '../../controllers';\r\nimport * as operations from '../../operation';\r\nimport * as operationMetadata from '../../operation/metadata';\r\nimport { IOperationMetadata } from '../../operation/metadata/types';\r\nimport { TimelineEventNames } from '../../timeline-event-names';\r\n\r\nexport class OperationNamesProvider {\r\n  getOperationNames() {\r\n    return Object.keys(operations);\r\n  }\r\n}\r\n\r\nexport class ControllerNamesProvider {\r\n  getControllerNames() {\r\n    return Object.keys(controllers);\r\n  }\r\n}\r\n\r\nexport class OperationMetadataProvider {\r\n  getOperationMetadata(operationName: string) {\r\n    const getMetadata = ((operationMetadata as any) as Record<string, () => IOperationMetadata<any>>)[operationName];\r\n    if (!getMetadata) {\r\n      throw new Error(`Could not find metadata for operation called ${operationName}`);\r\n    }\r\n    return getMetadata();\r\n  }\r\n}\r\n\r\nexport class TimeLineEventNamesProvider {\r\n  getEventNames() {\r\n    return Object.values(TimelineEventNames);\r\n  }\r\n}\r\n","import * as timelineProviders from '../../timelineproviders';\r\nimport { TimelineTypes } from '../../types';\r\nimport { ITimelineProviderSettings } from '../types';\r\nimport { ConfigurationFactory } from './configuration-factory';\r\n\r\nexport default class TimelineProvidersSettingsEditor {\r\n  constructor(\r\n    private providersSettings: Record<TimelineTypes, ITimelineProviderSettings>,\r\n    private configurationFactory: ConfigurationFactory\r\n  ) {}\r\n\r\n  addProvider(timelineType: TimelineTypes) {\r\n    if (this.providersSettings[timelineType]) {\r\n      throw new Error(`Settings for a '${timelineType}' provider already exist`);\r\n    }\r\n    this.providersSettings[timelineType] = {\r\n      poster: '',\r\n      selector: '',\r\n      systemName: '',\r\n      vendor: '',\r\n    };\r\n    return new TimelineProviderSettingsEditor(this.providersSettings[timelineType], this, this.configurationFactory);\r\n  }\r\n\r\n  editProvider(timelineType: TimelineTypes) {\r\n    if (!this.providersSettings[timelineType]) {\r\n      throw new Error(`No settings for a '${timelineType}' provider exist yet`);\r\n    }\r\n    return new TimelineProviderSettingsEditor(this.providersSettings[timelineType], this, this.configurationFactory);\r\n  }\r\n\r\n  next() {\r\n    return this.configurationFactory;\r\n  }\r\n}\r\n\r\nexport class TimelineProviderSettingsEditor {\r\n  constructor(\r\n    private providerSettings: ITimelineProviderSettings,\r\n    private providersSettingsEditor: TimelineProvidersSettingsEditor,\r\n    private configurationFactory: ConfigurationFactory\r\n  ) {}\r\n\r\n  setVendor(vendor: string) {\r\n    this.providerSettings.vendor = vendor;\r\n    return this;\r\n  }\r\n\r\n  setSelector(selector: string) {\r\n    this.providerSettings.selector = selector;\r\n    return this;\r\n  }\r\n\r\n  setSystemName(systemName: string) {\r\n    if (!(timelineProviders as any)[systemName]) {\r\n      throw new Error(`Unknown timeline provider system name: ${systemName}`);\r\n    }\r\n    this.providerSettings.systemName = systemName;\r\n    return this;\r\n  }\r\n\r\n  next() {\r\n    return this.providersSettingsEditor;\r\n  }\r\n\r\n  end() {\r\n    return this.configurationFactory;\r\n  }\r\n}\r\n","import { isDefined } from 'ts-is-present';\r\nimport { Action, EndableAction, TimelineAction } from '../action';\r\nimport { IAction } from '../action/types';\r\nimport { ActionRegistryEventbusListener } from '../eventbus';\r\nimport { IEventbus } from '../eventbus/types';\r\nimport { deepcopy } from '../operation/helper/deepcopy';\r\nimport { getNestedPropertyValue } from '../operation/helper/get-nested-property-value';\r\nimport { IConfigurationResolver, IResourceImporter } from '../types';\r\nimport {\r\n  IActionConfiguration,\r\n  IEndableActionConfiguration,\r\n  IEngineConfiguration,\r\n  IEventActionConfiguration,\r\n  IOperationConfiguration,\r\n  IResolvedEngineConfiguration,\r\n  IResolvedOperation,\r\n  IResolvedTimelineConfiguration,\r\n  ITimelineActionConfiguration,\r\n  ITimelineConfiguration,\r\n} from './types';\r\n\r\nexport class ConfigurationResolver implements IConfigurationResolver {\r\n  constructor(private importer: IResourceImporter, private eventbus: IEventbus) {}\r\n\r\n  process(\r\n    configuration: IEngineConfiguration,\r\n    actionRegistryListener?: ActionRegistryEventbusListener\r\n  ): [Record<string, IAction>, IResolvedEngineConfiguration] {\r\n    resolvePlaceholders(configuration, configuration, this.importer);\r\n\r\n    const resolvedConfig: IResolvedEngineConfiguration = {\r\n      id: configuration.id,\r\n      engine: { ...configuration.engine },\r\n      timelineProviderSettings: deepcopy(configuration.timelineProviderSettings),\r\n      containerSelector: configuration.containerSelector,\r\n      language: configuration.language,\r\n      layoutTemplate: configuration.layoutTemplate,\r\n      availableLanguages: deepcopy(configuration.availableLanguages),\r\n      actions: resolveActions(configuration.actions, this.importer, this.eventbus),\r\n      initActions: resolveActions(configuration.initActions, this.importer, this.eventbus),\r\n      labels: deepcopy(configuration.labels),\r\n      timelineFlow: deepcopy(configuration.timelineFlow),\r\n      timelines: resolveTimelines(configuration.timelines, this.importer, this.eventbus),\r\n    };\r\n\r\n    if (configuration.eventActions && actionRegistryListener) {\r\n      resolveEventActions(configuration.eventActions, actionRegistryListener, this.importer, this.eventbus);\r\n    }\r\n\r\n    const actionsLookup = resolvedConfig.actions.reduce<Record<string, IAction>>(\r\n      (aggr, action) => ({\r\n        ...aggr,\r\n        [action.name]: action,\r\n      }),\r\n      {}\r\n    );\r\n\r\n    return [actionsLookup, resolvedConfig];\r\n  }\r\n}\r\n\r\nfunction resolveEventActions(\r\n  eventActionConfigurations: IEventActionConfiguration[],\r\n  actionRegistryListener: ActionRegistryEventbusListener,\r\n  importer: IResourceImporter,\r\n  eventbus: IEventbus\r\n) {\r\n  const resolvedConfigs = eventActionConfigurations.map<IResolvedActionConfiguration>((config) => {\r\n    return resolveActionConfiguration(config, importer);\r\n  });\r\n\r\n  resolvedConfigs.forEach((config, index) => {\r\n    const { eventName, eventTopic } = eventActionConfigurations[index];\r\n    const eventAction = new Action(config.name, config.startOperations, eventbus);\r\n    actionRegistryListener.registerAction(eventAction, eventName, eventTopic);\r\n  });\r\n}\r\n\r\nfunction resolveTimelines(timelines: ITimelineConfiguration[], importer: IResourceImporter, eventbus: IEventbus) {\r\n  const resolve = resolveTimelineAction.bind(null, importer, eventbus);\r\n\r\n  return timelines.map<IResolvedTimelineConfiguration>((config) => ({\r\n    ...config,\r\n    timelineActions: config.timelineActions.map(resolve),\r\n  }));\r\n}\r\n\r\nfunction resolveOperation(importer: IResourceImporter, operationConfig: IOperationConfiguration): IResolvedOperation {\r\n  return {\r\n    id: operationConfig.id,\r\n    systemName: operationConfig.systemName,\r\n    operationData: deepcopy(operationConfig.operationData),\r\n    instance: importer.import(operationConfig.systemName)[operationConfig.systemName],\r\n  };\r\n}\r\n\r\nfunction resolveActionConfiguration(\r\n  config: IActionConfiguration,\r\n  importer: IResourceImporter\r\n): IResolvedActionConfiguration {\r\n  const resolve = resolveOperation.bind(null, importer);\r\n\r\n  return {\r\n    id: config.id,\r\n    name: config.name,\r\n    startOperations: config.startOperations.map(resolve),\r\n  };\r\n}\r\n\r\nfunction resolveEndableActionConfiguration(\r\n  config: IEndableActionConfiguration,\r\n  importer: IResourceImporter\r\n): IResolvedEndableActionConfiguration {\r\n  const resolve = resolveOperation.bind(null, importer);\r\n\r\n  const action = resolveActionConfiguration(config, importer);\r\n\r\n  return {\r\n    ...action,\r\n    endOperations: config.endOperations.map(resolve),\r\n  };\r\n}\r\n\r\nfunction resolveTimelineAction(\r\n  importer: IResourceImporter,\r\n  eventbus: IEventbus,\r\n  actionConfiguration: ITimelineActionConfiguration\r\n) {\r\n  const resolvedConfig = resolveEndableActionConfiguration(actionConfiguration, importer);\r\n  const duration = {\r\n    end: actionConfiguration.duration.end ?? -1,\r\n    start: actionConfiguration.duration.start,\r\n  };\r\n\r\n  const { name, endOperations, startOperations } = resolvedConfig;\r\n  return new TimelineAction(name, startOperations, endOperations, duration, eventbus);\r\n}\r\n\r\nfunction resolveActions(\r\n  actionConfigurations: IEndableActionConfiguration[],\r\n  importer: IResourceImporter,\r\n  eventbus: IEventbus\r\n) {\r\n  const resolvedConfigs = actionConfigurations.map<IResolvedEndableActionConfiguration>((config) => {\r\n    return resolveEndableActionConfiguration(config, importer);\r\n  });\r\n\r\n  return resolvedConfigs.map<EndableAction>((resolvedConfig) => {\r\n    const { name, endOperations, startOperations } = resolvedConfig;\r\n    return new EndableAction(name, startOperations, endOperations, eventbus);\r\n  });\r\n}\r\n\r\nfunction resolvePlaceholders(config: any, rootConfig: any, importer: IResourceImporter) {\r\n  if (!isDefined(config)) {\r\n    return;\r\n  }\r\n\r\n  if (Array.isArray(config)) {\r\n    config.forEach((item) => {\r\n      resolvePlaceholders(item, rootConfig, importer);\r\n    });\r\n  } else {\r\n    Object.keys(config).forEach((key) => {\r\n      resolvePlaceholder(key, config, rootConfig, importer);\r\n    });\r\n  }\r\n}\r\n\r\nfunction resolvePlaceholder(key: string, config: any, rootConfig: any, importer: IResourceImporter) {\r\n  const value = config[key];\r\n  if (typeof value === 'string') {\r\n    if (value.startsWith('config:')) {\r\n      const configProperty = value.substr(7, value.length);\r\n      config[key] = getNestedPropertyValue(configProperty, rootConfig);\r\n    } else if (value.startsWith('template:')) {\r\n      const templateKey = value.substr(9, value.length);\r\n      config[key] = importer.import(templateKey)[templateKey];\r\n    } else if (value.startsWith('json:')) {\r\n      const jsonKey = value.substr(5, value.length);\r\n      const json = importer.import(jsonKey)[jsonKey];\r\n      config[key] = json;\r\n    }\r\n  } else if (typeof value === 'object') {\r\n    resolvePlaceholders(config[key], rootConfig, importer);\r\n  }\r\n}\r\n\r\ninterface IResolvedActionConfiguration {\r\n  id: string;\r\n  name: string;\r\n  startOperations: IResolvedOperation[];\r\n}\r\n\r\ninterface IResolvedEndableActionConfiguration extends IResolvedActionConfiguration {\r\n  endOperations: IResolvedOperation[];\r\n}\r\n\r\ninterface IResolvedEventActionConfiguration extends IResolvedActionConfiguration {\r\n  eventName: string;\r\n  eventTopic?: string;\r\n}\r\n","import { IEndableAction } from '../action/types';\r\nimport { IEventbus } from '../eventbus/types';\r\nimport { deepcopy } from '../operation/helper/deepcopy';\r\nimport { TOperationData } from '../operation/types';\r\nimport { TimelineEventNames } from '../timeline-event-names';\r\nimport { IController } from './types';\r\n\r\ninterface IActionInstanceInfo {\r\n  start: boolean;\r\n  action: IEndableAction;\r\n}\r\n\r\nexport interface IEventListenerControllerOperationData {\r\n  selectedElement: JQuery;\r\n  eventName: string;\r\n  actions: string[];\r\n  actionOperationData?: TOperationData;\r\n}\r\n\r\nexport class EventListenerController implements IController<IEventListenerControllerOperationData> {\r\n  operationData: IEventListenerControllerOperationData | null;\r\n  actionInstanceInfos: IActionInstanceInfo[];\r\n  name = 'EventListenerController';\r\n\r\n  constructor() {\r\n    this.operationData = null;\r\n    this.actionInstanceInfos = [];\r\n  }\r\n\r\n  init(operationData: IEventListenerControllerOperationData) {\r\n    this.operationData = {\r\n      selectedElement: operationData.selectedElement,\r\n      eventName: operationData.eventName,\r\n      actions: operationData.actions.slice(),\r\n      actionOperationData: operationData.actionOperationData ? deepcopy(operationData.actionOperationData) : undefined,\r\n    };\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    if (!this.operationData) {\r\n      return;\r\n    }\r\n\r\n    const { selectedElement, actions, eventName } = this.operationData;\r\n    if (!this.actionInstanceInfos) {\r\n      this.actionInstanceInfos = [];\r\n\r\n      const resultCallback = (isStart: boolean) => (actionInstance: IEndableAction) => {\r\n        this.actionInstanceInfos.push({ start: isStart, action: actionInstance });\r\n      };\r\n\r\n      actions.forEach((actionName: string) => {\r\n        const [isStart, name] = this._isStartAction(actionName);\r\n        eventbus.broadcast(TimelineEventNames.REQUEST_ACTION, [name, resultCallback(isStart)]);\r\n      });\r\n\r\n      if (this._getElementTagName(selectedElement) === 'SELECT') {\r\n        selectedElement.on(eventName, this._selectEventHandler.bind(this));\r\n      } else {\r\n        selectedElement.on(eventName, this._eventHandler.bind(this));\r\n      }\r\n    }\r\n  }\r\n\r\n  _getElementTagName(element: JQuery | HTMLElement) {\r\n    const tagName = (element as JQuery).length ? (element as JQuery)[0].tagName : (element as HTMLElement).tagName;\r\n    return tagName.toUpperCase();\r\n  }\r\n\r\n  _isStartAction(actionName: string): [boolean, string] {\r\n    const prefix = actionName.substr(0, 'end:'.length);\r\n    if (prefix === 'end:') {\r\n      return [false, actionName.substr('end:'.length)];\r\n    } else {\r\n      return [true, actionName];\r\n    }\r\n  }\r\n\r\n  _eventHandler(event: any) {\r\n    if (!this.operationData) {\r\n      return;\r\n    }\r\n\r\n    const copy = this.operationData.actionOperationData ? deepcopy(this.operationData.actionOperationData) : {};\r\n\r\n    if (event.target) {\r\n      copy.targetValue = event.target.value;\r\n    }\r\n\r\n    this._executeAction(this.actionInstanceInfos, copy, 0);\r\n  }\r\n\r\n  _executeAction(actions: IActionInstanceInfo[], operationData: TOperationData, idx: number) {\r\n    if (idx < actions.length) {\r\n      const actionInfo = actions[idx];\r\n      const { action } = actionInfo;\r\n      const method = actionInfo.start ? action.start.bind(action) : action.end.bind(action);\r\n      method(operationData).then((resultOperationData) => {\r\n        return this._executeAction(actions, Object.assign(operationData, resultOperationData), ++idx);\r\n      });\r\n    }\r\n  }\r\n\r\n  _selectEventHandler(event: any) {\r\n    if (!this.operationData) {\r\n      return;\r\n    }\r\n\r\n    const options = event.target;\r\n\r\n    for (let i = 0, l = options.length; i < l; i++) {\r\n      const opt = options[i];\r\n      if (opt.selected) {\r\n        const copy = this.operationData.actionOperationData ? deepcopy(this.operationData.actionOperationData) : {};\r\n        this._executeAction(this.actionInstanceInfos, Object.assign({ eventArgs: [opt.value] }, copy), 0);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    this.operationData?.selectedElement.off(this.operationData.eventName);\r\n  }\r\n}\r\n","export { EventListenerController } from './event-listener-controller';\r\nexport { LabelController } from './label-controller';\r\nexport { LottieController } from './lottie-controller';\r\nexport { NavigationController } from './navigation-controller';\r\nexport { ProgressbarController } from './progressbar-controller';\r\nexport { RoutingController } from './routing-controller';\r\nexport { SubtitlesController } from './subtitles-controller';\r\n","import { IEventbus, TEventHandlerRemover } from '../eventbus/types';\r\nimport { TimelineEventNames } from '../timeline-event-names';\r\nimport { ILabel } from '../types';\r\nimport { IController } from './types';\r\n\r\nexport interface ILabelControllerMetadata {\r\n  selectedElement: JQuery;\r\n  labelId: string;\r\n}\r\n\r\nexport class LabelController implements IController<ILabelControllerMetadata> {\r\n  listeners: TEventHandlerRemover[] = [];\r\n  currentLanguage: string | null = null;\r\n  operationData: ILabelControllerMetadata | null = null;\r\n  labelData: Record<string, string> = {};\r\n  name = 'LabelController';\r\n\r\n  init(operationData: ILabelControllerMetadata) {\r\n    this.operationData = Object.assign({}, operationData);\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    if (!this.operationData) {\r\n      return;\r\n    }\r\n\r\n    eventbus.broadcast(TimelineEventNames.REQUEST_CURRENT_LANGUAGE, [\r\n      (language: string) => {\r\n        this.currentLanguage = language;\r\n      },\r\n    ]);\r\n    eventbus.broadcast(TimelineEventNames.REQUEST_LABEL_COLLECTION, [\r\n      this.operationData.labelId,\r\n      (labelCollection: ILabel[]) => {\r\n        this.createTextDataLookup(labelCollection);\r\n      },\r\n    ]);\r\n    this.setLabel();\r\n    this.listeners.push(eventbus.on(TimelineEventNames.LANGUAGE_CHANGE, this.handleLanguageChange.bind(this)));\r\n  }\r\n\r\n  setLabel() {\r\n    if (this.currentLanguage) {\r\n      this.operationData?.selectedElement.html(this.labelData[this.currentLanguage]);\r\n    }\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    this.listeners.forEach((func) => {\r\n      func();\r\n    });\r\n  }\r\n\r\n  handleLanguageChange(code: string) {\r\n    this.currentLanguage = code;\r\n    this.setLabel();\r\n  }\r\n\r\n  createTextDataLookup(data: ILabel[]) {\r\n    data.forEach((d) => {\r\n      this.labelData[d.code] = d.label;\r\n    });\r\n  }\r\n}\r\n","import lottie, { AnimationItem } from 'lottie-web';\r\nimport { IEventbus, TEventHandlerRemover } from '../eventbus/types';\r\nimport { TimelineEventNames } from '../timeline-event-names';\r\nimport { IController } from './types';\r\n\r\nexport interface IInnerMetadata {\r\n  selectedElement: JQuery;\r\n  renderer: 'svg' | 'canvas' | 'html';\r\n  loop: boolean;\r\n  autoplay: boolean;\r\n  animationData: any;\r\n  json: any;\r\n  labelIds: string[];\r\n  viewBox: string;\r\n  iefallback: any;\r\n}\r\n\r\nexport interface ILottieControllerMetadata extends IInnerMetadata {\r\n  url: string;\r\n}\r\n\r\nexport class LottieController implements IController<ILottieControllerMetadata> {\r\n  name = 'LottieController';\r\n  currentLanguage: string | null = null;\r\n  labelData: Record<string, Record<string, string>> = {};\r\n  listeners: TEventHandlerRemover[] = [];\r\n  animationItem: AnimationItem | null = null;\r\n  operationData: IInnerMetadata | null = null;\r\n  serializedData: string | null = null;\r\n  serializedIEData: string | null = null;\r\n  freezePosition = -1;\r\n  endPosition = -1;\r\n\r\n  constructor() {}\r\n\r\n  init(operationData: ILottieControllerMetadata) {\r\n    this.operationData = {\r\n      selectedElement: operationData.selectedElement,\r\n      renderer: operationData.renderer,\r\n      loop: operationData.loop,\r\n      autoplay: operationData.autoplay,\r\n      animationData: operationData.animationData,\r\n      json: operationData.json,\r\n      labelIds: operationData.labelIds,\r\n      viewBox: operationData.viewBox,\r\n      iefallback: operationData.iefallback,\r\n    };\r\n    if (operationData.url.indexOf('[') > -1) {\r\n      this.parseFilename(operationData.url);\r\n    }\r\n    this.serializedData = this.operationData.json\r\n      ? JSON.stringify(this.operationData.json)\r\n      : JSON.stringify(this.operationData.animationData);\r\n    if (this.operationData.iefallback) {\r\n      this.serializedIEData = JSON.stringify(this.operationData.iefallback);\r\n    }\r\n  }\r\n\r\n  parseFilename(name: string) {\r\n    const params = name.substr(name.indexOf('[') + 1, name.indexOf(']') - name.indexOf('[') - 1);\r\n    const settings = params.split(',');\r\n    settings.forEach((setting) => {\r\n      const values = setting.split('=');\r\n      if (values[0] === 'freeze') {\r\n        this.freezePosition = +values[1];\r\n      } else if (values[0] === 'end') {\r\n        this.endPosition = +values[1];\r\n      }\r\n    });\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    if (!this.operationData) {\r\n      return;\r\n    }\r\n\r\n    const { labelIds } = this.operationData;\r\n    if (labelIds && labelIds.length) {\r\n      const resultHolder: { language: string; labelCollections: any[] } = {} as any;\r\n\r\n      eventbus.broadcast(TimelineEventNames.REQUEST_CURRENT_LANGUAGE, [resultHolder]);\r\n      this.currentLanguage = resultHolder.language;\r\n      this.listeners.push(eventbus.on(TimelineEventNames.LANGUAGE_CHANGE, this.handleLanguageChange.bind(this)));\r\n      eventbus.broadcast(TimelineEventNames.REQUEST_LABEL_COLLECTIONS, [this.operationData.labelIds, resultHolder]);\r\n      this.createTextDataLookup(resultHolder.labelCollections);\r\n    }\r\n    this.createAnimation();\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    this.listeners.forEach((func) => {\r\n      func();\r\n    });\r\n\r\n    if (this.animationItem) {\r\n      if (this.endPosition > -1) {\r\n        this.animationItem.addEventListener('complete', this.destroy.bind(this));\r\n        this.animationItem.playSegments([this.freezePosition, this.endPosition], true);\r\n      } else {\r\n        this.animationItem.destroy();\r\n      }\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    if (this.animationItem) {\r\n      this.animationItem.destroy();\r\n      this.animationItem = null;\r\n    }\r\n  }\r\n\r\n  createAnimation() {\r\n    if (!this.operationData || !this.serializedData) {\r\n      return;\r\n    }\r\n\r\n    this.animationItem?.destroy();\r\n    let serialized = this.isIE() && this.serializedIEData ? this.serializedIEData : this.serializedData;\r\n\r\n    const { labelIds } = this.operationData;\r\n    if (labelIds && labelIds.length) {\r\n      labelIds.forEach((id) => {\r\n        serialized = serialized.split(`!!${id}!!`).join(this.labelData[id][this.currentLanguage ?? '']);\r\n      });\r\n    }\r\n    const animationData = JSON.parse(serialized);\r\n\r\n    const animationSettings = {\r\n      autoplay: this.operationData.autoplay,\r\n      container: this.operationData.selectedElement[0],\r\n      loop: this.operationData.loop,\r\n      renderer: this.operationData.renderer,\r\n      animationData,\r\n    };\r\n\r\n    this.animationItem = lottie.loadAnimation(animationSettings);\r\n    if (this.endPosition < 0) {\r\n      this.endPosition = this.animationItem.timeCompleted;\r\n    }\r\n\r\n    if (this.freezePosition > -1) {\r\n      this.animationItem.playSegments([0, this.freezePosition], true);\r\n    }\r\n    if (this.operationData.viewBox) {\r\n      this.operationData.selectedElement.find('svg').attr('viewBox', this.operationData.viewBox);\r\n    }\r\n  }\r\n\r\n  createTextDataLookup(data: any[]) {\r\n    data.forEach((infos, index) => {\r\n      infos.forEach((d: any) => {\r\n        if (this.operationData) {\r\n          this.labelData[this.operationData.labelIds[index]][d.code] = d.label;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleLanguageChange(code: string) {\r\n    this.currentLanguage = code;\r\n    this.createAnimation();\r\n  }\r\n\r\n  isIE() {\r\n    const isIE = false || !!(window.document as any)['documentMode'];\r\n\r\n    // Edge 20+\r\n    const isEdge = !isIE && !!window['StyleMedia'];\r\n\r\n    return isEdge || isIE;\r\n  }\r\n}\r\n","import $ from 'jquery';\r\nimport { IEventbus, TEventHandlerRemover } from '../eventbus/types';\r\nimport { TOperationData } from '../operation/types';\r\nimport { TResultCallback } from '../types';\r\nimport { LabelController } from './label-controller';\r\nimport { IController } from './types';\r\n\r\nexport interface INavigationControllerOperationData {\r\n  selectedElement: JQuery;\r\n  json: any;\r\n}\r\n\r\nexport class NavigationController implements IController<INavigationControllerOperationData> {\r\n  name: string = 'NavigationController';\r\n  navigation: any[] = [];\r\n  navLookup: Record<string, any> = {};\r\n  navVidIdLookup: Record<string, any> = {};\r\n  ctrlLookup: Record<string, LabelController> = {};\r\n  activeNavigationPoint: any | null = null;\r\n  labelControllers: LabelController[] = [];\r\n  eventhandlers: TEventHandlerRemover[] = [];\r\n  eventbus: IEventbus | null = null;\r\n  container: JQuery | null = null;\r\n\r\n  constructor() {}\r\n\r\n  init(operationData: TOperationData) {\r\n    this.container = operationData.selectedElement;\r\n    this.navigation = this.buildNavigationData(operationData.json);\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    if (!this.container) {\r\n      return;\r\n    }\r\n\r\n    this.eventbus = eventbus;\r\n\r\n    this.eventhandlers.push(eventbus.on('navigate-to-video-url', this.handleNavigateVideoUrl.bind(this)));\r\n    this.eventhandlers.push(eventbus.on('highlight-navigation', this.highlightMenu.bind(this)));\r\n    this.eventhandlers.push(eventbus.on('request-current-navigation', this.handleRequestCurrentNavigation.bind(this)));\r\n    this.eventhandlers.push(eventbus.on('video-complete', this.handleVideoComplete.bind(this)));\r\n\r\n    this.buildHtml(this.container, this.navigation);\r\n    this.initHistory.bind(this);\r\n  }\r\n\r\n  initHistory() {\r\n    this.activeNavigationPoint = this.navVidIdLookup[0];\r\n    const navId = this.getQueryVariable(0);\r\n    let videoIndex = 0;\r\n    if (navId) {\r\n      const nav = this.navLookup[navId];\r\n      videoIndex = nav.videoUrlIndex;\r\n    }\r\n    this.highlightMenu(videoIndex);\r\n  }\r\n\r\n  getQueryVariable(variableIdx: number) {\r\n    const href = window.location.href;\r\n    const hashIndex = href.indexOf('#');\r\n    if (hashIndex > -1) {\r\n      const query = href.substring(hashIndex + 2);\r\n      if (query) {\r\n        const vars = query.split('/');\r\n        return vars[variableIdx];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  handleRequestCurrentNavigation(resultCallback: TResultCallback) {\r\n    if (this.activeNavigationPoint) {\r\n      const labelCtrl = this.ctrlLookup[this.activeNavigationPoint.labelId];\r\n      resultCallback({\r\n        navigationData: this.activeNavigationPoint,\r\n        title: labelCtrl.labelData[labelCtrl.currentLanguage || ''],\r\n      });\r\n    } else {\r\n      resultCallback(null);\r\n    }\r\n  }\r\n\r\n  detach(eventbus: IEventbus) {\r\n    this.eventhandlers.forEach((handler) => {\r\n      handler();\r\n    });\r\n\r\n    this.labelControllers.forEach((ctrl) => {\r\n      ctrl.detach(eventbus);\r\n    });\r\n\r\n    this.labelControllers.length = 0;\r\n    this.eventbus = null;\r\n    this.container = null;\r\n    window.onpopstate = null;\r\n  }\r\n\r\n  pushCurrentState(position = -1) {\r\n    if (!this.activeNavigationPoint) {\r\n      return;\r\n    }\r\n    const labelCtrl: LabelController = this.ctrlLookup[this.activeNavigationPoint.labelId];\r\n\r\n    if (!labelCtrl) {\r\n      return;\r\n    }\r\n\r\n    const state = {\r\n      navigationData: this.activeNavigationPoint,\r\n      title: labelCtrl.labelData[labelCtrl.currentLanguage || ''],\r\n      position: -1,\r\n    };\r\n    if (position > -1) {\r\n      state.position = position;\r\n    }\r\n    this.eventbus?.broadcast('push-history-state', [state]);\r\n  }\r\n\r\n  buildHtml(parentElm: JQuery, data: any) {\r\n    const ul = $('<ul/>');\r\n    data.forEach(this.addNavElement.bind(this, ul));\r\n    parentElm.append(ul);\r\n  }\r\n\r\n  addNavElement(parentElm: JQuery, data: any) {\r\n    if (data.visible) {\r\n      const li = $('<li/>');\r\n      const a = $(`<a href='javascript:;' id='nav_${data.videoUrlIndex}'/>`);\r\n      li.append(a);\r\n      this.addLabel(a, data.labelId);\r\n      this.addClickHandler(a, data.videoUrlIndex);\r\n\r\n      if (data.children) {\r\n        const ul = $('<ul/>');\r\n        data.children.forEach(this.addNavElement.bind(this, ul));\r\n        li.append(ul);\r\n      }\r\n\r\n      parentElm.append(li);\r\n    }\r\n  }\r\n\r\n  addClickHandler(parentElm: JQuery, videoIndex: number) {\r\n    parentElm.mouseup(this.menuMouseupHandler.bind(this, videoIndex));\r\n  }\r\n\r\n  menuMouseupHandler(videoIndex: number) {\r\n    const navdata = this.navVidIdLookup[videoIndex];\r\n    if (navdata) {\r\n      this.eventbus?.broadcast('request-video-url', [navdata.videoUrlIndex]);\r\n      this.handleNavigateVideoUrl(navdata.videoUrlIndex);\r\n    }\r\n  }\r\n\r\n  handleNavigateVideoUrl(index: number, requestedVideoPosition: number = 0) {\r\n    this.highlightMenu(index);\r\n    this.eventbus?.broadcast('request-video-url', [index, requestedVideoPosition]);\r\n    this.activeNavigationPoint = this.navVidIdLookup[index];\r\n    this.pushCurrentState(requestedVideoPosition);\r\n  }\r\n\r\n  highlightMenu(index: number) {\r\n    const navElm = $(`#nav_${index}`);\r\n\r\n    if (navElm.length) {\r\n      $('.current-menu-item').removeClass('current-menu-item');\r\n      navElm.addClass('current-menu-item');\r\n    }\r\n  }\r\n\r\n  handleVideoComplete(index: number) {\r\n    const navData = this.navVidIdLookup[index];\r\n    if (navData.autoNext) {\r\n      this.eventbus?.broadcast('request-video-url', [navData.next.videoUrlIndex]);\r\n    } else {\r\n      this.eventbus?.broadcast('request-video-cleanup');\r\n    }\r\n  }\r\n\r\n  addLabel(parentElm: JQuery, labelId: string) {\r\n    const data = {\r\n      selectedElement: parentElm,\r\n      labelId: labelId,\r\n    };\r\n    const resultCallback = (instance: LabelController) => {\r\n      instance.init(data);\r\n      instance.attach(this.eventbus as IEventbus);\r\n      this.labelControllers.push(instance);\r\n      this.ctrlLookup[labelId] = instance;\r\n    };\r\n    this.eventbus?.broadcast('request-instance', ['LabelController', resultCallback]);\r\n  }\r\n\r\n  buildNavigationData(data: any) {\r\n    const result: any[] = [];\r\n    data.navigationData.forEach((nav: any, index: number) => {\r\n      this.navLookup[nav.id] = nav;\r\n      this.navVidIdLookup[nav.videoUrlIndex] = nav;\r\n      nav.previous = data.navigationData[index - 1];\r\n    });\r\n\r\n    data.navigationData.forEach((nav: any, index: number) => {\r\n      if (nav.nextId) {\r\n        nav.next = this.navLookup[nav.nextId];\r\n        delete nav.nextId;\r\n      } else {\r\n        nav.next = data.navigationData[index + 1];\r\n      }\r\n    });\r\n\r\n    data.roots.forEach((id: string) => {\r\n      const nav = this.navLookup[id];\r\n      if (nav.children) {\r\n        nav.children = nav.children.map((childId: string) => {\r\n          return this.navLookup[childId];\r\n        });\r\n      }\r\n      result.push(nav);\r\n    });\r\n    return result;\r\n  }\r\n}\r\n","import { IEventbus, TEventHandlerRemover } from '../eventbus/types';\r\nimport { TOperationData } from '../operation/types';\r\nimport { TimelineEventNames } from '../timeline-event-names';\r\nimport { IController } from './types';\r\n\r\nexport interface IProgressbarControllerOperationData {\r\n  selectedElement: JQuery;\r\n  textElement: JQuery;\r\n}\r\n\r\nexport class ProgressbarController implements IController<IProgressbarControllerOperationData> {\r\n  name: string = 'ProgressbarController';\r\n  selectedElement: JQuery | null = null;\r\n  textElement: JQuery | null = null;\r\n  detachers: TEventHandlerRemover[] = [];\r\n\r\n  init(operationData: TOperationData) {\r\n    this.selectedElement = operationData.selectedElement;\r\n    this.textElement = operationData.textElement;\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    this.detachers.push(eventbus.on(TimelineEventNames.POSITION_UPDATE, this.positionUpdateHandler.bind(this)));\r\n\r\n    const clickHandler = this.clickHandler.bind(this);\r\n    this.selectedElement?.on('click', clickHandler);\r\n    this.detachers.push(() => this.selectedElement?.off('click'), clickHandler);\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    this.detachers.forEach((func: () => void) => {\r\n      func();\r\n    });\r\n  }\r\n\r\n  positionUpdateHandler({ position, duration }: { position: number; duration: number }) {\r\n    const percentage = (100 / duration) * position;\r\n    this.selectedElement?.css('width', `${percentage}%`);\r\n    this.textElement?.text(`${Math.floor(percentage)}%`);\r\n  }\r\n\r\n  clickHandler() {}\r\n}\r\n","import { IEventbus, TEventHandlerRemover } from '../eventbus/types';\r\nimport { TOperationData } from '../operation/types';\r\nimport { IController } from './types';\r\n\r\nexport interface IRoutingControllerOperationData {\r\n  json: any;\r\n}\r\n\r\nexport class RoutingController implements IController<IRoutingControllerOperationData> {\r\n  name = 'RoutingController';\r\n  navLookup: Record<string, any> = {};\r\n  navVidIdLookup: Record<string, any> = {};\r\n  navigation: any = null;\r\n  eventhandlers: TEventHandlerRemover[] = [];\r\n  eventbus: IEventbus | null = null;\r\n\r\n  constructor() {}\r\n\r\n  init(operationData: TOperationData) {\r\n    this.navigation = this.buildNavigationData(operationData.json);\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    this.eventhandlers.push(eventbus.on('before-request-video-url', this.handleBeforeRequestVideoUrl.bind(this)));\r\n    this.eventhandlers.push(eventbus.on('push-history-state', this.handlePushHistoryState.bind(this)));\r\n    this.eventbus = eventbus;\r\n    window.onpopstate = this.handlePopstate.bind(this);\r\n\r\n    const navId = this.getQueryVariable(0);\r\n    if (navId) {\r\n      const nav = this.navLookup[navId];\r\n      const pos = +this.getQueryVariable(1);\r\n      this.eventbus.broadcast('request-video-url', [nav.videoUrlIndex, pos, true]);\r\n    } else {\r\n      window.history.pushState({ navigationId: this.navigation[0].id }, '', `#/${this.navigation[0].id}`);\r\n    }\r\n  }\r\n\r\n  handlePopstate(event: any) {\r\n    const navigationId = event.state ? event.state.navigationId : this.navigation[0].id;\r\n    const position = event.state?.position ?? 0;\r\n    const nav = this.navLookup[navigationId];\r\n    this.eventbus?.broadcast('highlight-navigation', [nav.videoUrlIndex]);\r\n    this.eventbus?.broadcast('request-video-url', [nav.videoUrlIndex, position, true]);\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    if (this.eventhandlers) {\r\n      this.eventhandlers.forEach((handler) => {\r\n        handler();\r\n      });\r\n    }\r\n    this.eventbus = null;\r\n  }\r\n\r\n  handleBeforeRequestVideoUrl(_index: number, _requestedVideoPosition: number = 0, isHistoryRequest: boolean = false) {\r\n    isHistoryRequest = isHistoryRequest !== undefined ? isHistoryRequest : false;\r\n    if (!isHistoryRequest) {\r\n      const resultCallback = (item: any) => {\r\n        this.pushState(item);\r\n      };\r\n      this.eventbus?.broadcast('request-current-navigation', [resultCallback]);\r\n    }\r\n  }\r\n\r\n  getQueryVariable(variableIdx: number) {\r\n    const href = window.location.href;\r\n    const hashIndex = href.indexOf('#');\r\n    if (hashIndex > -1) {\r\n      const query = href.substring(hashIndex + 2);\r\n      if (query) {\r\n        const vars = query.split('/');\r\n        return vars[variableIdx];\r\n      }\r\n    }\r\n    return '';\r\n  }\r\n\r\n  handlePushHistoryState(state: any) {\r\n    this.pushState(state);\r\n  }\r\n\r\n  pushState(state: any) {\r\n    if (state && state.navigationData && state.navigationData.visible) {\r\n      let currentPosition = state.position !== undefined ? state.position : -1;\r\n      if (currentPosition < 0) {\r\n        const resultCallback = (position: number) => {\r\n          currentPosition = position > 3 ? position - 3 : 0;\r\n        };\r\n        this.eventbus?.broadcast('request-current-video-position', [resultCallback]);\r\n      }\r\n\r\n      const currentState = window.history.state;\r\n      if (currentState && currentState.navigationId !== state.navigationData.id) {\r\n        window.history.pushState(\r\n          { navigationId: state.navigationData.id, position: currentPosition },\r\n          state.title,\r\n          `#/${state.navigationData.id}/${currentPosition}`\r\n        );\r\n      } else if (currentState && currentState.navigationId === state.navigationData.id) {\r\n        window.history.replaceState(\r\n          { navigationId: currentState.navigationId, position: currentPosition },\r\n          state.title,\r\n          `#/${currentState.navigationId}/${currentPosition}`\r\n        );\r\n      } else {\r\n        window.history.pushState(\r\n          { navigationId: state.navigationData.id, position: currentPosition },\r\n          state.title,\r\n          `#/${state.navigationData.id}/${currentPosition}`\r\n        );\r\n      }\r\n      window.document.title = state.title;\r\n    }\r\n  }\r\n\r\n  buildNavigationData(data: any) {\r\n    const result: any[] = [];\r\n    data.navigationData.forEach((nav: any, index: any) => {\r\n      this.navLookup[nav.id] = nav;\r\n      this.navVidIdLookup[nav.videoUrlIndex] = nav;\r\n      nav.previous = data.navigationData[index - 1];\r\n    });\r\n\r\n    data.navigationData.forEach((nav: any, index: number) => {\r\n      if (nav.nextId) {\r\n        nav.next = this.navLookup[nav.nextId];\r\n        delete nav.nextId;\r\n      } else {\r\n        nav.next = data.navigationData[index + 1];\r\n      }\r\n    });\r\n\r\n    data.roots.forEach((id: string) => {\r\n      const nav = this.navLookup[id];\r\n      if (nav.children) {\r\n        nav.children = nav.children.map((childId: string) => {\r\n          return this.navLookup[childId];\r\n        });\r\n      }\r\n      result.push(nav);\r\n    });\r\n    return result;\r\n  }\r\n}\r\n","import { IEventbus, TEventHandlerRemover } from '../eventbus/types';\r\nimport { TOperationData } from '../operation/types';\r\nimport { TimelineEventNames } from '../timeline-event-names';\r\nimport { IController } from './types';\r\n\r\nexport interface ISubtitlesControllerOperationData {\r\n  selectedElement: JQuery;\r\n  language: string;\r\n  subtitleData: any;\r\n}\r\n\r\nexport class SubtitlesController implements IController<ISubtitlesControllerOperationData> {\r\n  actionLookup: Record<string, any> = {};\r\n  currentLanguage: string | null = null;\r\n  lastFunc: Function | null = null;\r\n  name = 'SubtitlesController';\r\n\r\n  attach(eventbus: IEventbus) {\r\n    const detachTime = eventbus.on(TimelineEventNames.TIME, this.onTimeHandler.bind(this));\r\n    const detachSeek = eventbus.on(TimelineEventNames.SEEKED, this.onSeekedHandler.bind(this));\r\n    const detachLangChange = eventbus.on(TimelineEventNames.LANGUAGE_CHANGE, this.languageChangeHandler.bind(this));\r\n    this.internalDetach = this.internalDetach.bind(this, [detachTime, detachLangChange, detachSeek]);\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    this.internalDetach();\r\n  }\r\n\r\n  internalDetach(detachMethods?: TEventHandlerRemover[]) {\r\n    if (detachMethods) {\r\n      detachMethods.forEach((f) => {\r\n        f();\r\n      });\r\n    }\r\n  }\r\n\r\n  languageChangeHandler(newLanguage: string) {\r\n    this.currentLanguage = newLanguage;\r\n    if (this.lastFunc) {\r\n      this.lastFunc();\r\n    }\r\n  }\r\n\r\n  removeTitle(container?: JQuery) {\r\n    container?.empty();\r\n    this.lastFunc = null;\r\n  }\r\n\r\n  onTimeHandler(arg: any) {\r\n    const position = arg.position;\r\n    const func = this.actionLookup[position];\r\n    if (func) {\r\n      func();\r\n      this.lastFunc = func;\r\n    }\r\n  }\r\n\r\n  onSeekedHandler(arg: any) {\r\n    let position = arg.position;\r\n    let func = this.actionLookup[position];\r\n    while (!func && --position >= 0) {\r\n      func = this.actionLookup[position];\r\n    }\r\n    if (func) {\r\n      func();\r\n      this.lastFunc = func;\r\n    } else {\r\n      this.removeTitle();\r\n    }\r\n  }\r\n\r\n  setTitle(container: JQuery, titleLanguageLookup: Record<string, string>) {\r\n    if (this.currentLanguage) {\r\n      container.html(titleLanguageLookup[this.currentLanguage]);\r\n    }\r\n  }\r\n\r\n  createActionLookup(operationData: TOperationData, container: JQuery) {\r\n    const subtitleData = operationData.subtitleData;\r\n    const titles = subtitleData[0].titles;\r\n    const subtitleTimeLookup: Record<number, () => void> = {};\r\n\r\n    for (let i = 0, ii = titles.length; i < ii; i++) {\r\n      const titleLanguageLookup: Record<string, string> = {};\r\n\r\n      for (let j = 0, jj = subtitleData.length; j < jj; j++) {\r\n        const subs = subtitleData[j];\r\n        titleLanguageLookup[subs.lang] = subs.titles[i].text;\r\n      }\r\n\r\n      subtitleTimeLookup[titles[i].duration.start] = this.setTitle.bind(this, container, titleLanguageLookup);\r\n      subtitleTimeLookup[titles[i].duration.end] = this.removeTitle;\r\n    }\r\n\r\n    return subtitleTimeLookup;\r\n  }\r\n\r\n  init(operationData: ISubtitlesControllerOperationData) {\r\n    const container = operationData.selectedElement;\r\n    this.removeTitle = this.removeTitle.bind(this, container);\r\n    this.currentLanguage = operationData.language;\r\n    this.actionLookup = this.createActionLookup(operationData, container);\r\n  }\r\n}\r\n","import $ from 'jquery';\r\nimport Mousetrap from 'mousetrap';\r\nimport { IAction } from './action/types';\r\nimport { ConfigurationResolver } from './configuration/configuration-resolver';\r\nimport { IEngineConfiguration, IResolvedEngineConfiguration } from './configuration/types';\r\nimport { ActionRegistryEventbusListener, Eventbus, RequestVideoUriInterceptor } from './eventbus';\r\nimport { IEventbus } from './eventbus/types';\r\nimport { LanguageManager } from './language-manager';\r\nimport { TimelineEventNames } from './timeline-event-names';\r\nimport {\r\n  IChronoTriggerEngine,\r\n  IConfigurationResolver,\r\n  IEngineFactory,\r\n  IResourceImporter,\r\n  ITimelineProviderInfo,\r\n  TimelineTypes,\r\n  TResultCallback,\r\n} from './types';\r\n\r\nexport class EngineFactory implements IEngineFactory {\r\n  private resizeTimeout: any = -1;\r\n  private actionsLookup: Record<string, IAction> = {};\r\n  private importer: IResourceImporter;\r\n  private eventbus: IEventbus;\r\n\r\n  constructor(importer: IResourceImporter, windowRef: any, eventbus?: IEventbus) {\r\n    this.importer = importer;\r\n    this.eventbus = eventbus || new Eventbus();\r\n    this.eventbus.on(TimelineEventNames.REQUEST_INSTANCE, this._requestInstanceHandler.bind(this));\r\n    this.eventbus.on(TimelineEventNames.REQUEST_ACTION, this._requestActionHandler.bind(this));\r\n    this.eventbus.on(TimelineEventNames.REQUEST_FUNCTION, this._requestFunctionHandler.bind(this));\r\n\r\n    $(windowRef).resize(this._resizeHandler.bind(this));\r\n  }\r\n\r\n  destroy() {\r\n    this.eventbus.clear();\r\n  }\r\n\r\n  private _resizeHandler() {\r\n    if (this.resizeTimeout) {\r\n      clearTimeout(this.resizeTimeout);\r\n    }\r\n    this.resizeTimeout = setTimeout(() => {\r\n      this.eventbus.broadcast(TimelineEventNames.RESIZE);\r\n    }, 200);\r\n  }\r\n\r\n  private _importSystemEntryWithEventbusDependency(systemName: string): any {\r\n    const ctor = this._importSystemEntry(systemName);\r\n    return new ctor(this.eventbus);\r\n  }\r\n\r\n  private _importSystemEntry(systemName: string): any {\r\n    return this.importer.import(systemName)[systemName];\r\n  }\r\n\r\n  private _requestInstanceHandler(systemName: string, resultCallback: TResultCallback) {\r\n    resultCallback(this._importSystemEntryWithEventbusDependency(systemName));\r\n  }\r\n\r\n  private _requestFunctionHandler(systemName: string, resultCallback: TResultCallback) {\r\n    resultCallback(this._importSystemEntry(systemName));\r\n  }\r\n\r\n  private _requestActionHandler(systemName: string, resultCallback: TResultCallback) {\r\n    const action = this.actionsLookup[systemName];\r\n    if (action) {\r\n      resultCallback(action);\r\n    } else {\r\n      console.error(`Unknown action: ${systemName}`);\r\n      resultCallback(null);\r\n    }\r\n  }\r\n\r\n  createEngine(configuration: IEngineConfiguration, resolver?: IConfigurationResolver): IChronoTriggerEngine {\r\n    const { systemName } = configuration.engine;\r\n    const EngineClass = this._importSystemEntry(systemName);\r\n\r\n    let actionRegistryListener: ActionRegistryEventbusListener | undefined = undefined;\r\n    if (configuration.eventActions && configuration.eventActions.length) {\r\n      actionRegistryListener = new ActionRegistryEventbusListener();\r\n      this.eventbus.registerEventlistener(actionRegistryListener);\r\n    }\r\n\r\n    this.eventbus.registerInterceptor(\r\n      TimelineEventNames.REQUEST_TIMELINE_URI,\r\n      new RequestVideoUriInterceptor(this.eventbus)\r\n    );\r\n\r\n    resolver = resolver || new ConfigurationResolver(this.importer, this.eventbus);\r\n    const [actionLookup, resolvedConfiguration] = resolver.process(configuration, actionRegistryListener);\r\n    this.actionsLookup = actionLookup;\r\n\r\n    const timelineProviders = this._createTimelineProviders(resolvedConfiguration, this.eventbus);\r\n\r\n    const { language, labels } = configuration;\r\n    const languageManager = new LanguageManager(language, labels, this.eventbus);\r\n\r\n    const chronoTriggerEngine = new EngineClass(\r\n      resolvedConfiguration,\r\n      this.eventbus,\r\n      timelineProviders,\r\n      languageManager\r\n    );\r\n\r\n    Mousetrap.bind('space', (event) => {\r\n      event.preventDefault();\r\n      this.eventbus.broadcast(TimelineEventNames.PLAY_TOGGLE_REQUEST);\r\n      return false;\r\n    });\r\n\r\n    return chronoTriggerEngine;\r\n  }\r\n\r\n  private _createTimelineProviders(\r\n    configuration: IResolvedEngineConfiguration,\r\n    eventbus: IEventbus\r\n  ): Record<TimelineTypes, ITimelineProviderInfo> {\r\n    const { timelineProviderSettings } = configuration;\r\n\r\n    const result = Object.entries(timelineProviderSettings).reduce<Record<TimelineTypes, ITimelineProviderInfo>>(\r\n      (acc, [timelineType, settings]) => {\r\n        const timelineProviderClass = this._importSystemEntry(settings.systemName);\r\n        acc[timelineType as TimelineTypes] = {\r\n          vendor: settings.vendor,\r\n          provider: new timelineProviderClass(eventbus, configuration),\r\n        };\r\n        return acc;\r\n      },\r\n      {} as Record<TimelineTypes, ITimelineProviderInfo>\r\n    );\r\n\r\n    return result;\r\n  }\r\n}\r\n","import { IAction } from '../action/types';\r\nimport { IEventbusListener } from './types';\r\n\r\nexport class ActionRegistryEventbusListener implements IEventbusListener {\r\n  #actionRegistry: Record<string, IAction[]> = {};\r\n\r\n  registerAction(action: IAction, eventName: string, eventTopic?: string): void {\r\n    if (eventTopic && eventTopic.length) {\r\n      eventName = `${eventName}:${eventTopic}`;\r\n    }\r\n    if (!this.#actionRegistry[eventName]) {\r\n      this.#actionRegistry[eventName] = [];\r\n    }\r\n    this.#actionRegistry[eventName].push(action);\r\n  }\r\n\r\n  handleEvent(eventName: string, eventTopic: string | undefined, args: any[]): void {\r\n    if (eventTopic && eventTopic.length) {\r\n      eventName = `${eventName}:${eventTopic}`;\r\n    }\r\n    const actions = this.#actionRegistry[eventName];\r\n    if (actions) {\r\n      const operationData = {\r\n        eventArgs: args,\r\n      };\r\n      actions.forEach((action) => {\r\n        action.start(operationData);\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { IEventbus, IEventbusInterceptor, IEventbusListener, TEventHandler, TEventHandlerRemover } from './types';\r\n\r\nexport class Eventbus implements IEventbus {\r\n  private eventHandlers: Record<string, TEventHandler[]> = {};\r\n  private eventInterceptors: Record<string, IEventbusInterceptor[]> = {};\r\n  private eventListeners: IEventbusListener[] = [];\r\n\r\n  constructor() {\r\n    this.clear();\r\n  }\r\n\r\n  clear() {\r\n    this.eventHandlers = {};\r\n    this.eventListeners = [];\r\n    this.eventInterceptors = {};\r\n  }\r\n\r\n  _getEventInterceptors(eventName: string, eventTopic?: string): IEventbusInterceptor[] {\r\n    if (eventTopic && eventTopic.length) {\r\n      eventName = `${eventName}:${eventTopic}`;\r\n    }\r\n    if (!this.eventInterceptors[eventName]) {\r\n      this.eventInterceptors[eventName] = [];\r\n    }\r\n    return this.eventInterceptors[eventName];\r\n  }\r\n\r\n  _getEventHandlers(eventName: string, eventTopic?: string): TEventHandler[] {\r\n    if (eventTopic && eventTopic.length) {\r\n      eventName = `${eventName}:${eventTopic}`;\r\n    }\r\n    if (!this.eventHandlers[eventName]) {\r\n      this.eventHandlers[eventName] = [];\r\n    }\r\n    return this.eventHandlers[eventName];\r\n  }\r\n\r\n  on(eventName: string, eventHandler: TEventHandler, eventTopic?: string): TEventHandlerRemover {\r\n    this._getEventHandlers(eventName, eventTopic).push(eventHandler);\r\n    return () => {\r\n      this.off(eventName, eventHandler, eventTopic);\r\n    };\r\n  }\r\n\r\n  once(eventName: string, eventHandler: TEventHandler, eventTopic?: string): void {\r\n    const eventHandlerDecorator = () => {\r\n      eventHandler(...arguments);\r\n      this.off(eventName, eventHandlerDecorator, eventTopic);\r\n    };\r\n    this.on(eventName, eventHandlerDecorator, eventTopic);\r\n  }\r\n\r\n  off(eventName: string, eventHandler: TEventHandler, eventTopic?: string): void {\r\n    const handlers = this._getEventHandlers(eventName, eventTopic);\r\n    if (handlers) {\r\n      const idx = handlers.indexOf(eventHandler);\r\n      if (idx > -1) {\r\n        handlers.splice(idx, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  broadcast(eventName: string, args: any[]): void {\r\n    this._callHandlers(eventName, undefined, args);\r\n  }\r\n\r\n  broadcastForTopic(eventName: string, eventTopic: string, args: any[]): void {\r\n    this._callHandlers(eventName, eventTopic, args);\r\n  }\r\n\r\n  registerEventlistener(eventbusListener: IEventbusListener): void {\r\n    this.eventListeners.push(eventbusListener);\r\n  }\r\n\r\n  registerInterceptor(eventName: string, interceptor: IEventbusInterceptor, eventTopic?: string): void {\r\n    const interceptors = this._getEventInterceptors(eventName, eventTopic);\r\n    interceptors.push(interceptor);\r\n  }\r\n\r\n  _callHandlers(eventName: string, eventTopic: string | undefined, args: any = []): void {\r\n    const handlers = this._getEventHandlers(eventName, eventTopic);\r\n\r\n    if (handlers) {\r\n      const interceptors = this._getEventInterceptors(eventName, eventTopic);\r\n\r\n      interceptors.forEach((interceptor) => {\r\n        args = interceptor.intercept(args);\r\n      });\r\n\r\n      this.eventListeners.forEach((listener: IEventbusListener) => {\r\n        listener.handleEvent(eventName, eventTopic, args);\r\n      });\r\n\r\n      if (args.length) {\r\n        handlers.forEach((handler: TEventHandler) => handler(...args));\r\n      } else {\r\n        handlers.forEach((handler: TEventHandler) => handler());\r\n      }\r\n    }\r\n  }\r\n}\r\n","export { ActionRegistryEventbusListener } from './actionregistry-eventbus-listener';\r\nexport { Eventbus } from './eventbus';\r\nexport { RequestVideoUriInterceptor } from './request-video-uri-interceptor';\r\n","import { TimelineEventNames } from '../timeline-event-names';\r\nimport { IEventbus, IEventbusInterceptor } from './types';\r\n\r\nexport class RequestVideoUriInterceptor implements IEventbusInterceptor {\r\n  constructor(private eventbus: IEventbus) {}\r\n\r\n  intercept(args: any[]): any[] {\r\n    this.eventbus.broadcast(TimelineEventNames.BEFORE_REQUEST_TIMELINE_URI, args.slice());\r\n    return args;\r\n  }\r\n}\r\n","import * as m from '..';\r\nimport * as ctrls from '../controllers';\r\nimport * as ops from '../operation';\r\nimport { TOperation } from '../operation/types';\r\nimport * as prvdrs from '../timelineproviders';\r\nimport { IResourceImporter } from '../types';\r\n\r\nconst operations: Record<string, TOperation<any>> = ops as any;\r\nconst controllers: Record<string, any> = ctrls;\r\nconst providers: Record<string, any> = prvdrs;\r\nconst main: Record<string, any> = m;\r\n\r\nexport class WebpackResourceImporter implements IResourceImporter {\r\n  getOperationNames(): string[] {\r\n    return Object.keys(operations);\r\n  }\r\n\r\n  getControllerNames(): string[] {\r\n    return Object.keys(controllers);\r\n  }\r\n\r\n  getProviderNames(): string[] {\r\n    return Object.keys(providers);\r\n  }\r\n\r\n  import(name: string): Record<string, any> {\r\n    const value = operations[name] || controllers[name] || providers[name] || main[name];\r\n\r\n    return { [name]: value };\r\n  }\r\n}\r\n","export { Action, EndableAction, TimelineAction } from './action';\r\nexport * from './action/types';\r\nexport { ChronoTriggerEngine } from './chrono-trigger-engine';\r\nexport {\r\n  ActionCreator,\r\n  ActionCreatorFactory,\r\n  EndableActionCreator,\r\n  TimelineActionCreator,\r\n} from './configuration/api/action-creator-factory';\r\nexport {\r\n  ActionEditor,\r\n  EndableActionEditor,\r\n  OperationEditor,\r\n  TimelineActionEditor,\r\n} from './configuration/api/action-editor';\r\nexport { ConfigurationFactory } from './configuration/api/configuration-factory';\r\nexport {\r\n  ControllerNamesProvider,\r\n  OperationMetadataProvider,\r\n  OperationNamesProvider,\r\n  TimeLineEventNamesProvider,\r\n} from './configuration/api/name-providers';\r\nexport { TimelineProviderSettingsEditor } from './configuration/api/timeline-provider-settings-editor';\r\nexport { ConfigurationResolver } from './configuration/configuration-resolver';\r\nexport * from './configuration/types';\r\nexport * from './controllers/types';\r\nexport { EngineFactory } from './engine-factory';\r\nexport { Eventbus } from './eventbus/eventbus';\r\nexport { WebpackResourceImporter } from './importer/webpack-resource-importer';\r\nexport { LanguageManager } from './language-manager';\r\nexport * from './operation/types';\r\nexport { TimelineEventNames } from './timeline-event-names';\r\nexport * from './timelineproviders/types';\r\nexport * from './types';\r\n","import $ from 'jquery';\r\nimport { IEventbus, TEventHandlerRemover } from './eventbus/types';\r\nimport { TimelineEventNames } from './timeline-event-names';\r\nimport { ILabel, ILanguageLabel, TResultCallback } from './types';\r\n\r\nexport class LanguageManager {\r\n  #labelLookup: Record<string, ILabel[]> = {};\r\n  #eventbusListeners: TEventHandlerRemover[] = [];\r\n\r\n  constructor(private currentLanguage: string, labels: ILanguageLabel[], private eventbus: IEventbus) {\r\n    if (!currentLanguage || !currentLanguage.length) {\r\n      throw new Error('language ctor arg cannot be null or have zero length');\r\n    }\r\n    if (!labels) {\r\n      throw new Error('labels ctor arg cannot be null');\r\n    }\r\n    if (!eventbus) {\r\n      throw new Error('eventbus ctor arg cannot be null');\r\n    }\r\n    this._setRootElementLang(currentLanguage);\r\n    this._createLabelLookup(labels);\r\n    this._addEventbusListeners(eventbus);\r\n  }\r\n\r\n  _addEventbusListeners(eventbus: IEventbus) {\r\n    this.#eventbusListeners.push(\r\n      eventbus.on(TimelineEventNames.REQUEST_LABEL_COLLECTION, this._handleRequestLabelCollection.bind(this))\r\n    );\r\n    this.#eventbusListeners.push(\r\n      eventbus.on(TimelineEventNames.REQUEST_LABEL_COLLECTIONS, this._handleRequestLabelCollections.bind(this))\r\n    );\r\n    this.#eventbusListeners.push(\r\n      eventbus.on(TimelineEventNames.REQUEST_CURRENT_LANGUAGE, this._handleRequestCurrentLanguage.bind(this))\r\n    );\r\n    this.#eventbusListeners.push(\r\n      eventbus.on(TimelineEventNames.LANGUAGE_CHANGE, this._handleLanguageChange.bind(this))\r\n    );\r\n  }\r\n\r\n  _handleRequestCurrentLanguage(resultCallback: TResultCallback) {\r\n    resultCallback(this.currentLanguage);\r\n  }\r\n\r\n  _handleRequestLabelCollection(labelId: string, resultCallback: TResultCallback) {\r\n    resultCallback(this.#labelLookup[labelId]);\r\n  }\r\n\r\n  _handleRequestLabelCollections(labelIds: string[], resultCallback: TResultCallback) {\r\n    const labelCollections = labelIds.map((labelId) => {\r\n      return this.#labelLookup[labelId];\r\n    });\r\n    resultCallback(labelCollections);\r\n  }\r\n\r\n  _handleLanguageChange(language: string) {\r\n    if (language && language.length) {\r\n      this.currentLanguage = language;\r\n      this._setRootElementLang(this.currentLanguage);\r\n    } else {\r\n      console.error('Language cannot be changed to null or empty string');\r\n    }\r\n  }\r\n\r\n  _setRootElementLang(language: string) {\r\n    const callBack = (rootSelector: string) => {\r\n      const lang = this._extractLanguageFromCulture(language);\r\n      $(rootSelector).attr('lang', lang);\r\n    };\r\n    this.eventbus.broadcast(TimelineEventNames.REQUEST_ENGINE_ROOT, [callBack]);\r\n  }\r\n\r\n  _extractLanguageFromCulture(culture: string) {\r\n    if (culture.indexOf('-') > -1) {\r\n      return culture.split('-').shift() as string;\r\n    }\r\n    return culture;\r\n  }\r\n\r\n  _createLabelLookup(labels: ILanguageLabel[]) {\r\n    labels.forEach((label) => {\r\n      this.#labelLookup[label.id] = label.labels;\r\n    });\r\n  }\r\n}\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IAddClassOperationData {\r\n  selectedElement: JQuery;\r\n  className: string;\r\n}\r\n\r\nexport const addClass: TOperation<IAddClassOperationData> = function (\r\n  operationData: IAddClassOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, className } = operationData;\r\n  selectedElement.addClass(className);\r\n  return operationData;\r\n};\r\n","import { IController } from '../controllers/types';\r\nimport { IEventbus } from '../eventbus/types';\r\nimport attachControllerToElement from './helper/attach-controller-to-element';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IAddControllerToElementOperationData {\r\n  selectedElement: JQuery;\r\n  controllerInstance: IController<any>;\r\n}\r\n\r\nexport const addControllerToElement: TOperation<IAddControllerToElementOperationData> = function (\r\n  operationData: IAddControllerToElementOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { selectedElement, controllerInstance } = operationData;\r\n\r\n  attachControllerToElement(selectedElement, controllerInstance);\r\n\r\n  controllerInstance.init(operationData);\r\n\r\n  const promise = controllerInstance.attach(eventBus);\r\n\r\n  if (promise) {\r\n    return new Promise((resolve, reject) => {\r\n      promise.then((newOperationData: any) => {\r\n        internalResolve(resolve, operationData, newOperationData);\r\n      }, reject);\r\n    });\r\n  } else {\r\n    return operationData;\r\n  }\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nfunction createOptionElementText(\r\n  valueProperty: string,\r\n  labelProperty: string,\r\n  defaultIndex: number,\r\n  defaultValue: any,\r\n  data: any,\r\n  index: number\r\n) {\r\n  let selected = '';\r\n  if (defaultValue) {\r\n    selected = data[valueProperty] === defaultValue ? ' selected' : '';\r\n  } else if (defaultIndex) {\r\n    selected = index === defaultIndex ? ' selected' : '';\r\n  }\r\n  return `<option value='${data[valueProperty]}'${selected}>${data[labelProperty]}</option>`;\r\n}\r\n\r\nexport interface IAddOptionListOperationData {\r\n  valueProperty: string;\r\n  labelProperty: string;\r\n  defaultIndex: number;\r\n  defaultValue: string;\r\n  optionData: any[];\r\n  selectedElement: JQuery;\r\n}\r\n\r\nexport const addOptionList: TOperation<IAddOptionListOperationData> = function (\r\n  operationData: IAddOptionListOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { valueProperty, labelProperty, defaultIndex, defaultValue, optionData, selectedElement } = operationData;\r\n\r\n  const createOption = createOptionElementText.bind(null, valueProperty, labelProperty, defaultIndex, defaultValue);\r\n\r\n  const optionElements = optionData.map(createOption);\r\n\r\n  selectedElement.html(optionElements.join(''));\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IAnimateWithClassOperationData {\r\n  selectedElement: JQuery;\r\n  className: string;\r\n  removeClass?: boolean;\r\n}\r\n\r\nexport const animateWithClass: TOperation<IAnimateWithClassOperationData> = function (\r\n  operationData: IAnimateWithClassOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  let { selectedElement, className, removeClass } = operationData;\r\n  removeClass = removeClass !== undefined ? removeClass : true;\r\n\r\n  const promise = new Promise<IAnimateWithClassOperationData>((resolve, reject) => {\r\n    try {\r\n      selectedElement.one('webkitAnimationEnd oanimationend oAnimationEnd msAnimationEnd animationEnd', () => {\r\n        if (removeClass) {\r\n          selectedElement.removeClass(className);\r\n        }\r\n        internalResolve(resolve, {}, operationData);\r\n      });\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n\r\n  selectedElement.addClass(className);\r\n\r\n  return promise;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IAnimateOperationData {\r\n  animationEasing: string;\r\n  selectedElement: JQuery;\r\n  animationProperties: any;\r\n  animationDuration: number;\r\n}\r\n\r\nexport const animate: TOperation<IAnimateOperationData> = function (\r\n  operationData: IAnimateOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { animationEasing, selectedElement, animationProperties, animationDuration } = operationData;\r\n  const promise = new Promise<IAnimateOperationData>((resolve, reject) => {\r\n    try {\r\n      if (animationEasing) {\r\n        selectedElement.animate(animationProperties, animationDuration, animationEasing, () => {\r\n          internalResolve(resolve, {}, operationData);\r\n        });\r\n      } else {\r\n        selectedElement.animate(animationProperties, animationDuration, () => {\r\n          internalResolve(resolve, {}, operationData);\r\n        });\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n  return promise;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { removeEventDataFromOperationData } from './helper/remove-event-data-from-operation-data';\r\nimport { resolveEventArguments } from './helper/resolve-event-arguments';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IBroadcastEventOperationData {\r\n  eventArgs: any;\r\n  eventTopic?: string;\r\n  eventName: string;\r\n}\r\n\r\nexport const broadcastEvent: TOperation<IBroadcastEventOperationData> = function (\r\n  operationData: IBroadcastEventOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { eventArgs, eventTopic, eventName } = operationData;\r\n\r\n  const eventArguments = resolveEventArguments(operationData, eventArgs);\r\n\r\n  if (eventTopic) {\r\n    eventBus.broadcastForTopic(eventName, eventTopic, eventArguments);\r\n  } else {\r\n    eventBus.broadcast(eventName, eventArguments);\r\n  }\r\n\r\n  removeEventDataFromOperationData(operationData);\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IClearElementOperationData {\r\n  selectedElement: JQuery;\r\n}\r\n\r\nexport const clearElement: TOperation<IClearElementOperationData> = function (\r\n  operationData: IClearElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement } = operationData;\r\n  selectedElement.empty();\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IClearOperationDataOperationData {\r\n  properties?: string[];\r\n}\r\n\r\nexport const clearOperationData: TOperation<IClearOperationDataOperationData> = function (\r\n  operationData: IClearOperationDataOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { properties } = operationData;\r\n\r\n  if (properties) {\r\n    properties.forEach((name) => {\r\n      delete (operationData as any)[name];\r\n    });\r\n    delete operationData.properties;\r\n    return operationData;\r\n  }\r\n\r\n  return {};\r\n};\r\n","import $ from 'jquery';\r\nimport { IEventbus } from '../eventbus/types';\r\nimport { resolvePropertyValues } from './helper/resolve-property-values';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ICreateElementOperationData {\r\n  elementName: string;\r\n  attributes: any;\r\n  text: string;\r\n  template: JQuery;\r\n}\r\n\r\nexport const createElement: TOperation<ICreateElementOperationData> = function (\r\n  operationData: ICreateElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  operationData = resolvePropertyValues(operationData, operationData);\r\n  const { elementName, attributes, text } = operationData;\r\n\r\n  const serializedAttrs = attributes\r\n    ? ' ' +\r\n      Object.entries(attributes)\r\n        .map(([key, value]) => `${key}=\"${value}\"`)\r\n        .join(' ')\r\n    : '';\r\n\r\n  const template = text\r\n    ? $(`<${elementName}${serializedAttrs}>${text}</${elementName}>`)\r\n    : $(`<${elementName}${serializedAttrs}/>`);\r\n\r\n  operationData.template = template;\r\n  return operationData;\r\n};\r\n","import { TimelineEventNames } from '..';\r\nimport { IEventbus } from '../eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ICustomFunctionOperationData {\r\n  systemName: string;\r\n}\r\n\r\nexport const customFunction: TOperation<ICustomFunctionOperationData> = function (\r\n  operationData: ICustomFunctionOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { systemName } = operationData;\r\n  return new Promise<ICustomFunctionOperationData>((resolve, reject) => {\r\n    const resultCallback = (func: Function) => {\r\n      const promise = func(operationData, eventBus);\r\n      if (promise) {\r\n        promise.then(() => {\r\n          internalResolve(resolve, {}, operationData);\r\n        }, reject);\r\n      } else {\r\n        internalResolve(resolve, {}, operationData);\r\n      }\r\n    };\r\n    eventBus.broadcast(TimelineEventNames.REQUEST_FUNCTION, [systemName, resultCallback]);\r\n  });\r\n};\r\n","import { IEndableAction } from '../action/types';\r\nimport { IEventbus } from '../eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { mergeOperationData } from './helper/merge-operation-data';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IEndActionOperationData {\r\n  actionInstance: IEndableAction;\r\n  actionOperationData: any;\r\n}\r\n\r\nexport const endAction: TOperation<IEndActionOperationData> = function (\r\n  operationData: IEndActionOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { actionInstance, actionOperationData } = operationData;\r\n  delete operationData.actionOperationData;\r\n  return new Promise<IEndActionOperationData>((resolve, reject) => {\r\n    const mergedData = mergeOperationData(operationData, actionOperationData);\r\n    actionInstance.end(mergedData).then(() => {\r\n      internalResolve(resolve, operationData);\r\n    }, reject);\r\n  });\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { IOperationContext, TOperation } from './types';\r\n\r\nexport const endLoop: TOperation<never> = function (\r\n  this: IOperationContext,\r\n  operationData: never,\r\n  _eventBus: IEventbus\r\n) {\r\n  const context = this;\r\n\r\n  if (!context.skip) {\r\n    if (context.loopIndex !== undefined && context.loopLength !== undefined && context.loopIndex < context.loopLength) {\r\n      context.loopIndex = context.loopIndex + 1;\r\n      context.newIndex = context.startIndex;\r\n    } else {\r\n      delete context.loopIndex;\r\n      delete context.loopLength;\r\n      delete context.startIndex;\r\n      delete context.newIndex;\r\n    }\r\n  } else {\r\n    delete context.skip;\r\n  }\r\n\r\n  return operationData;\r\n};\r\n","import { IController } from '../controllers/types';\r\nimport { IEventbus } from '../eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IExtendControllerOperationData {\r\n  controllerInstance: IController<any>;\r\n  controllerExtension: any;\r\n}\r\n\r\nexport const extendController: TOperation<IExtendControllerOperationData> = function (\r\n  operationData: IExtendControllerOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { controllerInstance, controllerExtension } = operationData;\r\n\r\n  operationData.controllerInstance = Object.assign(controllerInstance, controllerExtension);\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { getElementControllers } from './helper/get-element-data';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IGetControllerFromElementOperationData {\r\n  selectedElement: JQuery;\r\n  controllerName: string;\r\n  controllerInstance: any;\r\n}\r\n\r\nexport const getControllerFromElement: TOperation<IGetControllerFromElementOperationData> = function (\r\n  operationData: IGetControllerFromElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, controllerName } = operationData;\r\n  const controllers = getElementControllers(selectedElement);\r\n  const controller = controllers.find((ctrl) => {\r\n    return ctrl.name === controllerName;\r\n  });\r\n\r\n  if (!controller) {\r\n    console.warn(`controller for name '${controllerName}' was not found on the given element`);\r\n  }\r\n\r\n  operationData.controllerInstance = controller;\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TimelineEventNames } from '../timeline-event-names';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IGetControllerInstanceOperationData {\r\n  systemName: string;\r\n  propertyName?: string;\r\n}\r\n\r\nexport const getControllerInstance: TOperation<IGetControllerInstanceOperationData> = function (\r\n  operationData: IGetControllerInstanceOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { systemName } = operationData;\r\n  let { propertyName } = operationData;\r\n\r\n  propertyName = propertyName || 'controllerInstance';\r\n  (operationData as any)[propertyName] = null;\r\n  const resultCallback = (instance: any) => {\r\n    (operationData as any)[propertyName as string] = instance;\r\n  };\r\n  eventBus.broadcast(TimelineEventNames.REQUEST_INSTANCE, [systemName, resultCallback]);\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport modifyDimensions from './helper/modify-dimensions';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IGetElementDimensionsOperationData {\r\n  selectedElement: JQuery;\r\n  modifier: string;\r\n  dimensions: { width?: number; height?: number };\r\n}\r\n\r\nexport const getElementDimensions: TOperation<IGetElementDimensionsOperationData> = function (\r\n  operationData: IGetElementDimensionsOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, modifier } = operationData;\r\n  const dimensions = {\r\n    width: selectedElement.innerWidth() ?? 0,\r\n    height: selectedElement.innerHeight() ?? 0,\r\n  };\r\n  if (dimensions.height === 0) {\r\n    dimensions.height = dimensions.width;\r\n  }\r\n  if (modifier && modifier.length) {\r\n    modifyDimensions(dimensions, modifier);\r\n  }\r\n  operationData.dimensions = dimensions;\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TimelineEventNames } from '../timeline-event-names';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IGetImportOperationData {\r\n  systemName: string;\r\n  importedInstance: any;\r\n}\r\n\r\nexport const getImport: TOperation<IGetImportOperationData> = function (\r\n  operationData: IGetImportOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { systemName } = operationData;\r\n  const callBack = (instance: any) => {\r\n    operationData.importedInstance = instance;\r\n  };\r\n  eventBus.broadcast(TimelineEventNames.REQUEST_FUNCTION, [systemName, callBack]);\r\n  delete (operationData as any).systemName;\r\n  return operationData;\r\n};\r\n","import { getElementControllers } from './get-element-data';\r\n\r\nfunction attachControllerToElement(element: JQuery, controller: any) {\r\n  if (!element.data('chronoEngineControllers')) {\r\n    element.data('chronoEngineControllers', []);\r\n  }\r\n  const controllers = getElementControllers(element);\r\n  controllers.push(controller);\r\n}\r\n\r\nexport default attachControllerToElement;\r\n","import { isDefined } from 'ts-is-present';\r\n\r\nexport function deepcopy<T>(original: T): T {\r\n  if (isDefined(original)) {\r\n    return JSON.parse(JSON.stringify(original)) as T;\r\n  }\r\n  return original;\r\n}\r\n","import getNestedValue from './get-nested-value';\r\n\r\nfunction extractOperationDataArgumentValues(sourceObject: any, argumentValue: string | any) {\r\n  if (typeof argumentValue === 'string' && argumentValue.toLowerCase().startsWith('operationdata.')) {\r\n    const propNames = argumentValue.split('.');\r\n    propNames.shift();\r\n    return getNestedValue(propNames, sourceObject);\r\n  }\r\n  return argumentValue;\r\n}\r\n\r\nexport default extractOperationDataArgumentValues;\r\n","import { IController } from '../../controllers/types';\r\n\r\nconst controllersName = 'chronoEngineControllers';\r\n\r\nfunction getElementData(name: string, element: JQuery): IController<any>[] {\r\n  return element.data(name);\r\n}\r\n\r\nconst getElementControllers = getElementData.bind(null, controllersName);\r\n\r\nexport { getElementData, getElementControllers };\r\n","import getNestedValue from './get-nested-value';\r\n\r\nexport function getNestedPropertyValue(propertyChain: string, sourceObject: any) {\r\n  const properties = propertyChain.split('.');\r\n  return getNestedValue(properties, sourceObject);\r\n}\r\n","function getNestedValue(properties: any, sourceObject: any) {\r\n  if (!properties) {\r\n    throw Error('properties arg cannot be null');\r\n  }\r\n\r\n  if (!sourceObject) {\r\n    throw Error('sourceObject arg cannot be null');\r\n  }\r\n\r\n  let currentInstance = sourceObject;\r\n  let suffix = null;\r\n\r\n  properties.forEach((prop: string, index: number) => {\r\n    if (index === properties.length - 1) {\r\n      const parts = prop.split('+');\r\n      if (parts.length > 1) {\r\n        prop = parts[0];\r\n        suffix = parts[1];\r\n      }\r\n    }\r\n    currentInstance = currentInstance[prop];\r\n  });\r\n\r\n  return suffix ? currentInstance + suffix : currentInstance;\r\n}\r\n\r\nexport default getNestedValue;\r\n","import { TOperationData } from '../types';\r\nimport { mergeOperationData } from './merge-operation-data';\r\n\r\nexport function internalResolve(resolve: Function, operationData: TOperationData, newOperationData?: TOperationData) {\r\n  if (newOperationData) {\r\n    resolve(mergeOperationData(operationData, newOperationData));\r\n  } else {\r\n    resolve(operationData);\r\n  }\r\n}\r\n","import { TOperationData } from '../types';\r\n\r\nexport function mergeOperationData<T extends TOperationData, K = T>(\r\n  operationData: T,\r\n  newOperationData: TOperationData\r\n): K {\r\n  return Object.assign(operationData, newOperationData) as K;\r\n}\r\n","import { IDimensions } from '../../types';\r\n\r\nfunction modifyDimensionsByRatio(ratioModifier: string, dimensions: IDimensions) {\r\n  //h[ar=8-1]\r\n  let prefix = ratioModifier.substr(0, 1);\r\n  let ratio = ratioModifier.substr(\r\n    ratioModifier.indexOf('[') + 1,\r\n    ratioModifier.indexOf(']') - ratioModifier.indexOf('[') - 1\r\n  );\r\n  let ratios = ratio.split('=')[1].split('-');\r\n  if (prefix === 'h') {\r\n    dimensions.height = (dimensions.width / +ratios[0]) * +ratios[1];\r\n  } else if (prefix === 'w') {\r\n    dimensions.width = (dimensions.height / +ratios[1]) * +ratios[0];\r\n  }\r\n}\r\n\r\nfunction getModifierSuffix(modifier: string): [string | null, number, boolean] {\r\n  let endIdx = 1;\r\n  let suffix: string | null = modifier.substr(modifier.length - 1, 1);\r\n  if (suffix !== 'h' && suffix !== 'w' && suffix !== '%') {\r\n    suffix = null;\r\n  }\r\n  const isPercent = suffix === '%';\r\n  if (isPercent) {\r\n    endIdx = 2;\r\n    suffix = modifier.substr(modifier.length - endIdx, 1);\r\n    if (suffix !== 'h' && suffix !== 'w') {\r\n      suffix = null;\r\n      endIdx = 1;\r\n    }\r\n  }\r\n  return [suffix, endIdx, isPercent];\r\n}\r\n\r\nfunction _modifyDimensions(\r\n  dimensions: IDimensions,\r\n  prefix: string,\r\n  suffix: string | null,\r\n  widthModifier: number,\r\n  heightModifier: number\r\n) {\r\n  switch (prefix) {\r\n    case '+':\r\n      switch (suffix) {\r\n        case 'h':\r\n          dimensions.height += heightModifier;\r\n          break;\r\n        case 'w':\r\n          dimensions.width += widthModifier;\r\n          break;\r\n        default:\r\n          dimensions.height += heightModifier;\r\n          dimensions.width += widthModifier;\r\n      }\r\n      break;\r\n    case '-':\r\n      switch (suffix) {\r\n        case 'h':\r\n          dimensions.height -= heightModifier;\r\n          break;\r\n        case 'w':\r\n          dimensions.width -= widthModifier;\r\n          break;\r\n        default:\r\n          dimensions.height -= heightModifier;\r\n          dimensions.width -= widthModifier;\r\n      }\r\n      break;\r\n    case '/':\r\n      switch (suffix) {\r\n        case 'h':\r\n          dimensions.height /= heightModifier;\r\n          break;\r\n        case 'w':\r\n          dimensions.width /= widthModifier;\r\n          break;\r\n        default:\r\n          dimensions.height /= heightModifier;\r\n          dimensions.width /= widthModifier;\r\n      }\r\n      break;\r\n    case '*':\r\n      switch (suffix) {\r\n        case 'h':\r\n          dimensions.height *= heightModifier;\r\n          break;\r\n        case 'w':\r\n          dimensions.width *= widthModifier;\r\n          break;\r\n        default:\r\n          dimensions.height *= heightModifier;\r\n          dimensions.width *= widthModifier;\r\n      }\r\n      break;\r\n    default:\r\n      console.error(`Unknown operator found: ${prefix}`);\r\n  }\r\n  return dimensions;\r\n}\r\n\r\nfunction modifyDimensions(dimensions: IDimensions, modifier: string) {\r\n  let ratioModifier: string | null = null;\r\n  if (modifier.indexOf('|') > -1) {\r\n    [modifier, ratioModifier] = modifier.split('|');\r\n  }\r\n\r\n  const prefix = modifier.substr(0, 1);\r\n  let [suffix, endIdx, isPercent] = getModifierSuffix(modifier);\r\n\r\n  const value = parseInt(\r\n    suffix !== null ? modifier.substr(1, modifier.length - endIdx - 1) : modifier.substr(1, modifier.length),\r\n    10\r\n  );\r\n\r\n  let widthModifier = value;\r\n  let heightModifier = value;\r\n  if (isPercent) {\r\n    widthModifier = (dimensions.width / 100) * value;\r\n    heightModifier = (dimensions.height / 100) * value;\r\n  }\r\n\r\n  dimensions = _modifyDimensions(dimensions, prefix, suffix, widthModifier, heightModifier);\r\n\r\n  if (ratioModifier) {\r\n    modifyDimensionsByRatio(ratioModifier, dimensions);\r\n  }\r\n}\r\n\r\nexport default modifyDimensions;\r\n","import { TOperationData } from '../types';\r\n\r\nexport function removeEventDataFromOperationData(operationData: TOperationData) {\r\n  delete operationData.eventName;\r\n  delete operationData.eventTopic;\r\n  delete operationData.eventArgs;\r\n}\r\n","import { TOperationData } from '../types';\r\nimport extractOperationDataArgumentValues from './extract-operation-data-argument-values';\r\n\r\nexport function resolveEventArguments(operationData: TOperationData, eventArgs: any[]) {\r\n  if (!eventArgs) {\r\n    return;\r\n  }\r\n  const extract = extractOperationDataArgumentValues.bind(null, operationData);\r\n  return eventArgs.map(extract);\r\n}\r\n","import { TOperationData } from '../types';\r\nimport { deepcopy } from './deepcopy';\r\nimport extractOperationDataArgumentValues from './extract-operation-data-argument-values';\r\n\r\nexport function resolvePropertyValues(operationData: TOperationData, properties: any) {\r\n  const copy = properties !== operationData ? deepcopy(properties) : properties;\r\n  const extract = extractOperationDataArgumentValues.bind(null, operationData);\r\n  Object.entries(properties).forEach(([key, value]) => {\r\n    copy[key] = extract(value);\r\n  });\r\n  return copy;\r\n}\r\n","export { addClass } from './add-class';\r\nexport { addControllerToElement } from './add-controller-to-element';\r\nexport { addOptionList } from './add-option-list';\r\nexport { animate } from './animate';\r\nexport { animateWithClass } from './animate-with-class';\r\nexport { broadcastEvent } from './broadcast-event';\r\nexport { clearElement } from './clear-element';\r\nexport { clearOperationData } from './clear-operation-data';\r\nexport { createElement } from './create-element';\r\nexport { customFunction } from './custom-function';\r\nexport { endAction } from './end-action';\r\nexport { endLoop } from './end-loop';\r\nexport { extendController } from './extend-controller';\r\nexport { getControllerFromElement } from './get-controller-from-element';\r\nexport { getControllerInstance } from './get-controller-instance';\r\nexport { getElementDimensions } from './get-element-dimensions';\r\nexport { getImport } from './get-import';\r\nexport { loadJSON } from './load-json';\r\nexport { log } from './log';\r\nexport { removeClass } from './remove-class';\r\nexport { removeControllerFromElement } from './remove-controller-from-element';\r\nexport { removeElement } from './remove-element';\r\nexport { removePropertiesFromOperationData } from './remove-properties-from-operation-data';\r\nexport { reparentElement } from './reparent-element';\r\nexport { requestAction } from './request-action';\r\nexport { resizeAction } from './resize-action';\r\nexport { selectElement } from './select-element';\r\nexport { setElementAttributes } from './set-element-attributes';\r\nexport { setElementContent } from './set-element-content';\r\nexport { setOperationData } from './set-operation-data';\r\nexport { setStyle } from './set-style';\r\nexport { startAction } from './start-action';\r\nexport { startLoop } from './start-loop';\r\nexport { toggleClass } from './toggle-class';\r\nexport { toggleElement } from './toggle-element';\r\nexport { wait } from './wait';\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nconst jsonCache: Record<string, any> = {};\r\n\r\nexport interface ILoadJSONOperationData {\r\n  url: string;\r\n  cache: boolean;\r\n  propertyName?: string;\r\n  json?: any;\r\n}\r\n\r\nexport const loadJSON: TOperation<ILoadJSONOperationData> = function (\r\n  operationData: ILoadJSONOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { url, cache, propertyName = 'json' } = operationData;\r\n\r\n  if (cache && jsonCache[url]) {\r\n    (operationData as any)[propertyName] = jsonCache[url];\r\n    return operationData;\r\n  }\r\n\r\n  return new Promise((resolve, reject) => {\r\n    fetch(url)\r\n      .then((response) => {\r\n        jsonCache[url] = (operationData as any)[propertyName as string] = response.body;\r\n        resolve(operationData);\r\n      })\r\n      .catch(reject);\r\n  });\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { IOperationContext, TOperation } from './types';\r\n\r\nexport const log: TOperation<never> = function (this: IOperationContext, operationData: never, _eventBus: IEventbus) {\r\n  console.group('Operation info');\r\n  console.dir({ context: this });\r\n  console.dir({ operationData });\r\n  console.groupEnd();\r\n  return operationData;\r\n};\r\n","import { IAddClassOperationData } from '../add-class';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction addClass(): IOperationMetadata<IAddClassOperationData> {\r\n  return {\r\n    description: 'Add a class to the selected element.',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      className: {\r\n        type: 'ParameterType:className',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default addClass;\r\n","import { IAddControllerToElementOperationData } from '../add-controller-to-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction addControllerToElement(): IOperationMetadata<IAddControllerToElementOperationData> {\r\n  return {\r\n    description: 'Adds the current controller to the selected element(s)',\r\n    dependentProperties: ['selectedElement', 'controllerInstance'],\r\n  };\r\n}\r\nexport default addControllerToElement;\r\n","import { IAddOptionListOperationData } from '../add-option-list';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction addOptionList(): IOperationMetadata<IAddOptionListOperationData> {\r\n  return {\r\n    description:\r\n      'Creates a list of option elements from the specified data and adds it to the currently selected element.',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      valueProperty: {\r\n        type: 'ParameterType:string',\r\n        required: true,\r\n      },\r\n      labelProperty: {\r\n        type: 'ParameterType:string',\r\n        required: true,\r\n      },\r\n      defaultIndex: 'ParameterType:integer',\r\n      defaultValue: 'ParameterType:string',\r\n      optionData: 'ParameterType:array',\r\n    },\r\n  };\r\n}\r\nexport default addOptionList;\r\n","import { IAnimateWithClassOperationData } from '../animate-with-class';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction animateWithClass(): IOperationMetadata<IAnimateWithClassOperationData> {\r\n  return {\r\n    description: 'Animates the selected element by adding the given animation class.',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      className: {\r\n        type: 'ParameterType:className',\r\n        required: true,\r\n      },\r\n      removeClass: 'ParameterType:boolean',\r\n    },\r\n  };\r\n}\r\nexport default animateWithClass;\r\n","import { IOperationMetadata } from './types';\r\nimport { IAnimateOperationData } from '../animate';\r\n\r\nfunction animate(): IOperationMetadata<IAnimateOperationData> {\r\n  return {\r\n    description: 'Animates the selected element with the given animation settings.',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      animationEasing: 'ParameterType:boolean',\r\n      animationProperties: {\r\n        type: 'ParameterType:object',\r\n        required: true,\r\n      },\r\n      animationDuration: {\r\n        type: 'ParameterType:integer',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default animate;\r\n","import { IBroadcastEventOperationData } from '../broadcast-event';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction broadcastEvent(): IOperationMetadata<IBroadcastEventOperationData> {\r\n  return {\r\n    description: 'Broadcasts an eventbus event with the given type, topic and optional arguments',\r\n    properties: {\r\n      eventArgs: 'ParameterType:array',\r\n      eventTopic: 'ParameterType:eventTopic',\r\n      eventName: {\r\n        type: 'ParameterType:eventName',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default broadcastEvent;\r\n","import { IClearElementOperationData } from '../clear-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction clearElement(): IOperationMetadata<IClearElementOperationData> {\r\n  return {\r\n    description: 'clears the given element',\r\n    dependentProperties: ['selectedElement'],\r\n  };\r\n}\r\n\r\nexport default clearElement;\r\n","import { IClearOperationDataOperationData } from '../clear-operation-data';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction clearOperationData(): IOperationMetadata<IClearOperationDataOperationData> {\r\n  return {\r\n    description: 'clears the current operation data',\r\n    properties: {\r\n      properties: 'ParameterType:array',\r\n    },\r\n  };\r\n}\r\nexport default clearOperationData;\r\n","import { ICreateElementOperationData } from '../create-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction createElement(): IOperationMetadata<ICreateElementOperationData> {\r\n  return {\r\n    description: 'Creates an HTML element with the given name and optionally adds the given attributes',\r\n    properties: {\r\n      elementName: {\r\n        type: 'ParameterType:htmlElementName',\r\n        required: true,\r\n      },\r\n      attributes: 'ParameterType:object',\r\n      text: 'ParameterType:string',\r\n    },\r\n    outputProperties: {\r\n      template: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default createElement;\r\n","import { ICustomFunctionOperationData } from '../custom-function';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction customFunction(): IOperationMetadata<ICustomFunctionOperationData> {\r\n  return {\r\n    description: 'Executes the specified custom function',\r\n    properties: {\r\n      systemName: {\r\n        type: 'ParameterType:systemName',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default customFunction;\r\n","import { IEndActionOperationData } from '../end-action';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction endAction(): IOperationMetadata<IEndActionOperationData> {\r\n  return {\r\n    description: 'Ends the current action',\r\n    dependentProperties: ['actionInstance'],\r\n    properties: {\r\n      actionOperationData: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default endAction;\r\n","import { IOperationMetadata } from './types';\r\n\r\nfunction endLoop(): IOperationMetadata<never> {\r\n  return {\r\n    description: 'Ends the current loop',\r\n  };\r\n}\r\n\r\nexport default endLoop;\r\n","import { IExtendControllerOperationData } from '../extend-controller';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction extendController(): IOperationMetadata<IExtendControllerOperationData> {\r\n  return {\r\n    description: 'Extends the current controller',\r\n    dependentProperties: ['controllerInstance'],\r\n    properties: {\r\n      controllerExtension: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default extendController;\r\n","import { IGetControllerFromElementOperationData } from '../get-controller-from-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction getControllerFromElement(): IOperationMetadata<IGetControllerFromElementOperationData> {\r\n  return {\r\n    description: 'Retrieves the specified controller from the current element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      controllerName: {\r\n        type: 'ParameterType:controllerName',\r\n        required: true,\r\n      },\r\n    },\r\n    outputProperties: {\r\n      controllerInstance: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default getControllerFromElement;\r\n","import { IGetControllerInstanceOperationData } from '../get-controller-instance';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction getControllerInstance(): IOperationMetadata<IGetControllerInstanceOperationData> {\r\n  return {\r\n    description: 'Retrieves an instance of the specified controller',\r\n    properties: {\r\n      systemName: {\r\n        type: 'ParameterType:controllerName',\r\n        required: true,\r\n      },\r\n      propertyName: {\r\n        type: 'ParameterType:string',\r\n        defaultValue: 'controllerInstance',\r\n      },\r\n    },\r\n    outputProperties: {\r\n      controllerInstance: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default getControllerInstance;\r\n","import { IGetElementDimensionsOperationData } from '../get-element-dimensions';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction getElementDimensions(): IOperationMetadata<IGetElementDimensionsOperationData> {\r\n  return {\r\n    description: 'Calculates the dimensions for the current element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      modifier: 'ParameterType:dimensionsModifier',\r\n    },\r\n    outputProperties: {\r\n      dimensions: 'ParameterType:dimensions',\r\n    },\r\n  };\r\n}\r\nexport default getElementDimensions;\r\n","import { IGetImportOperationData } from '../get-import';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction getImport(): IOperationMetadata<IGetImportOperationData> {\r\n  return {\r\n    description: 'Retrieves a javascript import specified by the given system name',\r\n    properties: {\r\n      systemName: {\r\n        type: 'ParameterType:systemName',\r\n        required: true,\r\n      },\r\n    },\r\n    outputProperties: {\r\n      importedInstance: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default getImport;\r\n","export { default as addClass } from './add-class';\r\nexport { default as addControllerToElement } from './add-controller-to-element';\r\nexport { default as addOptionList } from './add-option-list';\r\nexport { default as animate } from './animate';\r\nexport { default as animateWithClass } from './animate-with-class';\r\nexport { default as broadcastEvent } from './broadcast-event';\r\nexport { default as clearElement } from './clear-element';\r\nexport { default as clearOperationData } from './clear-operation-data';\r\nexport { default as createElement } from './create-element';\r\nexport { default as customFunction } from './custom-function';\r\nexport { default as endAction } from './end-action';\r\nexport { default as endLoop } from './end-loop';\r\nexport { default as extendController } from './extend-controller';\r\nexport { default as getControllerFromElement } from './get-controller-from-element';\r\nexport { default as getControllerInstance } from './get-controller-instance';\r\nexport { default as getElementDimensions } from './get-element-dimensions';\r\nexport { default as getImport } from './get-import';\r\nexport { default as loadJSON } from './load-json';\r\nexport { default as log } from './log';\r\nexport { default as removeClass } from './remove-class';\r\nexport { default as removeControllerFromElement } from './remove-controller-from-element';\r\nexport { default as removeElement } from './remove-element';\r\nexport { default as removePropertiesFromOperationData } from './remove-properties-from-operation-data';\r\nexport { default as reparentElement } from './reparent-element';\r\nexport { default as requestAction } from './request-action';\r\nexport { default as resizeAction } from './resize-action';\r\nexport { default as selectElement } from './select-element';\r\nexport { default as setElementAttributes } from './set-element-attributes';\r\nexport { default as setElementContent } from './set-element-content';\r\nexport { default as setOperationData } from './set-operation-data';\r\nexport { default as setStyle } from './set-style';\r\nexport { default as startAction } from './start-action';\r\nexport { default as startLoop } from './start-loop';\r\nexport { default as toggleClass } from './toggle-class';\r\nexport { default as toggleElement } from './toggle-element';\r\nexport { default as wait } from './wait';\r\n","import { ILoadJSONOperationData } from '../load-json';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction loadJSON(): IOperationMetadata<ILoadJSONOperationData> {\r\n  return {\r\n    description: 'Load JSON from the given url',\r\n    properties: {\r\n      url: {\r\n        type: 'ParameterType:url',\r\n        required: true,\r\n      },\r\n      cache: 'ParameterType:boolean',\r\n      propertyName: {\r\n        type: 'ParameterType:string',\r\n        defaultValue: 'json',\r\n      },\r\n    },\r\n    outputProperties: {\r\n      json: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default loadJSON;\r\n","import { IOperationMetadata } from './types';\r\n\r\nfunction log(): IOperationMetadata<never> {\r\n  return {\r\n    description: 'Logs the current context and operation data to the console',\r\n  };\r\n}\r\n\r\nexport default log;\r\n","import { IRemoveClassOperationData } from '../remove-class';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction removeClass(): IOperationMetadata<IRemoveClassOperationData> {\r\n  return {\r\n    description: 'Removes the specified class from the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      className: {\r\n        type: 'ParameterType:className',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport default removeClass;\r\n","import { IRemoveControllerFromElementOperationData } from '../remove-controller-from-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction removeControllerFromElement(): IOperationMetadata<IRemoveControllerFromElementOperationData> {\r\n  return {\r\n    description: 'Removes the specified controller from the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      controllerName: {\r\n        type: 'ParameterType:controllerName',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport default removeControllerFromElement;\r\n","import { IRemoveElementOperationData } from '../remove-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction removeElement(): IOperationMetadata<IRemoveElementOperationData> {\r\n  return {\r\n    description: 'Removes the selected element from the DOM',\r\n    dependentProperties: ['selectedElement'],\r\n  };\r\n}\r\nexport default removeElement;\r\n","import { IRemovePropertiesFromOperationDataOperationData } from '../remove-properties-from-operation-data';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction removePropertiesFromOperationData(): IOperationMetadata<IRemovePropertiesFromOperationDataOperationData> {\r\n  return {\r\n    description: 'Removes the specified properties from the current operation data',\r\n    properties: {\r\n      propertyNames: 'ParameterType:array',\r\n    },\r\n  };\r\n}\r\nexport default removePropertiesFromOperationData;\r\n","import { IReparentElementOperationData } from '../reparent-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction reparentElement(): IOperationMetadata<IReparentElementOperationData> {\r\n  return {\r\n    description: 'Moves the selected element to the new location described by the given selector',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      newParentSelector: {\r\n        type: 'ParameterType:selector',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default reparentElement;\r\n","import { IRequestActionOperationData } from '../request-action';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction requestAction(): IOperationMetadata<IRequestActionOperationData> {\r\n  return {\r\n    description: 'Retrieves an instance of the specified action',\r\n    properties: {\r\n      systemName: {\r\n        type: 'ParameterType:actionName',\r\n      },\r\n    },\r\n    outputProperties: {\r\n      actionInstance: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default requestAction;\r\n","import { IResizeActionOperationData } from '../resize-action';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction resizeAction(): IOperationMetadata<IResizeActionOperationData> {\r\n  return {\r\n    description: 'Triggers a resize on the current action',\r\n    dependentProperties: ['actionInstance'],\r\n    properties: {\r\n      actionOperationData: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default resizeAction;\r\n","import { ISelectElementOperationData } from '../select-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction selectElement(): IOperationMetadata<ISelectElementOperationData> {\r\n  return {\r\n    description: 'Selects an element using the given selector',\r\n    properties: {\r\n      selector: {\r\n        type: 'ParameterType:selector',\r\n        required: true,\r\n      },\r\n      propertyName: 'ParameterType:string',\r\n      useSelectedElementAsRoot: 'ParameterType:boolean',\r\n    },\r\n    outputProperties: {\r\n      selectedElement: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default selectElement;\r\n","import { ISetElementAttributesOperationData } from '../set-element-attributes';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction setElementAttributes(): IOperationMetadata<ISetElementAttributesOperationData> {\r\n  return {\r\n    description: 'Sets the given attributes on the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      attributes: {\r\n        type: 'ParameterType:object',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default setElementAttributes;\r\n","import { ISetElementContentOperationData } from '../set-element-content';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction setElementContent(): IOperationMetadata<ISetElementContentOperationData> {\r\n  return {\r\n    description: 'Sets the given HTML content in the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      append: 'ParameterType:boolean',\r\n      template: {\r\n        type: 'ParameterType:htmlContent',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default setElementContent;\r\n","import { ISetOperationData } from '../set-operation-data';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction setOperationData(): IOperationMetadata<ISetOperationData> {\r\n  return {\r\n    description: 'Sets the given properties on the current operation data',\r\n    properties: {\r\n      properties: {\r\n        type: 'ParameterType:object',\r\n        required: true,\r\n      },\r\n      override: 'ParameterType:boolean',\r\n    },\r\n  };\r\n}\r\nexport default setOperationData;\r\n","import { ISetStyleOperationData } from '../set-style';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction setStyle(): IOperationMetadata<ISetStyleOperationData> {\r\n  return {\r\n    description: 'Sets the given style properties on the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      properties: {\r\n        type: 'ParameterType:object',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport default setStyle;\r\n","import { IStartActionOperationData } from '../start-action';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction startAction(): IOperationMetadata<IStartActionOperationData> {\r\n  return {\r\n    description: 'Starts the selected action',\r\n    dependentProperties: ['actionInstance'],\r\n    properties: {\r\n      actionOperationData: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default startAction;\r\n","import { IStartLoopOperationData } from '../start-loop';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction startLoop(): IOperationMetadata<IStartLoopOperationData> {\r\n  return {\r\n    description: 'Starts a loop over the given collection',\r\n    properties: {\r\n      collection: {\r\n        type: 'ParameterType:array',\r\n        required: true,\r\n      },\r\n      propertyName: {\r\n        type: 'ParameterType:string',\r\n        defaultValue: 'currentItem',\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport default startLoop;\r\n","import { IToggleClassOperationData } from '../toggle-class';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction toggleClass(): IOperationMetadata<IToggleClassOperationData> {\r\n  return {\r\n    description: 'Toggles the given class on the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      className: {\r\n        type: 'ParameterType:className',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default toggleClass;\r\n","import { IToggleElementOperationData } from '../toggle-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction toggleElement(): IOperationMetadata<IToggleElementOperationData> {\r\n  return {\r\n    description: 'Toggles the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n  };\r\n}\r\nexport default toggleElement;\r\n","import { IWaitOperationData } from '../wait';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction wait(): IOperationMetadata<IWaitOperationData> {\r\n  return {\r\n    description: 'Waits the given amount of milliseconds before the action continues',\r\n    properties: {\r\n      milliseconds: {\r\n        type: 'ParameterType:integer',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default wait;\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IRemoveClassOperationData {\r\n  selectedElement: JQuery;\r\n  className: string;\r\n}\r\n\r\nexport const removeClass: TOperation<IRemoveClassOperationData> = function (\r\n  operationData: IRemoveClassOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, className } = operationData;\r\n  selectedElement.removeClass(className);\r\n  return operationData;\r\n};\r\n","import { IController } from '../controllers/types';\r\nimport { IEventbus } from '../eventbus/types';\r\nimport { getElementControllers } from './helper/get-element-data';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IRemoveControllerFromElementOperationData {\r\n  selectedElement: JQuery;\r\n  controllerName: string;\r\n}\r\n\r\nexport const removeControllerFromElement: TOperation<IRemoveControllerFromElementOperationData> = function (\r\n  operationData: IRemoveControllerFromElementOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { selectedElement, controllerName } = operationData;\r\n\r\n  const controllers = getElementControllers(selectedElement);\r\n  const controller = controllers?.find((ctrl: IController<any>) => ctrl.name === controllerName);\r\n\r\n  if (controller) {\r\n    const idx = controllers.indexOf(controller);\r\n    controllers.splice(idx, 1);\r\n    controller.detach(eventBus);\r\n  }\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IRemoveElementOperationData {\r\n  selectedElement: JQuery;\r\n}\r\n\r\nexport const removeElement: TOperation<IRemoveElementOperationData> = function (\r\n  operationData: IRemoveElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement } = operationData;\r\n  selectedElement.remove();\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IRemovePropertiesFromOperationDataOperationData {\r\n  propertyNames: string[];\r\n}\r\n\r\nexport const removePropertiesFromOperationData: TOperation<IRemovePropertiesFromOperationDataOperationData> = function (\r\n  operationData: IRemovePropertiesFromOperationDataOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { propertyNames } = operationData;\r\n\r\n  propertyNames.forEach((name) => {\r\n    delete (operationData as any)[name];\r\n  });\r\n  delete (operationData as any).propertyNames;\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IReparentElementOperationData {\r\n  selectedElement: JQuery;\r\n  newParentSelector: string;\r\n}\r\n\r\nexport const reparentElement: TOperation<IReparentElementOperationData> = function (\r\n  operationData: IReparentElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, newParentSelector } = operationData;\r\n  selectedElement.remove().appendTo(newParentSelector);\r\n  return operationData;\r\n};\r\n","import { IAction } from '../action/types';\r\nimport { IEventbus } from '../eventbus/types';\r\nimport { TimelineEventNames } from '../timeline-event-names';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IRequestActionOperationData {\r\n  systemName: string;\r\n  actionInstance: IAction;\r\n}\r\n\r\nexport const requestAction: TOperation<IRequestActionOperationData> = function (\r\n  operationData: IRequestActionOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { systemName } = operationData;\r\n\r\n  const resultCallback = (action: IAction) => {\r\n    operationData.actionInstance = action;\r\n  };\r\n\r\n  eventBus.broadcast(TimelineEventNames.REQUEST_ACTION, [systemName, resultCallback]);\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { mergeOperationData } from './helper/merge-operation-data';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IResizeActionOperationData {\r\n  actionInstance: any;\r\n  actionOperationData: any;\r\n}\r\n\r\nexport const resizeAction: TOperation<IResizeActionOperationData> = function (\r\n  operationData: IResizeActionOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { actionInstance, actionOperationData } = operationData;\r\n  operationData = mergeOperationData(operationData, actionOperationData);\r\n\r\n  if (actionInstance.resize) {\r\n    return actionInstance.resize(operationData);\r\n  }\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TimelineEventNames } from '../timeline-event-names';\r\nimport { TOperation } from './types';\r\n\r\nfunction findElementBySelector(root: JQuery, selector: string, operationData: any, propertyName: string) {\r\n  const element = root.find(selector);\r\n  if (!element.length) {\r\n    console.warn(`selector '${selector}' wasn't found!`);\r\n  }\r\n  operationData[propertyName] = element;\r\n  if (operationData.hasOwnProperty('propertyName')) {\r\n    delete operationData.propertyName;\r\n  }\r\n}\r\n\r\nexport interface ISelectElementOperationData {\r\n  selector: string;\r\n  propertyName: string;\r\n  useSelectedElementAsRoot: boolean;\r\n}\r\n\r\nexport const selectElement: TOperation<ISelectElementOperationData> = function (\r\n  operationData: ISelectElementOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { selector, propertyName = 'selectedElement', useSelectedElementAsRoot } = operationData;\r\n\r\n  if (!selector) {\r\n    throw new Error('selector is undefined!');\r\n  }\r\n\r\n  if (useSelectedElementAsRoot && (operationData as any)[propertyName]) {\r\n    const currentRoot = (operationData as any)[propertyName];\r\n    findElementBySelector(currentRoot, selector, operationData, propertyName);\r\n    return operationData;\r\n  }\r\n\r\n  const rootCallback = (root: JQuery) => {\r\n    findElementBySelector(root, selector, operationData, propertyName);\r\n  };\r\n  eventBus.broadcast(TimelineEventNames.REQUEST_ENGINE_ROOT, [rootCallback]);\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ISetElementAttributesOperationData {\r\n  attributes: any;\r\n  selectedElement: JQuery;\r\n}\r\n\r\nexport const setElementAttributes: TOperation<ISetElementAttributesOperationData> = function (\r\n  operationData: ISetElementAttributesOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { attributes, selectedElement } = operationData;\r\n  Object.keys(attributes).forEach((attrName) => {\r\n    selectedElement.attr(attrName, attributes[attrName]);\r\n  });\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ISetElementContentOperationData {\r\n  append: boolean;\r\n  selectedElement: JQuery;\r\n  template: string;\r\n}\r\n\r\nexport const setElementContent: TOperation<ISetElementContentOperationData> = function (\r\n  operationData: ISetElementContentOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { append, selectedElement, template } = operationData;\r\n  if (!append) {\r\n    selectedElement.html(template);\r\n  } else {\r\n    selectedElement.append(template);\r\n  }\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { resolvePropertyValues } from './helper/resolve-property-values';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ISetOperationData {\r\n  override: boolean;\r\n  properties: any;\r\n}\r\n\r\nexport const setOperationData: TOperation<ISetOperationData> = function (\r\n  operationData: ISetOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { override, properties } = operationData;\r\n  const resolvedProperties = resolvePropertyValues(operationData, properties);\r\n  delete operationData.properties;\r\n\r\n  if (override) {\r\n    operationData = resolvedProperties;\r\n  } else {\r\n    operationData = Object.assign(operationData, resolvedProperties);\r\n  }\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { resolvePropertyValues } from './helper/resolve-property-values';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ISetStyleOperationData {\r\n  properties: any;\r\n  propertyName?: string;\r\n  selectedElement?: JQuery;\r\n}\r\n\r\nexport const setStyle: TOperation<ISetStyleOperationData> = function (\r\n  operationData: ISetStyleOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { propertyName = 'selectedElement' } = operationData;\r\n\r\n  const properties = resolvePropertyValues(operationData, operationData.properties);\r\n  (operationData as any)[propertyName].css(properties);\r\n  return operationData;\r\n};\r\n","import { IAction } from '../action/types';\r\nimport { IEventbus } from '../eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { mergeOperationData } from './helper/merge-operation-data';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IStartActionOperationData {\r\n  actionInstance: IAction;\r\n  actionOperationData: any;\r\n}\r\n\r\nexport const startAction: TOperation<IStartActionOperationData> = function (\r\n  operationData: IStartActionOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { actionInstance, actionOperationData } = operationData;\r\n  return new Promise((resolve, reject) => {\r\n    operationData = mergeOperationData(operationData, actionOperationData);\r\n    actionInstance.start(operationData).then(() => {\r\n      internalResolve(resolve, operationData);\r\n    }, reject);\r\n  });\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { IOperationContext, TOperation } from './types';\r\n\r\nexport interface IStartLoopOperationData {\r\n  collection: any[];\r\n  propertyName?: string;\r\n}\r\n\r\nexport const startLoop: TOperation<IStartLoopOperationData> = function (\r\n  this: IOperationContext,\r\n  operationData: IStartLoopOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const context = this;\r\n  const { collection } = operationData;\r\n  const { propertyName = 'currentItem' } = operationData;\r\n\r\n  if (!context.loopIndex) {\r\n    if (collection && collection.length) {\r\n      context.loopIndex = 0;\r\n      context.loopLength = collection.length - 1;\r\n      context.startIndex = context.currentIndex;\r\n    } else {\r\n      context.skip = true;\r\n    }\r\n  }\r\n\r\n  if (collection && collection.length && context.loopIndex) {\r\n    (operationData as any)[propertyName] = collection[context.loopIndex];\r\n  }\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IToggleClassOperationData {\r\n  selectedElement: JQuery;\r\n  className: string;\r\n}\r\n\r\nexport const toggleClass: TOperation<IToggleClassOperationData> = function (\r\n  operationData: IToggleClassOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, className } = operationData;\r\n  selectedElement.toggleClass(className);\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IToggleElementOperationData {\r\n  selectedElement: JQuery;\r\n}\r\n\r\nexport const toggleElement: TOperation<IToggleElementOperationData> = function toggleElement(\r\n  operationData: IToggleElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  operationData.selectedElement.toggle();\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '../eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IWaitOperationData {\r\n  milliseconds: number;\r\n}\r\n\r\nexport const wait: TOperation<IWaitOperationData> = function (operationData: IWaitOperationData, _eventBus: IEventbus) {\r\n  const { milliseconds } = operationData;\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => {\r\n      internalResolve(resolve, operationData);\r\n    }, milliseconds);\r\n  });\r\n};\r\n","export class TimelineEventNames {\r\n  // timeline requests\r\n  static PLAY_TOGGLE_REQUEST = 'timeline-play-toggle-request';\r\n  static PLAY_REQUEST = 'timeline-play-request';\r\n  static STOP_REQUEST = 'timeline-stop-request';\r\n  static PAUSE_REQUEST = 'timeline-pause-request';\r\n  static SEEK_REQUEST = 'timeline-seek-request';\r\n  static RESIZE_REQUEST = 'timeline-resize-request';\r\n  static CONTAINER_REQUEST = 'timeline-container-request';\r\n  static DURATION_REQUEST = 'timeline-duration-request';\r\n  static REQUEST_CURRENT_TIMELINE = 'timeline-request-current-timeline';\r\n\r\n  // timeline announcements\r\n  static DURATION = 'timeline-duration';\r\n  static TIME = 'timeline-time';\r\n  static SEEKED = 'timeline-seeked';\r\n  static COMPLETE = 'timeline-complete';\r\n  static PLAY = 'timeline-play';\r\n  static STOP = 'timeline-stop';\r\n  static PAUSE = 'timeline-pause';\r\n  static SEEK = 'timeline-seek';\r\n  static RESIZE = 'timeline-resize';\r\n  static POSITION_UPDATE = 'timeline-position-update';\r\n  static TIME_UPDATE = 'timeline-time-update';\r\n  static CURRENT_TIMELINE_CHANGE = 'timeline-current-timeline-change';\r\n  static FIRST_FRAME = 'timeline-firstframe';\r\n\r\n  // factory and engine events\r\n  static REQUEST_INSTANCE = 'request-instance';\r\n  static REQUEST_ACTION = 'request-action';\r\n  static REQUEST_FUNCTION = 'request-function';\r\n  static REQUEST_TIMELINE_URI = 'request-timeline-uri';\r\n  static BEFORE_REQUEST_TIMELINE_URI = 'before-request-timeline-uri';\r\n  static REQUEST_ENGINE_ROOT = 'request-engine-root';\r\n  static REQUEST_CURRENT_TIMELINE_POSITION = 'request-current-timeline-position';\r\n  static REQUEST_TIMELINE_CLEANUP = 'request-timeline-cleanup';\r\n  static EXECUTE_TIMELINEACTION = 'execute-timelineaction';\r\n  static RESIZE_TIMELINEACTION = 'resize-timelineaction';\r\n\r\n  //language manager events\r\n  static REQUEST_LABEL_COLLECTION = 'request-label-collection';\r\n  static REQUEST_LABEL_COLLECTIONS = 'request-label-collections';\r\n  static REQUEST_CURRENT_LANGUAGE = 'request-current-language';\r\n  static LANGUAGE_CHANGE = 'language-change';\r\n}\r\n","export { JwPlayerTimelineProvider } from './jwplayer-timeline-provider';\r\nexport { MediaElementTimelineProvider } from './media-element-timeline-provider';\r\nexport { RequestAnimationFrameTimelineProvider } from './request-animation-frame-timeline-provider';\r\n","import $ from 'jquery';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { IResolvedEngineConfiguration } from '../configuration/types';\r\nimport { IEventbus, TEventHandlerRemover } from '../eventbus/types';\r\nimport { TimelineEventNames } from '../timeline-event-names';\r\nimport { TResultCallback } from '../types';\r\nimport { ITimelineProvider } from './types';\r\n\r\nexport class JwPlayerTimelineProvider implements ITimelineProvider {\r\n  private _paused: boolean = false;\r\n  private _player: any = null;\r\n  private _currentLoopHandler: Function | null = null;\r\n  private _eventbusListeners: TEventHandlerRemover[] = [];\r\n  private _playlist: any[] = [];\r\n  private _videoElementId: string = uuidv4();\r\n\r\n  loop = false;\r\n\r\n  constructor(private eventbus: IEventbus, private config: IResolvedEngineConfiguration) {\r\n    this._addEventListeners();\r\n  }\r\n\r\n  _extractUrls(configuration: IResolvedEngineConfiguration) {\r\n    const urls = configuration.timelines\r\n      .filter((timeline) => timeline.type === 'mediaplayer')\r\n      .map((timeline) => {\r\n        return timeline.uri;\r\n      });\r\n    return urls;\r\n  }\r\n\r\n  init(): Promise<any> {\r\n    const settings = this.config.timelineProviderSettings['mediaplayer'];\r\n    const { selector } = settings;\r\n    const urls = this._extractUrls(this.config);\r\n    const jwp = (window as any).jwplayer;\r\n    const p = $(`#${selector}`);\r\n    if (!p.length) {\r\n      throw new Error(`videoplayer selector '${selector}' not found`);\r\n    }\r\n    let w = p.innerWidth();\r\n    let h = p.innerHeight();\r\n    if (w === 0) {\r\n      w = 100;\r\n    }\r\n    if (h === 0) {\r\n      h = 300;\r\n    }\r\n\r\n    this._player = jwp(selector);\r\n    this._player.setup({\r\n      file: urls[0],\r\n      image: settings.poster,\r\n      height: h,\r\n      width: w,\r\n      controls: true,\r\n      autostart: false,\r\n      displaytitle: false,\r\n      displaydescription: false,\r\n      nextUpDisplay: false,\r\n      abouttext: 'ChronoTriggerJS',\r\n      aboutlink: 'http://www.google.com',\r\n      stretching: 'fill',\r\n      repeat: false,\r\n    });\r\n    this._playlist.length = 0;\r\n    urls.forEach((url) => {\r\n      const item = {\r\n        file: url,\r\n        title: url,\r\n        image: settings.poster,\r\n      };\r\n      this._playlist.push(item);\r\n    });\r\n    const promise = new Promise((resolve) => {\r\n      this._player.once('ready', () => {\r\n        this._handlePlayerReady(resolve);\r\n      });\r\n      this._player.load(this._playlist);\r\n    });\r\n    return promise;\r\n  }\r\n\r\n  _handlePlayerReady(resolve: (value: any | PromiseLike<any>) => void) {\r\n    this._player.once('firstFrame', () => {\r\n      this._player.pause();\r\n      this.eventbus.broadcast(TimelineEventNames.DURATION, [this.getDuration()]);\r\n      resolve(this);\r\n    });\r\n    this._player.on(TimelineEventNames.TIME, this._loopHandler.bind(this, Math.floor));\r\n    this._player.on(TimelineEventNames.SEEKED, this._seekedHandler.bind(this));\r\n    this._player.on(TimelineEventNames.COMPLETE, this._handlePlayerComplete.bind(this));\r\n    setTimeout(() => {\r\n      this._player.play();\r\n    }, 10);\r\n  }\r\n\r\n  _handlePlayerComplete() {\r\n    if (!this.loop) {\r\n      this.stop();\r\n      this.eventbus.broadcast(TimelineEventNames.COMPLETE, [this._player.getPlaylistIndex()]);\r\n    }\r\n  }\r\n\r\n  _seekedHandler() {\r\n    this.eventbus.broadcast(TimelineEventNames.SEEKED, [this.getPosition(), this.getDuration()]);\r\n  }\r\n\r\n  destroy() {\r\n    this._player.remove();\r\n    this._eventbusListeners.forEach((func) => func());\r\n  }\r\n\r\n  _loopHandler(floor: (x: number) => number, jwplayerEvent: any) {\r\n    const pos = floor(jwplayerEvent.position);\r\n    if (this.loop && pos === floor(this._player.getDuration() - 1)) {\r\n      this.seek(0);\r\n    }\r\n  }\r\n\r\n  _timeResetLoopHandler() {\r\n    if (this.loop) {\r\n      this.seek(0);\r\n    }\r\n  }\r\n\r\n  _addEventListeners() {\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PLAY_TOGGLE_REQUEST, this.toggleplay.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PLAY_REQUEST, this.start.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.STOP_REQUEST, this.stop.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PAUSE_REQUEST, this.pause.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.SEEK_REQUEST, this.seek.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.RESIZE_REQUEST, this.resize.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.CONTAINER_REQUEST, this._container.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.DURATION_REQUEST, this.duration.bind(this)));\r\n  }\r\n\r\n  _container(resultCallback: TResultCallback) {\r\n    let suffix = '';\r\n    if (this._player.getProvider().name !== 'html5') {\r\n      suffix = '_wrapper';\r\n    }\r\n    const container = $(`#${this._videoElementId}${suffix}`);\r\n    resultCallback(container);\r\n  }\r\n\r\n  toggleplay() {\r\n    if (this._paused) {\r\n      this.start();\r\n    } else {\r\n      this.pause();\r\n    }\r\n  }\r\n\r\n  start() {\r\n    this._paused = false;\r\n    this._player.play();\r\n    this.eventbus.broadcast(TimelineEventNames.PLAY);\r\n  }\r\n\r\n  stop() {\r\n    this._paused = false;\r\n    this._player.stop();\r\n    this.eventbus.broadcast(TimelineEventNames.STOP);\r\n  }\r\n\r\n  pause() {\r\n    this._paused = true;\r\n    this._player.pause();\r\n    this.eventbus.broadcast(TimelineEventNames.PAUSE);\r\n  }\r\n\r\n  seek(position: number) {\r\n    const currentPosition = this._player.getPosition();\r\n    this._player.seek(position);\r\n    this.eventbus.broadcast(TimelineEventNames.SEEK, [position, currentPosition, this._player.getDuration()]);\r\n  }\r\n\r\n  resize(width: number, height: number) {\r\n    this._player.resize(width, height);\r\n    this.eventbus.broadcast(TimelineEventNames.RESIZE, [width, height]);\r\n  }\r\n\r\n  duration(resultCallback: TResultCallback) {\r\n    resultCallback(Math.floor(this.getDuration()));\r\n  }\r\n\r\n  playlistItem(uri: string) {\r\n    const index = this._playlist.findIndex((item) => item.file === uri);\r\n    if (index > -1) {\r\n      this._player.playlistItem(index);\r\n    }\r\n  }\r\n\r\n  getPosition() {\r\n    return this._player.getPosition();\r\n  }\r\n\r\n  getPlaylistIndex() {\r\n    return this._player.getPlaylistIndex();\r\n  }\r\n\r\n  getState() {\r\n    return this._player.getState();\r\n  }\r\n\r\n  getDuration() {\r\n    return this._player.getDuration();\r\n  }\r\n\r\n  getMute() {\r\n    return this._player.getMute();\r\n  }\r\n\r\n  getVolume() {\r\n    return this._player.getVolume();\r\n  }\r\n\r\n  setMute(state: boolean) {\r\n    this._player.setMute(state);\r\n  }\r\n\r\n  setVolume(volume: number) {\r\n    this._player.setVolume(volume);\r\n  }\r\n}\r\n","import $ from 'jquery';\r\nimport 'mediaelement';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { IResolvedEngineConfiguration, IResolvedTimelineConfiguration } from '../configuration/types';\r\nimport { IEventbus, TEventHandlerRemover } from '../eventbus/types';\r\nimport { TimelineEventNames } from '../timeline-event-names';\r\nimport { TResultCallback } from '../types';\r\nimport { ITimelineProvider } from './types';\r\n\r\nconst { MediaElementPlayer } = global as any;\r\n\r\nexport class MediaElementTimelineProvider implements ITimelineProvider {\r\n  private _videoElementId: string = uuidv4();\r\n  private _eventbusListeners: TEventHandlerRemover[] = [];\r\n  private _playlist: IResolvedTimelineConfiguration[] = [];\r\n  private _length: number = 0;\r\n  private _urls: string[] = [];\r\n\r\n  player: mediaelementjs.MediaElementPlayer | undefined;\r\n\r\n  loop = false;\r\n\r\n  constructor(private eventbus: IEventbus, private config: IResolvedEngineConfiguration) {\r\n    this._addEventListeners();\r\n  }\r\n\r\n  _addEventListeners() {\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PLAY_REQUEST, this.start.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.STOP_REQUEST, this.stop.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PAUSE_REQUEST, this.pause.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.SEEK_REQUEST, this.seek.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.RESIZE_REQUEST, this.resize.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.CONTAINER_REQUEST, this._container.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.DURATION_REQUEST, this.duration.bind(this)));\r\n  }\r\n\r\n  _extractUrls(configuration: IResolvedEngineConfiguration) {\r\n    const urls = configuration.timelines\r\n      .filter((timeline) => timeline.type === 'mediaplayer')\r\n      .map((timeline) => timeline.uri);\r\n    return urls;\r\n  }\r\n\r\n  init() {\r\n    const selector = '';\r\n    this._urls = this._extractUrls(this.config);\r\n    this._addVideoElements(selector, this._urls);\r\n    const self = this;\r\n\r\n    const promise = new Promise((resolve) => {\r\n      const videoElement = document.getElementById(this._videoElementId);\r\n      self.player = new MediaElementPlayer(videoElement, {\r\n        success: (mediaElement: any, _originalNode: any, instance: mediaelementjs.MediaElementPlayer) => {\r\n          mediaElement.addEventListener('timeupdate', this._timeUpdateHandler.bind(this));\r\n          instance.loop = this.loop;\r\n          instance.controlsAreVisible = false;\r\n          instance.controlsEnabled = false;\r\n          resolve();\r\n        },\r\n      });\r\n    });\r\n\r\n    return promise;\r\n  }\r\n\r\n  private _timeUpdateHandler() {\r\n    if (this.player) {\r\n      this.eventbus.broadcast(TimelineEventNames.TIME, [{ position: this.player.currentTime }]);\r\n      this.eventbus.broadcast(TimelineEventNames.POSITION_UPDATE, [\r\n        { position: this.player.currentTime, duration: this.player.duration },\r\n      ]);\r\n    }\r\n  }\r\n\r\n  private _addVideoElements(selector: string, urls: string[]) {\r\n    const videoElm = [`<video class='mejs__player' id=${this._videoElementId} data-mejsoptions='{\"preload\": \"true\"}'>`];\r\n    urls.forEach((url) => {\r\n      videoElm.push(`<source src='${url}' type='${this._extractFileType(url)}'/>`);\r\n    });\r\n    videoElm.push('</video>');\r\n    $(selector).append(videoElm.join(''));\r\n  }\r\n\r\n  _extractFileType(url: string) {\r\n    const lastIdx = url.lastIndexOf('.');\r\n    return `video/${url.substr(lastIdx + 1)}`;\r\n  }\r\n\r\n  playlistItem(uri: string) {\r\n    this.player?.setSrc(uri);\r\n  }\r\n\r\n  start() {\r\n    this.player?.play();\r\n  }\r\n\r\n  stop() {\r\n    this.player?.stop();\r\n  }\r\n\r\n  destroy() {\r\n    if (!this.player?.paused) {\r\n      this.player?.pause();\r\n    }\r\n\r\n    this.player?.remove();\r\n    $(`#${this._videoElementId}`).remove();\r\n    this._eventbusListeners.forEach((func) => func());\r\n  }\r\n\r\n  pause() {\r\n    this.player?.pause();\r\n  }\r\n\r\n  seek(position: number) {\r\n    this.player?.setCurrentTime(position);\r\n  }\r\n\r\n  resize() {}\r\n\r\n  duration(resultCallback: TResultCallback) {\r\n    resultCallback(this.getDuration());\r\n  }\r\n\r\n  getDuration() {\r\n    return this.player?.duration || -1;\r\n  }\r\n\r\n  getPosition() {\r\n    return this.player?.getCurrentTime() || -1;\r\n  }\r\n\r\n  _container(resultCallback: TResultCallback) {\r\n    resultCallback($(`#${this._videoElementId}`));\r\n  }\r\n}\r\n","import $ from 'jquery';\r\nimport { IResolvedEngineConfiguration, IResolvedTimelineConfiguration } from '../configuration/types';\r\nimport { IEventbus, TEventHandlerRemover } from '../eventbus/types';\r\nimport { TimelineEventNames } from '../timeline-event-names';\r\nimport { TResultCallback } from '../types';\r\nimport { ITimelineProvider } from './types';\r\n\r\ntype TUpdateMethod = (now: number) => void;\r\ntype TPlayState = 'stopped' | 'running' | 'paused';\r\n\r\nexport class RequestAnimationFrameTimelineProvider implements ITimelineProvider {\r\n  private _requestID: number = -1;\r\n  private _last: number = 0;\r\n  private _currentPosition: number = 0;\r\n  private _updateBound: TUpdateMethod = this._update.bind(this);\r\n  private _eventbusListeners: TEventHandlerRemover[] = [];\r\n  private _firstFrame = true;\r\n  private _currentPlaylistItem: IResolvedTimelineConfiguration;\r\n  private _granularity = 1000;\r\n  private _playState: TPlayState = 'stopped';\r\n  private _playlist: IResolvedTimelineConfiguration[];\r\n  private _containerElement: JQuery<HTMLElement> | undefined;\r\n\r\n  loop: boolean = false;\r\n\r\n  constructor(private eventbus: IEventbus, private config: IResolvedEngineConfiguration) {\r\n    this.eventbus = eventbus;\r\n    this.config = config;\r\n    this._playlist = this._extractPlaylist(config);\r\n    this._currentPlaylistItem = this._playlist[0];\r\n  }\r\n\r\n  private _extractPlaylist(configuration: IResolvedEngineConfiguration): IResolvedTimelineConfiguration[] {\r\n    const playlist = configuration.timelines.filter((timeline) => timeline.type === 'animation');\r\n    return playlist;\r\n  }\r\n\r\n  playlistItem(uri: string): void {\r\n    if (uri === null || !uri.length || this._playlist.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const item = this._playlist.find((item) => {\r\n      return item.uri === uri;\r\n    });\r\n\r\n    if (!item) {\r\n      throw new Error(`Unknown playlist uri: ${uri}`);\r\n    }\r\n\r\n    this._currentPlaylistItem = item;\r\n    this._firstFrame = true;\r\n  }\r\n\r\n  private _addEventListeners() {\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PLAY_TOGGLE_REQUEST, this.toggleplay.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PLAY_REQUEST, this.start.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.STOP_REQUEST, this.stop.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PAUSE_REQUEST, this.pause.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.SEEK_REQUEST, this.seek.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.RESIZE_REQUEST, this._resize.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.CONTAINER_REQUEST, this._container.bind(this)));\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.DURATION_REQUEST, this.requestDurationHandler.bind(this))\r\n    );\r\n  }\r\n\r\n  private _update(now: number): void {\r\n    if (this._playState !== 'running') {\r\n      return;\r\n    }\r\n\r\n    if (!this._last || now - this._last >= this._granularity) {\r\n      if (!this._last && this._firstFrame) {\r\n        this._firstFrame = false;\r\n        this.eventbus.broadcast(TimelineEventNames.FIRST_FRAME);\r\n      }\r\n\r\n      this._last = now;\r\n      this._currentPosition++;\r\n\r\n      if (this._currentPosition > this._currentPlaylistItem.duration) {\r\n        if (this.loop) {\r\n          this._reset();\r\n        } else {\r\n          this.stop();\r\n          this.eventbus.broadcast(TimelineEventNames.COMPLETE);\r\n          return;\r\n        }\r\n      }\r\n\r\n      this.eventbus.broadcast(TimelineEventNames.TIME, [{ position: this._currentPosition }]);\r\n      this.eventbus.broadcast(TimelineEventNames.POSITION_UPDATE, [\r\n        { position: this._currentPosition, duration: this._currentPlaylistItem.duration },\r\n      ]);\r\n    }\r\n\r\n    this._requestID = requestAnimationFrame(this._updateBound);\r\n  }\r\n\r\n  private _start() {\r\n    if (this._requestID && this._playState === 'running') {\r\n      return;\r\n    }\r\n    this._playState = 'running';\r\n    this._requestID = requestAnimationFrame(this._updateBound);\r\n  }\r\n\r\n  private _reset() {\r\n    this._cancelAnimationFrame();\r\n    this._last = 0;\r\n    this._currentPosition = 0;\r\n  }\r\n\r\n  private _resize() {\r\n    console.error('Not implemented yet');\r\n  }\r\n\r\n  private _container(callBack: TResultCallback) {\r\n    callBack(this._containerElement);\r\n  }\r\n\r\n  private _cancelAnimationFrame() {\r\n    if (this._requestID) {\r\n      cancelAnimationFrame(this._requestID);\r\n      this._requestID = -1;\r\n      this._last = 0;\r\n      this._currentPosition = 0;\r\n    }\r\n  }\r\n\r\n  init(): Promise<any> {\r\n    this._addEventListeners();\r\n    this._currentPlaylistItem = this._playlist[0];\r\n    this._containerElement = $(this._currentPlaylistItem.selector);\r\n\r\n    if (!this._containerElement.length) {\r\n      throw new Error(`timeline selector '${this._currentPlaylistItem.selector}' not found`);\r\n    }\r\n\r\n    const promise = new Promise((resolve) => {\r\n      resolve();\r\n    });\r\n\r\n    return promise;\r\n  }\r\n\r\n  destroy() {\r\n    this.stop();\r\n    this._eventbusListeners.forEach((func) => func());\r\n    this._containerElement = undefined;\r\n  }\r\n\r\n  toggleplay() {\r\n    if (this._playState !== 'running') {\r\n      this.start();\r\n    } else {\r\n      this.pause();\r\n    }\r\n  }\r\n\r\n  start() {\r\n    this._start();\r\n    this.eventbus.broadcast(TimelineEventNames.PLAY);\r\n  }\r\n\r\n  stop() {\r\n    this._cancelAnimationFrame();\r\n    this._playState = 'stopped';\r\n    this.eventbus.broadcast(TimelineEventNames.STOP);\r\n  }\r\n\r\n  pause() {\r\n    this._playState = 'paused';\r\n    this.eventbus.broadcast(TimelineEventNames.PAUSE);\r\n  }\r\n\r\n  seek(position: number) {\r\n    if (position < 0 || position > this._currentPlaylistItem.duration) {\r\n      return;\r\n    }\r\n\r\n    this.eventbus.broadcast(TimelineEventNames.SEEK, [position, this._currentPosition, this.getDuration()]);\r\n    this._currentPosition = position;\r\n    this.eventbus.broadcast(TimelineEventNames.SEEKED, [this.getPosition(), this.getDuration()]);\r\n    this.eventbus.broadcast(TimelineEventNames.TIME, [{ position: this.getPosition() }]);\r\n    this.eventbus.broadcast(TimelineEventNames.POSITION_UPDATE, [\r\n      { position: this._currentPosition, duration: this._currentPlaylistItem.duration },\r\n    ]);\r\n  }\r\n\r\n  getPosition() {\r\n    return this._currentPosition;\r\n  }\r\n\r\n  getDuration() {\r\n    return this._currentPlaylistItem.duration;\r\n  }\r\n\r\n  requestDurationHandler(callBack: TResultCallback) {\r\n    callBack(this._currentPlaylistItem.duration);\r\n  }\r\n}\r\n","/*!\n * MediaElement.js\n * http://www.mediaelementjs.com/\n *\n * Wrapper that mimics native HTML5 MediaElement (audio and video)\n * using a variety of technologies (pure JavaScript, Flash, iframe)\n *\n * Copyright 2010-2017, John Dyer (http://j.hn/)\n * License: MIT\n *\n */(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(_dereq_,module,exports){\n\n},{}],2:[function(_dereq_,module,exports){\n(function (global){\nvar topLevel = typeof global !== 'undefined' ? global :\n    typeof window !== 'undefined' ? window : {}\nvar minDoc = _dereq_(1);\n\nvar doccy;\n\nif (typeof document !== 'undefined') {\n    doccy = document;\n} else {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n    if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n}\n\nmodule.exports = doccy;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"1\":1}],3:[function(_dereq_,module,exports){\n(function (global){\nvar win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],4:[function(_dereq_,module,exports){\n(function (root) {\n\n  // Store setTimeout reference so promise-polyfill will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var setTimeoutFunc = setTimeout;\n\n  function noop() {}\n  \n  // Polyfill for Function.prototype.bind\n  function bind(fn, thisArg) {\n    return function () {\n      fn.apply(thisArg, arguments);\n    };\n  }\n\n  function Promise(fn) {\n    if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n    if (typeof fn !== 'function') throw new TypeError('not a function');\n    this._state = 0;\n    this._handled = false;\n    this._value = undefined;\n    this._deferreds = [];\n\n    doResolve(fn, this);\n  }\n\n  function handle(self, deferred) {\n    while (self._state === 3) {\n      self = self._value;\n    }\n    if (self._state === 0) {\n      self._deferreds.push(deferred);\n      return;\n    }\n    self._handled = true;\n    Promise._immediateFn(function () {\n      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n      if (cb === null) {\n        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n        return;\n      }\n      var ret;\n      try {\n        ret = cb(self._value);\n      } catch (e) {\n        reject(deferred.promise, e);\n        return;\n      }\n      resolve(deferred.promise, ret);\n    });\n  }\n\n  function resolve(self, newValue) {\n    try {\n      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n        var then = newValue.then;\n        if (newValue instanceof Promise) {\n          self._state = 3;\n          self._value = newValue;\n          finale(self);\n          return;\n        } else if (typeof then === 'function') {\n          doResolve(bind(then, newValue), self);\n          return;\n        }\n      }\n      self._state = 1;\n      self._value = newValue;\n      finale(self);\n    } catch (e) {\n      reject(self, e);\n    }\n  }\n\n  function reject(self, newValue) {\n    self._state = 2;\n    self._value = newValue;\n    finale(self);\n  }\n\n  function finale(self) {\n    if (self._state === 2 && self._deferreds.length === 0) {\n      Promise._immediateFn(function() {\n        if (!self._handled) {\n          Promise._unhandledRejectionFn(self._value);\n        }\n      });\n    }\n\n    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n      handle(self, self._deferreds[i]);\n    }\n    self._deferreds = null;\n  }\n\n  function Handler(onFulfilled, onRejected, promise) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.promise = promise;\n  }\n\n  /**\n   * Take a potentially misbehaving resolver function and make sure\n   * onFulfilled and onRejected are only called once.\n   *\n   * Makes no guarantees about asynchrony.\n   */\n  function doResolve(fn, self) {\n    var done = false;\n    try {\n      fn(function (value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      }, function (reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      });\n    } catch (ex) {\n      if (done) return;\n      done = true;\n      reject(self, ex);\n    }\n  }\n\n  Promise.prototype['catch'] = function (onRejected) {\n    return this.then(null, onRejected);\n  };\n\n  Promise.prototype.then = function (onFulfilled, onRejected) {\n    var prom = new (this.constructor)(noop);\n\n    handle(this, new Handler(onFulfilled, onRejected, prom));\n    return prom;\n  };\n\n  Promise.all = function (arr) {\n    var args = Array.prototype.slice.call(arr);\n\n    return new Promise(function (resolve, reject) {\n      if (args.length === 0) return resolve([]);\n      var remaining = args.length;\n\n      function res(i, val) {\n        try {\n          if (val && (typeof val === 'object' || typeof val === 'function')) {\n            var then = val.then;\n            if (typeof then === 'function') {\n              then.call(val, function (val) {\n                res(i, val);\n              }, reject);\n              return;\n            }\n          }\n          args[i] = val;\n          if (--remaining === 0) {\n            resolve(args);\n          }\n        } catch (ex) {\n          reject(ex);\n        }\n      }\n\n      for (var i = 0; i < args.length; i++) {\n        res(i, args[i]);\n      }\n    });\n  };\n\n  Promise.resolve = function (value) {\n    if (value && typeof value === 'object' && value.constructor === Promise) {\n      return value;\n    }\n\n    return new Promise(function (resolve) {\n      resolve(value);\n    });\n  };\n\n  Promise.reject = function (value) {\n    return new Promise(function (resolve, reject) {\n      reject(value);\n    });\n  };\n\n  Promise.race = function (values) {\n    return new Promise(function (resolve, reject) {\n      for (var i = 0, len = values.length; i < len; i++) {\n        values[i].then(resolve, reject);\n      }\n    });\n  };\n\n  // Use polyfill for setImmediate for performance gains\n  Promise._immediateFn = (typeof setImmediate === 'function' && function (fn) { setImmediate(fn); }) ||\n    function (fn) {\n      setTimeoutFunc(fn, 0);\n    };\n\n  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n    if (typeof console !== 'undefined' && console) {\n      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n    }\n  };\n\n  /**\n   * Set the immediate function to execute callbacks\n   * @param fn {function} Function to execute\n   * @deprecated\n   */\n  Promise._setImmediateFn = function _setImmediateFn(fn) {\n    Promise._immediateFn = fn;\n  };\n\n  /**\n   * Change the function to execute on unhandled rejection\n   * @param {function} fn Function to execute on unhandled rejection\n   * @deprecated\n   */\n  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n    Promise._unhandledRejectionFn = fn;\n  };\n  \n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = Promise;\n  } else if (!root.Promise) {\n    root.Promise = Promise;\n  }\n\n})(this);\n\n},{}],5:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _en = _dereq_(15);\n\nvar _general = _dereq_(27);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar i18n = { lang: 'en', en: _en.EN };\n\ni18n.language = function () {\n\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\targs[_key] = arguments[_key];\n\t}\n\n\tif (args !== null && args !== undefined && args.length) {\n\n\t\tif (typeof args[0] !== 'string') {\n\t\t\tthrow new TypeError('Language code must be a string value');\n\t\t}\n\n\t\tif (!/^[a-z]{2,3}((\\-|_)[a-z]{2})?$/i.test(args[0])) {\n\t\t\tthrow new TypeError('Language code must have format 2-3 letters and. optionally, hyphen, underscore followed by 2 more letters');\n\t\t}\n\n\t\ti18n.lang = args[0];\n\n\t\tif (i18n[args[0]] === undefined) {\n\t\t\targs[1] = args[1] !== null && args[1] !== undefined && _typeof(args[1]) === 'object' ? args[1] : {};\n\t\t\ti18n[args[0]] = !(0, _general.isObjectEmpty)(args[1]) ? args[1] : _en.EN;\n\t\t} else if (args[1] !== null && args[1] !== undefined && _typeof(args[1]) === 'object') {\n\t\t\ti18n[args[0]] = args[1];\n\t\t}\n\t}\n\n\treturn i18n.lang;\n};\n\ni18n.t = function (message) {\n\tvar pluralParam = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\n\tif (typeof message === 'string' && message.length) {\n\n\t\tvar str = void 0,\n\t\t    pluralForm = void 0;\n\n\t\tvar language = i18n.language();\n\n\t\tvar _plural = function _plural(input, number, form) {\n\n\t\t\tif ((typeof input === 'undefined' ? 'undefined' : _typeof(input)) !== 'object' || typeof number !== 'number' || typeof form !== 'number') {\n\t\t\t\treturn input;\n\t\t\t}\n\n\t\t\tvar _pluralForms = function () {\n\t\t\t\treturn [function () {\n\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t}, function () {\n\t\t\t\t\treturn (arguments.length <= 0 ? undefined : arguments[0]) === 1 ? arguments.length <= 1 ? undefined : arguments[1] : arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t}, function () {\n\t\t\t\t\treturn (arguments.length <= 0 ? undefined : arguments[0]) === 0 || (arguments.length <= 0 ? undefined : arguments[0]) === 1 ? arguments.length <= 1 ? undefined : arguments[1] : arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) % 10 === 1 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 !== 11) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) !== 0) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1 || (arguments.length <= 0 ? undefined : arguments[0]) === 11) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 2 || (arguments.length <= 0 ? undefined : arguments[0]) === 12) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) > 2 && (arguments.length <= 0 ? undefined : arguments[0]) < 20) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 0 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 > 0 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 < 20) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) % 10 === 1 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 !== 11) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 10 >= 2 && ((arguments.length <= 0 ? undefined : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 20)) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn [3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) % 10 === 1 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 !== 11) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 10 >= 2 && (arguments.length <= 0 ? undefined : arguments[0]) % 10 <= 4 && ((arguments.length <= 0 ? undefined : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 20)) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) >= 2 && (arguments.length <= 0 ? undefined : arguments[0]) <= 4) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 10 >= 2 && (arguments.length <= 0 ? undefined : arguments[0]) % 10 <= 4 && ((arguments.length <= 0 ? undefined : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 20)) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) % 100 === 1) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 100 === 2) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 100 === 3 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 === 4) {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 2) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) > 2 && (arguments.length <= 0 ? undefined : arguments[0]) < 7) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) > 6 && (arguments.length <= 0 ? undefined : arguments[0]) < 11) {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 5 ? undefined : arguments[5];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 0) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 2) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 3 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 <= 10) {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 11) {\n\t\t\t\t\t\treturn arguments.length <= 5 ? undefined : arguments[5];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 6 ? undefined : arguments[6];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 0 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 > 1 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 < 11) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 100 > 10 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 < 20) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) % 10 === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 10 === 2) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\treturn (arguments.length <= 0 ? undefined : arguments[0]) !== 11 && (arguments.length <= 0 ? undefined : arguments[0]) % 10 === 1 ? arguments.length <= 1 ? undefined : arguments[1] : arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 10 >= 2 && (arguments.length <= 0 ? undefined : arguments[0]) % 10 <= 4 && ((arguments.length <= 0 ? undefined : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 20)) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 2) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) !== 8 && (arguments.length <= 0 ? undefined : arguments[0]) !== 11) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\treturn (arguments.length <= 0 ? undefined : arguments[0]) === 0 ? arguments.length <= 1 ? undefined : arguments[1] : arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 2) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 3) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 0) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}];\n\t\t\t}();\n\n\t\t\treturn _pluralForms[form].apply(null, [number].concat(input));\n\t\t};\n\n\t\tif (i18n[language] !== undefined) {\n\t\t\tstr = i18n[language][message];\n\t\t\tif (pluralParam !== null && typeof pluralParam === 'number') {\n\t\t\t\tpluralForm = i18n[language]['mejs.plural-form'];\n\t\t\t\tstr = _plural.apply(null, [str, pluralParam, pluralForm]);\n\t\t\t}\n\t\t}\n\n\t\tif (!str && i18n.en) {\n\t\t\tstr = i18n.en[message];\n\t\t\tif (pluralParam !== null && typeof pluralParam === 'number') {\n\t\t\t\tpluralForm = i18n.en['mejs.plural-form'];\n\t\t\t\tstr = _plural.apply(null, [str, pluralParam, pluralForm]);\n\t\t\t}\n\t\t}\n\n\t\tstr = str || message;\n\n\t\tif (pluralParam !== null && typeof pluralParam === 'number') {\n\t\t\tstr = str.replace('%1', pluralParam);\n\t\t}\n\n\t\treturn (0, _general.escapeHTML)(str);\n\t}\n\n\treturn message;\n};\n\n_mejs2.default.i18n = i18n;\n\nif (typeof mejsL10n !== 'undefined') {\n\t_mejs2.default.i18n.language(mejsL10n.language, mejsL10n.strings);\n}\n\nexports.default = i18n;\n\n},{\"15\":15,\"27\":27,\"7\":7}],6:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _general = _dereq_(27);\n\nvar _media2 = _dereq_(28);\n\nvar _renderer = _dereq_(8);\n\nvar _constants = _dereq_(25);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MediaElement = function MediaElement(idOrNode, options, sources) {\n\tvar _this = this;\n\n\t_classCallCheck(this, MediaElement);\n\n\tvar t = this;\n\n\tsources = Array.isArray(sources) ? sources : null;\n\n\tt.defaults = {\n\t\trenderers: [],\n\n\t\tfakeNodeName: 'mediaelementwrapper',\n\n\t\tpluginPath: 'build/',\n\n\t\tshimScriptAccess: 'sameDomain'\n\t};\n\n\toptions = Object.assign(t.defaults, options);\n\n\tt.mediaElement = _document2.default.createElement(options.fakeNodeName);\n\n\tvar id = idOrNode,\n\t    error = false;\n\n\tif (typeof idOrNode === 'string') {\n\t\tt.mediaElement.originalNode = _document2.default.getElementById(idOrNode);\n\t} else {\n\t\tt.mediaElement.originalNode = idOrNode;\n\t\tid = idOrNode.id;\n\t}\n\n\tif (t.mediaElement.originalNode === undefined || t.mediaElement.originalNode === null) {\n\t\treturn null;\n\t}\n\n\tt.mediaElement.options = options;\n\tid = id || 'mejs_' + Math.random().toString().slice(2);\n\n\tt.mediaElement.originalNode.setAttribute('id', id + '_from_mejs');\n\n\tvar tagName = t.mediaElement.originalNode.tagName.toLowerCase();\n\tif (['video', 'audio'].indexOf(tagName) > -1 && !t.mediaElement.originalNode.getAttribute('preload')) {\n\t\tt.mediaElement.originalNode.setAttribute('preload', 'none');\n\t}\n\n\tt.mediaElement.originalNode.parentNode.insertBefore(t.mediaElement, t.mediaElement.originalNode);\n\n\tt.mediaElement.appendChild(t.mediaElement.originalNode);\n\n\tvar processURL = function processURL(url, type) {\n\t\tif (_window2.default.location.protocol === 'https:' && url.indexOf('http:') === 0 && _constants.IS_IOS && _mejs2.default.html5media.mediaTypes.indexOf(type) > -1) {\n\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\txhr.onreadystatechange = function () {\n\t\t\t\tif (this.readyState === 4 && this.status === 200) {\n\t\t\t\t\tvar _url = _window2.default.URL || _window2.default.webkitURL,\n\t\t\t\t\t    blobUrl = _url.createObjectURL(this.response);\n\t\t\t\t\tt.mediaElement.originalNode.setAttribute('src', blobUrl);\n\t\t\t\t\treturn blobUrl;\n\t\t\t\t}\n\t\t\t\treturn url;\n\t\t\t};\n\t\t\txhr.open('GET', url);\n\t\t\txhr.responseType = 'blob';\n\t\t\txhr.send();\n\t\t}\n\n\t\treturn url;\n\t};\n\n\tvar mediaFiles = void 0;\n\n\tif (sources !== null) {\n\t\tmediaFiles = sources;\n\t} else if (t.mediaElement.originalNode !== null) {\n\n\t\tmediaFiles = [];\n\n\t\tswitch (t.mediaElement.originalNode.nodeName.toLowerCase()) {\n\t\t\tcase 'iframe':\n\t\t\t\tmediaFiles.push({\n\t\t\t\t\ttype: '',\n\t\t\t\t\tsrc: t.mediaElement.originalNode.getAttribute('src')\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'audio':\n\t\t\tcase 'video':\n\t\t\t\tvar _sources = t.mediaElement.originalNode.children.length,\n\t\t\t\t    nodeSource = t.mediaElement.originalNode.getAttribute('src');\n\n\t\t\t\tif (nodeSource) {\n\t\t\t\t\tvar node = t.mediaElement.originalNode,\n\t\t\t\t\t    type = (0, _media2.formatType)(nodeSource, node.getAttribute('type'));\n\t\t\t\t\tmediaFiles.push({\n\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\tsrc: processURL(nodeSource, type)\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0; i < _sources; i++) {\n\t\t\t\t\tvar n = t.mediaElement.originalNode.children[i];\n\t\t\t\t\tif (n.tagName.toLowerCase() === 'source') {\n\t\t\t\t\t\tvar src = n.getAttribute('src'),\n\t\t\t\t\t\t    _type = (0, _media2.formatType)(src, n.getAttribute('type'));\n\t\t\t\t\t\tmediaFiles.push({ type: _type, src: processURL(src, _type) });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tt.mediaElement.id = id;\n\tt.mediaElement.renderers = {};\n\tt.mediaElement.events = {};\n\tt.mediaElement.promises = [];\n\tt.mediaElement.renderer = null;\n\tt.mediaElement.rendererName = null;\n\n\tt.mediaElement.changeRenderer = function (rendererName, mediaFiles) {\n\n\t\tvar t = _this,\n\t\t    media = Object.keys(mediaFiles[0]).length > 2 ? mediaFiles[0] : mediaFiles[0].src;\n\n\t\tif (t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null && t.mediaElement.renderer.name === rendererName) {\n\t\t\tt.mediaElement.renderer.pause();\n\t\t\tif (t.mediaElement.renderer.stop) {\n\t\t\t\tt.mediaElement.renderer.stop();\n\t\t\t}\n\t\t\tt.mediaElement.renderer.show();\n\t\t\tt.mediaElement.renderer.setSrc(media);\n\t\t\treturn true;\n\t\t}\n\n\t\tif (t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null) {\n\t\t\tt.mediaElement.renderer.pause();\n\t\t\tif (t.mediaElement.renderer.stop) {\n\t\t\t\tt.mediaElement.renderer.stop();\n\t\t\t}\n\t\t\tt.mediaElement.renderer.hide();\n\t\t}\n\n\t\tvar newRenderer = t.mediaElement.renderers[rendererName],\n\t\t    newRendererType = null;\n\n\t\tif (newRenderer !== undefined && newRenderer !== null) {\n\t\t\tnewRenderer.show();\n\t\t\tnewRenderer.setSrc(media);\n\t\t\tt.mediaElement.renderer = newRenderer;\n\t\t\tt.mediaElement.rendererName = rendererName;\n\t\t\treturn true;\n\t\t}\n\n\t\tvar rendererArray = t.mediaElement.options.renderers.length ? t.mediaElement.options.renderers : _renderer.renderer.order;\n\n\t\tfor (var _i = 0, total = rendererArray.length; _i < total; _i++) {\n\t\t\tvar index = rendererArray[_i];\n\n\t\t\tif (index === rendererName) {\n\t\t\t\tvar rendererList = _renderer.renderer.renderers;\n\t\t\t\tnewRendererType = rendererList[index];\n\n\t\t\t\tvar renderOptions = Object.assign(newRendererType.options, t.mediaElement.options);\n\t\t\t\tnewRenderer = newRendererType.create(t.mediaElement, renderOptions, mediaFiles);\n\t\t\t\tnewRenderer.name = rendererName;\n\n\t\t\t\tt.mediaElement.renderers[newRendererType.name] = newRenderer;\n\t\t\t\tt.mediaElement.renderer = newRenderer;\n\t\t\t\tt.mediaElement.rendererName = rendererName;\n\t\t\t\tnewRenderer.show();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tt.mediaElement.setSize = function (width, height) {\n\t\tif (t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null) {\n\t\t\tt.mediaElement.renderer.setSize(width, height);\n\t\t}\n\t};\n\n\tt.mediaElement.generateError = function (message, urlList) {\n\t\tmessage = message || '';\n\t\turlList = Array.isArray(urlList) ? urlList : [];\n\t\tvar event = (0, _general.createEvent)('error', t.mediaElement);\n\t\tevent.message = message;\n\t\tevent.urls = urlList;\n\t\tt.mediaElement.dispatchEvent(event);\n\t\terror = true;\n\t};\n\n\tvar props = _mejs2.default.html5media.properties,\n\t    methods = _mejs2.default.html5media.methods,\n\t    addProperty = function addProperty(obj, name, onGet, onSet) {\n\t\tvar oldValue = obj[name];\n\t\tvar getFn = function getFn() {\n\t\t\treturn onGet.apply(obj, [oldValue]);\n\t\t},\n\t\t    setFn = function setFn(newValue) {\n\t\t\toldValue = onSet.apply(obj, [newValue]);\n\t\t\treturn oldValue;\n\t\t};\n\n\t\tObject.defineProperty(obj, name, {\n\t\t\tget: getFn,\n\t\t\tset: setFn\n\t\t});\n\t},\n\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\tif (propName !== 'src') {\n\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1),\n\t\t\t    getFn = function getFn() {\n\t\t\t\treturn t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null && typeof t.mediaElement.renderer['get' + capName] === 'function' ? t.mediaElement.renderer['get' + capName]() : null;\n\t\t\t},\n\t\t\t    setFn = function setFn(value) {\n\t\t\t\tif (t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null && typeof t.mediaElement.renderer['set' + capName] === 'function') {\n\t\t\t\t\tt.mediaElement.renderer['set' + capName](value);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\taddProperty(t.mediaElement, propName, getFn, setFn);\n\t\t\tt.mediaElement['get' + capName] = getFn;\n\t\t\tt.mediaElement['set' + capName] = setFn;\n\t\t}\n\t},\n\t    getSrc = function getSrc() {\n\t\treturn t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null ? t.mediaElement.renderer.getSrc() : null;\n\t},\n\t    setSrc = function setSrc(value) {\n\t\tvar mediaFiles = [];\n\n\t\tif (typeof value === 'string') {\n\t\t\tmediaFiles.push({\n\t\t\t\tsrc: value,\n\t\t\t\ttype: value ? (0, _media2.getTypeFromFile)(value) : ''\n\t\t\t});\n\t\t} else if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.src !== undefined) {\n\t\t\tvar _src = (0, _media2.absolutizeUrl)(value.src),\n\t\t\t    _type2 = value.type,\n\t\t\t    media = Object.assign(value, {\n\t\t\t\tsrc: _src,\n\t\t\t\ttype: (_type2 === '' || _type2 === null || _type2 === undefined) && _src ? (0, _media2.getTypeFromFile)(_src) : _type2\n\t\t\t});\n\t\t\tmediaFiles.push(media);\n\t\t} else if (Array.isArray(value)) {\n\t\t\tfor (var _i2 = 0, total = value.length; _i2 < total; _i2++) {\n\n\t\t\t\tvar _src2 = (0, _media2.absolutizeUrl)(value[_i2].src),\n\t\t\t\t    _type3 = value[_i2].type,\n\t\t\t\t    _media = Object.assign(value[_i2], {\n\t\t\t\t\tsrc: _src2,\n\t\t\t\t\ttype: (_type3 === '' || _type3 === null || _type3 === undefined) && _src2 ? (0, _media2.getTypeFromFile)(_src2) : _type3\n\t\t\t\t});\n\n\t\t\t\tmediaFiles.push(_media);\n\t\t\t}\n\t\t}\n\n\t\tvar renderInfo = _renderer.renderer.select(mediaFiles, t.mediaElement.options.renderers.length ? t.mediaElement.options.renderers : []),\n\t\t    event = void 0;\n\n\t\tif (!t.mediaElement.paused && !(t.mediaElement.src == null || t.mediaElement.src === '')) {\n\t\t\tt.mediaElement.pause();\n\t\t\tevent = (0, _general.createEvent)('pause', t.mediaElement);\n\t\t\tt.mediaElement.dispatchEvent(event);\n\t\t}\n\t\tt.mediaElement.originalNode.src = mediaFiles[0].src || '';\n\n\t\tif (renderInfo === null && mediaFiles[0].src) {\n\t\t\tt.mediaElement.generateError('No renderer found', mediaFiles);\n\t\t\treturn;\n\t\t}\n\n\t\tvar shouldChangeRenderer = !(mediaFiles[0].src == null || mediaFiles[0].src === '');\n\t\treturn shouldChangeRenderer ? t.mediaElement.changeRenderer(renderInfo.rendererName, mediaFiles) : null;\n\t},\n\t    triggerAction = function triggerAction(methodName, args) {\n\t\ttry {\n\t\t\tif (methodName === 'play' && (t.mediaElement.rendererName === 'native_dash' || t.mediaElement.rendererName === 'native_hls' || t.mediaElement.rendererName === 'vimeo_iframe')) {\n\t\t\t\tvar response = t.mediaElement.renderer[methodName](args);\n\t\t\t\tif (response && typeof response.then === 'function') {\n\t\t\t\t\tresponse.catch(function () {\n\t\t\t\t\t\tif (t.mediaElement.paused) {\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar tmpResponse = t.mediaElement.renderer.play();\n\t\t\t\t\t\t\t\tif (tmpResponse !== undefined) {\n\t\t\t\t\t\t\t\t\ttmpResponse.catch(function () {\n\t\t\t\t\t\t\t\t\t\tif (!t.mediaElement.renderer.paused) {\n\t\t\t\t\t\t\t\t\t\t\tt.mediaElement.renderer.pause();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 150);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tt.mediaElement.renderer[methodName](args);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tt.mediaElement.generateError(e, mediaFiles);\n\t\t}\n\t},\n\t    assignMethods = function assignMethods(methodName) {\n\t\tt.mediaElement[methodName] = function () {\n\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\targs[_key] = arguments[_key];\n\t\t\t}\n\n\t\t\tif (t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null && typeof t.mediaElement.renderer[methodName] === 'function') {\n\t\t\t\tif (t.mediaElement.promises.length) {\n\t\t\t\t\tPromise.all(t.mediaElement.promises).then(function () {\n\t\t\t\t\t\ttriggerAction(methodName, args);\n\t\t\t\t\t}).catch(function (e) {\n\t\t\t\t\t\tt.mediaElement.generateError(e, mediaFiles);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttriggerAction(methodName, args);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t};\n\n\taddProperty(t.mediaElement, 'src', getSrc, setSrc);\n\tt.mediaElement.getSrc = getSrc;\n\tt.mediaElement.setSrc = setSrc;\n\n\tfor (var _i3 = 0, total = props.length; _i3 < total; _i3++) {\n\t\tassignGettersSetters(props[_i3]);\n\t}\n\n\tfor (var _i4 = 0, _total = methods.length; _i4 < _total; _i4++) {\n\t\tassignMethods(methods[_i4]);\n\t}\n\n\tt.mediaElement.addEventListener = function (eventName, callback) {\n\t\tt.mediaElement.events[eventName] = t.mediaElement.events[eventName] || [];\n\n\t\tt.mediaElement.events[eventName].push(callback);\n\t};\n\tt.mediaElement.removeEventListener = function (eventName, callback) {\n\t\tif (!eventName) {\n\t\t\tt.mediaElement.events = {};\n\t\t\treturn true;\n\t\t}\n\n\t\tvar callbacks = t.mediaElement.events[eventName];\n\n\t\tif (!callbacks) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (!callback) {\n\t\t\tt.mediaElement.events[eventName] = [];\n\t\t\treturn true;\n\t\t}\n\n\t\tfor (var _i5 = 0; _i5 < callbacks.length; _i5++) {\n\t\t\tif (callbacks[_i5] === callback) {\n\t\t\t\tt.mediaElement.events[eventName].splice(_i5, 1);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\tt.mediaElement.dispatchEvent = function (event) {\n\t\tvar callbacks = t.mediaElement.events[event.type];\n\t\tif (callbacks) {\n\t\t\tfor (var _i6 = 0; _i6 < callbacks.length; _i6++) {\n\t\t\t\tcallbacks[_i6].apply(null, [event]);\n\t\t\t}\n\t\t}\n\t};\n\n\tt.mediaElement.destroy = function () {\n\t\tvar mediaElement = t.mediaElement.originalNode.cloneNode(true);\n\t\tvar wrapper = t.mediaElement.parentElement;\n\t\tmediaElement.removeAttribute('id');\n\t\tmediaElement.remove();\n\t\tt.mediaElement.remove();\n\t\twrapper.appendChild(mediaElement);\n\t};\n\n\tif (mediaFiles.length) {\n\t\tt.mediaElement.src = mediaFiles;\n\t}\n\n\tif (t.mediaElement.promises.length) {\n\t\tPromise.all(t.mediaElement.promises).then(function () {\n\t\t\tif (t.mediaElement.options.success) {\n\t\t\t\tt.mediaElement.options.success(t.mediaElement, t.mediaElement.originalNode);\n\t\t\t}\n\t\t}).catch(function () {\n\t\t\tif (error && t.mediaElement.options.error) {\n\t\t\t\tt.mediaElement.options.error(t.mediaElement, t.mediaElement.originalNode);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tif (t.mediaElement.options.success) {\n\t\t\tt.mediaElement.options.success(t.mediaElement, t.mediaElement.originalNode);\n\t\t}\n\n\t\tif (error && t.mediaElement.options.error) {\n\t\t\tt.mediaElement.options.error(t.mediaElement, t.mediaElement.originalNode);\n\t\t}\n\t}\n\n\treturn t.mediaElement;\n};\n\n_window2.default.MediaElement = MediaElement;\n_mejs2.default.MediaElement = MediaElement;\n\nexports.default = MediaElement;\n\n},{\"2\":2,\"25\":25,\"27\":27,\"28\":28,\"3\":3,\"7\":7,\"8\":8}],7:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mejs = {};\n\nmejs.version = '4.2.16';\n\nmejs.html5media = {\n\tproperties: ['volume', 'src', 'currentTime', 'muted', 'duration', 'paused', 'ended', 'buffered', 'error', 'networkState', 'readyState', 'seeking', 'seekable', 'currentSrc', 'preload', 'bufferedBytes', 'bufferedTime', 'initialTime', 'startOffsetTime', 'defaultPlaybackRate', 'playbackRate', 'played', 'autoplay', 'loop', 'controls'],\n\treadOnlyProperties: ['duration', 'paused', 'ended', 'buffered', 'error', 'networkState', 'readyState', 'seeking', 'seekable'],\n\n\tmethods: ['load', 'play', 'pause', 'canPlayType'],\n\n\tevents: ['loadstart', 'durationchange', 'loadedmetadata', 'loadeddata', 'progress', 'canplay', 'canplaythrough', 'suspend', 'abort', 'error', 'emptied', 'stalled', 'play', 'playing', 'pause', 'waiting', 'seeking', 'seeked', 'timeupdate', 'ended', 'ratechange', 'volumechange'],\n\n\tmediaTypes: ['audio/mp3', 'audio/ogg', 'audio/oga', 'audio/wav', 'audio/x-wav', 'audio/wave', 'audio/x-pn-wav', 'audio/mpeg', 'audio/mp4', 'video/mp4', 'video/webm', 'video/ogg', 'video/ogv']\n};\n\n_window2.default.mejs = mejs;\n\nexports.default = mejs;\n\n},{\"3\":3}],8:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.renderer = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Renderer = function () {\n\tfunction Renderer() {\n\t\t_classCallCheck(this, Renderer);\n\n\t\tthis.renderers = {};\n\t\tthis.order = [];\n\t}\n\n\t_createClass(Renderer, [{\n\t\tkey: 'add',\n\t\tvalue: function add(renderer) {\n\t\t\tif (renderer.name === undefined) {\n\t\t\t\tthrow new TypeError('renderer must contain at least `name` property');\n\t\t\t}\n\n\t\t\tthis.renderers[renderer.name] = renderer;\n\t\t\tthis.order.push(renderer.name);\n\t\t}\n\t}, {\n\t\tkey: 'select',\n\t\tvalue: function select(mediaFiles) {\n\t\t\tvar renderers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n\t\t\tvar renderersLength = renderers.length;\n\n\t\t\trenderers = renderers.length ? renderers : this.order;\n\n\t\t\tif (!renderersLength) {\n\t\t\t\tvar rendererIndicator = [/^(html5|native)/i, /^flash/i, /iframe$/i],\n\t\t\t\t    rendererRanking = function rendererRanking(renderer) {\n\t\t\t\t\tfor (var i = 0, total = rendererIndicator.length; i < total; i++) {\n\t\t\t\t\t\tif (rendererIndicator[i].test(renderer)) {\n\t\t\t\t\t\t\treturn i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn rendererIndicator.length;\n\t\t\t\t};\n\n\t\t\t\trenderers.sort(function (a, b) {\n\t\t\t\t\treturn rendererRanking(a) - rendererRanking(b);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (var i = 0, total = renderers.length; i < total; i++) {\n\t\t\t\tvar key = renderers[i],\n\t\t\t\t    _renderer = this.renderers[key];\n\n\t\t\t\tif (_renderer !== null && _renderer !== undefined) {\n\t\t\t\t\tfor (var j = 0, jl = mediaFiles.length; j < jl; j++) {\n\t\t\t\t\t\tif (typeof _renderer.canPlayType === 'function' && typeof mediaFiles[j].type === 'string' && _renderer.canPlayType(mediaFiles[j].type)) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\trendererName: _renderer.name,\n\t\t\t\t\t\t\t\tsrc: mediaFiles[j].src\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\t}, {\n\t\tkey: 'order',\n\t\tset: function set(order) {\n\t\t\tif (!Array.isArray(order)) {\n\t\t\t\tthrow new TypeError('order must be an array of strings.');\n\t\t\t}\n\n\t\t\tthis._order = order;\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this._order;\n\t\t}\n\t}, {\n\t\tkey: 'renderers',\n\t\tset: function set(renderers) {\n\t\t\tif (renderers !== null && (typeof renderers === 'undefined' ? 'undefined' : _typeof(renderers)) !== 'object') {\n\t\t\t\tthrow new TypeError('renderers must be an array of objects.');\n\t\t\t}\n\n\t\t\tthis._renderers = renderers;\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this._renderers;\n\t\t}\n\t}]);\n\n\treturn Renderer;\n}();\n\nvar renderer = exports.renderer = new Renderer();\n\n_mejs2.default.Renderers = renderer;\n\n},{\"7\":7}],9:[function(_dereq_,module,exports){\n'use strict';\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _constants = _dereq_(25);\n\nvar Features = _interopRequireWildcard(_constants);\n\nvar _general = _dereq_(27);\n\nvar _dom = _dereq_(26);\n\nvar _media = _dereq_(28);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tusePluginFullScreen: true,\n\n\tfullscreenText: null,\n\n\tuseFakeFullscreen: false\n});\n\nObject.assign(_player2.default.prototype, {\n\tisFullScreen: false,\n\n\tisNativeFullScreen: false,\n\n\tisInIframe: false,\n\n\tisPluginClickThroughCreated: false,\n\n\tfullscreenMode: '',\n\n\tcontainerSizeTimeout: null,\n\n\tbuildfullscreen: function buildfullscreen(player) {\n\t\tif (!player.isVideo) {\n\t\t\treturn;\n\t\t}\n\n\t\tplayer.isInIframe = _window2.default.location !== _window2.default.parent.location;\n\n\t\tplayer.detectFullscreenMode();\n\n\t\tvar t = this,\n\t\t    fullscreenTitle = (0, _general.isString)(t.options.fullscreenText) ? t.options.fullscreenText : _i18n2.default.t('mejs.fullscreen'),\n\t\t    fullscreenBtn = _document2.default.createElement('div');\n\n\t\tfullscreenBtn.className = t.options.classPrefix + 'button ' + t.options.classPrefix + 'fullscreen-button';\n\t\tfullscreenBtn.innerHTML = '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + fullscreenTitle + '\" aria-label=\"' + fullscreenTitle + '\" tabindex=\"0\"></button>';\n\t\tt.addControlElement(fullscreenBtn, 'fullscreen');\n\n\t\tfullscreenBtn.addEventListener('click', function () {\n\t\t\tvar isFullScreen = Features.HAS_TRUE_NATIVE_FULLSCREEN && Features.IS_FULLSCREEN || player.isFullScreen;\n\n\t\t\tif (isFullScreen) {\n\t\t\t\tplayer.exitFullScreen();\n\t\t\t} else {\n\t\t\t\tplayer.enterFullScreen();\n\t\t\t}\n\t\t});\n\n\t\tplayer.fullscreenBtn = fullscreenBtn;\n\n\t\tt.options.keyActions.push({\n\t\t\tkeys: [70],\n\t\t\taction: function action(player, media, key, event) {\n\t\t\t\tif (!event.ctrlKey) {\n\t\t\t\t\tif (typeof player.enterFullScreen !== 'undefined') {\n\t\t\t\t\t\tif (player.isFullScreen) {\n\t\t\t\t\t\t\tplayer.exitFullScreen();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tplayer.enterFullScreen();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tt.exitFullscreenCallback = function (e) {\n\t\t\tvar key = e.which || e.keyCode || 0;\n\t\t\tif (t.options.enableKeyboard && key === 27 && (Features.HAS_TRUE_NATIVE_FULLSCREEN && Features.IS_FULLSCREEN || t.isFullScreen)) {\n\t\t\t\tplayer.exitFullScreen();\n\t\t\t}\n\t\t};\n\n\t\tt.globalBind('keydown', t.exitFullscreenCallback);\n\n\t\tt.normalHeight = 0;\n\t\tt.normalWidth = 0;\n\n\t\tif (Features.HAS_TRUE_NATIVE_FULLSCREEN) {\n\t\t\tvar fullscreenChanged = function fullscreenChanged() {\n\t\t\t\tif (player.isFullScreen) {\n\t\t\t\t\tif (Features.isFullScreen()) {\n\t\t\t\t\t\tplayer.isNativeFullScreen = true;\n\n\t\t\t\t\t\tplayer.setControlsSize();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tplayer.isNativeFullScreen = false;\n\n\t\t\t\t\t\tplayer.exitFullScreen();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tplayer.globalBind(Features.FULLSCREEN_EVENT_NAME, fullscreenChanged);\n\t\t}\n\t},\n\tcleanfullscreen: function cleanfullscreen(player) {\n\t\tplayer.exitFullScreen();\n\t\tplayer.globalUnbind('keydown', player.exitFullscreenCallback);\n\t},\n\tdetectFullscreenMode: function detectFullscreenMode() {\n\t\tvar t = this,\n\t\t    isNative = t.media.rendererName !== null && /(native|html5)/i.test(t.media.rendererName);\n\n\t\tvar mode = '';\n\n\t\tif (Features.HAS_TRUE_NATIVE_FULLSCREEN && isNative) {\n\t\t\tmode = 'native-native';\n\t\t} else if (Features.HAS_TRUE_NATIVE_FULLSCREEN && !isNative) {\n\t\t\tmode = 'plugin-native';\n\t\t} else if (t.usePluginFullScreen && Features.SUPPORT_POINTER_EVENTS) {\n\t\t\tmode = 'plugin-click';\n\t\t}\n\n\t\tt.fullscreenMode = mode;\n\t\treturn mode;\n\t},\n\tenterFullScreen: function enterFullScreen() {\n\t\tvar t = this,\n\t\t    isNative = t.media.rendererName !== null && /(html5|native)/i.test(t.media.rendererName),\n\t\t    containerStyles = getComputedStyle(t.getElement(t.container));\n\n\t\tif (!t.isVideo) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (t.options.useFakeFullscreen === false && Features.IS_IOS && Features.HAS_IOS_FULLSCREEN && typeof t.media.originalNode.webkitEnterFullscreen === 'function' && t.media.originalNode.canPlayType((0, _media.getTypeFromFile)(t.media.getSrc()))) {\n\t\t\tt.media.originalNode.webkitEnterFullscreen();\n\t\t\treturn;\n\t\t}\n\n\t\t(0, _dom.addClass)(_document2.default.documentElement, t.options.classPrefix + 'fullscreen');\n\t\t(0, _dom.addClass)(t.getElement(t.container), t.options.classPrefix + 'container-fullscreen');\n\n\t\tt.normalHeight = parseFloat(containerStyles.height);\n\t\tt.normalWidth = parseFloat(containerStyles.width);\n\n\t\tif (t.fullscreenMode === 'native-native' || t.fullscreenMode === 'plugin-native') {\n\t\t\tFeatures.requestFullScreen(t.getElement(t.container));\n\n\t\t\tif (t.isInIframe) {\n\t\t\t\tsetTimeout(function checkFullscreen() {\n\n\t\t\t\t\tif (t.isNativeFullScreen) {\n\t\t\t\t\t\tvar percentErrorMargin = 0.002,\n\t\t\t\t\t\t    windowWidth = _window2.default.innerWidth || _document2.default.documentElement.clientWidth || _document2.default.body.clientWidth,\n\t\t\t\t\t\t    screenWidth = screen.width,\n\t\t\t\t\t\t    absDiff = Math.abs(screenWidth - windowWidth),\n\t\t\t\t\t\t    marginError = screenWidth * percentErrorMargin;\n\n\t\t\t\t\t\tif (absDiff > marginError) {\n\t\t\t\t\t\t\tt.exitFullScreen();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetTimeout(checkFullscreen, 500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, 1000);\n\t\t\t}\n\t\t}\n\n\t\tt.getElement(t.container).style.width = '100%';\n\t\tt.getElement(t.container).style.height = '100%';\n\n\t\tt.containerSizeTimeout = setTimeout(function () {\n\t\t\tt.getElement(t.container).style.width = '100%';\n\t\t\tt.getElement(t.container).style.height = '100%';\n\t\t\tt.setControlsSize();\n\t\t}, 500);\n\n\t\tif (isNative) {\n\t\t\tt.node.style.width = '100%';\n\t\t\tt.node.style.height = '100%';\n\t\t} else {\n\t\t\tvar elements = t.getElement(t.container).querySelectorAll('embed, object, video'),\n\t\t\t    _total = elements.length;\n\t\t\tfor (var i = 0; i < _total; i++) {\n\t\t\t\telements[i].style.width = '100%';\n\t\t\t\telements[i].style.height = '100%';\n\t\t\t}\n\t\t}\n\n\t\tif (t.options.setDimensions && typeof t.media.setSize === 'function') {\n\t\t\tt.media.setSize(screen.width, screen.height);\n\t\t}\n\n\t\tvar layers = t.getElement(t.layers).children,\n\t\t    total = layers.length;\n\t\tfor (var _i = 0; _i < total; _i++) {\n\t\t\tlayers[_i].style.width = '100%';\n\t\t\tlayers[_i].style.height = '100%';\n\t\t}\n\n\t\tif (t.fullscreenBtn) {\n\t\t\t(0, _dom.removeClass)(t.fullscreenBtn, t.options.classPrefix + 'fullscreen');\n\t\t\t(0, _dom.addClass)(t.fullscreenBtn, t.options.classPrefix + 'unfullscreen');\n\t\t}\n\n\t\tt.setControlsSize();\n\t\tt.isFullScreen = true;\n\n\t\tvar zoomFactor = Math.min(screen.width / t.width, screen.height / t.height),\n\t\t    captionText = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'captions-text');\n\t\tif (captionText) {\n\t\t\tcaptionText.style.fontSize = zoomFactor * 100 + '%';\n\t\t\tcaptionText.style.lineHeight = 'normal';\n\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'captions-position').style.bottom = (screen.height - t.normalHeight) / 2 - t.getElement(t.controls).offsetHeight / 2 + zoomFactor + 15 + 'px';\n\t\t}\n\t\tvar event = (0, _general.createEvent)('enteredfullscreen', t.getElement(t.container));\n\t\tt.getElement(t.container).dispatchEvent(event);\n\t},\n\texitFullScreen: function exitFullScreen() {\n\t\tvar t = this,\n\t\t    isNative = t.media.rendererName !== null && /(native|html5)/i.test(t.media.rendererName);\n\n\t\tif (!t.isVideo) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearTimeout(t.containerSizeTimeout);\n\n\t\tif (Features.HAS_TRUE_NATIVE_FULLSCREEN && (Features.IS_FULLSCREEN || t.isFullScreen)) {\n\t\t\tFeatures.cancelFullScreen();\n\t\t}\n\n\t\t(0, _dom.removeClass)(_document2.default.documentElement, t.options.classPrefix + 'fullscreen');\n\t\t(0, _dom.removeClass)(t.getElement(t.container), t.options.classPrefix + 'container-fullscreen');\n\n\t\tif (t.options.setDimensions) {\n\t\t\tt.getElement(t.container).style.width = t.normalWidth + 'px';\n\t\t\tt.getElement(t.container).style.height = t.normalHeight + 'px';\n\n\t\t\tif (isNative) {\n\t\t\t\tt.node.style.width = t.normalWidth + 'px';\n\t\t\t\tt.node.style.height = t.normalHeight + 'px';\n\t\t\t} else {\n\t\t\t\tvar elements = t.getElement(t.container).querySelectorAll('embed, object, video'),\n\t\t\t\t    _total2 = elements.length;\n\t\t\t\tfor (var i = 0; i < _total2; i++) {\n\t\t\t\t\telements[i].style.width = t.normalWidth + 'px';\n\t\t\t\t\telements[i].style.height = t.normalHeight + 'px';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof t.media.setSize === 'function') {\n\t\t\t\tt.media.setSize(t.normalWidth, t.normalHeight);\n\t\t\t}\n\n\t\t\tvar layers = t.getElement(t.layers).children,\n\t\t\t    total = layers.length;\n\t\t\tfor (var _i2 = 0; _i2 < total; _i2++) {\n\t\t\t\tlayers[_i2].style.width = t.normalWidth + 'px';\n\t\t\t\tlayers[_i2].style.height = t.normalHeight + 'px';\n\t\t\t}\n\t\t}\n\n\t\tif (t.fullscreenBtn) {\n\t\t\t(0, _dom.removeClass)(t.fullscreenBtn, t.options.classPrefix + 'unfullscreen');\n\t\t\t(0, _dom.addClass)(t.fullscreenBtn, t.options.classPrefix + 'fullscreen');\n\t\t}\n\n\t\tt.setControlsSize();\n\t\tt.isFullScreen = false;\n\n\t\tvar captionText = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'captions-text');\n\t\tif (captionText) {\n\t\t\tcaptionText.style.fontSize = '';\n\t\t\tcaptionText.style.lineHeight = '';\n\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'captions-position').style.bottom = '';\n\t\t}\n\t\tvar event = (0, _general.createEvent)('exitedfullscreen', t.getElement(t.container));\n\t\tt.getElement(t.container).dispatchEvent(event);\n\t}\n});\n\n},{\"16\":16,\"2\":2,\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"5\":5}],10:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _general = _dereq_(27);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tplayText: null,\n\n\tpauseText: null\n});\n\nObject.assign(_player2.default.prototype, {\n\tbuildplaypause: function buildplaypause(player, controls, layers, media) {\n\t\tvar t = this,\n\t\t    op = t.options,\n\t\t    playTitle = (0, _general.isString)(op.playText) ? op.playText : _i18n2.default.t('mejs.play'),\n\t\t    pauseTitle = (0, _general.isString)(op.pauseText) ? op.pauseText : _i18n2.default.t('mejs.pause'),\n\t\t    play = _document2.default.createElement('div');\n\n\t\tplay.className = t.options.classPrefix + 'button ' + t.options.classPrefix + 'playpause-button ' + t.options.classPrefix + 'play';\n\t\tplay.innerHTML = '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + playTitle + '\" aria-label=\"' + pauseTitle + '\" tabindex=\"0\"></button>';\n\t\tplay.addEventListener('click', function () {\n\t\t\tif (t.paused) {\n\t\t\t\tt.play();\n\t\t\t} else {\n\t\t\t\tt.pause();\n\t\t\t}\n\t\t});\n\n\t\tvar playBtn = play.querySelector('button');\n\t\tt.addControlElement(play, 'playpause');\n\n\t\tfunction togglePlayPause(which) {\n\t\t\tif ('play' === which) {\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'play');\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'replay');\n\t\t\t\t(0, _dom.addClass)(play, t.options.classPrefix + 'pause');\n\t\t\t\tplayBtn.setAttribute('title', pauseTitle);\n\t\t\t\tplayBtn.setAttribute('aria-label', pauseTitle);\n\t\t\t} else {\n\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'pause');\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'replay');\n\t\t\t\t(0, _dom.addClass)(play, t.options.classPrefix + 'play');\n\t\t\t\tplayBtn.setAttribute('title', playTitle);\n\t\t\t\tplayBtn.setAttribute('aria-label', playTitle);\n\t\t\t}\n\t\t}\n\n\t\ttogglePlayPause('pse');\n\n\t\tmedia.addEventListener('loadedmetadata', function () {\n\t\t\tif (media.rendererName.indexOf('flash') === -1) {\n\t\t\t\ttogglePlayPause('pse');\n\t\t\t}\n\t\t});\n\t\tmedia.addEventListener('play', function () {\n\t\t\ttogglePlayPause('play');\n\t\t});\n\t\tmedia.addEventListener('playing', function () {\n\t\t\ttogglePlayPause('play');\n\t\t});\n\t\tmedia.addEventListener('pause', function () {\n\t\t\ttogglePlayPause('pse');\n\t\t});\n\t\tmedia.addEventListener('ended', function () {\n\t\t\tif (!player.options.loop) {\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'pause');\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'play');\n\t\t\t\t(0, _dom.addClass)(play, t.options.classPrefix + 'replay');\n\t\t\t\tplayBtn.setAttribute('title', playTitle);\n\t\t\t\tplayBtn.setAttribute('aria-label', playTitle);\n\t\t\t}\n\t\t});\n\t}\n});\n\n},{\"16\":16,\"2\":2,\"26\":26,\"27\":27,\"5\":5}],11:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _constants = _dereq_(25);\n\nvar _time = _dereq_(30);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tenableProgressTooltip: true,\n\n\tuseSmoothHover: true,\n\n\tforceLive: false\n});\n\nObject.assign(_player2.default.prototype, {\n\tbuildprogress: function buildprogress(player, controls, layers, media) {\n\n\t\tvar lastKeyPressTime = 0,\n\t\t    mouseIsDown = false,\n\t\t    startedPaused = false;\n\n\t\tvar t = this,\n\t\t    autoRewindInitial = player.options.autoRewind,\n\t\t    tooltip = player.options.enableProgressTooltip ? '<span class=\"' + t.options.classPrefix + 'time-float\">' + ('<span class=\"' + t.options.classPrefix + 'time-float-current\">00:00</span>') + ('<span class=\"' + t.options.classPrefix + 'time-float-corner\"></span>') + '</span>' : '',\n\t\t    rail = _document2.default.createElement('div');\n\n\t\trail.className = t.options.classPrefix + 'time-rail';\n\t\trail.innerHTML = '<span class=\"' + t.options.classPrefix + 'time-total ' + t.options.classPrefix + 'time-slider\">' + ('<span class=\"' + t.options.classPrefix + 'time-buffering\"></span>') + ('<span class=\"' + t.options.classPrefix + 'time-loaded\"></span>') + ('<span class=\"' + t.options.classPrefix + 'time-current\"></span>') + ('<span class=\"' + t.options.classPrefix + 'time-hovered no-hover\"></span>') + ('<span class=\"' + t.options.classPrefix + 'time-handle\"><span class=\"' + t.options.classPrefix + 'time-handle-content\"></span></span>') + ('' + tooltip) + '</span>';\n\n\t\tt.addControlElement(rail, 'progress');\n\n\t\tt.options.keyActions.push({\n\t\t\tkeys: [37, 227],\n\t\t\taction: function action(player) {\n\t\t\t\tif (!isNaN(player.duration) && player.duration > 0) {\n\t\t\t\t\tif (player.isVideo) {\n\t\t\t\t\t\tplayer.showControls();\n\t\t\t\t\t\tplayer.startControlsTimer();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar timeSlider = player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'time-total');\n\t\t\t\t\tif (timeSlider) {\n\t\t\t\t\t\ttimeSlider.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar newTime = Math.max(player.currentTime - player.options.defaultSeekBackwardInterval(player), 0);\n\n\t\t\t\t\tif (!player.paused) {\n\t\t\t\t\t\tplayer.pause();\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tplayer.setCurrentTime(newTime);\n\t\t\t\t\t}, 0);\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tplayer.play();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkeys: [39, 228],\n\t\t\taction: function action(player) {\n\n\t\t\t\tif (!isNaN(player.duration) && player.duration > 0) {\n\t\t\t\t\tif (player.isVideo) {\n\t\t\t\t\t\tplayer.showControls();\n\t\t\t\t\t\tplayer.startControlsTimer();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar timeSlider = player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'time-total');\n\t\t\t\t\tif (timeSlider) {\n\t\t\t\t\t\ttimeSlider.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar newTime = Math.min(player.currentTime + player.options.defaultSeekForwardInterval(player), player.duration);\n\n\t\t\t\t\tif (!player.paused) {\n\t\t\t\t\t\tplayer.pause();\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tplayer.setCurrentTime(newTime);\n\t\t\t\t\t}, 0);\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tplayer.play();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tt.rail = controls.querySelector('.' + t.options.classPrefix + 'time-rail');\n\t\tt.total = controls.querySelector('.' + t.options.classPrefix + 'time-total');\n\t\tt.loaded = controls.querySelector('.' + t.options.classPrefix + 'time-loaded');\n\t\tt.current = controls.querySelector('.' + t.options.classPrefix + 'time-current');\n\t\tt.handle = controls.querySelector('.' + t.options.classPrefix + 'time-handle');\n\t\tt.timefloat = controls.querySelector('.' + t.options.classPrefix + 'time-float');\n\t\tt.timefloatcurrent = controls.querySelector('.' + t.options.classPrefix + 'time-float-current');\n\t\tt.slider = controls.querySelector('.' + t.options.classPrefix + 'time-slider');\n\t\tt.hovered = controls.querySelector('.' + t.options.classPrefix + 'time-hovered');\n\t\tt.buffer = controls.querySelector('.' + t.options.classPrefix + 'time-buffering');\n\t\tt.newTime = 0;\n\t\tt.forcedHandlePause = false;\n\t\tt.setTransformStyle = function (element, value) {\n\t\t\telement.style.transform = value;\n\t\t\telement.style.webkitTransform = value;\n\t\t\telement.style.MozTransform = value;\n\t\t\telement.style.msTransform = value;\n\t\t\telement.style.OTransform = value;\n\t\t};\n\n\t\tt.buffer.style.display = 'none';\n\n\t\tvar handleMouseMove = function handleMouseMove(e) {\n\t\t\tvar totalStyles = getComputedStyle(t.total),\n\t\t\t    offsetStyles = (0, _dom.offset)(t.total),\n\t\t\t    width = t.total.offsetWidth,\n\t\t\t    transform = function () {\n\t\t\t\tif (totalStyles.webkitTransform !== undefined) {\n\t\t\t\t\treturn 'webkitTransform';\n\t\t\t\t} else if (totalStyles.mozTransform !== undefined) {\n\t\t\t\t\treturn 'mozTransform ';\n\t\t\t\t} else if (totalStyles.oTransform !== undefined) {\n\t\t\t\t\treturn 'oTransform';\n\t\t\t\t} else if (totalStyles.msTransform !== undefined) {\n\t\t\t\t\treturn 'msTransform';\n\t\t\t\t} else {\n\t\t\t\t\treturn 'transform';\n\t\t\t\t}\n\t\t\t}(),\n\t\t\t    cssMatrix = function () {\n\t\t\t\tif ('WebKitCSSMatrix' in window) {\n\t\t\t\t\treturn 'WebKitCSSMatrix';\n\t\t\t\t} else if ('MSCSSMatrix' in window) {\n\t\t\t\t\treturn 'MSCSSMatrix';\n\t\t\t\t} else if ('CSSMatrix' in window) {\n\t\t\t\t\treturn 'CSSMatrix';\n\t\t\t\t}\n\t\t\t}();\n\n\t\t\tvar percentage = 0,\n\t\t\t    leftPos = 0,\n\t\t\t    pos = 0,\n\t\t\t    x = void 0;\n\n\t\t\tif (e.originalEvent && e.originalEvent.changedTouches) {\n\t\t\t\tx = e.originalEvent.changedTouches[0].pageX;\n\t\t\t} else if (e.changedTouches) {\n\t\t\t\tx = e.changedTouches[0].pageX;\n\t\t\t} else {\n\t\t\t\tx = e.pageX;\n\t\t\t}\n\n\t\t\tif (t.getDuration()) {\n\t\t\t\tif (x < offsetStyles.left) {\n\t\t\t\t\tx = offsetStyles.left;\n\t\t\t\t} else if (x > width + offsetStyles.left) {\n\t\t\t\t\tx = width + offsetStyles.left;\n\t\t\t\t}\n\n\t\t\t\tpos = x - offsetStyles.left;\n\t\t\t\tpercentage = pos / width;\n\t\t\t\tt.newTime = percentage * t.getDuration();\n\n\t\t\t\tif (mouseIsDown && t.getCurrentTime() !== null && t.newTime.toFixed(4) !== t.getCurrentTime().toFixed(4)) {\n\t\t\t\t\tt.setCurrentRailHandle(t.newTime);\n\t\t\t\t\tt.updateCurrent(t.newTime);\n\t\t\t\t}\n\n\t\t\t\tif (!_constants.IS_IOS && !_constants.IS_ANDROID) {\n\t\t\t\t\tif (pos < 0) {\n\t\t\t\t\t\tpos = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (t.options.useSmoothHover && cssMatrix !== null && typeof window[cssMatrix] !== 'undefined') {\n\t\t\t\t\t\tvar matrix = new window[cssMatrix](getComputedStyle(t.handle)[transform]),\n\t\t\t\t\t\t    handleLocation = matrix.m41,\n\t\t\t\t\t\t    hoverScaleX = pos / parseFloat(getComputedStyle(t.total).width) - handleLocation / parseFloat(getComputedStyle(t.total).width);\n\n\t\t\t\t\t\tt.hovered.style.left = handleLocation + 'px';\n\t\t\t\t\t\tt.setTransformStyle(t.hovered, 'scaleX(' + hoverScaleX + ')');\n\t\t\t\t\t\tt.hovered.setAttribute('pos', pos);\n\n\t\t\t\t\t\tif (hoverScaleX >= 0) {\n\t\t\t\t\t\t\t(0, _dom.removeClass)(t.hovered, 'negative');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t(0, _dom.addClass)(t.hovered, 'negative');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.timefloat) {\n\t\t\t\t\t\tvar half = t.timefloat.offsetWidth / 2,\n\t\t\t\t\t\t    offsetContainer = mejs.Utils.offset(t.getElement(t.container)),\n\t\t\t\t\t\t    tooltipStyles = getComputedStyle(t.timefloat);\n\n\t\t\t\t\t\tif (x - offsetContainer.left < t.timefloat.offsetWidth) {\n\t\t\t\t\t\t\tleftPos = half;\n\t\t\t\t\t\t} else if (x - offsetContainer.left >= t.getElement(t.container).offsetWidth - half) {\n\t\t\t\t\t\t\tleftPos = t.total.offsetWidth - half;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tleftPos = pos;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ((0, _dom.hasClass)(t.getElement(t.container), t.options.classPrefix + 'long-video')) {\n\t\t\t\t\t\t\tleftPos += parseFloat(tooltipStyles.marginLeft) / 2 + t.timefloat.offsetWidth / 2;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tt.timefloat.style.left = leftPos + 'px';\n\t\t\t\t\t\tt.timefloatcurrent.innerHTML = (0, _time.secondsToTimeCode)(t.newTime, player.options.alwaysShowHours, player.options.showTimecodeFrameCount, player.options.framesPerSecond, player.options.secondsDecimalLength, player.options.timeFormat);\n\t\t\t\t\t\tt.timefloat.style.display = 'block';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (!_constants.IS_IOS && !_constants.IS_ANDROID && t.timefloat) {\n\t\t\t\tleftPos = t.timefloat.offsetWidth + width >= t.getElement(t.container).offsetWidth ? t.timefloat.offsetWidth / 2 : 0;\n\t\t\t\tt.timefloat.style.left = leftPos + 'px';\n\t\t\t\tt.timefloat.style.left = leftPos + 'px';\n\t\t\t\tt.timefloat.style.display = 'block';\n\t\t\t}\n\t\t},\n\t\t    updateSlider = function updateSlider() {\n\t\t\tvar seconds = t.getCurrentTime(),\n\t\t\t    timeSliderText = _i18n2.default.t('mejs.time-slider'),\n\t\t\t    time = (0, _time.secondsToTimeCode)(seconds, player.options.alwaysShowHours, player.options.showTimecodeFrameCount, player.options.framesPerSecond, player.options.secondsDecimalLength, player.options.timeFormat),\n\t\t\t    duration = t.getDuration();\n\n\t\t\tt.slider.setAttribute('role', 'slider');\n\t\t\tt.slider.tabIndex = 0;\n\n\t\t\tif (media.paused) {\n\t\t\t\tt.slider.setAttribute('aria-label', timeSliderText);\n\t\t\t\tt.slider.setAttribute('aria-valuemin', 0);\n\t\t\t\tt.slider.setAttribute('aria-valuemax', isNaN(duration) ? 0 : duration);\n\t\t\t\tt.slider.setAttribute('aria-valuenow', seconds);\n\t\t\t\tt.slider.setAttribute('aria-valuetext', time);\n\t\t\t} else {\n\t\t\t\tt.slider.removeAttribute('aria-label');\n\t\t\t\tt.slider.removeAttribute('aria-valuemin');\n\t\t\t\tt.slider.removeAttribute('aria-valuemax');\n\t\t\t\tt.slider.removeAttribute('aria-valuenow');\n\t\t\t\tt.slider.removeAttribute('aria-valuetext');\n\t\t\t}\n\t\t},\n\t\t    restartPlayer = function restartPlayer() {\n\t\t\tif (new Date() - lastKeyPressTime >= 1000) {\n\t\t\t\tt.play();\n\t\t\t}\n\t\t},\n\t\t    handleMouseup = function handleMouseup() {\n\t\t\tif (mouseIsDown && t.getCurrentTime() !== null && t.newTime.toFixed(4) !== t.getCurrentTime().toFixed(4)) {\n\t\t\t\tt.setCurrentTime(t.newTime);\n\t\t\t\tt.setCurrentRailHandle(t.newTime);\n\t\t\t\tt.updateCurrent(t.newTime);\n\t\t\t}\n\t\t\tif (t.forcedHandlePause) {\n\t\t\t\tt.slider.focus();\n\t\t\t\tt.play();\n\t\t\t}\n\t\t\tt.forcedHandlePause = false;\n\t\t};\n\n\t\tt.slider.addEventListener('focus', function () {\n\t\t\tplayer.options.autoRewind = false;\n\t\t});\n\t\tt.slider.addEventListener('blur', function () {\n\t\t\tplayer.options.autoRewind = autoRewindInitial;\n\t\t});\n\t\tt.slider.addEventListener('keydown', function (e) {\n\t\t\tif (new Date() - lastKeyPressTime >= 1000) {\n\t\t\t\tstartedPaused = t.paused;\n\t\t\t}\n\n\t\t\tif (t.options.enableKeyboard && t.options.keyActions.length) {\n\n\t\t\t\tvar keyCode = e.which || e.keyCode || 0,\n\t\t\t\t    duration = t.getDuration(),\n\t\t\t\t    seekForward = player.options.defaultSeekForwardInterval(media),\n\t\t\t\t    seekBackward = player.options.defaultSeekBackwardInterval(media);\n\n\t\t\t\tvar seekTime = t.getCurrentTime();\n\t\t\t\tvar volume = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'volume-slider');\n\n\t\t\t\tif (keyCode === 38 || keyCode === 40) {\n\t\t\t\t\tif (volume) {\n\t\t\t\t\t\tvolume.style.display = 'block';\n\t\t\t\t\t}\n\t\t\t\t\tif (t.isVideo) {\n\t\t\t\t\t\tt.showControls();\n\t\t\t\t\t\tt.startControlsTimer();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar newVolume = keyCode === 38 ? Math.min(t.volume + 0.1, 1) : Math.max(t.volume - 0.1, 0),\n\t\t\t\t\t    mutePlayer = newVolume <= 0;\n\t\t\t\t\tt.setVolume(newVolume);\n\t\t\t\t\tt.setMuted(mutePlayer);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tif (volume) {\n\t\t\t\t\t\tvolume.style.display = 'none';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tswitch (keyCode) {\n\t\t\t\t\tcase 37:\n\t\t\t\t\t\tif (t.getDuration() !== Infinity) {\n\t\t\t\t\t\t\tseekTime -= seekBackward;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tif (t.getDuration() !== Infinity) {\n\t\t\t\t\t\t\tseekTime += seekForward;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 36:\n\t\t\t\t\t\tseekTime = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 35:\n\t\t\t\t\t\tseekTime = duration;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 13:\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\tif (_constants.IS_FIREFOX) {\n\t\t\t\t\t\t\tif (t.paused) {\n\t\t\t\t\t\t\t\tt.play();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tt.pause();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tseekTime = seekTime < 0 || isNaN(seekTime) ? 0 : seekTime >= duration ? duration : Math.floor(seekTime);\n\t\t\t\tlastKeyPressTime = new Date();\n\t\t\t\tif (!startedPaused) {\n\t\t\t\t\tplayer.pause();\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tt.setCurrentTime(seekTime);\n\t\t\t\t}, 0);\n\n\t\t\t\tif (seekTime < t.getDuration() && !startedPaused) {\n\t\t\t\t\tsetTimeout(restartPlayer, 1100);\n\t\t\t\t}\n\n\t\t\t\tplayer.showControls();\n\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t});\n\n\t\tvar events = ['mousedown', 'touchstart'];\n\n\t\tt.slider.addEventListener('dragstart', function () {\n\t\t\treturn false;\n\t\t});\n\n\t\tfor (var i = 0, total = events.length; i < total; i++) {\n\t\t\tt.slider.addEventListener(events[i], function (e) {\n\t\t\t\tt.forcedHandlePause = false;\n\t\t\t\tif (t.getDuration() !== Infinity) {\n\t\t\t\t\tif (e.which === 1 || e.which === 0) {\n\t\t\t\t\t\tif (!t.paused) {\n\t\t\t\t\t\t\tt.pause();\n\t\t\t\t\t\t\tt.forcedHandlePause = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmouseIsDown = true;\n\t\t\t\t\t\thandleMouseMove(e);\n\t\t\t\t\t\tvar endEvents = ['mouseup', 'touchend'];\n\n\t\t\t\t\t\tfor (var j = 0, totalEvents = endEvents.length; j < totalEvents; j++) {\n\t\t\t\t\t\t\tt.getElement(t.container).addEventListener(endEvents[j], function (event) {\n\t\t\t\t\t\t\t\tvar target = event.target;\n\t\t\t\t\t\t\t\tif (target === t.slider || target.closest('.' + t.options.classPrefix + 'time-slider')) {\n\t\t\t\t\t\t\t\t\thandleMouseMove(event);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tt.globalBind('mouseup.dur touchend.dur', function () {\n\t\t\t\t\t\t\thandleMouseup();\n\t\t\t\t\t\t\tmouseIsDown = false;\n\t\t\t\t\t\t\tif (t.timefloat) {\n\t\t\t\t\t\t\t\tt.timefloat.style.display = 'none';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, _constants.SUPPORT_PASSIVE_EVENT && events[i] === 'touchstart' ? { passive: true } : false);\n\t\t}\n\t\tt.slider.addEventListener('mouseenter', function (e) {\n\t\t\tif (e.target === t.slider && t.getDuration() !== Infinity) {\n\t\t\t\tt.getElement(t.container).addEventListener('mousemove', function (event) {\n\t\t\t\t\tvar target = event.target;\n\t\t\t\t\tif (target === t.slider || target.closest('.' + t.options.classPrefix + 'time-slider')) {\n\t\t\t\t\t\thandleMouseMove(event);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (t.timefloat && !_constants.IS_IOS && !_constants.IS_ANDROID) {\n\t\t\t\t\tt.timefloat.style.display = 'block';\n\t\t\t\t}\n\t\t\t\tif (t.hovered && !_constants.IS_IOS && !_constants.IS_ANDROID && t.options.useSmoothHover) {\n\t\t\t\t\t(0, _dom.removeClass)(t.hovered, 'no-hover');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tt.slider.addEventListener('mouseleave', function () {\n\t\t\tif (t.getDuration() !== Infinity) {\n\t\t\t\tif (!mouseIsDown) {\n\t\t\t\t\tif (t.timefloat) {\n\t\t\t\t\t\tt.timefloat.style.display = 'none';\n\t\t\t\t\t}\n\t\t\t\t\tif (t.hovered && t.options.useSmoothHover) {\n\t\t\t\t\t\t(0, _dom.addClass)(t.hovered, 'no-hover');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tt.broadcastCallback = function (e) {\n\t\t\tvar broadcast = controls.querySelector('.' + t.options.classPrefix + 'broadcast');\n\t\t\tif (!t.options.forceLive && t.getDuration() !== Infinity) {\n\t\t\t\tif (broadcast) {\n\t\t\t\t\tt.slider.style.display = '';\n\t\t\t\t\tbroadcast.remove();\n\t\t\t\t}\n\n\t\t\t\tplayer.setProgressRail(e);\n\t\t\t\tif (!t.forcedHandlePause) {\n\t\t\t\t\tplayer.setCurrentRail(e);\n\t\t\t\t}\n\t\t\t\tupdateSlider();\n\t\t\t} else if (!broadcast && t.options.forceLive) {\n\t\t\t\tvar label = _document2.default.createElement('span');\n\t\t\t\tlabel.className = t.options.classPrefix + 'broadcast';\n\t\t\t\tlabel.innerText = _i18n2.default.t('mejs.live-broadcast');\n\t\t\t\tt.slider.style.display = 'none';\n\t\t\t\tt.rail.appendChild(label);\n\t\t\t}\n\t\t};\n\n\t\tmedia.addEventListener('progress', t.broadcastCallback);\n\t\tmedia.addEventListener('timeupdate', t.broadcastCallback);\n\t\tmedia.addEventListener('play', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\t\tmedia.addEventListener('playing', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\t\tmedia.addEventListener('seeking', function () {\n\t\t\tt.buffer.style.display = '';\n\t\t});\n\t\tmedia.addEventListener('seeked', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\t\tmedia.addEventListener('pause', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\t\tmedia.addEventListener('waiting', function () {\n\t\t\tt.buffer.style.display = '';\n\t\t});\n\t\tmedia.addEventListener('loadeddata', function () {\n\t\t\tt.buffer.style.display = '';\n\t\t});\n\t\tmedia.addEventListener('canplay', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\t\tmedia.addEventListener('error', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\n\t\tt.getElement(t.container).addEventListener('controlsresize', function (e) {\n\t\t\tif (t.getDuration() !== Infinity) {\n\t\t\t\tplayer.setProgressRail(e);\n\t\t\t\tif (!t.forcedHandlePause) {\n\t\t\t\t\tplayer.setCurrentRail(e);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\tcleanprogress: function cleanprogress(player, controls, layers, media) {\n\t\tmedia.removeEventListener('progress', player.broadcastCallback);\n\t\tmedia.removeEventListener('timeupdate', player.broadcastCallback);\n\t\tif (player.rail) {\n\t\t\tplayer.rail.remove();\n\t\t}\n\t},\n\tsetProgressRail: function setProgressRail(e) {\n\t\tvar t = this,\n\t\t    target = e !== undefined ? e.detail.target || e.target : t.media;\n\n\t\tvar percent = null;\n\n\t\tif (target && target.buffered && target.buffered.length > 0 && target.buffered.end && t.getDuration()) {\n\t\t\tpercent = target.buffered.end(target.buffered.length - 1) / t.getDuration();\n\t\t} else if (target && target.bytesTotal !== undefined && target.bytesTotal > 0 && target.bufferedBytes !== undefined) {\n\t\t\t\tpercent = target.bufferedBytes / target.bytesTotal;\n\t\t\t} else if (e && e.lengthComputable && e.total !== 0) {\n\t\t\t\t\tpercent = e.loaded / e.total;\n\t\t\t\t}\n\n\t\tif (percent !== null) {\n\t\t\tpercent = Math.min(1, Math.max(0, percent));\n\n\t\t\tif (t.loaded) {\n\t\t\t\tt.setTransformStyle(t.loaded, 'scaleX(' + percent + ')');\n\t\t\t}\n\t\t}\n\t},\n\tsetCurrentRailHandle: function setCurrentRailHandle(fakeTime) {\n\t\tvar t = this;\n\t\tt.setCurrentRailMain(t, fakeTime);\n\t},\n\tsetCurrentRail: function setCurrentRail() {\n\t\tvar t = this;\n\t\tt.setCurrentRailMain(t);\n\t},\n\tsetCurrentRailMain: function setCurrentRailMain(t, fakeTime) {\n\t\tif (t.getCurrentTime() !== undefined && t.getDuration()) {\n\t\t\tvar nTime = typeof fakeTime === 'undefined' ? t.getCurrentTime() : fakeTime;\n\n\t\t\tif (t.total && t.handle) {\n\t\t\t\tvar tW = parseFloat(getComputedStyle(t.total).width);\n\n\t\t\t\tvar newWidth = Math.round(tW * nTime / t.getDuration()),\n\t\t\t\t    handlePos = newWidth - Math.round(t.handle.offsetWidth / 2);\n\n\t\t\t\thandlePos = handlePos < 0 ? 0 : handlePos;\n\t\t\t\tt.setTransformStyle(t.current, 'scaleX(' + newWidth / tW + ')');\n\t\t\t\tt.setTransformStyle(t.handle, 'translateX(' + handlePos + 'px)');\n\n\t\t\t\tif (t.options.useSmoothHover && !(0, _dom.hasClass)(t.hovered, 'no-hover')) {\n\t\t\t\t\tvar pos = parseInt(t.hovered.getAttribute('pos'), 10);\n\t\t\t\t\tpos = isNaN(pos) ? 0 : pos;\n\n\t\t\t\t\tvar hoverScaleX = pos / tW - handlePos / tW;\n\n\t\t\t\t\tt.hovered.style.left = handlePos + 'px';\n\t\t\t\t\tt.setTransformStyle(t.hovered, 'scaleX(' + hoverScaleX + ')');\n\n\t\t\t\t\tif (hoverScaleX >= 0) {\n\t\t\t\t\t\t(0, _dom.removeClass)(t.hovered, 'negative');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t(0, _dom.addClass)(t.hovered, 'negative');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\n},{\"16\":16,\"2\":2,\"25\":25,\"26\":26,\"30\":30,\"5\":5}],12:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _time = _dereq_(30);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tduration: 0,\n\n\ttimeAndDurationSeparator: '<span> | </span>'\n});\n\nObject.assign(_player2.default.prototype, {\n\tbuildcurrent: function buildcurrent(player, controls, layers, media) {\n\t\tvar t = this,\n\t\t    time = _document2.default.createElement('div');\n\n\t\ttime.className = t.options.classPrefix + 'time';\n\t\ttime.setAttribute('role', 'timer');\n\t\ttime.setAttribute('aria-live', 'off');\n\t\ttime.innerHTML = '<span class=\"' + t.options.classPrefix + 'currenttime\">' + (0, _time.secondsToTimeCode)(0, player.options.alwaysShowHours, player.options.showTimecodeFrameCount, player.options.framesPerSecond, player.options.secondsDecimalLength, player.options.timeFormat) + '</span>';\n\n\t\tt.addControlElement(time, 'current');\n\t\tplayer.updateCurrent();\n\t\tt.updateTimeCallback = function () {\n\t\t\tif (t.controlsAreVisible) {\n\t\t\t\tplayer.updateCurrent();\n\t\t\t}\n\t\t};\n\t\tmedia.addEventListener('timeupdate', t.updateTimeCallback);\n\t},\n\tcleancurrent: function cleancurrent(player, controls, layers, media) {\n\t\tmedia.removeEventListener('timeupdate', player.updateTimeCallback);\n\t},\n\tbuildduration: function buildduration(player, controls, layers, media) {\n\t\tvar t = this,\n\t\t    currTime = controls.lastChild.querySelector('.' + t.options.classPrefix + 'currenttime');\n\n\t\tif (currTime) {\n\t\t\tcontrols.querySelector('.' + t.options.classPrefix + 'time').innerHTML += t.options.timeAndDurationSeparator + '<span class=\"' + t.options.classPrefix + 'duration\">' + ((0, _time.secondsToTimeCode)(t.options.duration, t.options.alwaysShowHours, t.options.showTimecodeFrameCount, t.options.framesPerSecond, t.options.secondsDecimalLength, t.options.timeFormat) + '</span>');\n\t\t} else {\n\t\t\tif (controls.querySelector('.' + t.options.classPrefix + 'currenttime')) {\n\t\t\t\t(0, _dom.addClass)(controls.querySelector('.' + t.options.classPrefix + 'currenttime').parentNode, t.options.classPrefix + 'currenttime-container');\n\t\t\t}\n\n\t\t\tvar duration = _document2.default.createElement('div');\n\t\t\tduration.className = t.options.classPrefix + 'time ' + t.options.classPrefix + 'duration-container';\n\t\t\tduration.innerHTML = '<span class=\"' + t.options.classPrefix + 'duration\">' + ((0, _time.secondsToTimeCode)(t.options.duration, t.options.alwaysShowHours, t.options.showTimecodeFrameCount, t.options.framesPerSecond, t.options.secondsDecimalLength, t.options.timeFormat) + '</span>');\n\n\t\t\tt.addControlElement(duration, 'duration');\n\t\t}\n\n\t\tt.updateDurationCallback = function () {\n\t\t\tif (t.controlsAreVisible) {\n\t\t\t\tplayer.updateDuration();\n\t\t\t}\n\t\t};\n\n\t\tmedia.addEventListener('timeupdate', t.updateDurationCallback);\n\t},\n\tcleanduration: function cleanduration(player, controls, layers, media) {\n\t\tmedia.removeEventListener('timeupdate', player.updateDurationCallback);\n\t},\n\tupdateCurrent: function updateCurrent() {\n\t\tvar t = this;\n\n\t\tvar currentTime = t.getCurrentTime();\n\n\t\tif (isNaN(currentTime)) {\n\t\t\tcurrentTime = 0;\n\t\t}\n\n\t\tvar timecode = (0, _time.secondsToTimeCode)(currentTime, t.options.alwaysShowHours, t.options.showTimecodeFrameCount, t.options.framesPerSecond, t.options.secondsDecimalLength, t.options.timeFormat);\n\n\t\tif (timecode.length > 5) {\n\t\t\t(0, _dom.addClass)(t.getElement(t.container), t.options.classPrefix + 'long-video');\n\t\t} else {\n\t\t\t(0, _dom.removeClass)(t.getElement(t.container), t.options.classPrefix + 'long-video');\n\t\t}\n\n\t\tif (t.getElement(t.controls).querySelector('.' + t.options.classPrefix + 'currenttime')) {\n\t\t\tt.getElement(t.controls).querySelector('.' + t.options.classPrefix + 'currenttime').innerText = timecode;\n\t\t}\n\t},\n\tupdateDuration: function updateDuration() {\n\t\tvar t = this;\n\n\t\tvar duration = t.getDuration();\n\n\t\tif (t.media !== undefined && (isNaN(duration) || duration === Infinity || duration < 0)) {\n\t\t\tt.media.duration = t.options.duration = duration = 0;\n\t\t}\n\n\t\tif (t.options.duration > 0) {\n\t\t\tduration = t.options.duration;\n\t\t}\n\n\t\tvar timecode = (0, _time.secondsToTimeCode)(duration, t.options.alwaysShowHours, t.options.showTimecodeFrameCount, t.options.framesPerSecond, t.options.secondsDecimalLength, t.options.timeFormat);\n\n\t\tif (timecode.length > 5) {\n\t\t\t(0, _dom.addClass)(t.getElement(t.container), t.options.classPrefix + 'long-video');\n\t\t} else {\n\t\t\t(0, _dom.removeClass)(t.getElement(t.container), t.options.classPrefix + 'long-video');\n\t\t}\n\n\t\tif (t.getElement(t.controls).querySelector('.' + t.options.classPrefix + 'duration') && duration > 0) {\n\t\t\tt.getElement(t.controls).querySelector('.' + t.options.classPrefix + 'duration').innerHTML = timecode;\n\t\t}\n\t}\n});\n\n},{\"16\":16,\"2\":2,\"26\":26,\"30\":30}],13:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _time = _dereq_(30);\n\nvar _general = _dereq_(27);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tstartLanguage: '',\n\n\ttracksText: null,\n\n\tchaptersText: null,\n\n\ttracksAriaLive: false,\n\n\thideCaptionsButtonWhenEmpty: true,\n\n\ttoggleCaptionsButtonWhenOnlyOne: false,\n\n\tslidesSelector: ''\n});\n\nObject.assign(_player2.default.prototype, {\n\thasChapters: false,\n\n\tbuildtracks: function buildtracks(player, controls, layers, media) {\n\n\t\tthis.findTracks();\n\n\t\tif (!player.tracks.length && (!player.trackFiles || !player.trackFiles.length === 0)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar t = this,\n\t\t    attr = t.options.tracksAriaLive ? ' role=\"log\" aria-live=\"assertive\" aria-atomic=\"false\"' : '',\n\t\t    tracksTitle = (0, _general.isString)(t.options.tracksText) ? t.options.tracksText : _i18n2.default.t('mejs.captions-subtitles'),\n\t\t    chaptersTitle = (0, _general.isString)(t.options.chaptersText) ? t.options.chaptersText : _i18n2.default.t('mejs.captions-chapters'),\n\t\t    total = player.trackFiles === null ? player.tracks.length : player.trackFiles.length;\n\n\t\tif (t.domNode.textTracks) {\n\t\t\tfor (var i = t.domNode.textTracks.length - 1; i >= 0; i--) {\n\t\t\t\tt.domNode.textTracks[i].mode = 'hidden';\n\t\t\t}\n\t\t}\n\n\t\tt.cleartracks(player);\n\n\t\tplayer.captions = _document2.default.createElement('div');\n\t\tplayer.captions.className = t.options.classPrefix + 'captions-layer ' + t.options.classPrefix + 'layer';\n\t\tplayer.captions.innerHTML = '<div class=\"' + t.options.classPrefix + 'captions-position ' + t.options.classPrefix + 'captions-position-hover\"' + attr + '>' + ('<span class=\"' + t.options.classPrefix + 'captions-text\"></span>') + '</div>';\n\t\tplayer.captions.style.display = 'none';\n\t\tlayers.insertBefore(player.captions, layers.firstChild);\n\n\t\tplayer.captionsText = player.captions.querySelector('.' + t.options.classPrefix + 'captions-text');\n\n\t\tplayer.captionsButton = _document2.default.createElement('div');\n\t\tplayer.captionsButton.className = t.options.classPrefix + 'button ' + t.options.classPrefix + 'captions-button';\n\t\tplayer.captionsButton.innerHTML = '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + tracksTitle + '\" aria-label=\"' + tracksTitle + '\" tabindex=\"0\"></button>' + ('<div class=\"' + t.options.classPrefix + 'captions-selector ' + t.options.classPrefix + 'offscreen\">') + ('<ul class=\"' + t.options.classPrefix + 'captions-selector-list\">') + ('<li class=\"' + t.options.classPrefix + 'captions-selector-list-item\">') + ('<input type=\"radio\" class=\"' + t.options.classPrefix + 'captions-selector-input\" ') + ('name=\"' + player.id + '_captions\" id=\"' + player.id + '_captions_none\" ') + 'value=\"none\" checked disabled>' + ('<label class=\"' + t.options.classPrefix + 'captions-selector-label ') + (t.options.classPrefix + 'captions-selected\" ') + ('for=\"' + player.id + '_captions_none\">' + _i18n2.default.t('mejs.none') + '</label>') + '</li>' + '</ul>' + '</div>';\n\n\t\tt.addControlElement(player.captionsButton, 'tracks');\n\n\t\tplayer.captionsButton.querySelector('.' + t.options.classPrefix + 'captions-selector-input').disabled = false;\n\n\t\tplayer.chaptersButton = _document2.default.createElement('div');\n\t\tplayer.chaptersButton.className = t.options.classPrefix + 'button ' + t.options.classPrefix + 'chapters-button';\n\t\tplayer.chaptersButton.innerHTML = '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + chaptersTitle + '\" aria-label=\"' + chaptersTitle + '\" tabindex=\"0\"></button>' + ('<div class=\"' + t.options.classPrefix + 'chapters-selector ' + t.options.classPrefix + 'offscreen\">') + ('<ul class=\"' + t.options.classPrefix + 'chapters-selector-list\"></ul>') + '</div>';\n\n\t\tvar subtitleCount = 0;\n\n\t\tfor (var _i = 0; _i < total; _i++) {\n\t\t\tvar kind = player.tracks[_i].kind,\n\t\t\t    src = player.tracks[_i].src;\n\t\t\tif (src.trim()) {\n\t\t\t\tif (kind === 'subtitles' || kind === 'captions') {\n\t\t\t\t\tsubtitleCount++;\n\t\t\t\t} else if (kind === 'chapters' && !controls.querySelector('.' + t.options.classPrefix + 'chapter-selector')) {\n\t\t\t\t\tplayer.captionsButton.parentNode.insertBefore(player.chaptersButton, player.captionsButton);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tplayer.trackToLoad = -1;\n\t\tplayer.selectedTrack = null;\n\t\tplayer.isLoadingTrack = false;\n\n\t\tfor (var _i2 = 0; _i2 < total; _i2++) {\n\t\t\tvar _kind = player.tracks[_i2].kind;\n\t\t\tif (player.tracks[_i2].src.trim() && (_kind === 'subtitles' || _kind === 'captions')) {\n\t\t\t\tplayer.addTrackButton(player.tracks[_i2].trackId, player.tracks[_i2].srclang, player.tracks[_i2].label);\n\t\t\t}\n\t\t}\n\n\t\tplayer.loadNextTrack();\n\n\t\tvar inEvents = ['mouseenter', 'focusin'],\n\t\t    outEvents = ['mouseleave', 'focusout'];\n\n\t\tif (t.options.toggleCaptionsButtonWhenOnlyOne && subtitleCount === 1) {\n\t\t\tplayer.captionsButton.addEventListener('click', function (e) {\n\t\t\t\tvar trackId = 'none';\n\t\t\t\tif (player.selectedTrack === null) {\n\t\t\t\t\ttrackId = player.tracks[0].trackId;\n\t\t\t\t}\n\t\t\t\tvar keyboard = e.keyCode || e.which;\n\t\t\t\tplayer.setTrack(trackId, typeof keyboard !== 'undefined');\n\t\t\t});\n\t\t} else {\n\t\t\tvar labels = player.captionsButton.querySelectorAll('.' + t.options.classPrefix + 'captions-selector-label'),\n\t\t\t    captions = player.captionsButton.querySelectorAll('input[type=radio]');\n\n\t\t\tfor (var _i3 = 0, _total = inEvents.length; _i3 < _total; _i3++) {\n\t\t\t\tplayer.captionsButton.addEventListener(inEvents[_i3], function () {\n\t\t\t\t\t(0, _dom.removeClass)(this.querySelector('.' + t.options.classPrefix + 'captions-selector'), t.options.classPrefix + 'offscreen');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (var _i4 = 0, _total2 = outEvents.length; _i4 < _total2; _i4++) {\n\t\t\t\tplayer.captionsButton.addEventListener(outEvents[_i4], function () {\n\t\t\t\t\t(0, _dom.addClass)(this.querySelector('.' + t.options.classPrefix + 'captions-selector'), t.options.classPrefix + 'offscreen');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (var _i5 = 0, _total3 = captions.length; _i5 < _total3; _i5++) {\n\t\t\t\tcaptions[_i5].addEventListener('click', function (e) {\n\t\t\t\t\tvar keyboard = e.keyCode || e.which;\n\t\t\t\t\tplayer.setTrack(this.value, typeof keyboard !== 'undefined');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (var _i6 = 0, _total4 = labels.length; _i6 < _total4; _i6++) {\n\t\t\t\tlabels[_i6].addEventListener('click', function (e) {\n\t\t\t\t\tvar radio = (0, _dom.siblings)(this, function (el) {\n\t\t\t\t\t\treturn el.tagName === 'INPUT';\n\t\t\t\t\t})[0],\n\t\t\t\t\t    event = (0, _general.createEvent)('click', radio);\n\t\t\t\t\tradio.dispatchEvent(event);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tplayer.captionsButton.addEventListener('keydown', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t}\n\n\t\tfor (var _i7 = 0, _total5 = inEvents.length; _i7 < _total5; _i7++) {\n\t\t\tplayer.chaptersButton.addEventListener(inEvents[_i7], function () {\n\t\t\t\tif (this.querySelector('.' + t.options.classPrefix + 'chapters-selector-list').children.length) {\n\t\t\t\t\t(0, _dom.removeClass)(this.querySelector('.' + t.options.classPrefix + 'chapters-selector'), t.options.classPrefix + 'offscreen');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfor (var _i8 = 0, _total6 = outEvents.length; _i8 < _total6; _i8++) {\n\t\t\tplayer.chaptersButton.addEventListener(outEvents[_i8], function () {\n\t\t\t\t(0, _dom.addClass)(this.querySelector('.' + t.options.classPrefix + 'chapters-selector'), t.options.classPrefix + 'offscreen');\n\t\t\t});\n\t\t}\n\n\t\tplayer.chaptersButton.addEventListener('keydown', function (e) {\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif (!player.options.alwaysShowControls) {\n\t\t\tplayer.getElement(player.container).addEventListener('controlsshown', function () {\n\t\t\t\t(0, _dom.addClass)(player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'captions-position'), t.options.classPrefix + 'captions-position-hover');\n\t\t\t});\n\n\t\t\tplayer.getElement(player.container).addEventListener('controlshidden', function () {\n\t\t\t\tif (!media.paused) {\n\t\t\t\t\t(0, _dom.removeClass)(player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'captions-position'), t.options.classPrefix + 'captions-position-hover');\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\t(0, _dom.addClass)(player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'captions-position'), t.options.classPrefix + 'captions-position-hover');\n\t\t}\n\n\t\tmedia.addEventListener('timeupdate', function () {\n\t\t\tplayer.displayCaptions();\n\t\t});\n\n\t\tif (player.options.slidesSelector !== '') {\n\t\t\tplayer.slidesContainer = _document2.default.querySelectorAll(player.options.slidesSelector);\n\n\t\t\tmedia.addEventListener('timeupdate', function () {\n\t\t\t\tplayer.displaySlides();\n\t\t\t});\n\t\t}\n\t},\n\tcleartracks: function cleartracks(player) {\n\t\tif (player) {\n\t\t\tif (player.captions) {\n\t\t\t\tplayer.captions.remove();\n\t\t\t}\n\t\t\tif (player.chapters) {\n\t\t\t\tplayer.chapters.remove();\n\t\t\t}\n\t\t\tif (player.captionsText) {\n\t\t\t\tplayer.captionsText.remove();\n\t\t\t}\n\t\t\tif (player.captionsButton) {\n\t\t\t\tplayer.captionsButton.remove();\n\t\t\t}\n\t\t\tif (player.chaptersButton) {\n\t\t\t\tplayer.chaptersButton.remove();\n\t\t\t}\n\t\t}\n\t},\n\trebuildtracks: function rebuildtracks() {\n\t\tvar t = this;\n\t\tt.findTracks();\n\t\tt.buildtracks(t, t.getElement(t.controls), t.getElement(t.layers), t.media);\n\t},\n\tfindTracks: function findTracks() {\n\t\tvar t = this,\n\t\t    tracktags = t.trackFiles === null ? t.node.querySelectorAll('track') : t.trackFiles,\n\t\t    total = tracktags.length;\n\n\t\tt.tracks = [];\n\t\tfor (var i = 0; i < total; i++) {\n\t\t\tvar track = tracktags[i],\n\t\t\t    srclang = track.getAttribute('srclang').toLowerCase() || '',\n\t\t\t    trackId = t.id + '_track_' + i + '_' + track.getAttribute('kind') + '_' + srclang;\n\t\t\tt.tracks.push({\n\t\t\t\ttrackId: trackId,\n\t\t\t\tsrclang: srclang,\n\t\t\t\tsrc: track.getAttribute('src'),\n\t\t\t\tkind: track.getAttribute('kind'),\n\t\t\t\tlabel: track.getAttribute('label') || '',\n\t\t\t\tentries: [],\n\t\t\t\tisLoaded: false\n\t\t\t});\n\t\t}\n\t},\n\tsetTrack: function setTrack(trackId, setByKeyboard) {\n\n\t\tvar t = this,\n\t\t    radios = t.captionsButton.querySelectorAll('input[type=\"radio\"]'),\n\t\t    captions = t.captionsButton.querySelectorAll('.' + t.options.classPrefix + 'captions-selected'),\n\t\t    track = t.captionsButton.querySelector('input[value=\"' + trackId + '\"]');\n\n\t\tfor (var i = 0, total = radios.length; i < total; i++) {\n\t\t\tradios[i].checked = false;\n\t\t}\n\n\t\tfor (var _i9 = 0, _total7 = captions.length; _i9 < _total7; _i9++) {\n\t\t\t(0, _dom.removeClass)(captions[_i9], t.options.classPrefix + 'captions-selected');\n\t\t}\n\n\t\ttrack.checked = true;\n\t\tvar labels = (0, _dom.siblings)(track, function (el) {\n\t\t\treturn (0, _dom.hasClass)(el, t.options.classPrefix + 'captions-selector-label');\n\t\t});\n\t\tfor (var _i10 = 0, _total8 = labels.length; _i10 < _total8; _i10++) {\n\t\t\t(0, _dom.addClass)(labels[_i10], t.options.classPrefix + 'captions-selected');\n\t\t}\n\n\t\tif (trackId === 'none') {\n\t\t\tt.selectedTrack = null;\n\t\t\t(0, _dom.removeClass)(t.captionsButton, t.options.classPrefix + 'captions-enabled');\n\t\t} else {\n\t\t\tfor (var _i11 = 0, _total9 = t.tracks.length; _i11 < _total9; _i11++) {\n\t\t\t\tvar _track = t.tracks[_i11];\n\t\t\t\tif (_track.trackId === trackId) {\n\t\t\t\t\tif (t.selectedTrack === null) {\n\t\t\t\t\t\t(0, _dom.addClass)(t.captionsButton, t.options.classPrefix + 'captions-enabled');\n\t\t\t\t\t}\n\t\t\t\t\tt.selectedTrack = _track;\n\t\t\t\t\tt.captions.setAttribute('lang', t.selectedTrack.srclang);\n\t\t\t\t\tt.displayCaptions();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar event = (0, _general.createEvent)('captionschange', t.media);\n\t\tevent.detail.caption = t.selectedTrack;\n\t\tt.media.dispatchEvent(event);\n\n\t\tif (!setByKeyboard) {\n\t\t\tsetTimeout(function () {\n\t\t\t\tt.getElement(t.container).focus();\n\t\t\t}, 500);\n\t\t}\n\t},\n\tloadNextTrack: function loadNextTrack() {\n\t\tvar t = this;\n\n\t\tt.trackToLoad++;\n\t\tif (t.trackToLoad < t.tracks.length) {\n\t\t\tt.isLoadingTrack = true;\n\t\t\tt.loadTrack(t.trackToLoad);\n\t\t} else {\n\t\t\tt.isLoadingTrack = false;\n\t\t\tt.checkForTracks();\n\t\t}\n\t},\n\tloadTrack: function loadTrack(index) {\n\t\tvar t = this,\n\t\t    track = t.tracks[index];\n\n\t\tif (track !== undefined && (track.src !== undefined || track.src !== \"\")) {\n\t\t\t(0, _dom.ajax)(track.src, 'text', function (d) {\n\t\t\t\ttrack.entries = typeof d === 'string' && /<tt\\s+xml/ig.exec(d) ? _mejs2.default.TrackFormatParser.dfxp.parse(d) : _mejs2.default.TrackFormatParser.webvtt.parse(d);\n\n\t\t\t\ttrack.isLoaded = true;\n\t\t\t\tt.enableTrackButton(track);\n\t\t\t\tt.loadNextTrack();\n\n\t\t\t\tif (track.kind === 'slides') {\n\t\t\t\t\tt.setupSlides(track);\n\t\t\t\t} else if (track.kind === 'chapters' && !t.hasChapters) {\n\t\t\t\t\t\tt.drawChapters(track);\n\t\t\t\t\t\tt.hasChapters = true;\n\t\t\t\t\t}\n\t\t\t}, function () {\n\t\t\t\tt.removeTrackButton(track.trackId);\n\t\t\t\tt.loadNextTrack();\n\t\t\t});\n\t\t}\n\t},\n\tenableTrackButton: function enableTrackButton(track) {\n\t\tvar t = this,\n\t\t    lang = track.srclang,\n\t\t    target = _document2.default.getElementById('' + track.trackId);\n\n\t\tif (!target) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar label = track.label;\n\n\t\tif (label === '') {\n\t\t\tlabel = _i18n2.default.t(_mejs2.default.language.codes[lang]) || lang;\n\t\t}\n\t\ttarget.disabled = false;\n\t\tvar targetSiblings = (0, _dom.siblings)(target, function (el) {\n\t\t\treturn (0, _dom.hasClass)(el, t.options.classPrefix + 'captions-selector-label');\n\t\t});\n\t\tfor (var i = 0, total = targetSiblings.length; i < total; i++) {\n\t\t\ttargetSiblings[i].innerHTML = label;\n\t\t}\n\n\t\tif (t.options.startLanguage === lang) {\n\t\t\ttarget.checked = true;\n\t\t\tvar event = (0, _general.createEvent)('click', target);\n\t\t\ttarget.dispatchEvent(event);\n\t\t}\n\t},\n\tremoveTrackButton: function removeTrackButton(trackId) {\n\t\tvar element = _document2.default.getElementById('' + trackId);\n\t\tif (element) {\n\t\t\tvar button = element.closest('li');\n\t\t\tif (button) {\n\t\t\t\tbutton.remove();\n\t\t\t}\n\t\t}\n\t},\n\taddTrackButton: function addTrackButton(trackId, lang, label) {\n\t\tvar t = this;\n\t\tif (label === '') {\n\t\t\tlabel = _i18n2.default.t(_mejs2.default.language.codes[lang]) || lang;\n\t\t}\n\n\t\tt.captionsButton.querySelector('ul').innerHTML += '<li class=\"' + t.options.classPrefix + 'captions-selector-list-item\">' + ('<input type=\"radio\" class=\"' + t.options.classPrefix + 'captions-selector-input\" ') + ('name=\"' + t.id + '_captions\" id=\"' + trackId + '\" value=\"' + trackId + '\" disabled>') + ('<label class=\"' + t.options.classPrefix + 'captions-selector-label\"') + ('for=\"' + trackId + '\">' + label + ' (loading)</label>') + '</li>';\n\t},\n\tcheckForTracks: function checkForTracks() {\n\t\tvar t = this;\n\n\t\tvar hasSubtitles = false;\n\n\t\tif (t.options.hideCaptionsButtonWhenEmpty) {\n\t\t\tfor (var i = 0, total = t.tracks.length; i < total; i++) {\n\t\t\t\tvar kind = t.tracks[i].kind;\n\t\t\t\tif ((kind === 'subtitles' || kind === 'captions') && t.tracks[i].isLoaded) {\n\t\t\t\t\thasSubtitles = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tt.captionsButton.style.display = hasSubtitles ? '' : 'none';\n\t\t\tt.setControlsSize();\n\t\t}\n\t},\n\tdisplayCaptions: function displayCaptions() {\n\t\tif (this.tracks === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar t = this,\n\t\t    track = t.selectedTrack,\n\t\t    sanitize = function sanitize(html) {\n\t\t\tvar div = _document2.default.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\n\t\t\tvar scripts = div.getElementsByTagName('script');\n\t\t\tvar i = scripts.length;\n\t\t\twhile (i--) {\n\t\t\t\tscripts[i].remove();\n\t\t\t}\n\n\t\t\tvar allElements = div.getElementsByTagName('*');\n\t\t\tfor (var _i12 = 0, n = allElements.length; _i12 < n; _i12++) {\n\t\t\t\tvar attributesObj = allElements[_i12].attributes,\n\t\t\t\t    attributes = Array.prototype.slice.call(attributesObj);\n\n\t\t\t\tfor (var j = 0, total = attributes.length; j < total; j++) {\n\t\t\t\t\tif (attributes[j].name.startsWith('on') || attributes[j].value.startsWith('javascript')) {\n\t\t\t\t\t\tallElements[_i12].remove();\n\t\t\t\t\t} else if (attributes[j].name === 'style') {\n\t\t\t\t\t\tallElements[_i12].removeAttribute(attributes[j].name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn div.innerHTML;\n\t\t};\n\n\t\tif (track !== null && track.isLoaded) {\n\t\t\tvar i = t.searchTrackPosition(track.entries, t.media.currentTime);\n\t\t\tif (i > -1) {\n\t\t\t\tvar text = track.entries[i].text;\n\t\t\t\tif (typeof t.options.captionTextPreprocessor === 'function') text = t.options.captionTextPreprocessor(text);\n\t\t\t\tt.captionsText.innerHTML = sanitize(text);\n\t\t\t\tt.captionsText.className = t.options.classPrefix + 'captions-text ' + (track.entries[i].identifier || '');\n\t\t\t\tt.captions.style.display = '';\n\t\t\t\tt.captions.style.height = '0px';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tt.captions.style.display = 'none';\n\t\t} else {\n\t\t\tt.captions.style.display = 'none';\n\t\t}\n\t},\n\tsetupSlides: function setupSlides(track) {\n\t\tvar t = this;\n\t\tt.slides = track;\n\t\tt.slides.entries.imgs = [t.slides.entries.length];\n\t\tt.showSlide(0);\n\t},\n\tshowSlide: function showSlide(index) {\n\t\tvar _this = this;\n\n\t\tvar t = this;\n\n\t\tif (t.tracks === undefined || t.slidesContainer === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar url = t.slides.entries[index].text;\n\n\t\tvar img = t.slides.entries[index].imgs;\n\n\t\tif (img === undefined || img.fadeIn === undefined) {\n\t\t\tvar image = _document2.default.createElement('img');\n\t\t\timage.src = url;\n\t\t\timage.addEventListener('load', function () {\n\t\t\t\tvar self = _this,\n\t\t\t\t    visible = (0, _dom.siblings)(self, function (el) {\n\t\t\t\t\treturn visible(el);\n\t\t\t\t});\n\t\t\t\tself.style.display = 'none';\n\t\t\t\tt.slidesContainer.innerHTML += self.innerHTML;\n\t\t\t\t(0, _dom.fadeIn)(t.slidesContainer.querySelector(image));\n\t\t\t\tfor (var i = 0, total = visible.length; i < total; i++) {\n\t\t\t\t\t(0, _dom.fadeOut)(visible[i], 400);\n\t\t\t\t}\n\t\t\t});\n\t\t\tt.slides.entries[index].imgs = img = image;\n\t\t} else if (!(0, _dom.visible)(img)) {\n\t\t\tvar _visible = (0, _dom.siblings)(self, function (el) {\n\t\t\t\treturn _visible(el);\n\t\t\t});\n\t\t\t(0, _dom.fadeIn)(t.slidesContainer.querySelector(img));\n\t\t\tfor (var i = 0, total = _visible.length; i < total; i++) {\n\t\t\t\t(0, _dom.fadeOut)(_visible[i]);\n\t\t\t}\n\t\t}\n\t},\n\tdisplaySlides: function displaySlides() {\n\t\tvar t = this;\n\n\t\tif (this.slides === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar slides = t.slides,\n\t\t    i = t.searchTrackPosition(slides.entries, t.media.currentTime);\n\n\t\tif (i > -1) {\n\t\t\tt.showSlide(i);\n\t\t}\n\t},\n\tdrawChapters: function drawChapters(chapters) {\n\t\tvar t = this,\n\t\t    total = chapters.entries.length;\n\n\t\tif (!total) {\n\t\t\treturn;\n\t\t}\n\n\t\tt.chaptersButton.querySelector('ul').innerHTML = '';\n\n\t\tfor (var i = 0; i < total; i++) {\n\t\t\tt.chaptersButton.querySelector('ul').innerHTML += '<li class=\"' + t.options.classPrefix + 'chapters-selector-list-item\" ' + 'role=\"menuitemcheckbox\" aria-live=\"polite\" aria-disabled=\"false\" aria-checked=\"false\">' + ('<input type=\"radio\" class=\"' + t.options.classPrefix + 'captions-selector-input\" ') + ('name=\"' + t.id + '_chapters\" id=\"' + t.id + '_chapters_' + i + '\" value=\"' + chapters.entries[i].start + '\" disabled>') + ('<label class=\"' + t.options.classPrefix + 'chapters-selector-label\"') + ('for=\"' + t.id + '_chapters_' + i + '\">' + chapters.entries[i].text + '</label>') + '</li>';\n\t\t}\n\n\t\tvar radios = t.chaptersButton.querySelectorAll('input[type=\"radio\"]'),\n\t\t    labels = t.chaptersButton.querySelectorAll('.' + t.options.classPrefix + 'chapters-selector-label');\n\n\t\tfor (var _i13 = 0, _total10 = radios.length; _i13 < _total10; _i13++) {\n\t\t\tradios[_i13].disabled = false;\n\t\t\tradios[_i13].checked = false;\n\t\t\tradios[_i13].addEventListener('click', function (e) {\n\t\t\t\tvar self = this,\n\t\t\t\t    listItems = t.chaptersButton.querySelectorAll('li'),\n\t\t\t\t    label = (0, _dom.siblings)(self, function (el) {\n\t\t\t\t\treturn (0, _dom.hasClass)(el, t.options.classPrefix + 'chapters-selector-label');\n\t\t\t\t})[0];\n\n\t\t\t\tself.checked = true;\n\t\t\t\tself.parentNode.setAttribute('aria-checked', true);\n\t\t\t\t(0, _dom.addClass)(label, t.options.classPrefix + 'chapters-selected');\n\t\t\t\t(0, _dom.removeClass)(t.chaptersButton.querySelector('.' + t.options.classPrefix + 'chapters-selected'), t.options.classPrefix + 'chapters-selected');\n\n\t\t\t\tfor (var _i14 = 0, _total11 = listItems.length; _i14 < _total11; _i14++) {\n\t\t\t\t\tlistItems[_i14].setAttribute('aria-checked', false);\n\t\t\t\t}\n\n\t\t\t\tvar keyboard = e.keyCode || e.which;\n\t\t\t\tif (typeof keyboard === 'undefined') {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tt.getElement(t.container).focus();\n\t\t\t\t\t}, 500);\n\t\t\t\t}\n\n\t\t\t\tt.media.setCurrentTime(parseFloat(self.value));\n\t\t\t\tif (t.media.paused) {\n\t\t\t\t\tt.media.play();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfor (var _i15 = 0, _total12 = labels.length; _i15 < _total12; _i15++) {\n\t\t\tlabels[_i15].addEventListener('click', function (e) {\n\t\t\t\tvar radio = (0, _dom.siblings)(this, function (el) {\n\t\t\t\t\treturn el.tagName === 'INPUT';\n\t\t\t\t})[0],\n\t\t\t\t    event = (0, _general.createEvent)('click', radio);\n\t\t\t\tradio.dispatchEvent(event);\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t}\n\t},\n\tsearchTrackPosition: function searchTrackPosition(tracks, currentTime) {\n\t\tvar lo = 0,\n\t\t    hi = tracks.length - 1,\n\t\t    mid = void 0,\n\t\t    start = void 0,\n\t\t    stop = void 0;\n\n\t\twhile (lo <= hi) {\n\t\t\tmid = lo + hi >> 1;\n\t\t\tstart = tracks[mid].start;\n\t\t\tstop = tracks[mid].stop;\n\n\t\t\tif (currentTime >= start && currentTime < stop) {\n\t\t\t\treturn mid;\n\t\t\t} else if (start < currentTime) {\n\t\t\t\tlo = mid + 1;\n\t\t\t} else if (start > currentTime) {\n\t\t\t\thi = mid - 1;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n});\n\n_mejs2.default.language = {\n\tcodes: {\n\t\taf: 'mejs.afrikaans',\n\t\tsq: 'mejs.albanian',\n\t\tar: 'mejs.arabic',\n\t\tbe: 'mejs.belarusian',\n\t\tbg: 'mejs.bulgarian',\n\t\tca: 'mejs.catalan',\n\t\tzh: 'mejs.chinese',\n\t\t'zh-cn': 'mejs.chinese-simplified',\n\t\t'zh-tw': 'mejs.chines-traditional',\n\t\thr: 'mejs.croatian',\n\t\tcs: 'mejs.czech',\n\t\tda: 'mejs.danish',\n\t\tnl: 'mejs.dutch',\n\t\ten: 'mejs.english',\n\t\tet: 'mejs.estonian',\n\t\tfl: 'mejs.filipino',\n\t\tfi: 'mejs.finnish',\n\t\tfr: 'mejs.french',\n\t\tgl: 'mejs.galician',\n\t\tde: 'mejs.german',\n\t\tel: 'mejs.greek',\n\t\tht: 'mejs.haitian-creole',\n\t\tiw: 'mejs.hebrew',\n\t\thi: 'mejs.hindi',\n\t\thu: 'mejs.hungarian',\n\t\tis: 'mejs.icelandic',\n\t\tid: 'mejs.indonesian',\n\t\tga: 'mejs.irish',\n\t\tit: 'mejs.italian',\n\t\tja: 'mejs.japanese',\n\t\tko: 'mejs.korean',\n\t\tlv: 'mejs.latvian',\n\t\tlt: 'mejs.lithuanian',\n\t\tmk: 'mejs.macedonian',\n\t\tms: 'mejs.malay',\n\t\tmt: 'mejs.maltese',\n\t\tno: 'mejs.norwegian',\n\t\tfa: 'mejs.persian',\n\t\tpl: 'mejs.polish',\n\t\tpt: 'mejs.portuguese',\n\t\tro: 'mejs.romanian',\n\t\tru: 'mejs.russian',\n\t\tsr: 'mejs.serbian',\n\t\tsk: 'mejs.slovak',\n\t\tsl: 'mejs.slovenian',\n\t\tes: 'mejs.spanish',\n\t\tsw: 'mejs.swahili',\n\t\tsv: 'mejs.swedish',\n\t\ttl: 'mejs.tagalog',\n\t\tth: 'mejs.thai',\n\t\ttr: 'mejs.turkish',\n\t\tuk: 'mejs.ukrainian',\n\t\tvi: 'mejs.vietnamese',\n\t\tcy: 'mejs.welsh',\n\t\tyi: 'mejs.yiddish'\n\t}\n};\n\n_mejs2.default.TrackFormatParser = {\n\twebvtt: {\n\t\tpattern: /^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,\n\n\t\tparse: function parse(trackText) {\n\t\t\tvar lines = trackText.split(/\\r?\\n/),\n\t\t\t    entries = [];\n\n\t\t\tvar timecode = void 0,\n\t\t\t    text = void 0,\n\t\t\t    identifier = void 0;\n\n\t\t\tfor (var i = 0, total = lines.length; i < total; i++) {\n\t\t\t\ttimecode = this.pattern.exec(lines[i]);\n\n\t\t\t\tif (timecode && i < lines.length) {\n\t\t\t\t\tif (i - 1 >= 0 && lines[i - 1] !== '') {\n\t\t\t\t\t\tidentifier = lines[i - 1];\n\t\t\t\t\t}\n\t\t\t\t\ti++;\n\n\t\t\t\t\ttext = lines[i];\n\t\t\t\t\ti++;\n\t\t\t\t\twhile (lines[i] !== '' && i < lines.length) {\n\t\t\t\t\t\ttext = text + '\\n' + lines[i];\n\t\t\t\t\t\ti++;\n\t\t\t\t\t}\n\t\t\t\t\ttext = text === null ? '' : text.trim().replace(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig, \"<a href='$1' target='_blank'>$1</a>\");\n\t\t\t\t\tentries.push({\n\t\t\t\t\t\tidentifier: identifier,\n\t\t\t\t\t\tstart: (0, _time.convertSMPTEtoSeconds)(timecode[1]) === 0 ? 0.200 : (0, _time.convertSMPTEtoSeconds)(timecode[1]),\n\t\t\t\t\t\tstop: (0, _time.convertSMPTEtoSeconds)(timecode[3]),\n\t\t\t\t\t\ttext: text,\n\t\t\t\t\t\tsettings: timecode[5]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tidentifier = '';\n\t\t\t}\n\t\t\treturn entries;\n\t\t}\n\t},\n\n\tdfxp: {\n\t\tparse: function parse(trackText) {\n\t\t\ttrackText = $(trackText).filter('tt');\n\t\t\tvar container = trackText.firstChild,\n\t\t\t    lines = container.querySelectorAll('p'),\n\t\t\t    styleNode = trackText.getElementById('' + container.attr('style')),\n\t\t\t    entries = [];\n\n\t\t\tvar styles = void 0;\n\n\t\t\tif (styleNode.length) {\n\t\t\t\tstyleNode.removeAttribute('id');\n\t\t\t\tvar attributes = styleNode.attributes;\n\t\t\t\tif (attributes.length) {\n\t\t\t\t\tstyles = {};\n\t\t\t\t\tfor (var i = 0, total = attributes.length; i < total; i++) {\n\t\t\t\t\t\tstyles[attributes[i].name.split(\":\")[1]] = attributes[i].value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var _i16 = 0, _total13 = lines.length; _i16 < _total13; _i16++) {\n\t\t\t\tvar style = void 0,\n\t\t\t\t    _temp = {\n\t\t\t\t\tstart: null,\n\t\t\t\t\tstop: null,\n\t\t\t\t\tstyle: null,\n\t\t\t\t\ttext: null\n\t\t\t\t};\n\n\t\t\t\tif (lines.eq(_i16).attr('begin')) {\n\t\t\t\t\t_temp.start = (0, _time.convertSMPTEtoSeconds)(lines.eq(_i16).attr('begin'));\n\t\t\t\t}\n\t\t\t\tif (!_temp.start && lines.eq(_i16 - 1).attr('end')) {\n\t\t\t\t\t_temp.start = (0, _time.convertSMPTEtoSeconds)(lines.eq(_i16 - 1).attr('end'));\n\t\t\t\t}\n\t\t\t\tif (lines.eq(_i16).attr('end')) {\n\t\t\t\t\t_temp.stop = (0, _time.convertSMPTEtoSeconds)(lines.eq(_i16).attr('end'));\n\t\t\t\t}\n\t\t\t\tif (!_temp.stop && lines.eq(_i16 + 1).attr('begin')) {\n\t\t\t\t\t_temp.stop = (0, _time.convertSMPTEtoSeconds)(lines.eq(_i16 + 1).attr('begin'));\n\t\t\t\t}\n\n\t\t\t\tif (styles) {\n\t\t\t\t\tstyle = '';\n\t\t\t\t\tfor (var _style in styles) {\n\t\t\t\t\t\tstyle += _style + ':' + styles[_style] + ';';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (style) {\n\t\t\t\t\t_temp.style = style;\n\t\t\t\t}\n\t\t\t\tif (_temp.start === 0) {\n\t\t\t\t\t_temp.start = 0.200;\n\t\t\t\t}\n\t\t\t\t_temp.text = lines.eq(_i16).innerHTML.trim().replace(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig, \"<a href='$1' target='_blank'>$1</a>\");\n\t\t\t\tentries.push(_temp);\n\t\t\t}\n\t\t\treturn entries;\n\t\t}\n\t}\n};\n\n},{\"16\":16,\"2\":2,\"26\":26,\"27\":27,\"30\":30,\"5\":5,\"7\":7}],14:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _constants = _dereq_(25);\n\nvar _general = _dereq_(27);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tmuteText: null,\n\n\tunmuteText: null,\n\n\tallyVolumeControlText: null,\n\n\thideVolumeOnTouchDevices: true,\n\n\taudioVolume: 'horizontal',\n\n\tvideoVolume: 'vertical',\n\n\tstartVolume: 0.8\n});\n\nObject.assign(_player2.default.prototype, {\n\tbuildvolume: function buildvolume(player, controls, layers, media) {\n\t\tif ((_constants.IS_ANDROID || _constants.IS_IOS) && this.options.hideVolumeOnTouchDevices) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar t = this,\n\t\t    mode = t.isVideo ? t.options.videoVolume : t.options.audioVolume,\n\t\t    muteText = (0, _general.isString)(t.options.muteText) ? t.options.muteText : _i18n2.default.t('mejs.mute'),\n\t\t    unmuteText = (0, _general.isString)(t.options.unmuteText) ? t.options.unmuteText : _i18n2.default.t('mejs.unmute'),\n\t\t    volumeControlText = (0, _general.isString)(t.options.allyVolumeControlText) ? t.options.allyVolumeControlText : _i18n2.default.t('mejs.volume-help-text'),\n\t\t    mute = _document2.default.createElement('div');\n\n\t\tmute.className = t.options.classPrefix + 'button ' + t.options.classPrefix + 'volume-button ' + t.options.classPrefix + 'mute';\n\t\tmute.innerHTML = mode === 'horizontal' ? '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + muteText + '\" aria-label=\"' + muteText + '\" tabindex=\"0\"></button>' : '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + muteText + '\" aria-label=\"' + muteText + '\" tabindex=\"0\"></button>' + ('<a href=\"javascript:void(0);\" class=\"' + t.options.classPrefix + 'volume-slider\" ') + ('aria-label=\"' + _i18n2.default.t('mejs.volume-slider') + '\" aria-valuemin=\"0\" aria-valuemax=\"100\" role=\"slider\" ') + 'aria-orientation=\"vertical\">' + ('<span class=\"' + t.options.classPrefix + 'offscreen\">' + volumeControlText + '</span>') + ('<div class=\"' + t.options.classPrefix + 'volume-total\">') + ('<div class=\"' + t.options.classPrefix + 'volume-current\"></div>') + ('<div class=\"' + t.options.classPrefix + 'volume-handle\"></div>') + '</div>' + '</a>';\n\n\t\tt.addControlElement(mute, 'volume');\n\n\t\tt.options.keyActions.push({\n\t\t\tkeys: [38],\n\t\t\taction: function action(player) {\n\t\t\t\tvar volumeSlider = player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'volume-slider');\n\t\t\t\tif (volumeSlider && volumeSlider.matches(':focus')) {\n\t\t\t\t\tvolumeSlider.style.display = 'block';\n\t\t\t\t}\n\t\t\t\tif (player.isVideo) {\n\t\t\t\t\tplayer.showControls();\n\t\t\t\t\tplayer.startControlsTimer();\n\t\t\t\t}\n\n\t\t\t\tvar newVolume = Math.min(player.volume + 0.1, 1);\n\t\t\t\tplayer.setVolume(newVolume);\n\t\t\t\tif (newVolume > 0) {\n\t\t\t\t\tplayer.setMuted(false);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkeys: [40],\n\t\t\taction: function action(player) {\n\t\t\t\tvar volumeSlider = player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'volume-slider');\n\t\t\t\tif (volumeSlider) {\n\t\t\t\t\tvolumeSlider.style.display = 'block';\n\t\t\t\t}\n\n\t\t\t\tif (player.isVideo) {\n\t\t\t\t\tplayer.showControls();\n\t\t\t\t\tplayer.startControlsTimer();\n\t\t\t\t}\n\n\t\t\t\tvar newVolume = Math.max(player.volume - 0.1, 0);\n\t\t\t\tplayer.setVolume(newVolume);\n\n\t\t\t\tif (newVolume <= 0.1) {\n\t\t\t\t\tplayer.setMuted(true);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkeys: [77],\n\t\t\taction: function action(player) {\n\t\t\t\tvar volumeSlider = player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'volume-slider');\n\t\t\t\tif (volumeSlider) {\n\t\t\t\t\tvolumeSlider.style.display = 'block';\n\t\t\t\t}\n\n\t\t\t\tif (player.isVideo) {\n\t\t\t\t\tplayer.showControls();\n\t\t\t\t\tplayer.startControlsTimer();\n\t\t\t\t}\n\t\t\t\tif (player.media.muted) {\n\t\t\t\t\tplayer.setMuted(false);\n\t\t\t\t} else {\n\t\t\t\t\tplayer.setMuted(true);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (mode === 'horizontal') {\n\t\t\tvar anchor = _document2.default.createElement('a');\n\t\t\tanchor.className = t.options.classPrefix + 'horizontal-volume-slider';\n\t\t\tanchor.href = 'javascript:void(0);';\n\t\t\tanchor.setAttribute('aria-label', _i18n2.default.t('mejs.volume-slider'));\n\t\t\tanchor.setAttribute('aria-valuemin', 0);\n\t\t\tanchor.setAttribute('aria-valuemax', 100);\n\t\t\tanchor.setAttribute('aria-valuenow', 100);\n\t\t\tanchor.setAttribute('role', 'slider');\n\t\t\tanchor.innerHTML += '<span class=\"' + t.options.classPrefix + 'offscreen\">' + volumeControlText + '</span>' + ('<div class=\"' + t.options.classPrefix + 'horizontal-volume-total\">') + ('<div class=\"' + t.options.classPrefix + 'horizontal-volume-current\"></div>') + ('<div class=\"' + t.options.classPrefix + 'horizontal-volume-handle\"></div>') + '</div>';\n\t\t\tmute.parentNode.insertBefore(anchor, mute.nextSibling);\n\t\t}\n\n\t\tvar mouseIsDown = false,\n\t\t    mouseIsOver = false,\n\t\t    modified = false,\n\t\t    updateVolumeSlider = function updateVolumeSlider() {\n\t\t\tvar volume = Math.floor(media.volume * 100);\n\t\t\tvolumeSlider.setAttribute('aria-valuenow', volume);\n\t\t\tvolumeSlider.setAttribute('aria-valuetext', volume + '%');\n\t\t};\n\n\t\tvar volumeSlider = mode === 'vertical' ? t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'volume-slider') : t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'horizontal-volume-slider'),\n\t\t    volumeTotal = mode === 'vertical' ? t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'volume-total') : t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'horizontal-volume-total'),\n\t\t    volumeCurrent = mode === 'vertical' ? t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'volume-current') : t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'horizontal-volume-current'),\n\t\t    volumeHandle = mode === 'vertical' ? t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'volume-handle') : t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'horizontal-volume-handle'),\n\t\t    positionVolumeHandle = function positionVolumeHandle(volume) {\n\n\t\t\tif (volume === null || isNaN(volume) || volume === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvolume = Math.max(0, volume);\n\t\t\tvolume = Math.min(volume, 1);\n\n\t\t\tif (volume === 0) {\n\t\t\t\t(0, _dom.removeClass)(mute, t.options.classPrefix + 'mute');\n\t\t\t\t(0, _dom.addClass)(mute, t.options.classPrefix + 'unmute');\n\t\t\t\tvar button = mute.firstElementChild;\n\t\t\t\tbutton.setAttribute('title', unmuteText);\n\t\t\t\tbutton.setAttribute('aria-label', unmuteText);\n\t\t\t} else {\n\t\t\t\t(0, _dom.removeClass)(mute, t.options.classPrefix + 'unmute');\n\t\t\t\t(0, _dom.addClass)(mute, t.options.classPrefix + 'mute');\n\t\t\t\tvar _button = mute.firstElementChild;\n\t\t\t\t_button.setAttribute('title', muteText);\n\t\t\t\t_button.setAttribute('aria-label', muteText);\n\t\t\t}\n\n\t\t\tvar volumePercentage = volume * 100 + '%',\n\t\t\t    volumeStyles = getComputedStyle(volumeHandle);\n\n\t\t\tif (mode === 'vertical') {\n\t\t\t\tvolumeCurrent.style.bottom = 0;\n\t\t\t\tvolumeCurrent.style.height = volumePercentage;\n\t\t\t\tvolumeHandle.style.bottom = volumePercentage;\n\t\t\t\tvolumeHandle.style.marginBottom = -parseFloat(volumeStyles.height) / 2 + 'px';\n\t\t\t} else {\n\t\t\t\tvolumeCurrent.style.left = 0;\n\t\t\t\tvolumeCurrent.style.width = volumePercentage;\n\t\t\t\tvolumeHandle.style.left = volumePercentage;\n\t\t\t\tvolumeHandle.style.marginLeft = -parseFloat(volumeStyles.width) / 2 + 'px';\n\t\t\t}\n\t\t},\n\t\t    handleVolumeMove = function handleVolumeMove(e) {\n\t\t\tvar totalOffset = (0, _dom.offset)(volumeTotal),\n\t\t\t    volumeStyles = getComputedStyle(volumeTotal);\n\n\t\t\tmodified = true;\n\n\t\t\tvar volume = null;\n\n\t\t\tif (mode === 'vertical') {\n\t\t\t\tvar railHeight = parseFloat(volumeStyles.height),\n\t\t\t\t    newY = e.pageY - totalOffset.top;\n\n\t\t\t\tvolume = (railHeight - newY) / railHeight;\n\n\t\t\t\tif (totalOffset.top === 0 || totalOffset.left === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar railWidth = parseFloat(volumeStyles.width),\n\t\t\t\t    newX = e.pageX - totalOffset.left;\n\n\t\t\t\tvolume = newX / railWidth;\n\t\t\t}\n\n\t\t\tvolume = Math.max(0, volume);\n\t\t\tvolume = Math.min(volume, 1);\n\n\t\t\tpositionVolumeHandle(volume);\n\n\t\t\tt.setMuted(volume === 0);\n\t\t\tt.setVolume(volume);\n\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t},\n\t\t    toggleMute = function toggleMute() {\n\t\t\tif (t.muted) {\n\t\t\t\tpositionVolumeHandle(0);\n\t\t\t\t(0, _dom.removeClass)(mute, t.options.classPrefix + 'mute');\n\t\t\t\t(0, _dom.addClass)(mute, t.options.classPrefix + 'unmute');\n\t\t\t} else {\n\t\t\t\tpositionVolumeHandle(media.volume);\n\t\t\t\t(0, _dom.removeClass)(mute, t.options.classPrefix + 'unmute');\n\t\t\t\t(0, _dom.addClass)(mute, t.options.classPrefix + 'mute');\n\t\t\t}\n\t\t};\n\n\t\tplayer.getElement(player.container).addEventListener('keydown', function (e) {\n\t\t\tvar hasFocus = !!e.target.closest('.' + t.options.classPrefix + 'container');\n\t\t\tif (!hasFocus && mode === 'vertical') {\n\t\t\t\tvolumeSlider.style.display = 'none';\n\t\t\t}\n\t\t});\n\n\t\tmute.addEventListener('mouseenter', function (e) {\n\t\t\tif (e.target === mute) {\n\t\t\t\tvolumeSlider.style.display = 'block';\n\t\t\t\tmouseIsOver = true;\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t});\n\t\tmute.addEventListener('focusin', function () {\n\t\t\tvolumeSlider.style.display = 'block';\n\t\t\tmouseIsOver = true;\n\t\t});\n\n\t\tmute.addEventListener('focusout', function (e) {\n\t\t\tif ((!e.relatedTarget || e.relatedTarget && !e.relatedTarget.matches('.' + t.options.classPrefix + 'volume-slider')) && mode === 'vertical') {\n\t\t\t\tvolumeSlider.style.display = 'none';\n\t\t\t}\n\t\t});\n\t\tmute.addEventListener('mouseleave', function () {\n\t\t\tmouseIsOver = false;\n\t\t\tif (!mouseIsDown && mode === 'vertical') {\n\t\t\t\tvolumeSlider.style.display = 'none';\n\t\t\t}\n\t\t});\n\t\tmute.addEventListener('focusout', function () {\n\t\t\tmouseIsOver = false;\n\t\t});\n\t\tmute.addEventListener('keydown', function (e) {\n\t\t\tif (t.options.enableKeyboard && t.options.keyActions.length) {\n\t\t\t\tvar keyCode = e.which || e.keyCode || 0,\n\t\t\t\t    volume = media.volume;\n\n\t\t\t\tswitch (keyCode) {\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tvolume = Math.min(volume + 0.1, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 40:\n\t\t\t\t\t\tvolume = Math.max(0, volume - 0.1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tmouseIsDown = false;\n\t\t\t\tpositionVolumeHandle(volume);\n\t\t\t\tmedia.setVolume(volume);\n\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t});\n\t\tmute.querySelector('button').addEventListener('click', function () {\n\t\t\tmedia.setMuted(!media.muted);\n\t\t\tvar event = (0, _general.createEvent)('volumechange', media);\n\t\t\tmedia.dispatchEvent(event);\n\t\t});\n\n\t\tvolumeSlider.addEventListener('dragstart', function () {\n\t\t\treturn false;\n\t\t});\n\n\t\tvolumeSlider.addEventListener('mouseover', function () {\n\t\t\tmouseIsOver = true;\n\t\t});\n\t\tvolumeSlider.addEventListener('focusin', function () {\n\t\t\tvolumeSlider.style.display = 'block';\n\t\t\tmouseIsOver = true;\n\t\t});\n\t\tvolumeSlider.addEventListener('focusout', function () {\n\t\t\tmouseIsOver = false;\n\t\t\tif (!mouseIsDown && mode === 'vertical') {\n\t\t\t\tvolumeSlider.style.display = 'none';\n\t\t\t}\n\t\t});\n\t\tvolumeSlider.addEventListener('mousedown', function (e) {\n\t\t\thandleVolumeMove(e);\n\t\t\tt.globalBind('mousemove.vol', function (event) {\n\t\t\t\tvar target = event.target;\n\t\t\t\tif (mouseIsDown && (target === volumeSlider || target.closest(mode === 'vertical' ? '.' + t.options.classPrefix + 'volume-slider' : '.' + t.options.classPrefix + 'horizontal-volume-slider'))) {\n\t\t\t\t\thandleVolumeMove(event);\n\t\t\t\t}\n\t\t\t});\n\t\t\tt.globalBind('mouseup.vol', function () {\n\t\t\t\tmouseIsDown = false;\n\t\t\t\tif (!mouseIsOver && mode === 'vertical') {\n\t\t\t\t\tvolumeSlider.style.display = 'none';\n\t\t\t\t}\n\t\t\t});\n\t\t\tmouseIsDown = true;\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tmedia.addEventListener('volumechange', function (e) {\n\t\t\tif (!mouseIsDown) {\n\t\t\t\ttoggleMute();\n\t\t\t}\n\t\t\tupdateVolumeSlider(e);\n\t\t});\n\n\t\tvar rendered = false;\n\t\tmedia.addEventListener('rendererready', function () {\n\t\t\tif (!modified) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\trendered = true;\n\t\t\t\t\tif (player.options.startVolume === 0 || media.originalNode.muted) {\n\t\t\t\t\t\tmedia.setMuted(true);\n\t\t\t\t\t\tplayer.options.startVolume = 0;\n\t\t\t\t\t}\n\t\t\t\t\tmedia.setVolume(player.options.startVolume);\n\t\t\t\t\tt.setControlsSize();\n\t\t\t\t}, 250);\n\t\t\t}\n\t\t});\n\n\t\tmedia.addEventListener('loadedmetadata', function () {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (!modified && !rendered) {\n\t\t\t\t\tif (player.options.startVolume === 0 || media.originalNode.muted) {\n\t\t\t\t\t\tmedia.setMuted(true);\n\t\t\t\t\t}\n\t\t\t\t\tmedia.setVolume(player.options.startVolume);\n\t\t\t\t\tt.setControlsSize();\n\t\t\t\t}\n\t\t\t\trendered = false;\n\t\t\t}, 250);\n\t\t});\n\n\t\tif (player.options.startVolume === 0 || media.originalNode.muted) {\n\t\t\tmedia.setMuted(true);\n\t\t\tplayer.options.startVolume = 0;\n\t\t\ttoggleMute();\n\t\t}\n\n\t\tt.getElement(t.container).addEventListener('controlsresize', function () {\n\t\t\ttoggleMute();\n\t\t});\n\t}\n});\n\n},{\"16\":16,\"2\":2,\"25\":25,\"26\":26,\"27\":27,\"5\":5}],15:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar EN = exports.EN = {\n\t'mejs.plural-form': 1,\n\n\t'mejs.download-file': 'Download File',\n\n\t'mejs.install-flash': 'You are using a browser that does not have Flash player enabled or installed. Please turn on your Flash player plugin or download the latest version from https://get.adobe.com/flashplayer/',\n\n\t'mejs.fullscreen': 'Fullscreen',\n\n\t'mejs.play': 'Play',\n\t'mejs.pause': 'Pause',\n\n\t'mejs.time-slider': 'Time Slider',\n\t'mejs.time-help-text': 'Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.',\n\t'mejs.live-broadcast': 'Live Broadcast',\n\n\t'mejs.volume-help-text': 'Use Up/Down Arrow keys to increase or decrease volume.',\n\t'mejs.unmute': 'Unmute',\n\t'mejs.mute': 'Mute',\n\t'mejs.volume-slider': 'Volume Slider',\n\n\t'mejs.video-player': 'Video Player',\n\t'mejs.audio-player': 'Audio Player',\n\n\t'mejs.captions-subtitles': 'Captions/Subtitles',\n\t'mejs.captions-chapters': 'Chapters',\n\t'mejs.none': 'None',\n\t'mejs.afrikaans': 'Afrikaans',\n\t'mejs.albanian': 'Albanian',\n\t'mejs.arabic': 'Arabic',\n\t'mejs.belarusian': 'Belarusian',\n\t'mejs.bulgarian': 'Bulgarian',\n\t'mejs.catalan': 'Catalan',\n\t'mejs.chinese': 'Chinese',\n\t'mejs.chinese-simplified': 'Chinese (Simplified)',\n\t'mejs.chinese-traditional': 'Chinese (Traditional)',\n\t'mejs.croatian': 'Croatian',\n\t'mejs.czech': 'Czech',\n\t'mejs.danish': 'Danish',\n\t'mejs.dutch': 'Dutch',\n\t'mejs.english': 'English',\n\t'mejs.estonian': 'Estonian',\n\t'mejs.filipino': 'Filipino',\n\t'mejs.finnish': 'Finnish',\n\t'mejs.french': 'French',\n\t'mejs.galician': 'Galician',\n\t'mejs.german': 'German',\n\t'mejs.greek': 'Greek',\n\t'mejs.haitian-creole': 'Haitian Creole',\n\t'mejs.hebrew': 'Hebrew',\n\t'mejs.hindi': 'Hindi',\n\t'mejs.hungarian': 'Hungarian',\n\t'mejs.icelandic': 'Icelandic',\n\t'mejs.indonesian': 'Indonesian',\n\t'mejs.irish': 'Irish',\n\t'mejs.italian': 'Italian',\n\t'mejs.japanese': 'Japanese',\n\t'mejs.korean': 'Korean',\n\t'mejs.latvian': 'Latvian',\n\t'mejs.lithuanian': 'Lithuanian',\n\t'mejs.macedonian': 'Macedonian',\n\t'mejs.malay': 'Malay',\n\t'mejs.maltese': 'Maltese',\n\t'mejs.norwegian': 'Norwegian',\n\t'mejs.persian': 'Persian',\n\t'mejs.polish': 'Polish',\n\t'mejs.portuguese': 'Portuguese',\n\t'mejs.romanian': 'Romanian',\n\t'mejs.russian': 'Russian',\n\t'mejs.serbian': 'Serbian',\n\t'mejs.slovak': 'Slovak',\n\t'mejs.slovenian': 'Slovenian',\n\t'mejs.spanish': 'Spanish',\n\t'mejs.swahili': 'Swahili',\n\t'mejs.swedish': 'Swedish',\n\t'mejs.tagalog': 'Tagalog',\n\t'mejs.thai': 'Thai',\n\t'mejs.turkish': 'Turkish',\n\t'mejs.ukrainian': 'Ukrainian',\n\t'mejs.vietnamese': 'Vietnamese',\n\t'mejs.welsh': 'Welsh',\n\t'mejs.yiddish': 'Yiddish'\n};\n\n},{}],16:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.config = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _mediaelement = _dereq_(6);\n\nvar _mediaelement2 = _interopRequireDefault(_mediaelement);\n\nvar _default = _dereq_(17);\n\nvar _default2 = _interopRequireDefault(_default);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _constants = _dereq_(25);\n\nvar _general = _dereq_(27);\n\nvar _time = _dereq_(30);\n\nvar _media = _dereq_(28);\n\nvar _dom = _dereq_(26);\n\nvar dom = _interopRequireWildcard(_dom);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n_mejs2.default.mepIndex = 0;\n\n_mejs2.default.players = {};\n\nvar config = exports.config = {\n\tposter: '',\n\n\tshowPosterWhenEnded: false,\n\n\tshowPosterWhenPaused: false,\n\n\tdefaultVideoWidth: 480,\n\n\tdefaultVideoHeight: 270,\n\n\tvideoWidth: -1,\n\n\tvideoHeight: -1,\n\n\tdefaultAudioWidth: 400,\n\n\tdefaultAudioHeight: 40,\n\n\tdefaultSeekBackwardInterval: function defaultSeekBackwardInterval(media) {\n\t\treturn media.getDuration() * 0.05;\n\t},\n\n\tdefaultSeekForwardInterval: function defaultSeekForwardInterval(media) {\n\t\treturn media.getDuration() * 0.05;\n\t},\n\n\tsetDimensions: true,\n\n\taudioWidth: -1,\n\n\taudioHeight: -1,\n\n\tloop: false,\n\n\tautoRewind: true,\n\n\tenableAutosize: true,\n\n\ttimeFormat: '',\n\n\talwaysShowHours: false,\n\n\tshowTimecodeFrameCount: false,\n\n\tframesPerSecond: 25,\n\n\talwaysShowControls: false,\n\n\thideVideoControlsOnLoad: false,\n\n\thideVideoControlsOnPause: false,\n\n\tclickToPlayPause: true,\n\n\tcontrolsTimeoutDefault: 1500,\n\n\tcontrolsTimeoutMouseEnter: 2500,\n\n\tcontrolsTimeoutMouseLeave: 1000,\n\n\tiPadUseNativeControls: false,\n\n\tiPhoneUseNativeControls: false,\n\n\tAndroidUseNativeControls: false,\n\n\tfeatures: ['playpause', 'current', 'progress', 'duration', 'tracks', 'volume', 'fullscreen'],\n\n\tuseDefaultControls: false,\n\n\tisVideo: true,\n\n\tstretching: 'auto',\n\n\tclassPrefix: 'mejs__',\n\n\tenableKeyboard: true,\n\n\tpauseOtherPlayers: true,\n\n\tsecondsDecimalLength: 0,\n\n\tcustomError: null,\n\n\tkeyActions: [{\n\t\tkeys: [32, 179],\n\t\taction: function action(player) {\n\n\t\t\tif (!_constants.IS_FIREFOX) {\n\t\t\t\tif (player.paused || player.ended) {\n\t\t\t\t\tplayer.play();\n\t\t\t\t} else {\n\t\t\t\t\tplayer.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}]\n};\n\n_mejs2.default.MepDefaults = config;\n\nvar MediaElementPlayer = function () {\n\tfunction MediaElementPlayer(node, o) {\n\t\t_classCallCheck(this, MediaElementPlayer);\n\n\t\tvar t = this,\n\t\t    element = typeof node === 'string' ? _document2.default.getElementById(node) : node;\n\n\t\tif (!(t instanceof MediaElementPlayer)) {\n\t\t\treturn new MediaElementPlayer(element, o);\n\t\t}\n\n\t\tt.node = t.media = element;\n\n\t\tif (!t.node) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (t.media.player) {\n\t\t\treturn t.media.player;\n\t\t}\n\n\t\tt.hasFocus = false;\n\n\t\tt.controlsAreVisible = true;\n\n\t\tt.controlsEnabled = true;\n\n\t\tt.controlsTimer = null;\n\n\t\tt.currentMediaTime = 0;\n\n\t\tt.proxy = null;\n\n\t\tif (o === undefined) {\n\t\t\tvar options = t.node.getAttribute('data-mejsoptions');\n\t\t\to = options ? JSON.parse(options) : {};\n\t\t}\n\n\t\tt.options = Object.assign({}, config, o);\n\n\t\tif (t.options.loop && !t.media.getAttribute('loop')) {\n\t\t\tt.media.loop = true;\n\t\t\tt.node.loop = true;\n\t\t} else if (t.media.loop) {\n\t\t\tt.options.loop = true;\n\t\t}\n\n\t\tif (!t.options.timeFormat) {\n\t\t\tt.options.timeFormat = 'mm:ss';\n\t\t\tif (t.options.alwaysShowHours) {\n\t\t\t\tt.options.timeFormat = 'hh:mm:ss';\n\t\t\t}\n\t\t\tif (t.options.showTimecodeFrameCount) {\n\t\t\t\tt.options.timeFormat += ':ff';\n\t\t\t}\n\t\t}\n\n\t\t(0, _time.calculateTimeFormat)(0, t.options, t.options.framesPerSecond || 25);\n\n\t\tt.id = 'mep_' + _mejs2.default.mepIndex++;\n\n\t\t_mejs2.default.players[t.id] = t;\n\n\t\tt.init();\n\n\t\treturn t;\n\t}\n\n\t_createClass(MediaElementPlayer, [{\n\t\tkey: 'getElement',\n\t\tvalue: function getElement(element) {\n\t\t\treturn element;\n\t\t}\n\t}, {\n\t\tkey: 'init',\n\t\tvalue: function init() {\n\t\t\tvar t = this,\n\t\t\t    playerOptions = Object.assign({}, t.options, {\n\t\t\t\tsuccess: function success(media, domNode) {\n\t\t\t\t\tt._meReady(media, domNode);\n\t\t\t\t},\n\t\t\t\terror: function error(e) {\n\t\t\t\t\tt._handleError(e);\n\t\t\t\t}\n\t\t\t}),\n\t\t\t    tagName = t.node.tagName.toLowerCase();\n\n\t\t\tt.isDynamic = tagName !== 'audio' && tagName !== 'video' && tagName !== 'iframe';\n\t\t\tt.isVideo = t.isDynamic ? t.options.isVideo : tagName !== 'audio' && t.options.isVideo;\n\t\t\tt.mediaFiles = null;\n\t\t\tt.trackFiles = null;\n\n\t\t\tif (_constants.IS_IPAD && t.options.iPadUseNativeControls || _constants.IS_IPHONE && t.options.iPhoneUseNativeControls) {\n\t\t\t\tt.node.setAttribute('controls', true);\n\n\t\t\t\tif (_constants.IS_IPAD && t.node.getAttribute('autoplay')) {\n\t\t\t\t\tt.play();\n\t\t\t\t}\n\t\t\t} else if ((t.isVideo || !t.isVideo && (t.options.features.length || t.options.useDefaultControls)) && !(_constants.IS_ANDROID && t.options.AndroidUseNativeControls)) {\n\t\t\t\tt.node.removeAttribute('controls');\n\t\t\t\tvar videoPlayerTitle = t.isVideo ? _i18n2.default.t('mejs.video-player') : _i18n2.default.t('mejs.audio-player');\n\n\t\t\t\tvar offscreen = _document2.default.createElement('span');\n\t\t\t\toffscreen.className = t.options.classPrefix + 'offscreen';\n\t\t\t\toffscreen.innerText = videoPlayerTitle;\n\t\t\t\tt.media.parentNode.insertBefore(offscreen, t.media);\n\n\t\t\t\tt.container = _document2.default.createElement('div');\n\t\t\t\tt.getElement(t.container).id = t.id;\n\t\t\t\tt.getElement(t.container).className = t.options.classPrefix + 'container ' + t.options.classPrefix + 'container-keyboard-inactive ' + t.media.className;\n\t\t\t\tt.getElement(t.container).tabIndex = 0;\n\t\t\t\tt.getElement(t.container).setAttribute('role', 'application');\n\t\t\t\tt.getElement(t.container).setAttribute('aria-label', videoPlayerTitle);\n\t\t\t\tt.getElement(t.container).innerHTML = '<div class=\"' + t.options.classPrefix + 'inner\">' + ('<div class=\"' + t.options.classPrefix + 'mediaelement\"></div>') + ('<div class=\"' + t.options.classPrefix + 'layers\"></div>') + ('<div class=\"' + t.options.classPrefix + 'controls\"></div>') + '</div>';\n\t\t\t\tt.getElement(t.container).addEventListener('focus', function (e) {\n\t\t\t\t\tif (!t.controlsAreVisible && !t.hasFocus && t.controlsEnabled) {\n\t\t\t\t\t\tt.showControls(true);\n\n\t\t\t\t\t\tvar btnSelector = (0, _general.isNodeAfter)(e.relatedTarget, t.getElement(t.container)) ? '.' + t.options.classPrefix + 'controls .' + t.options.classPrefix + 'button:last-child > button' : '.' + t.options.classPrefix + 'playpause-button > button',\n\t\t\t\t\t\t    button = t.getElement(t.container).querySelector(btnSelector);\n\n\t\t\t\t\t\tbutton.focus();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tt.node.parentNode.insertBefore(t.getElement(t.container), t.node);\n\n\t\t\t\tif (!t.options.features.length && !t.options.useDefaultControls) {\n\t\t\t\t\tt.getElement(t.container).style.background = 'transparent';\n\t\t\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'controls').style.display = 'none';\n\t\t\t\t}\n\n\t\t\t\tif (t.isVideo && t.options.stretching === 'fill' && !dom.hasClass(t.getElement(t.container).parentNode, t.options.classPrefix + 'fill-container')) {\n\t\t\t\t\tt.outerContainer = t.media.parentNode;\n\n\t\t\t\t\tvar wrapper = _document2.default.createElement('div');\n\t\t\t\t\twrapper.className = t.options.classPrefix + 'fill-container';\n\t\t\t\t\tt.getElement(t.container).parentNode.insertBefore(wrapper, t.getElement(t.container));\n\t\t\t\t\twrapper.appendChild(t.getElement(t.container));\n\t\t\t\t}\n\n\t\t\t\tif (_constants.IS_ANDROID) {\n\t\t\t\t\tdom.addClass(t.getElement(t.container), t.options.classPrefix + 'android');\n\t\t\t\t}\n\t\t\t\tif (_constants.IS_IOS) {\n\t\t\t\t\tdom.addClass(t.getElement(t.container), t.options.classPrefix + 'ios');\n\t\t\t\t}\n\t\t\t\tif (_constants.IS_IPAD) {\n\t\t\t\t\tdom.addClass(t.getElement(t.container), t.options.classPrefix + 'ipad');\n\t\t\t\t}\n\t\t\t\tif (_constants.IS_IPHONE) {\n\t\t\t\t\tdom.addClass(t.getElement(t.container), t.options.classPrefix + 'iphone');\n\t\t\t\t}\n\t\t\t\tdom.addClass(t.getElement(t.container), t.isVideo ? t.options.classPrefix + 'video' : t.options.classPrefix + 'audio');\n\n\t\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'mediaelement').appendChild(t.node);\n\n\t\t\t\tt.media.player = t;\n\n\t\t\t\tt.controls = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'controls');\n\t\t\t\tt.layers = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'layers');\n\n\t\t\t\tvar tagType = t.isVideo ? 'video' : 'audio',\n\t\t\t\t    capsTagName = tagType.substring(0, 1).toUpperCase() + tagType.substring(1);\n\n\t\t\t\tif (t.options[tagType + 'Width'] > 0 || t.options[tagType + 'Width'].toString().indexOf('%') > -1) {\n\t\t\t\t\tt.width = t.options[tagType + 'Width'];\n\t\t\t\t} else if (t.node.style.width !== '' && t.node.style.width !== null) {\n\t\t\t\t\tt.width = t.node.style.width;\n\t\t\t\t} else if (t.node.getAttribute('width')) {\n\t\t\t\t\tt.width = t.node.getAttribute('width');\n\t\t\t\t} else {\n\t\t\t\t\tt.width = t.options['default' + capsTagName + 'Width'];\n\t\t\t\t}\n\n\t\t\t\tif (t.options[tagType + 'Height'] > 0 || t.options[tagType + 'Height'].toString().indexOf('%') > -1) {\n\t\t\t\t\tt.height = t.options[tagType + 'Height'];\n\t\t\t\t} else if (t.node.style.height !== '' && t.node.style.height !== null) {\n\t\t\t\t\tt.height = t.node.style.height;\n\t\t\t\t} else if (t.node.getAttribute('height')) {\n\t\t\t\t\tt.height = t.node.getAttribute('height');\n\t\t\t\t} else {\n\t\t\t\t\tt.height = t.options['default' + capsTagName + 'Height'];\n\t\t\t\t}\n\n\t\t\t\tt.initialAspectRatio = t.height >= t.width ? t.width / t.height : t.height / t.width;\n\n\t\t\t\tt.setPlayerSize(t.width, t.height);\n\n\t\t\t\tplayerOptions.pluginWidth = t.width;\n\t\t\t\tplayerOptions.pluginHeight = t.height;\n\t\t\t} else if (!t.isVideo && !t.options.features.length && !t.options.useDefaultControls) {\n\t\t\t\t\tt.node.style.display = 'none';\n\t\t\t\t}\n\n\t\t\t_mejs2.default.MepDefaults = playerOptions;\n\n\t\t\tnew _mediaelement2.default(t.media, playerOptions, t.mediaFiles);\n\n\t\t\tif (t.getElement(t.container) !== undefined && t.options.features.length && t.controlsAreVisible && !t.options.hideVideoControlsOnLoad) {\n\t\t\t\tvar event = (0, _general.createEvent)('controlsshown', t.getElement(t.container));\n\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'showControls',\n\t\tvalue: function showControls(doAnimation) {\n\t\t\tvar t = this;\n\n\t\t\tdoAnimation = doAnimation === undefined || doAnimation;\n\n\t\t\tif (t.controlsAreVisible || !t.isVideo) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (doAnimation) {\n\t\t\t\t(function () {\n\t\t\t\t\tdom.fadeIn(t.getElement(t.controls), 200, function () {\n\t\t\t\t\t\tdom.removeClass(t.getElement(t.controls), t.options.classPrefix + 'offscreen');\n\t\t\t\t\t\tvar event = (0, _general.createEvent)('controlsshown', t.getElement(t.container));\n\t\t\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t\t\t});\n\n\t\t\t\t\tvar controls = t.getElement(t.container).querySelectorAll('.' + t.options.classPrefix + 'control');\n\n\t\t\t\t\tvar _loop = function _loop(i, total) {\n\t\t\t\t\t\tdom.fadeIn(controls[i], 200, function () {\n\t\t\t\t\t\t\tdom.removeClass(controls[i], t.options.classPrefix + 'offscreen');\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\tfor (var i = 0, total = controls.length; i < total; i++) {\n\t\t\t\t\t\t_loop(i, total);\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t} else {\n\t\t\t\tdom.removeClass(t.getElement(t.controls), t.options.classPrefix + 'offscreen');\n\t\t\t\tt.getElement(t.controls).style.display = '';\n\t\t\t\tt.getElement(t.controls).style.opacity = 1;\n\n\t\t\t\tvar controls = t.getElement(t.container).querySelectorAll('.' + t.options.classPrefix + 'control');\n\t\t\t\tfor (var i = 0, total = controls.length; i < total; i++) {\n\t\t\t\t\tdom.removeClass(controls[i], t.options.classPrefix + 'offscreen');\n\t\t\t\t\tcontrols[i].style.display = '';\n\t\t\t\t}\n\n\t\t\t\tvar event = (0, _general.createEvent)('controlsshown', t.getElement(t.container));\n\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t}\n\n\t\t\tt.controlsAreVisible = true;\n\t\t\tt.setControlsSize();\n\t\t}\n\t}, {\n\t\tkey: 'hideControls',\n\t\tvalue: function hideControls(doAnimation, forceHide) {\n\t\t\tvar t = this;\n\n\t\t\tdoAnimation = doAnimation === undefined || doAnimation;\n\n\t\t\tif (forceHide !== true && (!t.controlsAreVisible || t.options.alwaysShowControls || t.paused && t.readyState === 4 && (!t.options.hideVideoControlsOnLoad && t.currentTime <= 0 || !t.options.hideVideoControlsOnPause && t.currentTime > 0) || t.isVideo && !t.options.hideVideoControlsOnLoad && !t.readyState || t.ended)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (doAnimation) {\n\t\t\t\t(function () {\n\t\t\t\t\tdom.fadeOut(t.getElement(t.controls), 200, function () {\n\t\t\t\t\t\tdom.addClass(t.getElement(t.controls), t.options.classPrefix + 'offscreen');\n\t\t\t\t\t\tt.getElement(t.controls).style.display = '';\n\t\t\t\t\t\tvar event = (0, _general.createEvent)('controlshidden', t.getElement(t.container));\n\t\t\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t\t\t});\n\n\t\t\t\t\tvar controls = t.getElement(t.container).querySelectorAll('.' + t.options.classPrefix + 'control');\n\n\t\t\t\t\tvar _loop2 = function _loop2(i, total) {\n\t\t\t\t\t\tdom.fadeOut(controls[i], 200, function () {\n\t\t\t\t\t\t\tdom.addClass(controls[i], t.options.classPrefix + 'offscreen');\n\t\t\t\t\t\t\tcontrols[i].style.display = '';\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\tfor (var i = 0, total = controls.length; i < total; i++) {\n\t\t\t\t\t\t_loop2(i, total);\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t} else {\n\t\t\t\tdom.addClass(t.getElement(t.controls), t.options.classPrefix + 'offscreen');\n\t\t\t\tt.getElement(t.controls).style.display = '';\n\t\t\t\tt.getElement(t.controls).style.opacity = 0;\n\n\t\t\t\tvar controls = t.getElement(t.container).querySelectorAll('.' + t.options.classPrefix + 'control');\n\t\t\t\tfor (var i = 0, total = controls.length; i < total; i++) {\n\t\t\t\t\tdom.addClass(controls[i], t.options.classPrefix + 'offscreen');\n\t\t\t\t\tcontrols[i].style.display = '';\n\t\t\t\t}\n\n\t\t\t\tvar event = (0, _general.createEvent)('controlshidden', t.getElement(t.container));\n\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t}\n\n\t\t\tt.controlsAreVisible = false;\n\t\t}\n\t}, {\n\t\tkey: 'startControlsTimer',\n\t\tvalue: function startControlsTimer(timeout) {\n\t\t\tvar t = this;\n\n\t\t\ttimeout = typeof timeout !== 'undefined' ? timeout : t.options.controlsTimeoutDefault;\n\n\t\t\tt.killControlsTimer('start');\n\n\t\t\tt.controlsTimer = setTimeout(function () {\n\t\t\t\tt.hideControls();\n\t\t\t\tt.killControlsTimer('hide');\n\t\t\t}, timeout);\n\t\t}\n\t}, {\n\t\tkey: 'killControlsTimer',\n\t\tvalue: function killControlsTimer() {\n\t\t\tvar t = this;\n\n\t\t\tif (t.controlsTimer !== null) {\n\t\t\t\tclearTimeout(t.controlsTimer);\n\t\t\t\tdelete t.controlsTimer;\n\t\t\t\tt.controlsTimer = null;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'disableControls',\n\t\tvalue: function disableControls() {\n\t\t\tvar t = this;\n\n\t\t\tt.killControlsTimer();\n\t\t\tt.controlsEnabled = false;\n\t\t\tt.hideControls(false, true);\n\t\t}\n\t}, {\n\t\tkey: 'enableControls',\n\t\tvalue: function enableControls() {\n\t\t\tvar t = this;\n\n\t\t\tt.controlsEnabled = true;\n\t\t\tt.showControls(false);\n\t\t}\n\t}, {\n\t\tkey: '_setDefaultPlayer',\n\t\tvalue: function _setDefaultPlayer() {\n\t\t\tvar t = this;\n\t\t\tif (t.proxy) {\n\t\t\t\tt.proxy.pause();\n\t\t\t}\n\t\t\tt.proxy = new _default2.default(t);\n\t\t\tt.media.addEventListener('loadedmetadata', function () {\n\t\t\t\tif (t.getCurrentTime() > 0 && t.currentMediaTime > 0) {\n\t\t\t\t\tt.setCurrentTime(t.currentMediaTime);\n\t\t\t\t\tif (!_constants.IS_IOS && !_constants.IS_ANDROID) {\n\t\t\t\t\t\tt.play();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_meReady',\n\t\tvalue: function _meReady(media, domNode) {\n\t\t\tvar t = this,\n\t\t\t    autoplayAttr = domNode.getAttribute('autoplay'),\n\t\t\t    autoplay = !(autoplayAttr === undefined || autoplayAttr === null || autoplayAttr === 'false'),\n\t\t\t    isNative = media.rendererName !== null && /(native|html5)/i.test(t.media.rendererName);\n\n\t\t\tif (t.getElement(t.controls)) {\n\t\t\t\tt.enableControls();\n\t\t\t}\n\n\t\t\tif (t.getElement(t.container) && t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'overlay-play')) {\n\t\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'overlay-play').style.display = '';\n\t\t\t}\n\n\t\t\tif (t.created) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tt.created = true;\n\t\t\tt.media = media;\n\t\t\tt.domNode = domNode;\n\n\t\t\tif (!(_constants.IS_ANDROID && t.options.AndroidUseNativeControls) && !(_constants.IS_IPAD && t.options.iPadUseNativeControls) && !(_constants.IS_IPHONE && t.options.iPhoneUseNativeControls)) {\n\t\t\t\tif (!t.isVideo && !t.options.features.length && !t.options.useDefaultControls) {\n\t\t\t\t\tif (autoplay && isNative) {\n\t\t\t\t\t\tt.play();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.options.success) {\n\n\t\t\t\t\t\tif (typeof t.options.success === 'string') {\n\t\t\t\t\t\t\t_window2.default[t.options.success](t.media, t.domNode, t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tt.options.success(t.media, t.domNode, t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tt.featurePosition = {};\n\n\t\t\t\tt._setDefaultPlayer();\n\n\t\t\t\tt.buildposter(t, t.getElement(t.controls), t.getElement(t.layers), t.media);\n\t\t\t\tt.buildkeyboard(t, t.getElement(t.controls), t.getElement(t.layers), t.media);\n\t\t\t\tt.buildoverlays(t, t.getElement(t.controls), t.getElement(t.layers), t.media);\n\n\t\t\t\tif (t.options.useDefaultControls) {\n\t\t\t\t\tvar defaultControls = ['playpause', 'current', 'progress', 'duration', 'tracks', 'volume', 'fullscreen'];\n\t\t\t\t\tt.options.features = defaultControls.concat(t.options.features.filter(function (item) {\n\t\t\t\t\t\treturn defaultControls.indexOf(item) === -1;\n\t\t\t\t\t}));\n\t\t\t\t}\n\n\t\t\t\tt.buildfeatures(t, t.getElement(t.controls), t.getElement(t.layers), t.media);\n\n\t\t\t\tvar event = (0, _general.createEvent)('controlsready', t.getElement(t.container));\n\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\n\t\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\t\tt.setControlsSize();\n\n\t\t\t\tif (t.isVideo) {\n\t\t\t\t\tt.clickToPlayPauseCallback = function () {\n\n\t\t\t\t\t\tif (t.options.clickToPlayPause) {\n\t\t\t\t\t\t\tvar button = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'overlay-button'),\n\t\t\t\t\t\t\t    pressed = button.getAttribute('aria-pressed');\n\n\t\t\t\t\t\t\tif (t.paused && pressed) {\n\t\t\t\t\t\t\t\tt.pause();\n\t\t\t\t\t\t\t} else if (t.paused) {\n\t\t\t\t\t\t\t\tt.play();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tt.pause();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbutton.setAttribute('aria-pressed', !pressed);\n\t\t\t\t\t\t\tt.getElement(t.container).focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tt.createIframeLayer();\n\n\t\t\t\t\tt.media.addEventListener('click', t.clickToPlayPauseCallback);\n\n\t\t\t\t\tif ((_constants.IS_ANDROID || _constants.IS_IOS) && !t.options.alwaysShowControls) {\n\t\t\t\t\t\tt.node.addEventListener('touchstart', function () {\n\t\t\t\t\t\t\tif (t.controlsAreVisible) {\n\t\t\t\t\t\t\t\tt.hideControls(false);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (t.controlsEnabled) {\n\t\t\t\t\t\t\t\t\tt.showControls(false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, _constants.SUPPORT_PASSIVE_EVENT ? { passive: true } : false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.getElement(t.container).addEventListener('mouseenter', function () {\n\t\t\t\t\t\t\tif (t.controlsEnabled) {\n\t\t\t\t\t\t\t\tif (!t.options.alwaysShowControls) {\n\t\t\t\t\t\t\t\t\tt.killControlsTimer('enter');\n\t\t\t\t\t\t\t\t\tt.showControls();\n\t\t\t\t\t\t\t\t\tt.startControlsTimer(t.options.controlsTimeoutMouseEnter);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tt.getElement(t.container).addEventListener('mousemove', function () {\n\t\t\t\t\t\t\tif (t.controlsEnabled) {\n\t\t\t\t\t\t\t\tif (!t.controlsAreVisible) {\n\t\t\t\t\t\t\t\t\tt.showControls();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!t.options.alwaysShowControls) {\n\t\t\t\t\t\t\t\t\tt.startControlsTimer(t.options.controlsTimeoutMouseEnter);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tt.getElement(t.container).addEventListener('mouseleave', function () {\n\t\t\t\t\t\t\tif (t.controlsEnabled) {\n\t\t\t\t\t\t\t\tif (!t.paused && !t.options.alwaysShowControls) {\n\t\t\t\t\t\t\t\t\tt.startControlsTimer(t.options.controlsTimeoutMouseLeave);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.options.hideVideoControlsOnLoad) {\n\t\t\t\t\t\tt.hideControls(false);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.options.enableAutosize) {\n\t\t\t\t\t\tt.media.addEventListener('loadedmetadata', function (e) {\n\t\t\t\t\t\t\tvar target = e !== undefined ? e.detail.target || e.target : t.media;\n\t\t\t\t\t\t\tif (t.options.videoHeight <= 0 && !t.domNode.getAttribute('height') && !t.domNode.style.height && target !== null && !isNaN(target.videoHeight)) {\n\t\t\t\t\t\t\t\tt.setPlayerSize(target.videoWidth, target.videoHeight);\n\t\t\t\t\t\t\t\tt.setControlsSize();\n\t\t\t\t\t\t\t\tt.media.setSize(target.videoWidth, target.videoHeight);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tt.media.addEventListener('play', function () {\n\t\t\t\t\tt.hasFocus = true;\n\n\t\t\t\t\tfor (var playerIndex in _mejs2.default.players) {\n\t\t\t\t\t\tif (_mejs2.default.players.hasOwnProperty(playerIndex)) {\n\t\t\t\t\t\t\tvar p = _mejs2.default.players[playerIndex];\n\n\t\t\t\t\t\t\tif (p.id !== t.id && t.options.pauseOtherPlayers && !p.paused && !p.ended && p.options.ignorePauseOtherPlayersOption !== true) {\n\t\t\t\t\t\t\t\tp.pause();\n\t\t\t\t\t\t\t\tp.hasFocus = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!(_constants.IS_ANDROID || _constants.IS_IOS) && !t.options.alwaysShowControls && t.isVideo) {\n\t\t\t\t\t\tt.hideControls();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tt.media.addEventListener('ended', function () {\n\t\t\t\t\tif (t.options.autoRewind) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tt.setCurrentTime(0);\n\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar loadingElement = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'overlay-loading');\n\t\t\t\t\t\t\t\tif (loadingElement && loadingElement.parentNode) {\n\t\t\t\t\t\t\t\t\tloadingElement.parentNode.style.display = 'none';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 20);\n\t\t\t\t\t\t} catch (exp) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof t.media.renderer.stop === 'function') {\n\t\t\t\t\t\tt.media.renderer.stop();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.pause();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.setProgressRail) {\n\t\t\t\t\t\tt.setProgressRail();\n\t\t\t\t\t}\n\t\t\t\t\tif (t.setCurrentRail) {\n\t\t\t\t\t\tt.setCurrentRail();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.options.loop) {\n\t\t\t\t\t\tt.play();\n\t\t\t\t\t} else if (!t.options.alwaysShowControls && t.controlsEnabled) {\n\t\t\t\t\t\tt.showControls();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tt.media.addEventListener('loadedmetadata', function () {\n\n\t\t\t\t\t(0, _time.calculateTimeFormat)(t.getDuration(), t.options, t.options.framesPerSecond || 25);\n\n\t\t\t\t\tif (t.updateDuration) {\n\t\t\t\t\t\tt.updateDuration();\n\t\t\t\t\t}\n\t\t\t\t\tif (t.updateCurrent) {\n\t\t\t\t\t\tt.updateCurrent();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!t.isFullScreen) {\n\t\t\t\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\t\t\t\tt.setControlsSize();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar duration = null;\n\t\t\t\tt.media.addEventListener('timeupdate', function () {\n\t\t\t\t\tif (!isNaN(t.getDuration()) && duration !== t.getDuration()) {\n\t\t\t\t\t\tduration = t.getDuration();\n\t\t\t\t\t\t(0, _time.calculateTimeFormat)(duration, t.options, t.options.framesPerSecond || 25);\n\n\t\t\t\t\t\tif (t.updateDuration) {\n\t\t\t\t\t\t\tt.updateDuration();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (t.updateCurrent) {\n\t\t\t\t\t\t\tt.updateCurrent();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tt.setControlsSize();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tt.getElement(t.container).addEventListener('click', function (e) {\n\t\t\t\t\tdom.addClass(e.currentTarget, t.options.classPrefix + 'container-keyboard-inactive');\n\t\t\t\t});\n\n\t\t\t\tt.getElement(t.container).addEventListener('focusin', function (e) {\n\t\t\t\t\tdom.removeClass(e.currentTarget, t.options.classPrefix + 'container-keyboard-inactive');\n\t\t\t\t\tif (t.isVideo && !_constants.IS_ANDROID && !_constants.IS_IOS && t.controlsEnabled && !t.options.alwaysShowControls) {\n\t\t\t\t\t\tt.killControlsTimer('enter');\n\t\t\t\t\t\tt.showControls();\n\t\t\t\t\t\tt.startControlsTimer(t.options.controlsTimeoutMouseEnter);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tt.getElement(t.container).addEventListener('focusout', function (e) {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tif (e.relatedTarget) {\n\t\t\t\t\t\t\tif (t.keyboardAction && !e.relatedTarget.closest('.' + t.options.classPrefix + 'container')) {\n\t\t\t\t\t\t\t\tt.keyboardAction = false;\n\t\t\t\t\t\t\t\tif (t.isVideo && !t.options.alwaysShowControls && !t.paused) {\n\t\t\t\t\t\t\t\t\tt.startControlsTimer(t.options.controlsTimeoutMouseLeave);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 0);\n\t\t\t\t});\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\t\t\tt.setControlsSize();\n\t\t\t\t}, 0);\n\n\t\t\t\tt.globalResizeCallback = function () {\n\t\t\t\t\tif (!(t.isFullScreen || _constants.HAS_TRUE_NATIVE_FULLSCREEN && _document2.default.webkitIsFullScreen)) {\n\t\t\t\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\t\t\t}\n\n\t\t\t\t\tt.setControlsSize();\n\t\t\t\t};\n\n\t\t\t\tt.globalBind('resize', t.globalResizeCallback);\n\t\t\t}\n\n\t\t\tif (autoplay && isNative) {\n\t\t\t\tt.play();\n\t\t\t}\n\n\t\t\tif (t.options.success) {\n\t\t\t\tif (typeof t.options.success === 'string') {\n\t\t\t\t\t_window2.default[t.options.success](t.media, t.domNode, t);\n\t\t\t\t} else {\n\t\t\t\t\tt.options.success(t.media, t.domNode, t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_handleError',\n\t\tvalue: function _handleError(e, media, node) {\n\t\t\tvar t = this,\n\t\t\t    play = t.getElement(t.layers).querySelector('.' + t.options.classPrefix + 'overlay-play');\n\n\t\t\tif (play) {\n\t\t\t\tplay.style.display = 'none';\n\t\t\t}\n\n\t\t\tif (t.options.error) {\n\t\t\t\tt.options.error(e, media, node);\n\t\t\t}\n\n\t\t\tif (t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'cannotplay')) {\n\t\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'cannotplay').remove();\n\t\t\t}\n\n\t\t\tvar errorContainer = _document2.default.createElement('div');\n\t\t\terrorContainer.className = t.options.classPrefix + 'cannotplay';\n\t\t\terrorContainer.style.width = '100%';\n\t\t\terrorContainer.style.height = '100%';\n\n\t\t\tvar errorContent = typeof t.options.customError === 'function' ? t.options.customError(t.media, t.media.originalNode) : t.options.customError,\n\t\t\t    imgError = '';\n\n\t\t\tif (!errorContent) {\n\t\t\t\tvar poster = t.media.originalNode.getAttribute('poster');\n\t\t\t\tif (poster) {\n\t\t\t\t\timgError = '<img src=\"' + poster + '\" alt=\"' + _mejs2.default.i18n.t('mejs.download-file') + '\">';\n\t\t\t\t}\n\n\t\t\t\tif (e.message) {\n\t\t\t\t\terrorContent = '<p>' + e.message + '</p>';\n\t\t\t\t}\n\n\t\t\t\tif (e.urls) {\n\t\t\t\t\tfor (var i = 0, total = e.urls.length; i < total; i++) {\n\t\t\t\t\t\tvar url = e.urls[i];\n\t\t\t\t\t\terrorContent += '<a href=\"' + url.src + '\" data-type=\"' + url.type + '\"><span>' + _mejs2.default.i18n.t('mejs.download-file') + ': ' + url.src + '</span></a>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (errorContent && t.getElement(t.layers).querySelector('.' + t.options.classPrefix + 'overlay-error')) {\n\t\t\t\terrorContainer.innerHTML = errorContent;\n\t\t\t\tt.getElement(t.layers).querySelector('.' + t.options.classPrefix + 'overlay-error').innerHTML = '' + imgError + errorContainer.outerHTML;\n\t\t\t\tt.getElement(t.layers).querySelector('.' + t.options.classPrefix + 'overlay-error').parentNode.style.display = 'block';\n\t\t\t}\n\n\t\t\tif (t.controlsEnabled) {\n\t\t\t\tt.disableControls();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setPlayerSize',\n\t\tvalue: function setPlayerSize(width, height) {\n\t\t\tvar t = this;\n\n\t\t\tif (!t.options.setDimensions) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (typeof width !== 'undefined') {\n\t\t\t\tt.width = width;\n\t\t\t}\n\n\t\t\tif (typeof height !== 'undefined') {\n\t\t\t\tt.height = height;\n\t\t\t}\n\n\t\t\tswitch (t.options.stretching) {\n\t\t\t\tcase 'fill':\n\t\t\t\t\tif (t.isVideo) {\n\t\t\t\t\t\tt.setFillMode();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.setDimensions(t.width, t.height);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'responsive':\n\t\t\t\t\tt.setResponsiveMode();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'none':\n\t\t\t\t\tt.setDimensions(t.width, t.height);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif (t.hasFluidMode() === true) {\n\t\t\t\t\t\tt.setResponsiveMode();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.setDimensions(t.width, t.height);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'hasFluidMode',\n\t\tvalue: function hasFluidMode() {\n\t\t\tvar t = this;\n\n\t\t\treturn t.height.toString().indexOf('%') !== -1 || t.node && t.node.style.maxWidth && t.node.style.maxWidth !== 'none' && t.node.style.maxWidth !== t.width || t.node && t.node.currentStyle && t.node.currentStyle.maxWidth === '100%';\n\t\t}\n\t}, {\n\t\tkey: 'setResponsiveMode',\n\t\tvalue: function setResponsiveMode() {\n\t\t\tvar t = this,\n\t\t\t    parent = function () {\n\n\t\t\t\tvar parentEl = void 0,\n\t\t\t\t    el = t.getElement(t.container);\n\n\t\t\t\twhile (el) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (_constants.IS_FIREFOX && el.tagName.toLowerCase() === 'html' && _window2.default.self !== _window2.default.top && _window2.default.frameElement !== null) {\n\t\t\t\t\t\t\treturn _window2.default.frameElement;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparentEl = el.parentElement;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tparentEl = el.parentElement;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (parentEl && dom.visible(parentEl)) {\n\t\t\t\t\t\treturn parentEl;\n\t\t\t\t\t}\n\t\t\t\t\tel = parentEl;\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}(),\n\t\t\t    parentStyles = parent ? getComputedStyle(parent, null) : getComputedStyle(_document2.default.body, null),\n\t\t\t    nativeWidth = function () {\n\t\t\t\tif (t.isVideo) {\n\t\t\t\t\tif (t.node.videoWidth && t.node.videoWidth > 0) {\n\t\t\t\t\t\treturn t.node.videoWidth;\n\t\t\t\t\t} else if (t.node.getAttribute('width')) {\n\t\t\t\t\t\treturn t.node.getAttribute('width');\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn t.options.defaultVideoWidth;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn t.options.defaultAudioWidth;\n\t\t\t\t}\n\t\t\t}(),\n\t\t\t    nativeHeight = function () {\n\t\t\t\tif (t.isVideo) {\n\t\t\t\t\tif (t.node.videoHeight && t.node.videoHeight > 0) {\n\t\t\t\t\t\treturn t.node.videoHeight;\n\t\t\t\t\t} else if (t.node.getAttribute('height')) {\n\t\t\t\t\t\treturn t.node.getAttribute('height');\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn t.options.defaultVideoHeight;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn t.options.defaultAudioHeight;\n\t\t\t\t}\n\t\t\t}(),\n\t\t\t    aspectRatio = function () {\n\t\t\t\tvar ratio = 1;\n\t\t\t\tif (!t.isVideo) {\n\t\t\t\t\treturn ratio;\n\t\t\t\t}\n\n\t\t\t\tif (t.node.videoWidth && t.node.videoWidth > 0 && t.node.videoHeight && t.node.videoHeight > 0) {\n\t\t\t\t\tratio = t.height >= t.width ? t.node.videoWidth / t.node.videoHeight : t.node.videoHeight / t.node.videoWidth;\n\t\t\t\t} else {\n\t\t\t\t\tratio = t.initialAspectRatio;\n\t\t\t\t}\n\n\t\t\t\tif (isNaN(ratio) || ratio < 0.01 || ratio > 100) {\n\t\t\t\t\tratio = 1;\n\t\t\t\t}\n\n\t\t\t\treturn ratio;\n\t\t\t}(),\n\t\t\t    parentHeight = parseFloat(parentStyles.height);\n\n\t\t\tvar newHeight = void 0,\n\t\t\t    parentWidth = parseFloat(parentStyles.width);\n\n\t\t\tif (t.isVideo) {\n\t\t\t\tif (t.height === '100%') {\n\t\t\t\t\tnewHeight = parseFloat(parentWidth * nativeHeight / nativeWidth, 10);\n\t\t\t\t} else {\n\t\t\t\t\tnewHeight = t.height >= t.width ? parseFloat(parentWidth / aspectRatio, 10) : parseFloat(parentWidth * aspectRatio, 10);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewHeight = nativeHeight;\n\t\t\t}\n\n\t\t\tif (isNaN(newHeight)) {\n\t\t\t\tnewHeight = parentHeight;\n\t\t\t}\n\n\t\t\tif (t.getElement(t.container).parentNode.length > 0 && t.getElement(t.container).parentNode.tagName.toLowerCase() === 'body') {\n\t\t\t\tparentWidth = _window2.default.innerWidth || _document2.default.documentElement.clientWidth || _document2.default.body.clientWidth;\n\t\t\t\tnewHeight = _window2.default.innerHeight || _document2.default.documentElement.clientHeight || _document2.default.body.clientHeight;\n\t\t\t}\n\n\t\t\tif (newHeight && parentWidth) {\n\t\t\t\tt.getElement(t.container).style.width = parentWidth + 'px';\n\t\t\t\tt.getElement(t.container).style.height = newHeight + 'px';\n\n\t\t\t\tt.node.style.width = '100%';\n\t\t\t\tt.node.style.height = '100%';\n\n\t\t\t\tif (t.isVideo && t.media.setSize) {\n\t\t\t\t\tt.media.setSize(parentWidth, newHeight);\n\t\t\t\t}\n\n\t\t\t\tvar layerChildren = t.getElement(t.layers).children;\n\t\t\t\tfor (var i = 0, total = layerChildren.length; i < total; i++) {\n\t\t\t\t\tlayerChildren[i].style.width = '100%';\n\t\t\t\t\tlayerChildren[i].style.height = '100%';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setFillMode',\n\t\tvalue: function setFillMode() {\n\t\t\tvar t = this;\n\t\t\tvar isIframe = _window2.default.self !== _window2.default.top && _window2.default.frameElement !== null;\n\t\t\tvar parent = function () {\n\t\t\t\tvar parentEl = void 0,\n\t\t\t\t    el = t.getElement(t.container);\n\n\t\t\t\twhile (el) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (_constants.IS_FIREFOX && el.tagName.toLowerCase() === 'html' && _window2.default.self !== _window2.default.top && _window2.default.frameElement !== null) {\n\t\t\t\t\t\t\treturn _window2.default.frameElement;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparentEl = el.parentElement;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tparentEl = el.parentElement;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (parentEl && dom.visible(parentEl)) {\n\t\t\t\t\t\treturn parentEl;\n\t\t\t\t\t}\n\t\t\t\t\tel = parentEl;\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}();\n\t\t\tvar parentStyles = parent ? getComputedStyle(parent, null) : getComputedStyle(_document2.default.body, null);\n\n\t\t\tif (t.node.style.height !== 'none' && t.node.style.height !== t.height) {\n\t\t\t\tt.node.style.height = 'auto';\n\t\t\t}\n\t\t\tif (t.node.style.maxWidth !== 'none' && t.node.style.maxWidth !== t.width) {\n\t\t\t\tt.node.style.maxWidth = 'none';\n\t\t\t}\n\n\t\t\tif (t.node.style.maxHeight !== 'none' && t.node.style.maxHeight !== t.height) {\n\t\t\t\tt.node.style.maxHeight = 'none';\n\t\t\t}\n\n\t\t\tif (t.node.currentStyle) {\n\t\t\t\tif (t.node.currentStyle.height === '100%') {\n\t\t\t\t\tt.node.currentStyle.height = 'auto';\n\t\t\t\t}\n\t\t\t\tif (t.node.currentStyle.maxWidth === '100%') {\n\t\t\t\t\tt.node.currentStyle.maxWidth = 'none';\n\t\t\t\t}\n\t\t\t\tif (t.node.currentStyle.maxHeight === '100%') {\n\t\t\t\t\tt.node.currentStyle.maxHeight = 'none';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!isIframe && !parseFloat(parentStyles.width)) {\n\t\t\t\tparent.style.width = t.media.offsetWidth + 'px';\n\t\t\t}\n\n\t\t\tif (!isIframe && !parseFloat(parentStyles.height)) {\n\t\t\t\tparent.style.height = t.media.offsetHeight + 'px';\n\t\t\t}\n\n\t\t\tparentStyles = getComputedStyle(parent);\n\n\t\t\tvar parentWidth = parseFloat(parentStyles.width),\n\t\t\t    parentHeight = parseFloat(parentStyles.height);\n\n\t\t\tt.setDimensions('100%', '100%');\n\n\t\t\tvar poster = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'poster>img');\n\t\t\tif (poster) {\n\t\t\t\tposter.style.display = '';\n\t\t\t}\n\n\t\t\tvar targetElement = t.getElement(t.container).querySelectorAll('object, embed, iframe, video'),\n\t\t\t    initHeight = t.height,\n\t\t\t    initWidth = t.width,\n\t\t\t    scaleX1 = parentWidth,\n\t\t\t    scaleY1 = initHeight * parentWidth / initWidth,\n\t\t\t    scaleX2 = initWidth * parentHeight / initHeight,\n\t\t\t    scaleY2 = parentHeight,\n\t\t\t    bScaleOnWidth = scaleX2 > parentWidth === false,\n\t\t\t    finalWidth = bScaleOnWidth ? Math.floor(scaleX1) : Math.floor(scaleX2),\n\t\t\t    finalHeight = bScaleOnWidth ? Math.floor(scaleY1) : Math.floor(scaleY2),\n\t\t\t    width = bScaleOnWidth ? parentWidth + 'px' : finalWidth + 'px',\n\t\t\t    height = bScaleOnWidth ? finalHeight + 'px' : parentHeight + 'px';\n\n\t\t\tfor (var i = 0, total = targetElement.length; i < total; i++) {\n\t\t\t\ttargetElement[i].style.height = height;\n\t\t\t\ttargetElement[i].style.width = width;\n\t\t\t\tif (t.media.setSize) {\n\t\t\t\t\tt.media.setSize(width, height);\n\t\t\t\t}\n\n\t\t\t\ttargetElement[i].style.marginLeft = Math.floor((parentWidth - finalWidth) / 2) + 'px';\n\t\t\t\ttargetElement[i].style.marginTop = 0;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setDimensions',\n\t\tvalue: function setDimensions(width, height) {\n\t\t\tvar t = this;\n\n\t\t\twidth = (0, _general.isString)(width) && width.indexOf('%') > -1 ? width : parseFloat(width) + 'px';\n\t\t\theight = (0, _general.isString)(height) && height.indexOf('%') > -1 ? height : parseFloat(height) + 'px';\n\n\t\t\tt.getElement(t.container).style.width = width;\n\t\t\tt.getElement(t.container).style.height = height;\n\n\t\t\tvar layers = t.getElement(t.layers).children;\n\t\t\tfor (var i = 0, total = layers.length; i < total; i++) {\n\t\t\t\tlayers[i].style.width = width;\n\t\t\t\tlayers[i].style.height = height;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setControlsSize',\n\t\tvalue: function setControlsSize() {\n\t\t\tvar t = this;\n\n\t\t\tif (!dom.visible(t.getElement(t.container))) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (t.rail && dom.visible(t.rail)) {\n\t\t\t\tvar totalStyles = t.total ? getComputedStyle(t.total, null) : null,\n\t\t\t\t    totalMargin = totalStyles ? parseFloat(totalStyles.marginLeft) + parseFloat(totalStyles.marginRight) : 0,\n\t\t\t\t    railStyles = getComputedStyle(t.rail),\n\t\t\t\t    railMargin = parseFloat(railStyles.marginLeft) + parseFloat(railStyles.marginRight);\n\n\t\t\t\tvar siblingsWidth = 0;\n\n\t\t\t\tvar siblings = dom.siblings(t.rail, function (el) {\n\t\t\t\t\treturn el !== t.rail;\n\t\t\t\t}),\n\t\t\t\t    total = siblings.length;\n\t\t\t\tfor (var i = 0; i < total; i++) {\n\t\t\t\t\tsiblingsWidth += siblings[i].offsetWidth;\n\t\t\t\t}\n\n\t\t\t\tsiblingsWidth += totalMargin + (totalMargin === 0 ? railMargin * 2 : railMargin) + 1;\n\n\t\t\t\tt.getElement(t.container).style.minWidth = siblingsWidth + 'px';\n\n\t\t\t\tvar event = (0, _general.createEvent)('controlsresize', t.getElement(t.container));\n\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t} else {\n\t\t\t\tvar children = t.getElement(t.controls).children;\n\t\t\t\tvar minWidth = 0;\n\n\t\t\t\tfor (var _i = 0, _total = children.length; _i < _total; _i++) {\n\t\t\t\t\tminWidth += children[_i].offsetWidth;\n\t\t\t\t}\n\n\t\t\t\tt.getElement(t.container).style.minWidth = minWidth + 'px';\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'addControlElement',\n\t\tvalue: function addControlElement(element, key) {\n\n\t\t\tvar t = this;\n\n\t\t\tif (t.featurePosition[key] !== undefined) {\n\t\t\t\tvar child = t.getElement(t.controls).children[t.featurePosition[key] - 1];\n\t\t\t\tchild.parentNode.insertBefore(element, child.nextSibling);\n\t\t\t} else {\n\t\t\t\tt.getElement(t.controls).appendChild(element);\n\t\t\t\tvar children = t.getElement(t.controls).children;\n\t\t\t\tfor (var i = 0, total = children.length; i < total; i++) {\n\t\t\t\t\tif (element === children[i]) {\n\t\t\t\t\t\tt.featurePosition[key] = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'createIframeLayer',\n\t\tvalue: function createIframeLayer() {\n\t\t\tvar t = this;\n\n\t\t\tif (t.isVideo && t.media.rendererName !== null && t.media.rendererName.indexOf('iframe') > -1 && !_document2.default.getElementById(t.media.id + '-iframe-overlay')) {\n\n\t\t\t\tvar layer = _document2.default.createElement('div'),\n\t\t\t\t    target = _document2.default.getElementById(t.media.id + '_' + t.media.rendererName);\n\n\t\t\t\tlayer.id = t.media.id + '-iframe-overlay';\n\t\t\t\tlayer.className = t.options.classPrefix + 'iframe-overlay';\n\t\t\t\tlayer.addEventListener('click', function (e) {\n\t\t\t\t\tif (t.options.clickToPlayPause) {\n\t\t\t\t\t\tif (t.paused) {\n\t\t\t\t\t\t\tt.play();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tt.pause();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\ttarget.parentNode.insertBefore(layer, target);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'resetSize',\n\t\tvalue: function resetSize() {\n\t\t\tvar t = this;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\t\tt.setControlsSize();\n\t\t\t}, 50);\n\t\t}\n\t}, {\n\t\tkey: 'setPoster',\n\t\tvalue: function setPoster(url) {\n\t\t\tvar t = this;\n\n\t\t\tif (t.getElement(t.container)) {\n\t\t\t\tvar posterDiv = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'poster');\n\n\t\t\t\tif (!posterDiv) {\n\t\t\t\t\tposterDiv = _document2.default.createElement('div');\n\t\t\t\t\tposterDiv.className = t.options.classPrefix + 'poster ' + t.options.classPrefix + 'layer';\n\t\t\t\t\tt.getElement(t.layers).appendChild(posterDiv);\n\t\t\t\t}\n\n\t\t\t\tvar posterImg = posterDiv.querySelector('img');\n\n\t\t\t\tif (!posterImg && url) {\n\t\t\t\t\tposterImg = _document2.default.createElement('img');\n\t\t\t\t\tposterImg.className = t.options.classPrefix + 'poster-img';\n\t\t\t\t\tposterImg.width = '100%';\n\t\t\t\t\tposterImg.height = '100%';\n\t\t\t\t\tposterDiv.style.display = '';\n\t\t\t\t\tposterDiv.appendChild(posterImg);\n\t\t\t\t}\n\n\t\t\t\tif (url) {\n\t\t\t\t\tposterImg.setAttribute('src', url);\n\t\t\t\t\tposterDiv.style.backgroundImage = 'url(\"' + url + '\")';\n\t\t\t\t\tposterDiv.style.display = '';\n\t\t\t\t} else if (posterImg) {\n\t\t\t\t\tposterDiv.style.backgroundImage = 'none';\n\t\t\t\t\tposterDiv.style.display = 'none';\n\t\t\t\t\tposterImg.remove();\n\t\t\t\t} else {\n\t\t\t\t\tposterDiv.style.display = 'none';\n\t\t\t\t}\n\t\t\t} else if (_constants.IS_IPAD && t.options.iPadUseNativeControls || _constants.IS_IPHONE && t.options.iPhoneUseNativeControls || _constants.IS_ANDROID && t.options.AndroidUseNativeControls) {\n\t\t\t\tt.media.originalNode.poster = url;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'changeSkin',\n\t\tvalue: function changeSkin(className) {\n\t\t\tvar t = this;\n\n\t\t\tt.getElement(t.container).className = t.options.classPrefix + 'container ' + className;\n\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\tt.setControlsSize();\n\t\t}\n\t}, {\n\t\tkey: 'globalBind',\n\t\tvalue: function globalBind(events, callback) {\n\t\t\tvar t = this,\n\t\t\t    doc = t.node ? t.node.ownerDocument : _document2.default;\n\n\t\t\tevents = (0, _general.splitEvents)(events, t.id);\n\t\t\tif (events.d) {\n\t\t\t\tvar eventList = events.d.split(' ');\n\t\t\t\tfor (var i = 0, total = eventList.length; i < total; i++) {\n\t\t\t\t\teventList[i].split('.').reduce(function (part, e) {\n\t\t\t\t\t\tdoc.addEventListener(e, callback, false);\n\t\t\t\t\t\treturn e;\n\t\t\t\t\t}, '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (events.w) {\n\t\t\t\tvar _eventList = events.w.split(' ');\n\t\t\t\tfor (var _i2 = 0, _total2 = _eventList.length; _i2 < _total2; _i2++) {\n\t\t\t\t\t_eventList[_i2].split('.').reduce(function (part, e) {\n\t\t\t\t\t\t_window2.default.addEventListener(e, callback, false);\n\t\t\t\t\t\treturn e;\n\t\t\t\t\t}, '');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'globalUnbind',\n\t\tvalue: function globalUnbind(events, callback) {\n\t\t\tvar t = this,\n\t\t\t    doc = t.node ? t.node.ownerDocument : _document2.default;\n\n\t\t\tevents = (0, _general.splitEvents)(events, t.id);\n\t\t\tif (events.d) {\n\t\t\t\tvar eventList = events.d.split(' ');\n\t\t\t\tfor (var i = 0, total = eventList.length; i < total; i++) {\n\t\t\t\t\teventList[i].split('.').reduce(function (part, e) {\n\t\t\t\t\t\tdoc.removeEventListener(e, callback, false);\n\t\t\t\t\t\treturn e;\n\t\t\t\t\t}, '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (events.w) {\n\t\t\t\tvar _eventList2 = events.w.split(' ');\n\t\t\t\tfor (var _i3 = 0, _total3 = _eventList2.length; _i3 < _total3; _i3++) {\n\t\t\t\t\t_eventList2[_i3].split('.').reduce(function (part, e) {\n\t\t\t\t\t\t_window2.default.removeEventListener(e, callback, false);\n\t\t\t\t\t\treturn e;\n\t\t\t\t\t}, '');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'buildfeatures',\n\t\tvalue: function buildfeatures(player, controls, layers, media) {\n\t\t\tvar t = this;\n\n\t\t\tfor (var i = 0, total = t.options.features.length; i < total; i++) {\n\t\t\t\tvar feature = t.options.features[i];\n\t\t\t\tif (t['build' + feature]) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tt['build' + feature](player, controls, layers, media);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.error('error building ' + feature, e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'buildposter',\n\t\tvalue: function buildposter(player, controls, layers, media) {\n\t\t\tvar t = this,\n\t\t\t    poster = _document2.default.createElement('div');\n\n\t\t\tposter.className = t.options.classPrefix + 'poster ' + t.options.classPrefix + 'layer';\n\t\t\tlayers.appendChild(poster);\n\n\t\t\tvar posterUrl = media.originalNode.getAttribute('poster');\n\n\t\t\tif (player.options.poster !== '') {\n\t\t\t\tif (posterUrl && _constants.IS_IOS) {\n\t\t\t\t\tmedia.originalNode.removeAttribute('poster');\n\t\t\t\t}\n\t\t\t\tposterUrl = player.options.poster;\n\t\t\t}\n\n\t\t\tif (posterUrl) {\n\t\t\t\tt.setPoster(posterUrl);\n\t\t\t} else if (t.media.renderer !== null && typeof t.media.renderer.getPosterUrl === 'function') {\n\t\t\t\tt.setPoster(t.media.renderer.getPosterUrl());\n\t\t\t} else {\n\t\t\t\tposter.style.display = 'none';\n\t\t\t}\n\n\t\t\tmedia.addEventListener('play', function () {\n\t\t\t\tposter.style.display = 'none';\n\t\t\t});\n\n\t\t\tmedia.addEventListener('playing', function () {\n\t\t\t\tposter.style.display = 'none';\n\t\t\t});\n\n\t\t\tif (player.options.showPosterWhenEnded && player.options.autoRewind) {\n\t\t\t\tmedia.addEventListener('ended', function () {\n\t\t\t\t\tposter.style.display = '';\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tmedia.addEventListener('error', function () {\n\t\t\t\tposter.style.display = 'none';\n\t\t\t});\n\n\t\t\tif (player.options.showPosterWhenPaused) {\n\t\t\t\tmedia.addEventListener('pause', function () {\n\t\t\t\t\tif (!player.ended) {\n\t\t\t\t\t\tposter.style.display = '';\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'buildoverlays',\n\t\tvalue: function buildoverlays(player, controls, layers, media) {\n\n\t\t\tif (!player.isVideo) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar t = this,\n\t\t\t    loading = _document2.default.createElement('div'),\n\t\t\t    error = _document2.default.createElement('div'),\n\t\t\t    bigPlay = _document2.default.createElement('div');\n\n\t\t\tloading.style.display = 'none';\n\t\t\tloading.className = t.options.classPrefix + 'overlay ' + t.options.classPrefix + 'layer';\n\t\t\tloading.innerHTML = '<div class=\"' + t.options.classPrefix + 'overlay-loading\">' + ('<span class=\"' + t.options.classPrefix + 'overlay-loading-bg-img\"></span>') + '</div>';\n\t\t\tlayers.appendChild(loading);\n\n\t\t\terror.style.display = 'none';\n\t\t\terror.className = t.options.classPrefix + 'overlay ' + t.options.classPrefix + 'layer';\n\t\t\terror.innerHTML = '<div class=\"' + t.options.classPrefix + 'overlay-error\"></div>';\n\t\t\tlayers.appendChild(error);\n\n\t\t\tbigPlay.className = t.options.classPrefix + 'overlay ' + t.options.classPrefix + 'layer ' + t.options.classPrefix + 'overlay-play';\n\t\t\tbigPlay.innerHTML = '<div class=\"' + t.options.classPrefix + 'overlay-button\" role=\"button\" tabindex=\"0\" ' + ('aria-label=\"' + _i18n2.default.t('mejs.play') + '\" aria-pressed=\"false\"></div>');\n\t\t\tbigPlay.addEventListener('click', function () {\n\t\t\t\tif (t.options.clickToPlayPause) {\n\n\t\t\t\t\tvar button = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'overlay-button'),\n\t\t\t\t\t    pressed = button.getAttribute('aria-pressed');\n\n\t\t\t\t\tif (t.paused) {\n\t\t\t\t\t\tt.play();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.pause();\n\t\t\t\t\t}\n\n\t\t\t\t\tbutton.setAttribute('aria-pressed', !!pressed);\n\t\t\t\t\tt.getElement(t.container).focus();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tbigPlay.addEventListener('keydown', function (e) {\n\t\t\t\tvar keyPressed = e.keyCode || e.which || 0;\n\n\t\t\t\tif (keyPressed === 13 || _constants.IS_FIREFOX && keyPressed === 32) {\n\t\t\t\t\tvar event = (0, _general.createEvent)('click', bigPlay);\n\t\t\t\t\tbigPlay.dispatchEvent(event);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlayers.appendChild(bigPlay);\n\n\t\t\tif (t.media.rendererName !== null && (/(youtube|facebook)/i.test(t.media.rendererName) && !(t.media.originalNode.getAttribute('poster') || player.options.poster || typeof t.media.renderer.getPosterUrl === 'function' && t.media.renderer.getPosterUrl()) || _constants.IS_STOCK_ANDROID || t.media.originalNode.getAttribute('autoplay'))) {\n\t\t\t\tbigPlay.style.display = 'none';\n\t\t\t}\n\n\t\t\tvar hasError = false;\n\n\t\t\tmedia.addEventListener('play', function () {\n\t\t\t\tbigPlay.style.display = 'none';\n\t\t\t\tloading.style.display = 'none';\n\t\t\t\terror.style.display = 'none';\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('playing', function () {\n\t\t\t\tbigPlay.style.display = 'none';\n\t\t\t\tloading.style.display = 'none';\n\t\t\t\terror.style.display = 'none';\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('seeking', function () {\n\t\t\t\tbigPlay.style.display = 'none';\n\t\t\t\tloading.style.display = '';\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('seeked', function () {\n\t\t\t\tbigPlay.style.display = t.paused && !_constants.IS_STOCK_ANDROID ? '' : 'none';\n\t\t\t\tloading.style.display = 'none';\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('pause', function () {\n\t\t\t\tloading.style.display = 'none';\n\t\t\t\tif (!_constants.IS_STOCK_ANDROID && !hasError) {\n\t\t\t\t\tbigPlay.style.display = '';\n\t\t\t\t}\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('waiting', function () {\n\t\t\t\tloading.style.display = '';\n\t\t\t\thasError = false;\n\t\t\t});\n\n\t\t\tmedia.addEventListener('loadeddata', function () {\n\t\t\t\tloading.style.display = '';\n\n\t\t\t\tif (_constants.IS_ANDROID) {\n\t\t\t\t\tmedia.canplayTimeout = setTimeout(function () {\n\t\t\t\t\t\tif (_document2.default.createEvent) {\n\t\t\t\t\t\t\tvar evt = _document2.default.createEvent('HTMLEvents');\n\t\t\t\t\t\t\tevt.initEvent('canplay', true, true);\n\t\t\t\t\t\t\treturn media.dispatchEvent(evt);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('canplay', function () {\n\t\t\t\tloading.style.display = 'none';\n\n\t\t\t\tclearTimeout(media.canplayTimeout);\n\t\t\t\thasError = false;\n\t\t\t});\n\n\t\t\tmedia.addEventListener('error', function (e) {\n\t\t\t\tt._handleError(e, t.media, t.node);\n\t\t\t\tloading.style.display = 'none';\n\t\t\t\tbigPlay.style.display = 'none';\n\t\t\t\thasError = true;\n\t\t\t});\n\n\t\t\tmedia.addEventListener('loadedmetadata', function () {\n\t\t\t\tif (!t.controlsEnabled) {\n\t\t\t\t\tt.enableControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmedia.addEventListener('keydown', function (e) {\n\t\t\t\tt.onkeydown(player, media, e);\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'buildkeyboard',\n\t\tvalue: function buildkeyboard(player, controls, layers, media) {\n\n\t\t\tvar t = this;\n\n\t\t\tt.getElement(t.container).addEventListener('keydown', function () {\n\t\t\t\tt.keyboardAction = true;\n\t\t\t});\n\n\t\t\tt.globalKeydownCallback = function (event) {\n\t\t\t\tvar container = _document2.default.activeElement.closest('.' + t.options.classPrefix + 'container'),\n\t\t\t\t    target = t.media.closest('.' + t.options.classPrefix + 'container');\n\t\t\t\tt.hasFocus = !!(container && target && container.id === target.id);\n\t\t\t\treturn t.onkeydown(player, media, event);\n\t\t\t};\n\n\t\t\tt.globalClickCallback = function (event) {\n\t\t\t\tt.hasFocus = !!event.target.closest('.' + t.options.classPrefix + 'container');\n\t\t\t};\n\n\t\t\tt.globalBind('keydown', t.globalKeydownCallback);\n\n\t\t\tt.globalBind('click', t.globalClickCallback);\n\t\t}\n\t}, {\n\t\tkey: 'onkeydown',\n\t\tvalue: function onkeydown(player, media, e) {\n\n\t\t\tif (player.hasFocus && player.options.enableKeyboard) {\n\t\t\t\tfor (var i = 0, total = player.options.keyActions.length; i < total; i++) {\n\t\t\t\t\tvar keyAction = player.options.keyActions[i];\n\n\t\t\t\t\tfor (var j = 0, jl = keyAction.keys.length; j < jl; j++) {\n\t\t\t\t\t\tif (e.keyCode === keyAction.keys[j]) {\n\t\t\t\t\t\t\tkeyAction.action(player, media, e.keyCode, e);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}, {\n\t\tkey: 'play',\n\t\tvalue: function play() {\n\t\t\tthis.proxy.play();\n\t\t}\n\t}, {\n\t\tkey: 'pause',\n\t\tvalue: function pause() {\n\t\t\tthis.proxy.pause();\n\t\t}\n\t}, {\n\t\tkey: 'load',\n\t\tvalue: function load() {\n\t\t\tthis.proxy.load();\n\t\t}\n\t}, {\n\t\tkey: 'setCurrentTime',\n\t\tvalue: function setCurrentTime(time) {\n\t\t\tthis.proxy.setCurrentTime(time);\n\t\t}\n\t}, {\n\t\tkey: 'getCurrentTime',\n\t\tvalue: function getCurrentTime() {\n\t\t\treturn this.proxy.currentTime;\n\t\t}\n\t}, {\n\t\tkey: 'getDuration',\n\t\tvalue: function getDuration() {\n\t\t\treturn this.proxy.duration;\n\t\t}\n\t}, {\n\t\tkey: 'setVolume',\n\t\tvalue: function setVolume(volume) {\n\t\t\tthis.proxy.volume = volume;\n\t\t}\n\t}, {\n\t\tkey: 'getVolume',\n\t\tvalue: function getVolume() {\n\t\t\treturn this.proxy.getVolume();\n\t\t}\n\t}, {\n\t\tkey: 'setMuted',\n\t\tvalue: function setMuted(value) {\n\t\t\tthis.proxy.setMuted(value);\n\t\t}\n\t}, {\n\t\tkey: 'setSrc',\n\t\tvalue: function setSrc(src) {\n\t\t\tif (!this.controlsEnabled) {\n\t\t\t\tthis.enableControls();\n\t\t\t}\n\t\t\tthis.proxy.setSrc(src);\n\t\t}\n\t}, {\n\t\tkey: 'getSrc',\n\t\tvalue: function getSrc() {\n\t\t\treturn this.proxy.getSrc();\n\t\t}\n\t}, {\n\t\tkey: 'canPlayType',\n\t\tvalue: function canPlayType(type) {\n\t\t\treturn this.proxy.canPlayType(type);\n\t\t}\n\t}, {\n\t\tkey: 'remove',\n\t\tvalue: function remove() {\n\t\t\tvar t = this,\n\t\t\t    rendererName = t.media.rendererName,\n\t\t\t    src = t.media.originalNode.src;\n\n\t\t\tfor (var featureIndex in t.options.features) {\n\t\t\t\tvar feature = t.options.features[featureIndex];\n\t\t\t\tif (t['clean' + feature]) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tt['clean' + feature](t, t.getElement(t.layers), t.getElement(t.controls), t.media);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.error('error cleaning ' + feature, e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar nativeWidth = t.node.getAttribute('width'),\n\t\t\t    nativeHeight = t.node.getAttribute('height');\n\n\t\t\tif (nativeWidth) {\n\t\t\t\tif (nativeWidth.indexOf('%') === -1) {\n\t\t\t\t\tnativeWidth = nativeWidth + 'px';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnativeWidth = 'auto';\n\t\t\t}\n\n\t\t\tif (nativeHeight) {\n\t\t\t\tif (nativeHeight.indexOf('%') === -1) {\n\t\t\t\t\tnativeHeight = nativeHeight + 'px';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnativeHeight = 'auto';\n\t\t\t}\n\n\t\t\tt.node.style.width = nativeWidth;\n\t\t\tt.node.style.height = nativeHeight;\n\n\t\t\tt.setPlayerSize(0, 0);\n\n\t\t\tif (!t.isDynamic) {\n\t\t\t\t(function () {\n\t\t\t\t\tt.node.setAttribute('controls', true);\n\t\t\t\t\tt.node.setAttribute('id', t.node.getAttribute('id').replace('_' + rendererName, '').replace('_from_mejs', ''));\n\t\t\t\t\tvar poster = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'poster>img');\n\t\t\t\t\tif (poster) {\n\t\t\t\t\t\tt.node.setAttribute('poster', poster.src);\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete t.node.autoplay;\n\n\t\t\t\t\tt.node.setAttribute('src', '');\n\t\t\t\t\tif (t.media.canPlayType((0, _media.getTypeFromFile)(src)) !== '') {\n\t\t\t\t\t\tt.node.setAttribute('src', src);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rendererName && rendererName.indexOf('iframe') > -1) {\n\t\t\t\t\t\tvar layer = _document2.default.getElementById(t.media.id + '-iframe-overlay');\n\t\t\t\t\t\tlayer.remove();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar node = t.node.cloneNode();\n\t\t\t\t\tnode.style.display = '';\n\t\t\t\t\tt.getElement(t.container).parentNode.insertBefore(node, t.getElement(t.container));\n\t\t\t\t\tt.node.remove();\n\n\t\t\t\t\tif (t.mediaFiles) {\n\t\t\t\t\t\tfor (var i = 0, total = t.mediaFiles.length; i < total; i++) {\n\t\t\t\t\t\t\tvar source = _document2.default.createElement('source');\n\t\t\t\t\t\t\tsource.setAttribute('src', t.mediaFiles[i].src);\n\t\t\t\t\t\t\tsource.setAttribute('type', t.mediaFiles[i].type);\n\t\t\t\t\t\t\tnode.appendChild(source);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (t.trackFiles) {\n\t\t\t\t\t\tvar _loop3 = function _loop3(_i4, _total4) {\n\t\t\t\t\t\t\tvar track = t.trackFiles[_i4];\n\t\t\t\t\t\t\tvar newTrack = _document2.default.createElement('track');\n\t\t\t\t\t\t\tnewTrack.kind = track.kind;\n\t\t\t\t\t\t\tnewTrack.label = track.label;\n\t\t\t\t\t\t\tnewTrack.srclang = track.srclang;\n\t\t\t\t\t\t\tnewTrack.src = track.src;\n\n\t\t\t\t\t\t\tnode.appendChild(newTrack);\n\t\t\t\t\t\t\tnewTrack.addEventListener('load', function () {\n\t\t\t\t\t\t\t\tthis.mode = 'showing';\n\t\t\t\t\t\t\t\tnode.textTracks[_i4].mode = 'showing';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tfor (var _i4 = 0, _total4 = t.trackFiles.length; _i4 < _total4; _i4++) {\n\t\t\t\t\t\t\t_loop3(_i4, _total4);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete t.node;\n\t\t\t\t\tdelete t.mediaFiles;\n\t\t\t\t\tdelete t.trackFiles;\n\t\t\t\t})();\n\t\t\t} else {\n\t\t\t\tt.getElement(t.container).parentNode.insertBefore(t.node, t.getElement(t.container));\n\t\t\t}\n\n\t\t\tif (t.media.renderer && typeof t.media.renderer.destroy === 'function') {\n\t\t\t\tt.media.renderer.destroy();\n\t\t\t}\n\n\t\t\tdelete _mejs2.default.players[t.id];\n\n\t\t\tif (_typeof(t.getElement(t.container)) === 'object') {\n\t\t\t\tvar offscreen = t.getElement(t.container).parentNode.querySelector('.' + t.options.classPrefix + 'offscreen');\n\t\t\t\toffscreen.remove();\n\t\t\t\tt.getElement(t.container).remove();\n\t\t\t}\n\t\t\tt.globalUnbind('resize', t.globalResizeCallback);\n\t\t\tt.globalUnbind('keydown', t.globalKeydownCallback);\n\t\t\tt.globalUnbind('click', t.globalClickCallback);\n\n\t\t\tdelete t.media.player;\n\t\t}\n\t}, {\n\t\tkey: 'paused',\n\t\tget: function get() {\n\t\t\treturn this.proxy.paused;\n\t\t}\n\t}, {\n\t\tkey: 'muted',\n\t\tget: function get() {\n\t\t\treturn this.proxy.muted;\n\t\t},\n\t\tset: function set(muted) {\n\t\t\tthis.setMuted(muted);\n\t\t}\n\t}, {\n\t\tkey: 'ended',\n\t\tget: function get() {\n\t\t\treturn this.proxy.ended;\n\t\t}\n\t}, {\n\t\tkey: 'readyState',\n\t\tget: function get() {\n\t\t\treturn this.proxy.readyState;\n\t\t}\n\t}, {\n\t\tkey: 'currentTime',\n\t\tset: function set(time) {\n\t\t\tthis.setCurrentTime(time);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getCurrentTime();\n\t\t}\n\t}, {\n\t\tkey: 'duration',\n\t\tget: function get() {\n\t\t\treturn this.getDuration();\n\t\t}\n\t}, {\n\t\tkey: 'volume',\n\t\tset: function set(volume) {\n\t\t\tthis.setVolume(volume);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getVolume();\n\t\t}\n\t}, {\n\t\tkey: 'src',\n\t\tset: function set(src) {\n\t\t\tthis.setSrc(src);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getSrc();\n\t\t}\n\t}]);\n\n\treturn MediaElementPlayer;\n}();\n\n_window2.default.MediaElementPlayer = MediaElementPlayer;\n_mejs2.default.MediaElementPlayer = MediaElementPlayer;\n\nexports.default = MediaElementPlayer;\n\n},{\"17\":17,\"2\":2,\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"30\":30,\"5\":5,\"6\":6,\"7\":7}],17:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DefaultPlayer = function () {\n\tfunction DefaultPlayer(player) {\n\t\t_classCallCheck(this, DefaultPlayer);\n\n\t\tthis.media = player.media;\n\t\tthis.isVideo = player.isVideo;\n\t\tthis.classPrefix = player.options.classPrefix;\n\t\tthis.createIframeLayer = function () {\n\t\t\treturn player.createIframeLayer();\n\t\t};\n\t\tthis.setPoster = function (url) {\n\t\t\treturn player.setPoster(url);\n\t\t};\n\t\treturn this;\n\t}\n\n\t_createClass(DefaultPlayer, [{\n\t\tkey: 'play',\n\t\tvalue: function play() {\n\t\t\tthis.media.play();\n\t\t}\n\t}, {\n\t\tkey: 'pause',\n\t\tvalue: function pause() {\n\t\t\tthis.media.pause();\n\t\t}\n\t}, {\n\t\tkey: 'load',\n\t\tvalue: function load() {\n\t\t\tvar t = this;\n\n\t\t\tif (!t.isLoaded) {\n\t\t\t\tt.media.load();\n\t\t\t}\n\n\t\t\tt.isLoaded = true;\n\t\t}\n\t}, {\n\t\tkey: 'setCurrentTime',\n\t\tvalue: function setCurrentTime(time) {\n\t\t\tthis.media.setCurrentTime(time);\n\t\t}\n\t}, {\n\t\tkey: 'getCurrentTime',\n\t\tvalue: function getCurrentTime() {\n\t\t\treturn this.media.currentTime;\n\t\t}\n\t}, {\n\t\tkey: 'getDuration',\n\t\tvalue: function getDuration() {\n\t\t\tvar duration = this.media.getDuration();\n\t\t\tif (duration === Infinity && this.media.seekable && this.media.seekable.length) {\n\t\t\t\tduration = this.media.seekable.end(0);\n\t\t\t}\n\t\t\treturn duration;\n\t\t}\n\t}, {\n\t\tkey: 'setVolume',\n\t\tvalue: function setVolume(volume) {\n\t\t\tthis.media.setVolume(volume);\n\t\t}\n\t}, {\n\t\tkey: 'getVolume',\n\t\tvalue: function getVolume() {\n\t\t\treturn this.media.getVolume();\n\t\t}\n\t}, {\n\t\tkey: 'setMuted',\n\t\tvalue: function setMuted(value) {\n\t\t\tthis.media.setMuted(value);\n\t\t}\n\t}, {\n\t\tkey: 'setSrc',\n\t\tvalue: function setSrc(src) {\n\t\t\tvar t = this,\n\t\t\t    layer = document.getElementById(t.media.id + '-iframe-overlay');\n\n\t\t\tif (layer) {\n\t\t\t\tlayer.remove();\n\t\t\t}\n\n\t\t\tt.media.setSrc(src);\n\t\t\tt.createIframeLayer();\n\t\t\tif (t.media.renderer !== null && typeof t.media.renderer.getPosterUrl === 'function') {\n\t\t\t\tt.setPoster(t.media.renderer.getPosterUrl());\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'getSrc',\n\t\tvalue: function getSrc() {\n\t\t\treturn this.media.getSrc();\n\t\t}\n\t}, {\n\t\tkey: 'canPlayType',\n\t\tvalue: function canPlayType(type) {\n\t\t\treturn this.media.canPlayType(type);\n\t\t}\n\t}, {\n\t\tkey: 'paused',\n\t\tget: function get() {\n\t\t\treturn this.media.paused;\n\t\t}\n\t}, {\n\t\tkey: 'muted',\n\t\tset: function set(muted) {\n\t\t\tthis.setMuted(muted);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.media.muted;\n\t\t}\n\t}, {\n\t\tkey: 'ended',\n\t\tget: function get() {\n\t\t\treturn this.media.ended;\n\t\t}\n\t}, {\n\t\tkey: 'readyState',\n\t\tget: function get() {\n\t\t\treturn this.media.readyState;\n\t\t}\n\t}, {\n\t\tkey: 'currentTime',\n\t\tset: function set(time) {\n\t\t\tthis.setCurrentTime(time);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getCurrentTime();\n\t\t}\n\t}, {\n\t\tkey: 'duration',\n\t\tget: function get() {\n\t\t\treturn this.getDuration();\n\t\t}\n\t}, {\n\t\tkey: 'remainingTime',\n\t\tget: function get() {\n\t\t\treturn this.getDuration() - this.currentTime();\n\t\t}\n\t}, {\n\t\tkey: 'volume',\n\t\tset: function set(volume) {\n\t\t\tthis.setVolume(volume);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getVolume();\n\t\t}\n\t}, {\n\t\tkey: 'src',\n\t\tset: function set(src) {\n\t\t\tthis.setSrc(src);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getSrc();\n\t\t}\n\t}]);\n\n\treturn DefaultPlayer;\n}();\n\nexports.default = DefaultPlayer;\n\n\n_window2.default.DefaultPlayer = DefaultPlayer;\n\n},{\"3\":3}],18:[function(_dereq_,module,exports){\n'use strict';\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nif (typeof jQuery !== 'undefined') {\n\t_mejs2.default.$ = jQuery;\n} else if (typeof Zepto !== 'undefined') {\n\t_mejs2.default.$ = Zepto;\n} else if (typeof ender !== 'undefined') {\n\t_mejs2.default.$ = ender;\n}\n\n(function ($) {\n\tif (typeof $ !== 'undefined') {\n\t\t$.fn.mediaelementplayer = function (options) {\n\t\t\tif (options === false) {\n\t\t\t\tthis.each(function () {\n\t\t\t\t\tvar player = $(this).data('mediaelementplayer');\n\t\t\t\t\tif (player) {\n\t\t\t\t\t\tplayer.remove();\n\t\t\t\t\t}\n\t\t\t\t\t$(this).removeData('mediaelementplayer');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.each(function () {\n\t\t\t\t\t$(this).data('mediaelementplayer', new _player2.default(this, options));\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\t$(document).ready(function () {\n\t\t\t$('.' + _mejs2.default.MepDefaults.classPrefix + 'player').mediaelementplayer();\n\t\t});\n\t}\n})(_mejs2.default.$);\n\n},{\"16\":16,\"3\":3,\"7\":7}],19:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _media = _dereq_(28);\n\nvar _constants = _dereq_(25);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NativeDash = {\n\n\tpromise: null,\n\n\tload: function load(settings) {\n\t\tif (typeof dashjs !== 'undefined') {\n\t\t\tNativeDash.promise = new Promise(function (resolve) {\n\t\t\t\tresolve();\n\t\t\t}).then(function () {\n\t\t\t\tNativeDash._createPlayer(settings);\n\t\t\t});\n\t\t} else {\n\t\t\tsettings.options.path = typeof settings.options.path === 'string' ? settings.options.path : 'https://cdn.dashjs.org/latest/dash.all.min.js';\n\n\t\t\tNativeDash.promise = NativeDash.promise || (0, _dom.loadScript)(settings.options.path);\n\t\t\tNativeDash.promise.then(function () {\n\t\t\t\tNativeDash._createPlayer(settings);\n\t\t\t});\n\t\t}\n\n\t\treturn NativeDash.promise;\n\t},\n\n\t_createPlayer: function _createPlayer(settings) {\n\t\tvar player = dashjs.MediaPlayer().create();\n\t\t_window2.default['__ready__' + settings.id](player);\n\t\treturn player;\n\t}\n};\n\nvar DashNativeRenderer = {\n\tname: 'native_dash',\n\toptions: {\n\t\tprefix: 'native_dash',\n\t\tdash: {\n\t\t\tpath: 'https://cdn.dashjs.org/latest/dash.all.min.js',\n\t\t\tdebug: false,\n\t\t\tdrm: {},\n\n\t\t\trobustnessLevel: ''\n\t\t}\n\t},\n\n\tcanPlayType: function canPlayType(type) {\n\t\treturn _constants.HAS_MSE && ['application/dash+xml'].indexOf(type.toLowerCase()) > -1;\n\t},\n\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar originalNode = mediaElement.originalNode,\n\t\t    id = mediaElement.id + '_' + options.prefix,\n\t\t    autoplay = originalNode.autoplay,\n\t\t    children = originalNode.children;\n\n\t\tvar node = null,\n\t\t    dashPlayer = null;\n\n\t\toriginalNode.removeAttribute('type');\n\t\tfor (var i = 0, total = children.length; i < total; i++) {\n\t\t\tchildren[i].removeAttribute('type');\n\t\t}\n\n\t\tnode = originalNode.cloneNode(true);\n\t\toptions = Object.assign(options, mediaElement.options);\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    events = _mejs2.default.html5media.events.concat(['click', 'mouseover', 'mouseout']).filter(function (e) {\n\t\t\treturn e !== 'error';\n\t\t}),\n\t\t    attachNativeEvents = function attachNativeEvents(e) {\n\t\t\tvar event = (0, _general.createEvent)(e.type, mediaElement);\n\t\t\tmediaElement.dispatchEvent(event);\n\t\t},\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tnode['get' + capName] = function () {\n\t\t\t\treturn dashPlayer !== null ? node[propName] : null;\n\t\t\t};\n\n\t\t\tnode['set' + capName] = function (value) {\n\t\t\t\tif (_mejs2.default.html5media.readOnlyProperties.indexOf(propName) === -1) {\n\t\t\t\t\tif (propName === 'src') {\n\t\t\t\t\t\tvar source = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.src ? value.src : value;\n\t\t\t\t\t\tnode[propName] = source;\n\t\t\t\t\t\tif (dashPlayer !== null) {\n\t\t\t\t\t\t\tdashPlayer.reset();\n\t\t\t\t\t\t\tfor (var _i = 0, _total = events.length; _i < _total; _i++) {\n\t\t\t\t\t\t\t\tnode.removeEventListener(events[_i], attachNativeEvents);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdashPlayer = NativeDash._createPlayer({\n\t\t\t\t\t\t\t\toptions: options.dash,\n\t\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && _typeof(value.drm) === 'object') {\n\t\t\t\t\t\t\t\tdashPlayer.setProtectionData(value.drm);\n\t\t\t\t\t\t\t\tif ((0, _general.isString)(options.dash.robustnessLevel) && options.dash.robustnessLevel) {\n\t\t\t\t\t\t\t\t\tdashPlayer.getProtectionController().setRobustnessLevel(options.dash.robustnessLevel);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdashPlayer.attachSource(source);\n\t\t\t\t\t\t\tif (autoplay) {\n\t\t\t\t\t\t\t\tdashPlayer.play();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode[propName] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var _i2 = 0, _total2 = props.length; _i2 < _total2; _i2++) {\n\t\t\tassignGettersSetters(props[_i2]);\n\t\t}\n\n\t\t_window2.default['__ready__' + id] = function (_dashPlayer) {\n\t\t\tmediaElement.dashPlayer = dashPlayer = _dashPlayer;\n\n\t\t\tvar dashEvents = dashjs.MediaPlayer.events,\n\t\t\t    assignEvents = function assignEvents(eventName) {\n\t\t\t\tif (eventName === 'loadedmetadata') {\n\t\t\t\t\tdashPlayer.initialize();\n\t\t\t\t\tdashPlayer.attachView(node);\n\t\t\t\t\tdashPlayer.setAutoPlay(false);\n\n\t\t\t\t\tif (_typeof(options.dash.drm) === 'object' && !_mejs2.default.Utils.isObjectEmpty(options.dash.drm)) {\n\t\t\t\t\t\tdashPlayer.setProtectionData(options.dash.drm);\n\t\t\t\t\t\tif ((0, _general.isString)(options.dash.robustnessLevel) && options.dash.robustnessLevel) {\n\t\t\t\t\t\t\tdashPlayer.getProtectionController().setRobustnessLevel(options.dash.robustnessLevel);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdashPlayer.attachSource(node.getSrc());\n\t\t\t\t}\n\n\t\t\t\tnode.addEventListener(eventName, attachNativeEvents);\n\t\t\t};\n\n\t\t\tfor (var _i3 = 0, _total3 = events.length; _i3 < _total3; _i3++) {\n\t\t\t\tassignEvents(events[_i3]);\n\t\t\t}\n\n\t\t\tvar assignMdashEvents = function assignMdashEvents(e) {\n\t\t\t\tif (e.type.toLowerCase() === 'error') {\n\t\t\t\t\tmediaElement.generateError(e.message, node.src);\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t} else {\n\t\t\t\t\tvar _event = (0, _general.createEvent)(e.type, mediaElement);\n\t\t\t\t\t_event.data = e;\n\t\t\t\t\tmediaElement.dispatchEvent(_event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfor (var eventType in dashEvents) {\n\t\t\t\tif (dashEvents.hasOwnProperty(eventType)) {\n\t\t\t\t\tdashPlayer.on(dashEvents[eventType], function (e) {\n\t\t\t\t\t\treturn assignMdashEvents(e);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (mediaFiles && mediaFiles.length > 0) {\n\t\t\tfor (var _i4 = 0, _total4 = mediaFiles.length; _i4 < _total4; _i4++) {\n\t\t\t\tif (_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[_i4].type)) {\n\t\t\t\t\tnode.setAttribute('src', mediaFiles[_i4].src);\n\t\t\t\t\tif (typeof mediaFiles[_i4].drm !== 'undefined') {\n\t\t\t\t\t\toptions.dash.drm = mediaFiles[_i4].drm;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tnode.setAttribute('id', id);\n\n\t\toriginalNode.parentNode.insertBefore(node, originalNode);\n\t\toriginalNode.autoplay = false;\n\t\toriginalNode.style.display = 'none';\n\n\t\tnode.setSize = function (width, height) {\n\t\t\tnode.style.width = width + 'px';\n\t\t\tnode.style.height = height + 'px';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.hide = function () {\n\t\t\tnode.pause();\n\t\t\tnode.style.display = 'none';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.show = function () {\n\t\t\tnode.style.display = '';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.destroy = function () {\n\t\t\tif (dashPlayer !== null) {\n\t\t\t\tdashPlayer.reset();\n\t\t\t}\n\t\t};\n\n\t\tvar event = (0, _general.createEvent)('rendererready', node);\n\t\tmediaElement.dispatchEvent(event);\n\n\t\tmediaElement.promises.push(NativeDash.load({\n\t\t\toptions: options.dash,\n\t\t\tid: id\n\t\t}));\n\n\t\treturn node;\n\t}\n};\n\n_media.typeChecks.push(function (url) {\n\treturn ~url.toLowerCase().indexOf('.mpd') ? 'application/dash+xml' : null;\n});\n\n_renderer.renderer.add(DashNativeRenderer);\n\n},{\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"7\":7,\"8\":8}],20:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.PluginDetector = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _constants = _dereq_(25);\n\nvar _media = _dereq_(28);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PluginDetector = exports.PluginDetector = {\n\tplugins: [],\n\n\thasPluginVersion: function hasPluginVersion(plugin, v) {\n\t\tvar pv = PluginDetector.plugins[plugin];\n\t\tv[1] = v[1] || 0;\n\t\tv[2] = v[2] || 0;\n\t\treturn pv[0] > v[0] || pv[0] === v[0] && pv[1] > v[1] || pv[0] === v[0] && pv[1] === v[1] && pv[2] >= v[2];\n\t},\n\n\taddPlugin: function addPlugin(p, pluginName, mimeType, activeX, axDetect) {\n\t\tPluginDetector.plugins[p] = PluginDetector.detectPlugin(pluginName, mimeType, activeX, axDetect);\n\t},\n\n\tdetectPlugin: function detectPlugin(pluginName, mimeType, activeX, axDetect) {\n\n\t\tvar version = [0, 0, 0],\n\t\t    description = void 0,\n\t\t    ax = void 0;\n\n\t\tif (_constants.NAV.plugins !== null && _constants.NAV.plugins !== undefined && _typeof(_constants.NAV.plugins[pluginName]) === 'object') {\n\t\t\tdescription = _constants.NAV.plugins[pluginName].description;\n\t\t\tif (description && !(typeof _constants.NAV.mimeTypes !== 'undefined' && _constants.NAV.mimeTypes[mimeType] && !_constants.NAV.mimeTypes[mimeType].enabledPlugin)) {\n\t\t\t\tversion = description.replace(pluginName, '').replace(/^\\s+/, '').replace(/\\sr/gi, '.').split('.');\n\t\t\t\tfor (var i = 0, total = version.length; i < total; i++) {\n\t\t\t\t\tversion[i] = parseInt(version[i].match(/\\d+/), 10);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (_window2.default.ActiveXObject !== undefined) {\n\t\t\ttry {\n\t\t\t\tax = new ActiveXObject(activeX);\n\t\t\t\tif (ax) {\n\t\t\t\t\tversion = axDetect(ax);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\treturn version;\n\t}\n};\n\nPluginDetector.addPlugin('flash', 'Shockwave Flash', 'application/x-shockwave-flash', 'ShockwaveFlash.ShockwaveFlash', function (ax) {\n\tvar version = [],\n\t    d = ax.GetVariable(\"$version\");\n\n\tif (d) {\n\t\td = d.split(\" \")[1].split(\",\");\n\t\tversion = [parseInt(d[0], 10), parseInt(d[1], 10), parseInt(d[2], 10)];\n\t}\n\treturn version;\n});\n\nvar FlashMediaElementRenderer = {\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar flash = {};\n\t\tvar isActive = false;\n\n\t\tflash.options = options;\n\t\tflash.id = mediaElement.id + '_' + flash.options.prefix;\n\t\tflash.mediaElement = mediaElement;\n\t\tflash.flashState = {};\n\t\tflash.flashApi = null;\n\t\tflash.flashApiStack = [];\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\t\tflash.flashState[propName] = null;\n\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tflash['get' + capName] = function () {\n\t\t\t\tif (flash.flashApi !== null) {\n\t\t\t\t\tif (typeof flash.flashApi['get_' + propName] === 'function') {\n\t\t\t\t\t\tvar value = flash.flashApi['get_' + propName]();\n\n\t\t\t\t\t\tif (propName === 'buffered') {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstart: function start() {\n\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tend: function end() {\n\t\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlength: 1\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tflash['set' + capName] = function (value) {\n\t\t\t\tif (propName === 'src') {\n\t\t\t\t\tvalue = (0, _media.absolutizeUrl)(value);\n\t\t\t\t}\n\n\t\t\t\tif (flash.flashApi !== null && flash.flashApi['set_' + propName] !== undefined) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tflash.flashApi['set_' + propName](value);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tflash.flashApiStack.push({\n\t\t\t\t\t\ttype: 'set',\n\t\t\t\t\t\tpropName: propName,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var i = 0, total = props.length; i < total; i++) {\n\t\t\tassignGettersSetters(props[i]);\n\t\t}\n\n\t\tvar methods = _mejs2.default.html5media.methods,\n\t\t    assignMethods = function assignMethods(methodName) {\n\t\t\tflash[methodName] = function () {\n\t\t\t\tif (isActive) {\n\t\t\t\t\tif (flash.flashApi !== null) {\n\t\t\t\t\t\tif (flash.flashApi['fire_' + methodName]) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tflash.flashApi['fire_' + methodName]();\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tflash.flashApiStack.push({\n\t\t\t\t\t\t\ttype: 'call',\n\t\t\t\t\t\t\tmethodName: methodName\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t\tmethods.push('stop');\n\t\tfor (var _i = 0, _total = methods.length; _i < _total; _i++) {\n\t\t\tassignMethods(methods[_i]);\n\t\t}\n\n\t\tvar initEvents = ['rendererready'];\n\n\t\tfor (var _i2 = 0, _total2 = initEvents.length; _i2 < _total2; _i2++) {\n\t\t\tvar event = (0, _general.createEvent)(initEvents[_i2], flash);\n\t\t\tmediaElement.dispatchEvent(event);\n\t\t}\n\n\t\t_window2.default['__ready__' + flash.id] = function () {\n\n\t\t\tflash.flashReady = true;\n\t\t\tflash.flashApi = _document2.default.getElementById('__' + flash.id);\n\n\t\t\tif (flash.flashApiStack.length) {\n\t\t\t\tfor (var _i3 = 0, _total3 = flash.flashApiStack.length; _i3 < _total3; _i3++) {\n\t\t\t\t\tvar stackItem = flash.flashApiStack[_i3];\n\n\t\t\t\t\tif (stackItem.type === 'set') {\n\t\t\t\t\t\tvar propName = stackItem.propName,\n\t\t\t\t\t\t    capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\t\t\t\tflash['set' + capName](stackItem.value);\n\t\t\t\t\t} else if (stackItem.type === 'call') {\n\t\t\t\t\t\tflash[stackItem.methodName]();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t_window2.default['__event__' + flash.id] = function (eventName, message) {\n\t\t\tvar event = (0, _general.createEvent)(eventName, flash);\n\t\t\tif (message) {\n\t\t\t\ttry {\n\t\t\t\t\tevent.data = JSON.parse(message);\n\t\t\t\t\tevent.details.data = JSON.parse(message);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tevent.message = message;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tflash.mediaElement.dispatchEvent(event);\n\t\t};\n\n\t\tflash.flashWrapper = _document2.default.createElement('div');\n\n\t\tif (['always', 'sameDomain'].indexOf(flash.options.shimScriptAccess) === -1) {\n\t\t\tflash.options.shimScriptAccess = 'sameDomain';\n\t\t}\n\n\t\tvar autoplay = mediaElement.originalNode.autoplay,\n\t\t    flashVars = ['uid=' + flash.id, 'autoplay=' + autoplay, 'allowScriptAccess=' + flash.options.shimScriptAccess, 'preload=' + (mediaElement.originalNode.getAttribute('preload') || '')],\n\t\t    isVideo = mediaElement.originalNode !== null && mediaElement.originalNode.tagName.toLowerCase() === 'video',\n\t\t    flashHeight = isVideo ? mediaElement.originalNode.height : 1,\n\t\t    flashWidth = isVideo ? mediaElement.originalNode.width : 1;\n\n\t\tif (mediaElement.originalNode.getAttribute('src')) {\n\t\t\tflashVars.push('src=' + mediaElement.originalNode.getAttribute('src'));\n\t\t}\n\n\t\tif (flash.options.enablePseudoStreaming === true) {\n\t\t\tflashVars.push('pseudostreamstart=' + flash.options.pseudoStreamingStartQueryParam);\n\t\t\tflashVars.push('pseudostreamtype=' + flash.options.pseudoStreamingType);\n\t\t}\n\n\t\tif (flash.options.streamDelimiter) {\n\t\t\tflashVars.push('streamdelimiter=' + encodeURIComponent(flash.options.streamDelimiter));\n\t\t}\n\n\t\tif (flash.options.proxyType) {\n\t\t\tflashVars.push('proxytype=' + flash.options.proxyType);\n\t\t}\n\n\t\tmediaElement.appendChild(flash.flashWrapper);\n\t\tmediaElement.originalNode.style.display = 'none';\n\n\t\tvar settings = [];\n\n\t\tif (_constants.IS_IE || _constants.IS_EDGE) {\n\t\t\tvar specialIEContainer = _document2.default.createElement('div');\n\t\t\tflash.flashWrapper.appendChild(specialIEContainer);\n\n\t\t\tif (_constants.IS_EDGE) {\n\t\t\t\tsettings = ['type=\"application/x-shockwave-flash\"', 'data=\"' + flash.options.pluginPath + flash.options.filename + '\"', 'id=\"__' + flash.id + '\"', 'width=\"' + flashWidth + '\"', 'height=\"' + flashHeight + '\\'\"'];\n\t\t\t} else {\n\t\t\t\tsettings = ['classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"', 'codebase=\"//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab\"', 'id=\"__' + flash.id + '\"', 'width=\"' + flashWidth + '\"', 'height=\"' + flashHeight + '\"'];\n\t\t\t}\n\n\t\t\tif (!isVideo) {\n\t\t\t\tsettings.push('style=\"clip: rect(0 0 0 0); position: absolute;\"');\n\t\t\t}\n\n\t\t\tspecialIEContainer.outerHTML = '<object ' + settings.join(' ') + '>' + ('<param name=\"movie\" value=\"' + flash.options.pluginPath + flash.options.filename + '?x=' + new Date() + '\" />') + ('<param name=\"flashvars\" value=\"' + flashVars.join('&amp;') + '\" />') + '<param name=\"quality\" value=\"high\" />' + '<param name=\"bgcolor\" value=\"#000000\" />' + '<param name=\"wmode\" value=\"transparent\" />' + ('<param name=\"allowScriptAccess\" value=\"' + flash.options.shimScriptAccess + '\" />') + '<param name=\"allowFullScreen\" value=\"true\" />' + ('<div>' + _i18n2.default.t('mejs.install-flash') + '</div>') + '</object>';\n\t\t} else {\n\n\t\t\tsettings = ['id=\"__' + flash.id + '\"', 'name=\"__' + flash.id + '\"', 'play=\"true\"', 'loop=\"false\"', 'quality=\"high\"', 'bgcolor=\"#000000\"', 'wmode=\"transparent\"', 'allowScriptAccess=\"' + flash.options.shimScriptAccess + '\"', 'allowFullScreen=\"true\"', 'type=\"application/x-shockwave-flash\"', 'pluginspage=\"//www.macromedia.com/go/getflashplayer\"', 'src=\"' + flash.options.pluginPath + flash.options.filename + '\"', 'flashvars=\"' + flashVars.join('&') + '\"'];\n\n\t\t\tif (isVideo) {\n\t\t\t\tsettings.push('width=\"' + flashWidth + '\"');\n\t\t\t\tsettings.push('height=\"' + flashHeight + '\"');\n\t\t\t} else {\n\t\t\t\tsettings.push('style=\"position: fixed; left: -9999em; top: -9999em;\"');\n\t\t\t}\n\n\t\t\tflash.flashWrapper.innerHTML = '<embed ' + settings.join(' ') + '>';\n\t\t}\n\n\t\tflash.flashNode = flash.flashWrapper.lastChild;\n\n\t\tflash.hide = function () {\n\t\t\tisActive = false;\n\t\t\tif (isVideo) {\n\t\t\t\tflash.flashNode.style.display = 'none';\n\t\t\t}\n\t\t};\n\t\tflash.show = function () {\n\t\t\tisActive = true;\n\t\t\tif (isVideo) {\n\t\t\t\tflash.flashNode.style.display = '';\n\t\t\t}\n\t\t};\n\t\tflash.setSize = function (width, height) {\n\t\t\tflash.flashNode.style.width = width + 'px';\n\t\t\tflash.flashNode.style.height = height + 'px';\n\n\t\t\tif (flash.flashApi !== null && typeof flash.flashApi.fire_setSize === 'function') {\n\t\t\t\tflash.flashApi.fire_setSize(width, height);\n\t\t\t}\n\t\t};\n\n\t\tflash.destroy = function () {\n\t\t\tflash.flashNode.remove();\n\t\t};\n\n\t\tif (mediaFiles && mediaFiles.length > 0) {\n\t\t\tfor (var _i4 = 0, _total4 = mediaFiles.length; _i4 < _total4; _i4++) {\n\t\t\t\tif (_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[_i4].type)) {\n\t\t\t\t\tflash.setSrc(mediaFiles[_i4].src);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn flash;\n\t}\n};\n\nvar hasFlash = PluginDetector.hasPluginVersion('flash', [10, 0, 0]);\n\nif (hasFlash) {\n\t_media.typeChecks.push(function (url) {\n\t\turl = url.toLowerCase();\n\n\t\tif (url.startsWith('rtmp')) {\n\t\t\tif (~url.indexOf('.mp3')) {\n\t\t\t\treturn 'audio/rtmp';\n\t\t\t} else {\n\t\t\t\treturn 'video/rtmp';\n\t\t\t}\n\t\t} else if (/\\.og(a|g)/i.test(url)) {\n\t\t\treturn 'audio/ogg';\n\t\t} else if (~url.indexOf('.m3u8')) {\n\t\t\treturn 'application/x-mpegURL';\n\t\t} else if (~url.indexOf('.mpd')) {\n\t\t\treturn 'application/dash+xml';\n\t\t} else if (~url.indexOf('.flv')) {\n\t\t\treturn 'video/flv';\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\tvar FlashMediaElementVideoRenderer = {\n\t\tname: 'flash_video',\n\t\toptions: {\n\t\t\tprefix: 'flash_video',\n\t\t\tfilename: 'mediaelement-flash-video.swf',\n\t\t\tenablePseudoStreaming: false,\n\n\t\t\tpseudoStreamingStartQueryParam: 'start',\n\n\t\t\tpseudoStreamingType: 'byte',\n\n\t\t\tproxyType: '',\n\n\t\t\tstreamDelimiter: ''\n\t\t},\n\n\t\tcanPlayType: function canPlayType(type) {\n\t\t\treturn ~['video/mp4', 'video/rtmp', 'audio/rtmp', 'rtmp/mp4', 'audio/mp4', 'video/flv', 'video/x-flv'].indexOf(type.toLowerCase());\n\t\t},\n\n\t\tcreate: FlashMediaElementRenderer.create\n\n\t};\n\t_renderer.renderer.add(FlashMediaElementVideoRenderer);\n\n\tvar FlashMediaElementHlsVideoRenderer = {\n\t\tname: 'flash_hls',\n\t\toptions: {\n\t\t\tprefix: 'flash_hls',\n\t\t\tfilename: 'mediaelement-flash-video-hls.swf'\n\t\t},\n\n\t\tcanPlayType: function canPlayType(type) {\n\t\t\treturn ~['application/x-mpegurl', 'application/vnd.apple.mpegurl', 'audio/mpegurl', 'audio/hls', 'video/hls'].indexOf(type.toLowerCase());\n\t\t},\n\n\t\tcreate: FlashMediaElementRenderer.create\n\t};\n\t_renderer.renderer.add(FlashMediaElementHlsVideoRenderer);\n\n\tvar FlashMediaElementMdashVideoRenderer = {\n\t\tname: 'flash_dash',\n\t\toptions: {\n\t\t\tprefix: 'flash_dash',\n\t\t\tfilename: 'mediaelement-flash-video-mdash.swf'\n\t\t},\n\n\t\tcanPlayType: function canPlayType(type) {\n\t\t\treturn ~['application/dash+xml'].indexOf(type.toLowerCase());\n\t\t},\n\n\t\tcreate: FlashMediaElementRenderer.create\n\t};\n\t_renderer.renderer.add(FlashMediaElementMdashVideoRenderer);\n\n\tvar FlashMediaElementAudioRenderer = {\n\t\tname: 'flash_audio',\n\t\toptions: {\n\t\t\tprefix: 'flash_audio',\n\t\t\tfilename: 'mediaelement-flash-audio.swf'\n\t\t},\n\n\t\tcanPlayType: function canPlayType(type) {\n\t\t\treturn ~['audio/mp3'].indexOf(type.toLowerCase());\n\t\t},\n\n\t\tcreate: FlashMediaElementRenderer.create\n\t};\n\t_renderer.renderer.add(FlashMediaElementAudioRenderer);\n\n\tvar FlashMediaElementAudioOggRenderer = {\n\t\tname: 'flash_audio_ogg',\n\t\toptions: {\n\t\t\tprefix: 'flash_audio_ogg',\n\t\t\tfilename: 'mediaelement-flash-audio-ogg.swf'\n\t\t},\n\n\t\tcanPlayType: function canPlayType(type) {\n\t\t\treturn ~['audio/ogg', 'audio/oga', 'audio/ogv'].indexOf(type.toLowerCase());\n\t\t},\n\n\t\tcreate: FlashMediaElementRenderer.create\n\t};\n\t_renderer.renderer.add(FlashMediaElementAudioOggRenderer);\n}\n\n},{\"2\":2,\"25\":25,\"27\":27,\"28\":28,\"3\":3,\"5\":5,\"7\":7,\"8\":8}],21:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _constants = _dereq_(25);\n\nvar _media = _dereq_(28);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NativeFlv = {\n\n\tpromise: null,\n\n\tload: function load(settings) {\n\t\tif (typeof flvjs !== 'undefined') {\n\t\t\tNativeFlv.promise = new Promise(function (resolve) {\n\t\t\t\tresolve();\n\t\t\t}).then(function () {\n\t\t\t\tNativeFlv._createPlayer(settings);\n\t\t\t});\n\t\t} else {\n\t\t\tsettings.options.path = typeof settings.options.path === 'string' ? settings.options.path : 'https://cdn.jsdelivr.net/npm/flv.js@latest';\n\n\t\t\tNativeFlv.promise = NativeFlv.promise || (0, _dom.loadScript)(settings.options.path);\n\t\t\tNativeFlv.promise.then(function () {\n\t\t\t\tNativeFlv._createPlayer(settings);\n\t\t\t});\n\t\t}\n\n\t\treturn NativeFlv.promise;\n\t},\n\n\t_createPlayer: function _createPlayer(settings) {\n\t\tflvjs.LoggingControl.enableDebug = settings.options.debug;\n\t\tflvjs.LoggingControl.enableVerbose = settings.options.debug;\n\t\tvar player = flvjs.createPlayer(settings.options, settings.configs);\n\t\t_window2.default['__ready__' + settings.id](player);\n\t\treturn player;\n\t}\n};\n\nvar FlvNativeRenderer = {\n\tname: 'native_flv',\n\toptions: {\n\t\tprefix: 'native_flv',\n\t\tflv: {\n\t\t\tpath: 'https://cdn.jsdelivr.net/npm/flv.js@latest',\n\n\t\t\tcors: true,\n\t\t\tdebug: false\n\t\t}\n\t},\n\n\tcanPlayType: function canPlayType(type) {\n\t\treturn _constants.HAS_MSE && ['video/x-flv', 'video/flv'].indexOf(type.toLowerCase()) > -1;\n\t},\n\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar originalNode = mediaElement.originalNode,\n\t\t    id = mediaElement.id + '_' + options.prefix;\n\n\t\tvar node = null,\n\t\t    flvPlayer = null;\n\n\t\tnode = originalNode.cloneNode(true);\n\t\toptions = Object.assign(options, mediaElement.options);\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    events = _mejs2.default.html5media.events.concat(['click', 'mouseover', 'mouseout']).filter(function (e) {\n\t\t\treturn e !== 'error';\n\t\t}),\n\t\t    attachNativeEvents = function attachNativeEvents(e) {\n\t\t\tvar event = (0, _general.createEvent)(e.type, mediaElement);\n\t\t\tmediaElement.dispatchEvent(event);\n\t\t},\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tnode['get' + capName] = function () {\n\t\t\t\treturn flvPlayer !== null ? node[propName] : null;\n\t\t\t};\n\n\t\t\tnode['set' + capName] = function (value) {\n\t\t\t\tif (_mejs2.default.html5media.readOnlyProperties.indexOf(propName) === -1) {\n\t\t\t\t\tif (propName === 'src') {\n\t\t\t\t\t\tnode[propName] = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.src ? value.src : value;\n\t\t\t\t\t\tif (flvPlayer !== null) {\n\t\t\t\t\t\t\tvar _flvOptions = {};\n\t\t\t\t\t\t\t_flvOptions.type = 'flv';\n\t\t\t\t\t\t\t_flvOptions.url = value;\n\t\t\t\t\t\t\t_flvOptions.cors = options.flv.cors;\n\t\t\t\t\t\t\t_flvOptions.debug = options.flv.debug;\n\t\t\t\t\t\t\t_flvOptions.path = options.flv.path;\n\t\t\t\t\t\t\tvar _flvConfigs = options.flv.configs;\n\n\t\t\t\t\t\t\tflvPlayer.destroy();\n\t\t\t\t\t\t\tfor (var i = 0, total = events.length; i < total; i++) {\n\t\t\t\t\t\t\t\tnode.removeEventListener(events[i], attachNativeEvents);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tflvPlayer = NativeFlv._createPlayer({\n\t\t\t\t\t\t\t\toptions: _flvOptions,\n\t\t\t\t\t\t\t\tconfigs: _flvConfigs,\n\t\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tflvPlayer.attachMediaElement(node);\n\t\t\t\t\t\t\tflvPlayer.load();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode[propName] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var i = 0, total = props.length; i < total; i++) {\n\t\t\tassignGettersSetters(props[i]);\n\t\t}\n\n\t\t_window2.default['__ready__' + id] = function (_flvPlayer) {\n\t\t\tmediaElement.flvPlayer = flvPlayer = _flvPlayer;\n\n\t\t\tvar flvEvents = flvjs.Events,\n\t\t\t    assignEvents = function assignEvents(eventName) {\n\t\t\t\tif (eventName === 'loadedmetadata') {\n\t\t\t\t\tflvPlayer.unload();\n\t\t\t\t\tflvPlayer.detachMediaElement();\n\t\t\t\t\tflvPlayer.attachMediaElement(node);\n\t\t\t\t\tflvPlayer.load();\n\t\t\t\t}\n\n\t\t\t\tnode.addEventListener(eventName, attachNativeEvents);\n\t\t\t};\n\n\t\t\tfor (var _i = 0, _total = events.length; _i < _total; _i++) {\n\t\t\t\tassignEvents(events[_i]);\n\t\t\t}\n\n\t\t\tvar assignFlvEvents = function assignFlvEvents(name, data) {\n\t\t\t\tif (name === 'error') {\n\t\t\t\t\tvar message = data[0] + ': ' + data[1] + ' ' + data[2].msg;\n\t\t\t\t\tmediaElement.generateError(message, node.src);\n\t\t\t\t} else {\n\t\t\t\t\tvar _event = (0, _general.createEvent)(name, mediaElement);\n\t\t\t\t\t_event.data = data;\n\t\t\t\t\tmediaElement.dispatchEvent(_event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar _loop = function _loop(eventType) {\n\t\t\t\tif (flvEvents.hasOwnProperty(eventType)) {\n\t\t\t\t\tflvPlayer.on(flvEvents[eventType], function () {\n\t\t\t\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\t\t\targs[_key] = arguments[_key];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn assignFlvEvents(flvEvents[eventType], args);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfor (var eventType in flvEvents) {\n\t\t\t\t_loop(eventType);\n\t\t\t}\n\t\t};\n\n\t\tif (mediaFiles && mediaFiles.length > 0) {\n\t\t\tfor (var _i2 = 0, _total2 = mediaFiles.length; _i2 < _total2; _i2++) {\n\t\t\t\tif (_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[_i2].type)) {\n\t\t\t\t\tnode.setAttribute('src', mediaFiles[_i2].src);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tnode.setAttribute('id', id);\n\n\t\toriginalNode.parentNode.insertBefore(node, originalNode);\n\t\toriginalNode.autoplay = false;\n\t\toriginalNode.style.display = 'none';\n\n\t\tvar flvOptions = {};\n\t\tflvOptions.type = 'flv';\n\t\tflvOptions.url = node.src;\n\t\tflvOptions.cors = options.flv.cors;\n\t\tflvOptions.debug = options.flv.debug;\n\t\tflvOptions.path = options.flv.path;\n\t\tvar flvConfigs = options.flv.configs;\n\n\t\tnode.setSize = function (width, height) {\n\t\t\tnode.style.width = width + 'px';\n\t\t\tnode.style.height = height + 'px';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.hide = function () {\n\t\t\tif (flvPlayer !== null) {\n\t\t\t\tflvPlayer.pause();\n\t\t\t}\n\t\t\tnode.style.display = 'none';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.show = function () {\n\t\t\tnode.style.display = '';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.destroy = function () {\n\t\t\tif (flvPlayer !== null) {\n\t\t\t\tflvPlayer.destroy();\n\t\t\t}\n\t\t};\n\n\t\tvar event = (0, _general.createEvent)('rendererready', node);\n\t\tmediaElement.dispatchEvent(event);\n\n\t\tmediaElement.promises.push(NativeFlv.load({\n\t\t\toptions: flvOptions,\n\t\t\tconfigs: flvConfigs,\n\t\t\tid: id\n\t\t}));\n\n\t\treturn node;\n\t}\n};\n\n_media.typeChecks.push(function (url) {\n\treturn ~url.toLowerCase().indexOf('.flv') ? 'video/flv' : null;\n});\n\n_renderer.renderer.add(FlvNativeRenderer);\n\n},{\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"7\":7,\"8\":8}],22:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _constants = _dereq_(25);\n\nvar _media = _dereq_(28);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NativeHls = {\n\n\tpromise: null,\n\n\tload: function load(settings) {\n\t\tif (typeof Hls !== 'undefined') {\n\t\t\tNativeHls.promise = new Promise(function (resolve) {\n\t\t\t\tresolve();\n\t\t\t}).then(function () {\n\t\t\t\tNativeHls._createPlayer(settings);\n\t\t\t});\n\t\t} else {\n\t\t\tsettings.options.path = typeof settings.options.path === 'string' ? settings.options.path : 'https://cdn.jsdelivr.net/npm/hls.js@latest';\n\n\t\t\tNativeHls.promise = NativeHls.promise || (0, _dom.loadScript)(settings.options.path);\n\t\t\tNativeHls.promise.then(function () {\n\t\t\t\tNativeHls._createPlayer(settings);\n\t\t\t});\n\t\t}\n\n\t\treturn NativeHls.promise;\n\t},\n\n\t_createPlayer: function _createPlayer(settings) {\n\t\tvar player = new Hls(settings.options);\n\t\t_window2.default['__ready__' + settings.id](player);\n\t\treturn player;\n\t}\n};\n\nvar HlsNativeRenderer = {\n\tname: 'native_hls',\n\toptions: {\n\t\tprefix: 'native_hls',\n\t\thls: {\n\t\t\tpath: 'https://cdn.jsdelivr.net/npm/hls.js@latest',\n\n\t\t\tautoStartLoad: false,\n\t\t\tdebug: false\n\t\t}\n\t},\n\n\tcanPlayType: function canPlayType(type) {\n\t\treturn _constants.HAS_MSE && ['application/x-mpegurl', 'application/vnd.apple.mpegurl', 'audio/mpegurl', 'audio/hls', 'video/hls'].indexOf(type.toLowerCase()) > -1;\n\t},\n\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar originalNode = mediaElement.originalNode,\n\t\t    id = mediaElement.id + '_' + options.prefix,\n\t\t    preload = originalNode.getAttribute('preload'),\n\t\t    autoplay = originalNode.autoplay;\n\n\t\tvar hlsPlayer = null,\n\t\t    node = null,\n\t\t    index = 0,\n\t\t    total = mediaFiles.length;\n\n\t\tnode = originalNode.cloneNode(true);\n\t\toptions = Object.assign(options, mediaElement.options);\n\t\toptions.hls.autoStartLoad = preload && preload !== 'none' || autoplay;\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    events = _mejs2.default.html5media.events.concat(['click', 'mouseover', 'mouseout']).filter(function (e) {\n\t\t\treturn e !== 'error';\n\t\t}),\n\t\t    attachNativeEvents = function attachNativeEvents(e) {\n\t\t\tvar event = (0, _general.createEvent)(e.type, mediaElement);\n\t\t\tmediaElement.dispatchEvent(event);\n\t\t},\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tnode['get' + capName] = function () {\n\t\t\t\treturn hlsPlayer !== null ? node[propName] : null;\n\t\t\t};\n\n\t\t\tnode['set' + capName] = function (value) {\n\t\t\t\tif (_mejs2.default.html5media.readOnlyProperties.indexOf(propName) === -1) {\n\t\t\t\t\tif (propName === 'src') {\n\t\t\t\t\t\tnode[propName] = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.src ? value.src : value;\n\t\t\t\t\t\tif (hlsPlayer !== null) {\n\t\t\t\t\t\t\thlsPlayer.destroy();\n\t\t\t\t\t\t\tfor (var i = 0, _total = events.length; i < _total; i++) {\n\t\t\t\t\t\t\t\tnode.removeEventListener(events[i], attachNativeEvents);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thlsPlayer = NativeHls._createPlayer({\n\t\t\t\t\t\t\t\toptions: options.hls,\n\t\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\thlsPlayer.loadSource(value);\n\t\t\t\t\t\t\thlsPlayer.attachMedia(node);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode[propName] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var i = 0, _total2 = props.length; i < _total2; i++) {\n\t\t\tassignGettersSetters(props[i]);\n\t\t}\n\n\t\t_window2.default['__ready__' + id] = function (_hlsPlayer) {\n\t\t\tmediaElement.hlsPlayer = hlsPlayer = _hlsPlayer;\n\t\t\tvar hlsEvents = Hls.Events,\n\t\t\t    assignEvents = function assignEvents(eventName) {\n\t\t\t\tif (eventName === 'loadedmetadata') {\n\t\t\t\t\tvar url = mediaElement.originalNode.src;\n\t\t\t\t\thlsPlayer.detachMedia();\n\t\t\t\t\thlsPlayer.loadSource(url);\n\t\t\t\t\thlsPlayer.attachMedia(node);\n\t\t\t\t}\n\n\t\t\t\tnode.addEventListener(eventName, attachNativeEvents);\n\t\t\t};\n\n\t\t\tfor (var _i = 0, _total3 = events.length; _i < _total3; _i++) {\n\t\t\t\tassignEvents(events[_i]);\n\t\t\t}\n\n\t\t\tvar recoverDecodingErrorDate = void 0,\n\t\t\t    recoverSwapAudioCodecDate = void 0;\n\t\t\tvar assignHlsEvents = function assignHlsEvents(name, data) {\n\t\t\t\tif (name === 'hlsError') {\n\t\t\t\t\tconsole.warn(data);\n\t\t\t\t\tdata = data[1];\n\n\t\t\t\t\tif (data.fatal) {\n\t\t\t\t\t\tswitch (data.type) {\n\t\t\t\t\t\t\tcase 'mediaError':\n\t\t\t\t\t\t\t\tvar now = new Date().getTime();\n\t\t\t\t\t\t\t\tif (!recoverDecodingErrorDate || now - recoverDecodingErrorDate > 3000) {\n\t\t\t\t\t\t\t\t\trecoverDecodingErrorDate = new Date().getTime();\n\t\t\t\t\t\t\t\t\thlsPlayer.recoverMediaError();\n\t\t\t\t\t\t\t\t} else if (!recoverSwapAudioCodecDate || now - recoverSwapAudioCodecDate > 3000) {\n\t\t\t\t\t\t\t\t\trecoverSwapAudioCodecDate = new Date().getTime();\n\t\t\t\t\t\t\t\t\tconsole.warn('Attempting to swap Audio Codec and recover from media error');\n\t\t\t\t\t\t\t\t\thlsPlayer.swapAudioCodec();\n\t\t\t\t\t\t\t\t\thlsPlayer.recoverMediaError();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvar message = 'Cannot recover, last media error recovery failed';\n\t\t\t\t\t\t\t\t\tmediaElement.generateError(message, node.src);\n\t\t\t\t\t\t\t\t\tconsole.error(message);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'networkError':\n\t\t\t\t\t\t\t\tif (data.details === 'manifestLoadError') {\n\t\t\t\t\t\t\t\t\tif (index < total && mediaFiles[index + 1] !== undefined) {\n\t\t\t\t\t\t\t\t\t\tnode.setSrc(mediaFiles[index++].src);\n\t\t\t\t\t\t\t\t\t\tnode.load();\n\t\t\t\t\t\t\t\t\t\tnode.play();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tvar _message = 'Network error';\n\t\t\t\t\t\t\t\t\t\tmediaElement.generateError(_message, mediaFiles);\n\t\t\t\t\t\t\t\t\t\tconsole.error(_message);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvar _message2 = 'Network error';\n\t\t\t\t\t\t\t\t\tmediaElement.generateError(_message2, mediaFiles);\n\t\t\t\t\t\t\t\t\tconsole.error(_message2);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\thlsPlayer.destroy();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar event = (0, _general.createEvent)(name, mediaElement);\n\t\t\t\tevent.data = data;\n\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t};\n\n\t\t\tvar _loop = function _loop(eventType) {\n\t\t\t\tif (hlsEvents.hasOwnProperty(eventType)) {\n\t\t\t\t\thlsPlayer.on(hlsEvents[eventType], function () {\n\t\t\t\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\t\t\targs[_key] = arguments[_key];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn assignHlsEvents(hlsEvents[eventType], args);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfor (var eventType in hlsEvents) {\n\t\t\t\t_loop(eventType);\n\t\t\t}\n\t\t};\n\n\t\tif (total > 0) {\n\t\t\tfor (; index < total; index++) {\n\t\t\t\tif (_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[index].type)) {\n\t\t\t\t\tnode.setAttribute('src', mediaFiles[index].src);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (preload !== 'auto' && !autoplay) {\n\t\t\tnode.addEventListener('play', function () {\n\t\t\t\tif (hlsPlayer !== null) {\n\t\t\t\t\thlsPlayer.startLoad();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tnode.addEventListener('pause', function () {\n\t\t\t\tif (hlsPlayer !== null) {\n\t\t\t\t\thlsPlayer.stopLoad();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tnode.setAttribute('id', id);\n\n\t\toriginalNode.parentNode.insertBefore(node, originalNode);\n\t\toriginalNode.autoplay = false;\n\t\toriginalNode.style.display = 'none';\n\n\t\tnode.setSize = function (width, height) {\n\t\t\tnode.style.width = width + 'px';\n\t\t\tnode.style.height = height + 'px';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.hide = function () {\n\t\t\tnode.pause();\n\t\t\tnode.style.display = 'none';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.show = function () {\n\t\t\tnode.style.display = '';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.destroy = function () {\n\t\t\tif (hlsPlayer !== null) {\n\t\t\t\thlsPlayer.stopLoad();\n\t\t\t\thlsPlayer.destroy();\n\t\t\t}\n\t\t};\n\n\t\tvar event = (0, _general.createEvent)('rendererready', node);\n\t\tmediaElement.dispatchEvent(event);\n\n\t\tmediaElement.promises.push(NativeHls.load({\n\t\t\toptions: options.hls,\n\t\t\tid: id\n\t\t}));\n\n\t\treturn node;\n\t}\n};\n\n_media.typeChecks.push(function (url) {\n\treturn ~url.toLowerCase().indexOf('.m3u8') ? 'application/x-mpegURL' : null;\n});\n\n_renderer.renderer.add(HlsNativeRenderer);\n\n},{\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"7\":7,\"8\":8}],23:[function(_dereq_,module,exports){\n'use strict';\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _constants = _dereq_(25);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HtmlMediaElement = {\n\tname: 'html5',\n\toptions: {\n\t\tprefix: 'html5'\n\t},\n\n\tcanPlayType: function canPlayType(type) {\n\n\t\tvar mediaElement = _document2.default.createElement('video');\n\n\t\tif (_constants.IS_ANDROID && /\\/mp(3|4)$/i.test(type) || ~['application/x-mpegurl', 'vnd.apple.mpegurl', 'audio/mpegurl', 'audio/hls', 'video/hls'].indexOf(type.toLowerCase()) && _constants.SUPPORTS_NATIVE_HLS) {\n\t\t\treturn 'yes';\n\t\t} else if (mediaElement.canPlayType) {\n\t\t\treturn mediaElement.canPlayType(type.toLowerCase()).replace(/no/, '');\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t},\n\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar id = mediaElement.id + '_' + options.prefix;\n\t\tvar isActive = false;\n\n\t\tvar node = null;\n\n\t\tif (mediaElement.originalNode === undefined || mediaElement.originalNode === null) {\n\t\t\tnode = _document2.default.createElement('audio');\n\t\t\tmediaElement.appendChild(node);\n\t\t} else {\n\t\t\tnode = mediaElement.originalNode;\n\t\t}\n\n\t\tnode.setAttribute('id', id);\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tnode['get' + capName] = function () {\n\t\t\t\treturn node[propName];\n\t\t\t};\n\n\t\t\tnode['set' + capName] = function (value) {\n\t\t\t\tif (_mejs2.default.html5media.readOnlyProperties.indexOf(propName) === -1) {\n\t\t\t\t\tnode[propName] = value;\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var i = 0, _total = props.length; i < _total; i++) {\n\t\t\tassignGettersSetters(props[i]);\n\t\t}\n\n\t\tvar events = _mejs2.default.html5media.events.concat(['click', 'mouseover', 'mouseout']).filter(function (e) {\n\t\t\treturn e !== 'error';\n\t\t}),\n\t\t    assignEvents = function assignEvents(eventName) {\n\t\t\tnode.addEventListener(eventName, function (e) {\n\t\t\t\tif (isActive) {\n\t\t\t\t\tvar _event = (0, _general.createEvent)(e.type, e.target);\n\t\t\t\t\tmediaElement.dispatchEvent(_event);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tfor (var _i = 0, _total2 = events.length; _i < _total2; _i++) {\n\t\t\tassignEvents(events[_i]);\n\t\t}\n\n\t\tnode.setSize = function (width, height) {\n\t\t\tnode.style.width = width + 'px';\n\t\t\tnode.style.height = height + 'px';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.hide = function () {\n\t\t\tisActive = false;\n\t\t\tnode.style.display = 'none';\n\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.show = function () {\n\t\t\tisActive = true;\n\t\t\tnode.style.display = '';\n\n\t\t\treturn node;\n\t\t};\n\n\t\tvar index = 0,\n\t\t    total = mediaFiles.length;\n\t\tif (total > 0) {\n\t\t\tfor (; index < total; index++) {\n\t\t\t\tif (_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[index].type)) {\n\t\t\t\t\tnode.setAttribute('src', mediaFiles[index].src);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tnode.addEventListener('error', function (e) {\n\t\t\tif (e && e.target && e.target.error && e.target.error.code === 4 && isActive) {\n\t\t\t\tif (index < total && mediaFiles[index + 1] !== undefined) {\n\t\t\t\t\tnode.src = mediaFiles[index++].src;\n\t\t\t\t\tnode.load();\n\t\t\t\t\tnode.play();\n\t\t\t\t} else {\n\t\t\t\t\tmediaElement.generateError('Media error: Format(s) not supported or source(s) not found', mediaFiles);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tvar event = (0, _general.createEvent)('rendererready', node);\n\t\tmediaElement.dispatchEvent(event);\n\n\t\treturn node;\n\t}\n};\n\n_window2.default.HtmlMediaElement = _mejs2.default.HtmlMediaElement = HtmlMediaElement;\n\n_renderer.renderer.add(HtmlMediaElement);\n\n},{\"2\":2,\"25\":25,\"27\":27,\"3\":3,\"7\":7,\"8\":8}],24:[function(_dereq_,module,exports){\n'use strict';\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _media = _dereq_(28);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar YouTubeApi = {\n\tisIframeStarted: false,\n\n\tisIframeLoaded: false,\n\n\tiframeQueue: [],\n\n\tenqueueIframe: function enqueueIframe(settings) {\n\t\tYouTubeApi.isLoaded = typeof YT !== 'undefined' && YT.loaded;\n\n\t\tif (YouTubeApi.isLoaded) {\n\t\t\tYouTubeApi.createIframe(settings);\n\t\t} else {\n\t\t\tYouTubeApi.loadIframeApi();\n\t\t\tYouTubeApi.iframeQueue.push(settings);\n\t\t}\n\t},\n\n\tloadIframeApi: function loadIframeApi() {\n\t\tif (!YouTubeApi.isIframeStarted) {\n\t\t\t(0, _dom.loadScript)('https://www.youtube.com/player_api');\n\t\t\tYouTubeApi.isIframeStarted = true;\n\t\t}\n\t},\n\n\tiFrameReady: function iFrameReady() {\n\n\t\tYouTubeApi.isLoaded = true;\n\t\tYouTubeApi.isIframeLoaded = true;\n\n\t\twhile (YouTubeApi.iframeQueue.length > 0) {\n\t\t\tvar settings = YouTubeApi.iframeQueue.pop();\n\t\t\tYouTubeApi.createIframe(settings);\n\t\t}\n\t},\n\n\tcreateIframe: function createIframe(settings) {\n\t\treturn new YT.Player(settings.containerId, settings);\n\t},\n\n\tgetYouTubeId: function getYouTubeId(url) {\n\n\t\tvar youTubeId = '';\n\n\t\tif (url.indexOf('?') > 0) {\n\t\t\tyouTubeId = YouTubeApi.getYouTubeIdFromParam(url);\n\n\t\t\tif (youTubeId === '') {\n\t\t\t\tyouTubeId = YouTubeApi.getYouTubeIdFromUrl(url);\n\t\t\t}\n\t\t} else {\n\t\t\tyouTubeId = YouTubeApi.getYouTubeIdFromUrl(url);\n\t\t}\n\n\t\tvar id = youTubeId.substring(youTubeId.lastIndexOf('/') + 1);\n\t\tyouTubeId = id.split('?');\n\t\treturn youTubeId[0];\n\t},\n\n\tgetYouTubeIdFromParam: function getYouTubeIdFromParam(url) {\n\n\t\tif (url === undefined || url === null || !url.trim().length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar parts = url.split('?'),\n\t\t    parameters = parts[1].split('&');\n\n\t\tvar youTubeId = '';\n\n\t\tfor (var i = 0, total = parameters.length; i < total; i++) {\n\t\t\tvar paramParts = parameters[i].split('=');\n\t\t\tif (paramParts[0] === 'v') {\n\t\t\t\tyouTubeId = paramParts[1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn youTubeId;\n\t},\n\n\tgetYouTubeIdFromUrl: function getYouTubeIdFromUrl(url) {\n\n\t\tif (url === undefined || url === null || !url.trim().length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar parts = url.split('?');\n\t\turl = parts[0];\n\t\treturn url.substring(url.lastIndexOf('/') + 1);\n\t},\n\n\tgetYouTubeNoCookieUrl: function getYouTubeNoCookieUrl(url) {\n\t\tif (url === undefined || url === null || !url.trim().length || url.indexOf('//www.youtube') === -1) {\n\t\t\treturn url;\n\t\t}\n\n\t\tvar parts = url.split('/');\n\t\tparts[2] = parts[2].replace('.com', '-nocookie.com');\n\t\treturn parts.join('/');\n\t}\n};\n\nvar YouTubeIframeRenderer = {\n\tname: 'youtube_iframe',\n\n\toptions: {\n\t\tprefix: 'youtube_iframe',\n\n\t\tyoutube: {\n\t\t\tautoplay: 0,\n\t\t\tcontrols: 0,\n\t\t\tdisablekb: 1,\n\t\t\tend: 0,\n\t\t\tloop: 0,\n\t\t\tmodestbranding: 0,\n\t\t\tplaysinline: 0,\n\t\t\trel: 0,\n\t\t\tshowinfo: 0,\n\t\t\tstart: 0,\n\t\t\tiv_load_policy: 3,\n\n\t\t\tnocookie: false,\n\n\t\t\timageQuality: null\n\t\t}\n\t},\n\n\tcanPlayType: function canPlayType(type) {\n\t\treturn ~['video/youtube', 'video/x-youtube'].indexOf(type.toLowerCase());\n\t},\n\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar youtube = {},\n\t\t    apiStack = [],\n\t\t    readyState = 4;\n\n\t\tvar youTubeApi = null,\n\t\t    paused = true,\n\t\t    ended = false,\n\t\t    youTubeIframe = null,\n\t\t    volume = 1;\n\n\t\tyoutube.options = options;\n\t\tyoutube.id = mediaElement.id + '_' + options.prefix;\n\t\tyoutube.mediaElement = mediaElement;\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tyoutube['get' + capName] = function () {\n\t\t\t\tif (youTubeApi !== null) {\n\t\t\t\t\tvar value = null;\n\n\t\t\t\t\tswitch (propName) {\n\t\t\t\t\t\tcase 'currentTime':\n\t\t\t\t\t\t\treturn youTubeApi.getCurrentTime();\n\t\t\t\t\t\tcase 'duration':\n\t\t\t\t\t\t\treturn youTubeApi.getDuration();\n\t\t\t\t\t\tcase 'volume':\n\t\t\t\t\t\t\tvolume = youTubeApi.getVolume() / 100;\n\t\t\t\t\t\t\treturn volume;\n\t\t\t\t\t\tcase 'playbackRate':\n\t\t\t\t\t\t\treturn youTubeApi.getPlaybackRate();\n\t\t\t\t\t\tcase 'paused':\n\t\t\t\t\t\t\treturn paused;\n\t\t\t\t\t\tcase 'ended':\n\t\t\t\t\t\t\treturn ended;\n\t\t\t\t\t\tcase 'muted':\n\t\t\t\t\t\t\treturn youTubeApi.isMuted();\n\t\t\t\t\t\tcase 'buffered':\n\t\t\t\t\t\t\tvar percentLoaded = youTubeApi.getVideoLoadedFraction(),\n\t\t\t\t\t\t\t    duration = youTubeApi.getDuration();\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstart: function start() {\n\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tend: function end() {\n\t\t\t\t\t\t\t\t\treturn percentLoaded * duration;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlength: 1\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'src':\n\t\t\t\t\t\t\treturn youTubeApi.getVideoUrl();\n\t\t\t\t\t\tcase 'readyState':\n\t\t\t\t\t\t\treturn readyState;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tyoutube['set' + capName] = function (value) {\n\t\t\t\tif (youTubeApi !== null) {\n\t\t\t\t\tswitch (propName) {\n\t\t\t\t\t\tcase 'src':\n\t\t\t\t\t\t\tvar url = typeof value === 'string' ? value : value[0].src,\n\t\t\t\t\t\t\t    _videoId = YouTubeApi.getYouTubeId(url);\n\n\t\t\t\t\t\t\tif (mediaElement.originalNode.autoplay) {\n\t\t\t\t\t\t\t\tyouTubeApi.loadVideoById(_videoId);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tyouTubeApi.cueVideoById(_videoId);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'currentTime':\n\t\t\t\t\t\t\tyouTubeApi.seekTo(value);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'muted':\n\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\tyouTubeApi.mute();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tyouTubeApi.unMute();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar event = (0, _general.createEvent)('volumechange', youtube);\n\t\t\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'volume':\n\t\t\t\t\t\t\tvolume = value;\n\t\t\t\t\t\t\tyouTubeApi.setVolume(value * 100);\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar event = (0, _general.createEvent)('volumechange', youtube);\n\t\t\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'playbackRate':\n\t\t\t\t\t\t\tyouTubeApi.setPlaybackRate(value);\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar event = (0, _general.createEvent)('ratechange', youtube);\n\t\t\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'readyState':\n\t\t\t\t\t\t\tvar event = (0, _general.createEvent)('canplay', youtube);\n\t\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tapiStack.push({ type: 'set', propName: propName, value: value });\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var i = 0, total = props.length; i < total; i++) {\n\t\t\tassignGettersSetters(props[i]);\n\t\t}\n\n\t\tvar methods = _mejs2.default.html5media.methods,\n\t\t    assignMethods = function assignMethods(methodName) {\n\t\t\tyoutube[methodName] = function () {\n\t\t\t\tif (youTubeApi !== null) {\n\t\t\t\t\tswitch (methodName) {\n\t\t\t\t\t\tcase 'play':\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t\treturn youTubeApi.playVideo();\n\t\t\t\t\t\tcase 'pause':\n\t\t\t\t\t\t\tpaused = true;\n\t\t\t\t\t\t\treturn youTubeApi.pauseVideo();\n\t\t\t\t\t\tcase 'load':\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tapiStack.push({ type: 'call', methodName: methodName });\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var _i = 0, _total = methods.length; _i < _total; _i++) {\n\t\t\tassignMethods(methods[_i]);\n\t\t}\n\n\t\tvar errorHandler = function errorHandler(error) {\n\t\t\tvar message = '';\n\t\t\tswitch (error.data) {\n\t\t\t\tcase 2:\n\t\t\t\t\tmessage = 'The request contains an invalid parameter value. Verify that video ID has 11 characters and that contains no invalid characters, such as exclamation points or asterisks.';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tmessage = 'The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 100:\n\t\t\t\t\tmessage = 'The video requested was not found. Either video has been removed or has been marked as private.';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 101:\n\t\t\t\tcase 105:\n\t\t\t\t\tmessage = 'The owner of the requested video does not allow it to be played in embedded players.';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tmessage = 'Unknown error.';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmediaElement.generateError('Code ' + error.data + ': ' + message, mediaFiles);\n\t\t};\n\n\t\tvar youtubeContainer = _document2.default.createElement('div');\n\t\tyoutubeContainer.id = youtube.id;\n\n\t\tif (youtube.options.youtube.nocookie) {\n\t\t\tmediaElement.originalNode.src = YouTubeApi.getYouTubeNoCookieUrl(mediaFiles[0].src);\n\t\t}\n\n\t\tmediaElement.originalNode.parentNode.insertBefore(youtubeContainer, mediaElement.originalNode);\n\t\tmediaElement.originalNode.style.display = 'none';\n\n\t\tvar isAudio = mediaElement.originalNode.tagName.toLowerCase() === 'audio',\n\t\t    height = isAudio ? '1' : mediaElement.originalNode.height,\n\t\t    width = isAudio ? '1' : mediaElement.originalNode.width,\n\t\t    videoId = YouTubeApi.getYouTubeId(mediaFiles[0].src),\n\t\t    youtubeSettings = {\n\t\t\tid: youtube.id,\n\t\t\tcontainerId: youtubeContainer.id,\n\t\t\tvideoId: videoId,\n\t\t\theight: height,\n\t\t\twidth: width,\n\t\t\tplayerVars: Object.assign({\n\t\t\t\tcontrols: 0,\n\t\t\t\trel: 0,\n\t\t\t\tdisablekb: 1,\n\t\t\t\tshowinfo: 0,\n\t\t\t\tmodestbranding: 0,\n\t\t\t\thtml5: 1,\n\t\t\t\tiv_load_policy: 3\n\t\t\t}, youtube.options.youtube),\n\t\t\torigin: _window2.default.location.host,\n\t\t\tevents: {\n\t\t\t\tonReady: function onReady(e) {\n\t\t\t\t\tmediaElement.youTubeApi = youTubeApi = e.target;\n\t\t\t\t\tmediaElement.youTubeState = {\n\t\t\t\t\t\tpaused: true,\n\t\t\t\t\t\tended: false\n\t\t\t\t\t};\n\n\t\t\t\t\tif (apiStack.length) {\n\t\t\t\t\t\tfor (var _i2 = 0, _total2 = apiStack.length; _i2 < _total2; _i2++) {\n\n\t\t\t\t\t\t\tvar stackItem = apiStack[_i2];\n\n\t\t\t\t\t\t\tif (stackItem.type === 'set') {\n\t\t\t\t\t\t\t\tvar propName = stackItem.propName,\n\t\t\t\t\t\t\t\t    capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\t\t\t\t\t\tyoutube['set' + capName](stackItem.value);\n\t\t\t\t\t\t\t} else if (stackItem.type === 'call') {\n\t\t\t\t\t\t\t\tyoutube[stackItem.methodName]();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tyouTubeIframe = youTubeApi.getIframe();\n\n\t\t\t\t\tif (mediaElement.originalNode.muted) {\n\t\t\t\t\t\tyouTubeApi.mute();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar events = ['mouseover', 'mouseout'],\n\t\t\t\t\t    assignEvents = function assignEvents(e) {\n\t\t\t\t\t\tvar newEvent = (0, _general.createEvent)(e.type, youtube);\n\t\t\t\t\t\tmediaElement.dispatchEvent(newEvent);\n\t\t\t\t\t};\n\n\t\t\t\t\tfor (var _i3 = 0, _total3 = events.length; _i3 < _total3; _i3++) {\n\t\t\t\t\t\tyouTubeIframe.addEventListener(events[_i3], assignEvents, false);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar initEvents = ['rendererready', 'loadedmetadata', 'loadeddata', 'canplay'];\n\n\t\t\t\t\tfor (var _i4 = 0, _total4 = initEvents.length; _i4 < _total4; _i4++) {\n\t\t\t\t\t\tvar event = (0, _general.createEvent)(initEvents[_i4], youtube);\n\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonStateChange: function onStateChange(e) {\n\t\t\t\t\tvar events = [];\n\n\t\t\t\t\tswitch (e.data) {\n\t\t\t\t\t\tcase -1:\n\t\t\t\t\t\t\tevents = ['loadedmetadata'];\n\t\t\t\t\t\t\tpaused = true;\n\t\t\t\t\t\t\tended = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\tevents = ['ended'];\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t\tended = !youtube.options.youtube.loop;\n\t\t\t\t\t\t\tif (!youtube.options.youtube.loop) {\n\t\t\t\t\t\t\t\tyoutube.stopInterval();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tevents = ['play', 'playing'];\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t\tended = false;\n\t\t\t\t\t\t\tyoutube.startInterval();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\tevents = ['pause'];\n\t\t\t\t\t\t\tpaused = true;\n\t\t\t\t\t\t\tended = false;\n\t\t\t\t\t\t\tyoutube.stopInterval();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\tevents = ['progress'];\n\t\t\t\t\t\t\tended = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 5:\n\t\t\t\t\t\t\tevents = ['loadeddata', 'loadedmetadata', 'canplay'];\n\t\t\t\t\t\t\tpaused = true;\n\t\t\t\t\t\t\tended = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (var _i5 = 0, _total5 = events.length; _i5 < _total5; _i5++) {\n\t\t\t\t\t\tvar event = (0, _general.createEvent)(events[_i5], youtube);\n\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonError: function onError(e) {\n\t\t\t\t\treturn errorHandler(e);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (isAudio || mediaElement.originalNode.hasAttribute('playsinline')) {\n\t\t\tyoutubeSettings.playerVars.playsinline = 1;\n\t\t}\n\n\t\tif (mediaElement.originalNode.controls) {\n\t\t\tyoutubeSettings.playerVars.controls = 1;\n\t\t}\n\t\tif (mediaElement.originalNode.autoplay) {\n\t\t\tyoutubeSettings.playerVars.autoplay = 1;\n\t\t}\n\t\tif (mediaElement.originalNode.loop) {\n\t\t\tyoutubeSettings.playerVars.loop = 1;\n\t\t}\n\n\t\tif ((youtubeSettings.playerVars.loop && parseInt(youtubeSettings.playerVars.loop, 10) === 1 || mediaElement.originalNode.src.indexOf('loop=') > -1) && !youtubeSettings.playerVars.playlist && mediaElement.originalNode.src.indexOf('playlist=') === -1) {\n\t\t\tyoutubeSettings.playerVars.playlist = YouTubeApi.getYouTubeId(mediaElement.originalNode.src);\n\t\t}\n\n\t\tYouTubeApi.enqueueIframe(youtubeSettings);\n\n\t\tyoutube.onEvent = function (eventName, player, _youTubeState) {\n\t\t\tif (_youTubeState !== null && _youTubeState !== undefined) {\n\t\t\t\tmediaElement.youTubeState = _youTubeState;\n\t\t\t}\n\t\t};\n\n\t\tyoutube.setSize = function (width, height) {\n\t\t\tif (youTubeApi !== null) {\n\t\t\t\tyouTubeApi.setSize(width, height);\n\t\t\t}\n\t\t};\n\t\tyoutube.hide = function () {\n\t\t\tyoutube.stopInterval();\n\t\t\tyoutube.pause();\n\t\t\tif (youTubeIframe) {\n\t\t\t\tyouTubeIframe.style.display = 'none';\n\t\t\t}\n\t\t};\n\t\tyoutube.show = function () {\n\t\t\tif (youTubeIframe) {\n\t\t\t\tyouTubeIframe.style.display = '';\n\t\t\t}\n\t\t};\n\t\tyoutube.destroy = function () {\n\t\t\tyouTubeApi.destroy();\n\t\t};\n\t\tyoutube.interval = null;\n\n\t\tyoutube.startInterval = function () {\n\t\t\tyoutube.interval = setInterval(function () {\n\t\t\t\tvar event = (0, _general.createEvent)('timeupdate', youtube);\n\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t}, 250);\n\t\t};\n\t\tyoutube.stopInterval = function () {\n\t\t\tif (youtube.interval) {\n\t\t\t\tclearInterval(youtube.interval);\n\t\t\t}\n\t\t};\n\t\tyoutube.getPosterUrl = function () {\n\t\t\tvar quality = options.youtube.imageQuality,\n\t\t\t    resolutions = ['default', 'hqdefault', 'mqdefault', 'sddefault', 'maxresdefault'],\n\t\t\t    id = YouTubeApi.getYouTubeId(mediaElement.originalNode.src);\n\t\t\treturn quality && resolutions.indexOf(quality) > -1 && id ? 'https://img.youtube.com/vi/' + id + '/' + quality + '.jpg' : '';\n\t\t};\n\n\t\treturn youtube;\n\t}\n};\n\n_window2.default.onYouTubePlayerAPIReady = function () {\n\tYouTubeApi.iFrameReady();\n};\n\n_media.typeChecks.push(function (url) {\n\treturn (/\\/\\/(www\\.youtube|youtu\\.?be)/i.test(url) ? 'video/x-youtube' : null\n\t);\n});\n\n_renderer.renderer.add(YouTubeIframeRenderer);\n\n},{\"2\":2,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"7\":7,\"8\":8}],25:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.cancelFullScreen = exports.requestFullScreen = exports.isFullScreen = exports.FULLSCREEN_EVENT_NAME = exports.HAS_NATIVE_FULLSCREEN_ENABLED = exports.HAS_TRUE_NATIVE_FULLSCREEN = exports.HAS_IOS_FULLSCREEN = exports.HAS_MS_NATIVE_FULLSCREEN = exports.HAS_MOZ_NATIVE_FULLSCREEN = exports.HAS_WEBKIT_NATIVE_FULLSCREEN = exports.HAS_NATIVE_FULLSCREEN = exports.SUPPORTS_NATIVE_HLS = exports.SUPPORT_PASSIVE_EVENT = exports.SUPPORT_POINTER_EVENTS = exports.HAS_MSE = exports.IS_STOCK_ANDROID = exports.IS_SAFARI = exports.IS_FIREFOX = exports.IS_CHROME = exports.IS_EDGE = exports.IS_IE = exports.IS_ANDROID = exports.IS_IOS = exports.IS_IPOD = exports.IS_IPHONE = exports.IS_IPAD = exports.UA = exports.NAV = undefined;\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NAV = exports.NAV = _window2.default.navigator;\nvar UA = exports.UA = NAV.userAgent.toLowerCase();\nvar IS_IPAD = exports.IS_IPAD = /ipad/i.test(UA) && !_window2.default.MSStream;\nvar IS_IPHONE = exports.IS_IPHONE = /iphone/i.test(UA) && !_window2.default.MSStream;\nvar IS_IPOD = exports.IS_IPOD = /ipod/i.test(UA) && !_window2.default.MSStream;\nvar IS_IOS = exports.IS_IOS = /ipad|iphone|ipod/i.test(UA) && !_window2.default.MSStream;\nvar IS_ANDROID = exports.IS_ANDROID = /android/i.test(UA);\nvar IS_IE = exports.IS_IE = /(trident|microsoft)/i.test(NAV.appName);\nvar IS_EDGE = exports.IS_EDGE = 'msLaunchUri' in NAV && !('documentMode' in _document2.default);\nvar IS_CHROME = exports.IS_CHROME = /chrome/i.test(UA);\nvar IS_FIREFOX = exports.IS_FIREFOX = /firefox/i.test(UA);\nvar IS_SAFARI = exports.IS_SAFARI = /safari/i.test(UA) && !IS_CHROME;\nvar IS_STOCK_ANDROID = exports.IS_STOCK_ANDROID = /^mozilla\\/\\d+\\.\\d+\\s\\(linux;\\su;/i.test(UA);\nvar HAS_MSE = exports.HAS_MSE = 'MediaSource' in _window2.default;\nvar SUPPORT_POINTER_EVENTS = exports.SUPPORT_POINTER_EVENTS = function () {\n\tvar element = _document2.default.createElement('x'),\n\t    documentElement = _document2.default.documentElement,\n\t    getComputedStyle = _window2.default.getComputedStyle;\n\n\tif (!('pointerEvents' in element.style)) {\n\t\treturn false;\n\t}\n\n\telement.style.pointerEvents = 'auto';\n\telement.style.pointerEvents = 'x';\n\tdocumentElement.appendChild(element);\n\tvar supports = getComputedStyle && (getComputedStyle(element, '') || {}).pointerEvents === 'auto';\n\telement.remove();\n\treturn !!supports;\n}();\n\nvar SUPPORT_PASSIVE_EVENT = exports.SUPPORT_PASSIVE_EVENT = function () {\n\tvar supportsPassive = false;\n\ttry {\n\t\tvar opts = Object.defineProperty({}, 'passive', {\n\t\t\tget: function get() {\n\t\t\t\tsupportsPassive = true;\n\t\t\t}\n\t\t});\n\t\t_window2.default.addEventListener('test', null, opts);\n\t} catch (e) {}\n\n\treturn supportsPassive;\n}();\n\nvar html5Elements = ['source', 'track', 'audio', 'video'];\nvar video = void 0;\n\nfor (var i = 0, total = html5Elements.length; i < total; i++) {\n\tvideo = _document2.default.createElement(html5Elements[i]);\n}\n\nvar SUPPORTS_NATIVE_HLS = exports.SUPPORTS_NATIVE_HLS = IS_SAFARI || IS_IE && /edge/i.test(UA);\n\nvar hasiOSFullScreen = video.webkitEnterFullscreen !== undefined;\n\nvar hasNativeFullscreen = video.requestFullscreen !== undefined;\n\nif (hasiOSFullScreen && /mac os x 10_5/i.test(UA)) {\n\thasNativeFullscreen = false;\n\thasiOSFullScreen = false;\n}\n\nvar hasWebkitNativeFullScreen = video.webkitRequestFullScreen !== undefined;\nvar hasMozNativeFullScreen = video.mozRequestFullScreen !== undefined;\nvar hasMsNativeFullScreen = video.msRequestFullscreen !== undefined;\nvar hasTrueNativeFullScreen = hasWebkitNativeFullScreen || hasMozNativeFullScreen || hasMsNativeFullScreen;\nvar nativeFullScreenEnabled = hasTrueNativeFullScreen;\nvar fullScreenEventName = '';\nvar isFullScreen = void 0,\n    requestFullScreen = void 0,\n    cancelFullScreen = void 0;\n\nif (hasMozNativeFullScreen) {\n\tnativeFullScreenEnabled = _document2.default.mozFullScreenEnabled;\n} else if (hasMsNativeFullScreen) {\n\tnativeFullScreenEnabled = _document2.default.msFullscreenEnabled;\n}\n\nif (IS_CHROME) {\n\thasiOSFullScreen = false;\n}\n\nif (hasTrueNativeFullScreen) {\n\tif (hasWebkitNativeFullScreen) {\n\t\tfullScreenEventName = 'webkitfullscreenchange';\n\t} else if (hasMozNativeFullScreen) {\n\t\tfullScreenEventName = 'fullscreenchange';\n\t} else if (hasMsNativeFullScreen) {\n\t\tfullScreenEventName = 'MSFullscreenChange';\n\t}\n\n\texports.isFullScreen = isFullScreen = function isFullScreen() {\n\t\tif (hasMozNativeFullScreen) {\n\t\t\treturn _document2.default.mozFullScreen;\n\t\t} else if (hasWebkitNativeFullScreen) {\n\t\t\treturn _document2.default.webkitIsFullScreen;\n\t\t} else if (hasMsNativeFullScreen) {\n\t\t\treturn _document2.default.msFullscreenElement !== null;\n\t\t}\n\t};\n\n\texports.requestFullScreen = requestFullScreen = function requestFullScreen(el) {\n\t\tif (hasWebkitNativeFullScreen) {\n\t\t\tel.webkitRequestFullScreen();\n\t\t} else if (hasMozNativeFullScreen) {\n\t\t\tel.mozRequestFullScreen();\n\t\t} else if (hasMsNativeFullScreen) {\n\t\t\tel.msRequestFullscreen();\n\t\t}\n\t};\n\n\texports.cancelFullScreen = cancelFullScreen = function cancelFullScreen() {\n\t\tif (hasWebkitNativeFullScreen) {\n\t\t\t_document2.default.webkitCancelFullScreen();\n\t\t} else if (hasMozNativeFullScreen) {\n\t\t\t_document2.default.mozCancelFullScreen();\n\t\t} else if (hasMsNativeFullScreen) {\n\t\t\t_document2.default.msExitFullscreen();\n\t\t}\n\t};\n}\n\nvar HAS_NATIVE_FULLSCREEN = exports.HAS_NATIVE_FULLSCREEN = hasNativeFullscreen;\nvar HAS_WEBKIT_NATIVE_FULLSCREEN = exports.HAS_WEBKIT_NATIVE_FULLSCREEN = hasWebkitNativeFullScreen;\nvar HAS_MOZ_NATIVE_FULLSCREEN = exports.HAS_MOZ_NATIVE_FULLSCREEN = hasMozNativeFullScreen;\nvar HAS_MS_NATIVE_FULLSCREEN = exports.HAS_MS_NATIVE_FULLSCREEN = hasMsNativeFullScreen;\nvar HAS_IOS_FULLSCREEN = exports.HAS_IOS_FULLSCREEN = hasiOSFullScreen;\nvar HAS_TRUE_NATIVE_FULLSCREEN = exports.HAS_TRUE_NATIVE_FULLSCREEN = hasTrueNativeFullScreen;\nvar HAS_NATIVE_FULLSCREEN_ENABLED = exports.HAS_NATIVE_FULLSCREEN_ENABLED = nativeFullScreenEnabled;\nvar FULLSCREEN_EVENT_NAME = exports.FULLSCREEN_EVENT_NAME = fullScreenEventName;\nexports.isFullScreen = isFullScreen;\nexports.requestFullScreen = requestFullScreen;\nexports.cancelFullScreen = cancelFullScreen;\n\n\n_mejs2.default.Features = _mejs2.default.Features || {};\n_mejs2.default.Features.isiPad = IS_IPAD;\n_mejs2.default.Features.isiPod = IS_IPOD;\n_mejs2.default.Features.isiPhone = IS_IPHONE;\n_mejs2.default.Features.isiOS = _mejs2.default.Features.isiPhone || _mejs2.default.Features.isiPad;\n_mejs2.default.Features.isAndroid = IS_ANDROID;\n_mejs2.default.Features.isIE = IS_IE;\n_mejs2.default.Features.isEdge = IS_EDGE;\n_mejs2.default.Features.isChrome = IS_CHROME;\n_mejs2.default.Features.isFirefox = IS_FIREFOX;\n_mejs2.default.Features.isSafari = IS_SAFARI;\n_mejs2.default.Features.isStockAndroid = IS_STOCK_ANDROID;\n_mejs2.default.Features.hasMSE = HAS_MSE;\n_mejs2.default.Features.supportsNativeHLS = SUPPORTS_NATIVE_HLS;\n_mejs2.default.Features.supportsPointerEvents = SUPPORT_POINTER_EVENTS;\n_mejs2.default.Features.supportsPassiveEvent = SUPPORT_PASSIVE_EVENT;\n_mejs2.default.Features.hasiOSFullScreen = HAS_IOS_FULLSCREEN;\n_mejs2.default.Features.hasNativeFullscreen = HAS_NATIVE_FULLSCREEN;\n_mejs2.default.Features.hasWebkitNativeFullScreen = HAS_WEBKIT_NATIVE_FULLSCREEN;\n_mejs2.default.Features.hasMozNativeFullScreen = HAS_MOZ_NATIVE_FULLSCREEN;\n_mejs2.default.Features.hasMsNativeFullScreen = HAS_MS_NATIVE_FULLSCREEN;\n_mejs2.default.Features.hasTrueNativeFullScreen = HAS_TRUE_NATIVE_FULLSCREEN;\n_mejs2.default.Features.nativeFullScreenEnabled = HAS_NATIVE_FULLSCREEN_ENABLED;\n_mejs2.default.Features.fullScreenEventName = FULLSCREEN_EVENT_NAME;\n_mejs2.default.Features.isFullScreen = isFullScreen;\n_mejs2.default.Features.requestFullScreen = requestFullScreen;\n_mejs2.default.Features.cancelFullScreen = cancelFullScreen;\n\n},{\"2\":2,\"3\":3,\"7\":7}],26:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.removeClass = exports.addClass = exports.hasClass = undefined;\nexports.loadScript = loadScript;\nexports.offset = offset;\nexports.toggleClass = toggleClass;\nexports.fadeOut = fadeOut;\nexports.fadeIn = fadeIn;\nexports.siblings = siblings;\nexports.visible = visible;\nexports.ajax = ajax;\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction loadScript(url) {\n\treturn new Promise(function (resolve, reject) {\n\t\tvar script = _document2.default.createElement('script');\n\t\tscript.src = url;\n\t\tscript.async = true;\n\t\tscript.onload = function () {\n\t\t\tscript.remove();\n\t\t\tresolve();\n\t\t};\n\t\tscript.onerror = function () {\n\t\t\tscript.remove();\n\t\t\treject();\n\t\t};\n\t\t_document2.default.head.appendChild(script);\n\t});\n}\n\nfunction offset(el) {\n\tvar rect = el.getBoundingClientRect(),\n\t    scrollLeft = _window2.default.pageXOffset || _document2.default.documentElement.scrollLeft,\n\t    scrollTop = _window2.default.pageYOffset || _document2.default.documentElement.scrollTop;\n\treturn { top: rect.top + scrollTop, left: rect.left + scrollLeft };\n}\n\nvar hasClassMethod = void 0,\n    addClassMethod = void 0,\n    removeClassMethod = void 0;\n\nif ('classList' in _document2.default.documentElement) {\n\thasClassMethod = function hasClassMethod(el, className) {\n\t\treturn el.classList !== undefined && el.classList.contains(className);\n\t};\n\taddClassMethod = function addClassMethod(el, className) {\n\t\treturn el.classList.add(className);\n\t};\n\tremoveClassMethod = function removeClassMethod(el, className) {\n\t\treturn el.classList.remove(className);\n\t};\n} else {\n\thasClassMethod = function hasClassMethod(el, className) {\n\t\treturn new RegExp('\\\\b' + className + '\\\\b').test(el.className);\n\t};\n\taddClassMethod = function addClassMethod(el, className) {\n\t\tif (!hasClass(el, className)) {\n\t\t\tel.className += ' ' + className;\n\t\t}\n\t};\n\tremoveClassMethod = function removeClassMethod(el, className) {\n\t\tel.className = el.className.replace(new RegExp('\\\\b' + className + '\\\\b', 'g'), '');\n\t};\n}\n\nvar hasClass = exports.hasClass = hasClassMethod;\nvar addClass = exports.addClass = addClassMethod;\nvar removeClass = exports.removeClass = removeClassMethod;\n\nfunction toggleClass(el, className) {\n\thasClass(el, className) ? removeClass(el, className) : addClass(el, className);\n}\n\nfunction fadeOut(el) {\n\tvar duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 400;\n\tvar callback = arguments[2];\n\n\tif (!el.style.opacity) {\n\t\tel.style.opacity = 1;\n\t}\n\n\tvar start = null;\n\t_window2.default.requestAnimationFrame(function animate(timestamp) {\n\t\tstart = start || timestamp;\n\t\tvar progress = timestamp - start;\n\t\tvar opacity = parseFloat(1 - progress / duration, 2);\n\t\tel.style.opacity = opacity < 0 ? 0 : opacity;\n\t\tif (progress > duration) {\n\t\t\tif (callback && typeof callback === 'function') {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t} else {\n\t\t\t_window2.default.requestAnimationFrame(animate);\n\t\t}\n\t});\n}\n\nfunction fadeIn(el) {\n\tvar duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 400;\n\tvar callback = arguments[2];\n\n\tif (!el.style.opacity) {\n\t\tel.style.opacity = 0;\n\t}\n\n\tvar start = null;\n\t_window2.default.requestAnimationFrame(function animate(timestamp) {\n\t\tstart = start || timestamp;\n\t\tvar progress = timestamp - start;\n\t\tvar opacity = parseFloat(progress / duration, 2);\n\t\tel.style.opacity = opacity > 1 ? 1 : opacity;\n\t\tif (progress > duration) {\n\t\t\tif (callback && typeof callback === 'function') {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t} else {\n\t\t\t_window2.default.requestAnimationFrame(animate);\n\t\t}\n\t});\n}\n\nfunction siblings(el, filter) {\n\tvar siblings = [];\n\tel = el.parentNode.firstChild;\n\tdo {\n\t\tif (!filter || filter(el)) {\n\t\t\tsiblings.push(el);\n\t\t}\n\t} while (el = el.nextSibling);\n\treturn siblings;\n}\n\nfunction visible(elem) {\n\tif (elem.getClientRects !== undefined && elem.getClientRects === 'function') {\n\t\treturn !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);\n\t}\n\treturn !!(elem.offsetWidth || elem.offsetHeight);\n}\n\nfunction ajax(url, dataType, success, error) {\n\tvar xhr = _window2.default.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');\n\n\tvar type = 'application/x-www-form-urlencoded; charset=UTF-8',\n\t    completed = false,\n\t    accept = '*/'.concat('*');\n\n\tswitch (dataType) {\n\t\tcase 'text':\n\t\t\ttype = 'text/plain';\n\t\t\tbreak;\n\t\tcase 'json':\n\t\t\ttype = 'application/json, text/javascript';\n\t\t\tbreak;\n\t\tcase 'html':\n\t\t\ttype = 'text/html';\n\t\t\tbreak;\n\t\tcase 'xml':\n\t\t\ttype = 'application/xml, text/xml';\n\t\t\tbreak;\n\t}\n\n\tif (type !== 'application/x-www-form-urlencoded') {\n\t\taccept = type + ', */*; q=0.01';\n\t}\n\n\tif (xhr) {\n\t\txhr.open('GET', url, true);\n\t\txhr.setRequestHeader('Accept', accept);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (completed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (xhr.readyState === 4) {\n\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\tcompleted = true;\n\t\t\t\t\tvar data = void 0;\n\t\t\t\t\tswitch (dataType) {\n\t\t\t\t\t\tcase 'json':\n\t\t\t\t\t\t\tdata = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'xml':\n\t\t\t\t\t\t\tdata = xhr.responseXML;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tdata = xhr.responseText;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tsuccess(data);\n\t\t\t\t} else if (typeof error === 'function') {\n\t\t\t\t\terror(xhr.status);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\txhr.send();\n\t}\n}\n\n_mejs2.default.Utils = _mejs2.default.Utils || {};\n_mejs2.default.Utils.offset = offset;\n_mejs2.default.Utils.hasClass = hasClass;\n_mejs2.default.Utils.addClass = addClass;\n_mejs2.default.Utils.removeClass = removeClass;\n_mejs2.default.Utils.toggleClass = toggleClass;\n_mejs2.default.Utils.fadeIn = fadeIn;\n_mejs2.default.Utils.fadeOut = fadeOut;\n_mejs2.default.Utils.siblings = siblings;\n_mejs2.default.Utils.visible = visible;\n_mejs2.default.Utils.ajax = ajax;\n_mejs2.default.Utils.loadScript = loadScript;\n\n},{\"2\":2,\"3\":3,\"7\":7}],27:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.escapeHTML = escapeHTML;\nexports.debounce = debounce;\nexports.isObjectEmpty = isObjectEmpty;\nexports.splitEvents = splitEvents;\nexports.createEvent = createEvent;\nexports.isNodeAfter = isNodeAfter;\nexports.isString = isString;\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction escapeHTML(input) {\n\n\tif (typeof input !== 'string') {\n\t\tthrow new Error('Argument passed must be a string');\n\t}\n\n\tvar map = {\n\t\t'&': '&amp;',\n\t\t'<': '&lt;',\n\t\t'>': '&gt;',\n\t\t'\"': '&quot;'\n\t};\n\n\treturn input.replace(/[&<>\"]/g, function (c) {\n\t\treturn map[c];\n\t});\n}\n\nfunction debounce(func, wait) {\n\tvar _this = this,\n\t    _arguments = arguments;\n\n\tvar immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n\n\tif (typeof func !== 'function') {\n\t\tthrow new Error('First argument must be a function');\n\t}\n\n\tif (typeof wait !== 'number') {\n\t\tthrow new Error('Second argument must be a numeric value');\n\t}\n\n\tvar timeout = void 0;\n\treturn function () {\n\t\tvar context = _this,\n\t\t    args = _arguments;\n\t\tvar later = function later() {\n\t\t\ttimeout = null;\n\t\t\tif (!immediate) {\n\t\t\t\tfunc.apply(context, args);\n\t\t\t}\n\t\t};\n\t\tvar callNow = immediate && !timeout;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\n\t\tif (callNow) {\n\t\t\tfunc.apply(context, args);\n\t\t}\n\t};\n}\n\nfunction isObjectEmpty(instance) {\n\treturn Object.getOwnPropertyNames(instance).length <= 0;\n}\n\nfunction splitEvents(events, id) {\n\tvar rwindow = /^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\\b/;\n\n\tvar ret = { d: [], w: [] };\n\t(events || '').split(' ').forEach(function (v) {\n\t\tvar eventName = '' + v + (id ? '.' + id : '');\n\n\t\tif (eventName.startsWith('.')) {\n\t\t\tret.d.push(eventName);\n\t\t\tret.w.push(eventName);\n\t\t} else {\n\t\t\tret[rwindow.test(v) ? 'w' : 'd'].push(eventName);\n\t\t}\n\t});\n\n\tret.d = ret.d.join(' ');\n\tret.w = ret.w.join(' ');\n\treturn ret;\n}\n\nfunction createEvent(eventName, target) {\n\n\tif (typeof eventName !== 'string') {\n\t\tthrow new Error('Event name must be a string');\n\t}\n\n\tvar eventFrags = eventName.match(/([a-z]+\\.([a-z]+))/i),\n\t    detail = {\n\t\ttarget: target\n\t};\n\n\tif (eventFrags !== null) {\n\t\teventName = eventFrags[1];\n\t\tdetail.namespace = eventFrags[2];\n\t}\n\n\treturn new window.CustomEvent(eventName, {\n\t\tdetail: detail\n\t});\n}\n\nfunction isNodeAfter(sourceNode, targetNode) {\n\n\treturn !!(sourceNode && targetNode && sourceNode.compareDocumentPosition(targetNode) & 2);\n}\n\nfunction isString(value) {\n\treturn typeof value === 'string';\n}\n\n_mejs2.default.Utils = _mejs2.default.Utils || {};\n_mejs2.default.Utils.escapeHTML = escapeHTML;\n_mejs2.default.Utils.debounce = debounce;\n_mejs2.default.Utils.isObjectEmpty = isObjectEmpty;\n_mejs2.default.Utils.splitEvents = splitEvents;\n_mejs2.default.Utils.createEvent = createEvent;\n_mejs2.default.Utils.isNodeAfter = isNodeAfter;\n_mejs2.default.Utils.isString = isString;\n\n},{\"7\":7}],28:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.typeChecks = undefined;\nexports.absolutizeUrl = absolutizeUrl;\nexports.formatType = formatType;\nexports.getMimeFromType = getMimeFromType;\nexports.getTypeFromFile = getTypeFromFile;\nexports.getExtension = getExtension;\nexports.normalizeExtension = normalizeExtension;\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _general = _dereq_(27);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar typeChecks = exports.typeChecks = [];\n\nfunction absolutizeUrl(url) {\n\n\tif (typeof url !== 'string') {\n\t\tthrow new Error('`url` argument must be a string');\n\t}\n\n\tvar el = document.createElement('div');\n\tel.innerHTML = '<a href=\"' + (0, _general.escapeHTML)(url) + '\">x</a>';\n\treturn el.firstChild.href;\n}\n\nfunction formatType(url) {\n\tvar type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n\treturn url && !type ? getTypeFromFile(url) : type;\n}\n\nfunction getMimeFromType(type) {\n\n\tif (typeof type !== 'string') {\n\t\tthrow new Error('`type` argument must be a string');\n\t}\n\n\treturn type && type.indexOf(';') > -1 ? type.substr(0, type.indexOf(';')) : type;\n}\n\nfunction getTypeFromFile(url) {\n\n\tif (typeof url !== 'string') {\n\t\tthrow new Error('`url` argument must be a string');\n\t}\n\n\tfor (var i = 0, total = typeChecks.length; i < total; i++) {\n\t\tvar type = typeChecks[i](url);\n\n\t\tif (type) {\n\t\t\treturn type;\n\t\t}\n\t}\n\n\tvar ext = getExtension(url),\n\t    normalizedExt = normalizeExtension(ext);\n\n\tvar mime = 'video/mp4';\n\n\tif (normalizedExt) {\n\t\tif (~['mp4', 'm4v', 'ogg', 'ogv', 'webm', 'flv', 'mpeg', 'mov'].indexOf(normalizedExt)) {\n\t\t\tmime = 'video/' + normalizedExt;\n\t\t} else if (~['mp3', 'oga', 'wav', 'mid', 'midi'].indexOf(normalizedExt)) {\n\t\t\tmime = 'audio/' + normalizedExt;\n\t\t}\n\t}\n\n\treturn mime;\n}\n\nfunction getExtension(url) {\n\n\tif (typeof url !== 'string') {\n\t\tthrow new Error('`url` argument must be a string');\n\t}\n\n\tvar baseUrl = url.split('?')[0],\n\t    baseName = baseUrl.split('\\\\').pop().split('/').pop();\n\treturn ~baseName.indexOf('.') ? baseName.substring(baseName.lastIndexOf('.') + 1) : '';\n}\n\nfunction normalizeExtension(extension) {\n\n\tif (typeof extension !== 'string') {\n\t\tthrow new Error('`extension` argument must be a string');\n\t}\n\n\tswitch (extension) {\n\t\tcase 'mp4':\n\t\tcase 'm4v':\n\t\t\treturn 'mp4';\n\t\tcase 'webm':\n\t\tcase 'webma':\n\t\tcase 'webmv':\n\t\t\treturn 'webm';\n\t\tcase 'ogg':\n\t\tcase 'oga':\n\t\tcase 'ogv':\n\t\t\treturn 'ogg';\n\t\tdefault:\n\t\t\treturn extension;\n\t}\n}\n\n_mejs2.default.Utils = _mejs2.default.Utils || {};\n_mejs2.default.Utils.typeChecks = typeChecks;\n_mejs2.default.Utils.absolutizeUrl = absolutizeUrl;\n_mejs2.default.Utils.formatType = formatType;\n_mejs2.default.Utils.getMimeFromType = getMimeFromType;\n_mejs2.default.Utils.getTypeFromFile = getTypeFromFile;\n_mejs2.default.Utils.getExtension = getExtension;\n_mejs2.default.Utils.normalizeExtension = normalizeExtension;\n\n},{\"27\":27,\"7\":7}],29:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _promisePolyfill = _dereq_(4);\n\nvar _promisePolyfill2 = _interopRequireDefault(_promisePolyfill);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function (arr) {\n\tarr.forEach(function (item) {\n\t\tif (item.hasOwnProperty('remove')) {\n\t\t\treturn;\n\t\t}\n\t\tObject.defineProperty(item, 'remove', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\twritable: true,\n\t\t\tvalue: function remove() {\n\t\t\t\tthis.parentNode.removeChild(this);\n\t\t\t}\n\t\t});\n\t});\n})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);\n\n(function () {\n\n\tif (typeof window.CustomEvent === 'function') {\n\t\treturn false;\n\t}\n\n\tfunction CustomEvent(event, params) {\n\t\tparams = params || { bubbles: false, cancelable: false, detail: undefined };\n\t\tvar evt = _document2.default.createEvent('CustomEvent');\n\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n\t\treturn evt;\n\t}\n\n\tCustomEvent.prototype = window.Event.prototype;\n\twindow.CustomEvent = CustomEvent;\n})();\n\nif (typeof Object.assign !== 'function') {\n\tObject.assign = function (target) {\n\n\t\tif (target === null || target === undefined) {\n\t\t\tthrow new TypeError('Cannot convert undefined or null to object');\n\t\t}\n\n\t\tvar to = Object(target);\n\n\t\tfor (var index = 1, total = arguments.length; index < total; index++) {\n\t\t\tvar nextSource = arguments[index];\n\n\t\t\tif (nextSource !== null) {\n\t\t\t\tfor (var nextKey in nextSource) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n\t\t\t\t\t\tto[nextKey] = nextSource[nextKey];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn to;\n\t};\n}\n\nif (!String.prototype.startsWith) {\n\tString.prototype.startsWith = function (searchString, position) {\n\t\tposition = position || 0;\n\t\treturn this.substr(position, searchString.length) === searchString;\n\t};\n}\n\nif (!Element.prototype.matches) {\n\tElement.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function (s) {\n\t\tvar matches = (this.document || this.ownerDocument).querySelectorAll(s),\n\t\t    i = matches.length - 1;\n\t\twhile (--i >= 0 && matches.item(i) !== this) {}\n\t\treturn i > -1;\n\t};\n}\n\nif (window.Element && !Element.prototype.closest) {\n\tElement.prototype.closest = function (s) {\n\t\tvar matches = (this.document || this.ownerDocument).querySelectorAll(s),\n\t\t    i = void 0,\n\t\t    el = this;\n\t\tdo {\n\t\t\ti = matches.length;\n\t\t\twhile (--i >= 0 && matches.item(i) !== el) {}\n\t\t} while (i < 0 && (el = el.parentElement));\n\t\treturn el;\n\t};\n}\n\n(function () {\n\tvar lastTime = 0;\n\tvar vendors = ['ms', 'moz', 'webkit', 'o'];\n\tfor (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n\t\twindow.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n\t\twindow.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n\t}\n\n\tif (!window.requestAnimationFrame) window.requestAnimationFrame = function (callback) {\n\t\tvar currTime = new Date().getTime();\n\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\tvar id = window.setTimeout(function () {\n\t\t\tcallback(currTime + timeToCall);\n\t\t}, timeToCall);\n\t\tlastTime = currTime + timeToCall;\n\t\treturn id;\n\t};\n\n\tif (!window.cancelAnimationFrame) window.cancelAnimationFrame = function (id) {\n\t\tclearTimeout(id);\n\t};\n})();\n\nif (/firefox/i.test(navigator.userAgent)) {\n\tvar getComputedStyle = window.getComputedStyle;\n\twindow.getComputedStyle = function (el, pseudoEl) {\n\t\tvar t = getComputedStyle(el, pseudoEl);\n\t\treturn t === null ? { getPropertyValue: function getPropertyValue() {} } : t;\n\t};\n}\n\nif (!window.Promise) {\n\twindow.Promise = _promisePolyfill2.default;\n}\n\n(function (constructor) {\n\tif (constructor && constructor.prototype && constructor.prototype.children === null) {\n\t\tObject.defineProperty(constructor.prototype, 'children', {\n\t\t\tget: function get() {\n\t\t\t\tvar i = 0,\n\t\t\t\t    node = void 0,\n\t\t\t\t    nodes = this.childNodes,\n\t\t\t\t    children = [];\n\t\t\t\twhile (node = nodes[i++]) {\n\t\t\t\t\tif (node.nodeType === 1) {\n\t\t\t\t\t\tchildren.push(node);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn children;\n\t\t\t}\n\t\t});\n\t}\n})(window.Node || window.Element);\n\n},{\"2\":2,\"4\":4}],30:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.isDropFrame = isDropFrame;\nexports.secondsToTimeCode = secondsToTimeCode;\nexports.timeCodeToSeconds = timeCodeToSeconds;\nexports.calculateTimeFormat = calculateTimeFormat;\nexports.convertSMPTEtoSeconds = convertSMPTEtoSeconds;\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isDropFrame() {\n\tvar fps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 25;\n\n\treturn !(fps % 1 === 0);\n}\nfunction secondsToTimeCode(time) {\n\tvar forceHours = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\tvar showFrameCount = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\tvar fps = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 25;\n\tvar secondsDecimalLength = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n\tvar timeFormat = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'hh:mm:ss';\n\n\n\ttime = !time || typeof time !== 'number' || time < 0 ? 0 : time;\n\n\tvar dropFrames = Math.round(fps * 0.066666),\n\t    timeBase = Math.round(fps),\n\t    framesPer24Hours = Math.round(fps * 3600) * 24,\n\t    framesPer10Minutes = Math.round(fps * 600),\n\t    frameSep = isDropFrame(fps) ? ';' : ':',\n\t    hours = void 0,\n\t    minutes = void 0,\n\t    seconds = void 0,\n\t    frames = void 0,\n\t    f = Math.round(time * fps);\n\n\tif (isDropFrame(fps)) {\n\n\t\tif (f < 0) {\n\t\t\tf = framesPer24Hours + f;\n\t\t}\n\n\t\tf = f % framesPer24Hours;\n\n\t\tvar d = Math.floor(f / framesPer10Minutes);\n\t\tvar m = f % framesPer10Minutes;\n\t\tf = f + dropFrames * 9 * d;\n\t\tif (m > dropFrames) {\n\t\t\tf = f + dropFrames * Math.floor((m - dropFrames) / Math.round(timeBase * 60 - dropFrames));\n\t\t}\n\n\t\tvar timeBaseDivision = Math.floor(f / timeBase);\n\n\t\thours = Math.floor(Math.floor(timeBaseDivision / 60) / 60);\n\t\tminutes = Math.floor(timeBaseDivision / 60) % 60;\n\n\t\tif (showFrameCount) {\n\t\t\tseconds = timeBaseDivision % 60;\n\t\t} else {\n\t\t\tseconds = Math.floor(f / timeBase % 60).toFixed(secondsDecimalLength);\n\t\t}\n\t} else {\n\t\thours = Math.floor(time / 3600) % 24;\n\t\tminutes = Math.floor(time / 60) % 60;\n\t\tif (showFrameCount) {\n\t\t\tseconds = Math.floor(time % 60);\n\t\t} else {\n\t\t\tseconds = Math.floor(time % 60).toFixed(secondsDecimalLength);\n\t\t}\n\t}\n\thours = hours <= 0 ? 0 : hours;\n\tminutes = minutes <= 0 ? 0 : minutes;\n\tseconds = seconds <= 0 ? 0 : seconds;\n\n\tseconds = seconds === 60 ? 0 : seconds;\n\tminutes = minutes === 60 ? 0 : minutes;\n\n\tvar timeFormatFrags = timeFormat.split(':');\n\tvar timeFormatSettings = {};\n\tfor (var i = 0, total = timeFormatFrags.length; i < total; ++i) {\n\t\tvar unique = '';\n\t\tfor (var j = 0, t = timeFormatFrags[i].length; j < t; j++) {\n\t\t\tif (unique.indexOf(timeFormatFrags[i][j]) < 0) {\n\t\t\t\tunique += timeFormatFrags[i][j];\n\t\t\t}\n\t\t}\n\t\tif (~['f', 's', 'm', 'h'].indexOf(unique)) {\n\t\t\ttimeFormatSettings[unique] = timeFormatFrags[i].length;\n\t\t}\n\t}\n\n\tvar result = forceHours || hours > 0 ? (hours < 10 && timeFormatSettings.h > 1 ? '0' + hours : hours) + ':' : '';\n\tresult += (minutes < 10 && timeFormatSettings.m > 1 ? '0' + minutes : minutes) + ':';\n\tresult += '' + (seconds < 10 && timeFormatSettings.s > 1 ? '0' + seconds : seconds);\n\n\tif (showFrameCount) {\n\t\tframes = (f % timeBase).toFixed(0);\n\t\tframes = frames <= 0 ? 0 : frames;\n\t\tresult += frames < 10 && timeFormatSettings.f ? frameSep + '0' + frames : '' + frameSep + frames;\n\t}\n\n\treturn result;\n}\n\nfunction timeCodeToSeconds(time) {\n\tvar fps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 25;\n\n\n\tif (typeof time !== 'string') {\n\t\tthrow new TypeError('Time must be a string');\n\t}\n\n\tif (time.indexOf(';') > 0) {\n\t\ttime = time.replace(';', ':');\n\t}\n\n\tif (!/\\d{2}(\\:\\d{2}){0,3}/i.test(time)) {\n\t\tthrow new TypeError('Time code must have the format `00:00:00`');\n\t}\n\n\tvar parts = time.split(':');\n\n\tvar output = void 0,\n\t    hours = 0,\n\t    minutes = 0,\n\t    seconds = 0,\n\t    frames = 0,\n\t    totalMinutes = 0,\n\t    dropFrames = Math.round(fps * 0.066666),\n\t    timeBase = Math.round(fps),\n\t    hFrames = timeBase * 3600,\n\t    mFrames = timeBase * 60;\n\n\tswitch (parts.length) {\n\t\tdefault:\n\t\tcase 1:\n\t\t\tseconds = parseInt(parts[0], 10);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tminutes = parseInt(parts[0], 10);\n\t\t\tseconds = parseInt(parts[1], 10);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\thours = parseInt(parts[0], 10);\n\t\t\tminutes = parseInt(parts[1], 10);\n\t\t\tseconds = parseInt(parts[2], 10);\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\thours = parseInt(parts[0], 10);\n\t\t\tminutes = parseInt(parts[1], 10);\n\t\t\tseconds = parseInt(parts[2], 10);\n\t\t\tframes = parseInt(parts[3], 10);\n\t\t\tbreak;\n\t}\n\n\tif (isDropFrame(fps)) {\n\t\ttotalMinutes = 60 * hours + minutes;\n\t\toutput = hFrames * hours + mFrames * minutes + timeBase * seconds + frames - dropFrames * (totalMinutes - Math.floor(totalMinutes / 10));\n\t} else {\n\t\toutput = (hFrames * hours + mFrames * minutes + fps * seconds + frames) / fps;\n\t}\n\n\treturn parseFloat(output.toFixed(3));\n}\n\nfunction calculateTimeFormat(time, options) {\n\tvar fps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 25;\n\n\n\ttime = !time || typeof time !== 'number' || time < 0 ? 0 : time;\n\n\tvar hours = Math.floor(time / 3600) % 24,\n\t    minutes = Math.floor(time / 60) % 60,\n\t    seconds = Math.floor(time % 60),\n\t    frames = Math.floor((time % 1 * fps).toFixed(3)),\n\t    lis = [[frames, 'f'], [seconds, 's'], [minutes, 'm'], [hours, 'h']];\n\n\tvar format = options.timeFormat,\n\t    firstTwoPlaces = format[1] === format[0],\n\t    separatorIndex = firstTwoPlaces ? 2 : 1,\n\t    separator = format.length < separatorIndex ? format[separatorIndex] : ':',\n\t    firstChar = format[0],\n\t    required = false;\n\n\tfor (var i = 0, len = lis.length; i < len; i++) {\n\t\tif (~format.indexOf(lis[i][1])) {\n\t\t\trequired = true;\n\t\t} else if (required) {\n\t\t\tvar hasNextValue = false;\n\t\t\tfor (var j = i; j < len; j++) {\n\t\t\t\tif (lis[j][0] > 0) {\n\t\t\t\t\thasNextValue = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!hasNextValue) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (!firstTwoPlaces) {\n\t\t\t\tformat = firstChar + format;\n\t\t\t}\n\t\t\tformat = lis[i][1] + separator + format;\n\t\t\tif (firstTwoPlaces) {\n\t\t\t\tformat = lis[i][1] + format;\n\t\t\t}\n\t\t\tfirstChar = lis[i][1];\n\t\t}\n\t}\n\n\toptions.timeFormat = format;\n}\n\nfunction convertSMPTEtoSeconds(SMPTE) {\n\n\tif (typeof SMPTE !== 'string') {\n\t\tthrow new TypeError('Argument must be a string value');\n\t}\n\n\tSMPTE = SMPTE.replace(',', '.');\n\n\tvar decimalLen = ~SMPTE.indexOf('.') ? SMPTE.split('.')[1].length : 0;\n\n\tvar secs = 0,\n\t    multiplier = 1;\n\n\tSMPTE = SMPTE.split(':').reverse();\n\n\tfor (var i = 0, total = SMPTE.length; i < total; i++) {\n\t\tmultiplier = 1;\n\t\tif (i > 0) {\n\t\t\tmultiplier = Math.pow(60, i);\n\t\t}\n\t\tsecs += Number(SMPTE[i]) * multiplier;\n\t}\n\treturn Number(secs.toFixed(decimalLen));\n}\n\n_mejs2.default.Utils = _mejs2.default.Utils || {};\n_mejs2.default.Utils.secondsToTimeCode = secondsToTimeCode;\n_mejs2.default.Utils.timeCodeToSeconds = timeCodeToSeconds;\n_mejs2.default.Utils.calculateTimeFormat = calculateTimeFormat;\n_mejs2.default.Utils.convertSMPTEtoSeconds = convertSMPTEtoSeconds;\n\n},{\"7\":7}]},{},[29,6,5,15,23,20,19,21,22,24,16,18,17,9,10,11,12,13,14]);\n","module.exports = require('./build/mediaelement-and-player.js');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isFilled = exports.isDefined = exports.isPresent = void 0;\nfunction isPresent(t) {\n    return t !== undefined && t !== null;\n}\nexports.isPresent = isPresent;\nfunction isDefined(t) {\n    return t !== undefined;\n}\nexports.isDefined = isDefined;\nfunction isFilled(t) {\n    return t !== null;\n}\nexports.isFilled = isFilled;\n//# sourceMappingURL=index.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__4985__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5129__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2935__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7725__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(8022);\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();"],"sourceRoot":""}