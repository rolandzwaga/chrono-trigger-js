{"version":3,"sources":["webpack://library/webpack/universalModuleDefinition","webpack://library/./src/action/action.ts","webpack://library/./src/action/endable-action.ts","webpack://library/./src/action/index.ts","webpack://library/./src/action/is-promise.ts","webpack://library/./src/action/timeline-action.ts","webpack://library/./src/chrono-trigger-engine.ts","webpack://library/./src/configuration/api/action-creator-factory.ts","webpack://library/./src/configuration/api/action-editor.ts","webpack://library/./src/configuration/api/configuration-factory.ts","webpack://library/./src/configuration/api/name-providers.ts","webpack://library/./src/configuration/api/timeline-provider-settings-editor.ts","webpack://library/./src/configuration/configuration-resolver.ts","webpack://library/./src/controllers/event-listener-controller.ts","webpack://library/./src/controllers/index.ts","webpack://library/./src/controllers/label-controller.ts","webpack://library/./src/controllers/lottie-controller.ts","webpack://library/./src/controllers/navigation-controller.ts","webpack://library/./src/controllers/progressbar-controller.ts","webpack://library/./src/controllers/routing-controller.ts","webpack://library/./src/controllers/subtitles-controller.ts","webpack://library/./src/engine-factory.ts","webpack://library/./src/eventbus/actionregistry-eventbus-listener.ts","webpack://library/./src/eventbus/eventbus.ts","webpack://library/./src/eventbus/index.ts","webpack://library/./src/eventbus/request-video-uri-interceptor.ts","webpack://library/./src/importer/webpack-resource-importer.ts","webpack://library/./src/index.ts","webpack://library/./src/language-manager.ts","webpack://library/./src/operation/add-class.ts","webpack://library/./src/operation/add-controller-to-element.ts","webpack://library/./src/operation/add-option-list.ts","webpack://library/./src/operation/animate-with-class.ts","webpack://library/./src/operation/animate.ts","webpack://library/./src/operation/broadcast-event.ts","webpack://library/./src/operation/clear-element.ts","webpack://library/./src/operation/clear-operation-data.ts","webpack://library/./src/operation/create-element.ts","webpack://library/./src/operation/custom-function.ts","webpack://library/./src/operation/end-action.ts","webpack://library/./src/operation/end-loop.ts","webpack://library/./src/operation/extend-controller.ts","webpack://library/./src/operation/get-controller-from-element.ts","webpack://library/./src/operation/get-controller-instance.ts","webpack://library/./src/operation/get-element-dimensions.ts","webpack://library/./src/operation/get-import.ts","webpack://library/./src/operation/helper/attach-controller-to-element.ts","webpack://library/./src/operation/helper/deepcopy.ts","webpack://library/./src/operation/helper/extract-operation-data-argument-values.ts","webpack://library/./src/operation/helper/get-element-data.ts","webpack://library/./src/operation/helper/get-nested-property-value.ts","webpack://library/./src/operation/helper/get-nested-value.ts","webpack://library/./src/operation/helper/internal-resolve.ts","webpack://library/./src/operation/helper/merge-operation-data.ts","webpack://library/./src/operation/helper/modify-dimensions.ts","webpack://library/./src/operation/helper/remove-event-data-from-operation-data.ts","webpack://library/./src/operation/helper/resolve-event-arguments.ts","webpack://library/./src/operation/helper/resolve-property-values.ts","webpack://library/./src/operation/index.ts","webpack://library/./src/operation/load-json.ts","webpack://library/./src/operation/log.ts","webpack://library/./src/operation/metadata/add-class.ts","webpack://library/./src/operation/metadata/add-controller-to-element.ts","webpack://library/./src/operation/metadata/add-option-list.ts","webpack://library/./src/operation/metadata/animate-with-class.ts","webpack://library/./src/operation/metadata/animate.ts","webpack://library/./src/operation/metadata/broadcast-event.ts","webpack://library/./src/operation/metadata/clear-element.ts","webpack://library/./src/operation/metadata/clear-operation-data.ts","webpack://library/./src/operation/metadata/create-element.ts","webpack://library/./src/operation/metadata/custom-function.ts","webpack://library/./src/operation/metadata/end-action.ts","webpack://library/./src/operation/metadata/end-loop.ts","webpack://library/./src/operation/metadata/extend-controller.ts","webpack://library/./src/operation/metadata/get-controller-from-element.ts","webpack://library/./src/operation/metadata/get-controller-instance.ts","webpack://library/./src/operation/metadata/get-element-dimensions.ts","webpack://library/./src/operation/metadata/get-import.ts","webpack://library/./src/operation/metadata/index.ts","webpack://library/./src/operation/metadata/load-json.ts","webpack://library/./src/operation/metadata/log.ts","webpack://library/./src/operation/metadata/remove-class.ts","webpack://library/./src/operation/metadata/remove-controller-from-element.ts","webpack://library/./src/operation/metadata/remove-element.ts","webpack://library/./src/operation/metadata/remove-properties-from-operation-data.ts","webpack://library/./src/operation/metadata/reparent-element.ts","webpack://library/./src/operation/metadata/request-action.ts","webpack://library/./src/operation/metadata/resize-action.ts","webpack://library/./src/operation/metadata/select-element.ts","webpack://library/./src/operation/metadata/set-element-attributes.ts","webpack://library/./src/operation/metadata/set-element-content.ts","webpack://library/./src/operation/metadata/set-operation-data.ts","webpack://library/./src/operation/metadata/set-style.ts","webpack://library/./src/operation/metadata/start-action.ts","webpack://library/./src/operation/metadata/start-loop.ts","webpack://library/./src/operation/metadata/toggle-class.ts","webpack://library/./src/operation/metadata/toggle-element.ts","webpack://library/./src/operation/metadata/wait.ts","webpack://library/./src/operation/remove-class.ts","webpack://library/./src/operation/remove-controller-from-element.ts","webpack://library/./src/operation/remove-element.ts","webpack://library/./src/operation/remove-properties-from-operation-data.ts","webpack://library/./src/operation/reparent-element.ts","webpack://library/./src/operation/request-action.ts","webpack://library/./src/operation/resize-action.ts","webpack://library/./src/operation/select-element.ts","webpack://library/./src/operation/set-element-attributes.ts","webpack://library/./src/operation/set-element-content.ts","webpack://library/./src/operation/set-operation-data.ts","webpack://library/./src/operation/set-style.ts","webpack://library/./src/operation/start-action.ts","webpack://library/./src/operation/start-loop.ts","webpack://library/./src/operation/toggle-class.ts","webpack://library/./src/operation/toggle-element.ts","webpack://library/./src/operation/wait.ts","webpack://library/./src/timeline-event-names.ts","webpack://library/./src/timelineproviders/index.ts","webpack://library/./src/timelineproviders/jwplayer-timeline-provider.ts","webpack://library/./src/timelineproviders/media-element-timeline-provider.ts","webpack://library/./src/timelineproviders/request-animation-frame-timeline-provider.ts","webpack://library/./node_modules/mediaelement/build/mediaelement-and-player.js","webpack://library/./node_modules/mediaelement/full.js","webpack://library/./node_modules/ts-is-present/lib/index.js","webpack://library/external {\"amd\":\"jquery\",\"global\":\"jQuery\",\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\"}","webpack://library/external {\"amd\":\"lottie-web\",\"global\":\"lottie\",\"commonjs\":\"lottie-web\",\"commonjs2\":\"lottie-web\"}","webpack://library/external {\"amd\":\"mousetrap\",\"global\":\"Mousetrap\",\"commonjs\":\"mousetrap\",\"commonjs2\":\"mousetrap\"}","webpack://library/external {\"amd\":\"uuid\",\"global\":\"uuid\",\"commonjs\":\"uuid\",\"commonjs2\":\"uuid\"}","webpack://library/webpack/bootstrap","webpack://library/webpack/startup","webpack://library/webpack/runtime/global"],"names":["root","factory","exports","module","require","define","amd","undefined","self","__WEBPACK_EXTERNAL_MODULE__4985__","__WEBPACK_EXTERNAL_MODULE__7725__","__WEBPACK_EXTERNAL_MODULE__5129__","__WEBPACK_EXTERNAL_MODULE__2935__","name","startOperations","eventbus","id","initOperationData","context","currentIndex","Promise","resolve","reject","this","executeOperation","catch","e","console","error","operations","idx","previousOperationData","newIndex","skipNextOperation","length","operationInfo","copy","operationData","deepcopy","mergedOperationData","Object","assign","result","instance","call","isPromise","then","resultOperationData","EndableAction","Action","endOperations","eventBus","super","TimelineAction","obj","duration","active","end","start","configuration","timelineProviders","languageManager","_timeLineActionsLookup","_eventbusListeners","_currentTimelineUri","_activeTimelineProvider","_lastPosition","_createLayoutTemplate","_addInitialisationListeners","timelines","uri","_createTimelineLookup","push","on","TimelineEventNames","TIME","_onTimeHandler","bind","Math","floor","SEEK","_onSeekHandler","_initializeTimelineProvider","containerSelector","container","Error","layoutTemplate","html","warn","firstTimeline","providerSettings","type","destroy","provider","init","_executeActions","initActions","_cleanUpTimeline","_cleanUp","forEach","remover","values","info","REQUEST_ENGINE_ROOT","_handleRequestEngineRoot","REQUEST_TIMELINE_URI","_handleRequestTimelineUri","REQUEST_CURRENT_TIMELINE_POSITION","_handleRequestTimelinePosition","REQUEST_TIMELINE_CLEANUP","_handleTimelineComplete","EXECUTE_TIMELINEACTION","_handleExecuteTimelineAction","RESIZE_TIMELINEACTION","_resizeTimelineAction","REQUEST_CURRENT_TIMELINE","_requestCurrentTimeline","timelineInfo","timelineActions","_addTimelineAction","timeLineAction","startPosition","timelineStartPositions","_initializeTimelinePosition","_initializeUriLookup","startMethod","isStart","Infinity","isFinite","timelineEndPositions","endMethod","lookup","position","actions","methodName","engineRootSelector","resultCallback","previousVideoPosition","stop","timelineConfig","find","timeline","broadcast","CURRENT_TIMELINE_CHANGE","newProviderSettings","loop","once","FIRST_FRAME","pause","DURATION","getDuration","_executeStartActions","seek","offset","playlistItem","_executeRelevantActions","_getActiveActions","_getActionsForPosition","allActions","filter","action","sort","a","b","executionType","_getRelevantTimelineActions","currentActions","apply","getPosition","index","_getTimelineActionsForUri","event","isNaN","pos","_executeActionsForPosition","POSITION_UPDATE","TIME_UPDATE","_executeSeekActions","executions","exec","newActions","promise","configurationfactory","creator","ActionCreator","addAction","actionConfig","EndableActionCreator","addInitAction","addEventAction","TimelineActionCreator","addTimelineAction","callBack","newConfig","systemName","array_move","arr","old_index","new_index","splice","ActionEditor","configurationFactory","slice","OperationEditor","operation","o","indexOf","direction","EndableActionEditor","operationConfig","actionEditor","updateConfiguration","key","value","setOperationData","keys","config","actionCreatorFactory","ActionCreatorFactory","defaultLanguage","engine","timelineProviderSettings","language","availableLanguages","labels","selector","code","languageLabel","_initializeCollection","label","collectionName","parent","_internalAddAction","getTimeline","createAction","createInitAction","createEventAction","createTimelineAction","t","l","labelTranslations","languageCode","translation","labelConfig","_initializeLabel","_getLabelTranslation","eventActions","TimelineActionEditor","controllers","operationName","getMetadata","operationMetadata","providersSettings","timelineType","poster","vendor","TimelineProviderSettingsEditor","providersSettingsEditor","resolveTimelines","importer","resolveTimelineAction","map","resolveOperation","import","resolveActionConfiguration","resolveEndableActionConfiguration","actionConfiguration","resolvedConfig","resolveActions","actionConfigurations","resolvePlaceholders","rootConfig","isDefined","Array","isArray","item","startsWith","configProperty","substr","getNestedPropertyValue","templateKey","jsonKey","json","resolvePlaceholder","actionRegistryListener","timelineFlow","eventActionConfigurations","eventName","eventTopic","eventAction","registerAction","resolveEventActions","reduce","aggr","actionInstanceInfos","selectedElement","actionOperationData","actionInstance","actionName","_isStartAction","REQUEST_ACTION","_getElementTagName","_selectEventHandler","_eventHandler","element","tagName","toUpperCase","target","targetValue","_executeAction","actionInfo","options","i","opt","selected","eventArgs","_eventbus","off","EventListenerController","LabelController","LottieController","NavigationController","ProgressbarController","RoutingController","SubtitlesController","listeners","currentLanguage","labelData","REQUEST_CURRENT_LANGUAGE","REQUEST_LABEL_COLLECTION","labelId","labelCollection","createTextDataLookup","setLabel","LANGUAGE_CHANGE","handleLanguageChange","func","data","d","animationItem","serializedData","serializedIEData","freezePosition","endPosition","renderer","autoplay","animationData","labelIds","viewBox","iefallback","url","parseFilename","JSON","stringify","split","setting","resultHolder","REQUEST_LABEL_COLLECTIONS","labelCollections","createAnimation","addEventListener","playSegments","serialized","isIE","join","parse","animationSettings","loadAnimation","timeCompleted","attr","infos","window","document","navigation","navLookup","navVidIdLookup","ctrlLookup","activeNavigationPoint","labelControllers","eventhandlers","buildNavigationData","handleNavigateVideoUrl","highlightMenu","handleRequestCurrentNavigation","handleVideoComplete","buildHtml","initHistory","navId","getQueryVariable","videoIndex","videoUrlIndex","variableIdx","href","location","hashIndex","query","substring","labelCtrl","navigationData","title","handler","ctrl","detach","onpopstate","state","parentElm","ul","addNavElement","append","visible","li","addLabel","addClickHandler","children","mouseup","menuMouseupHandler","navdata","requestedVideoPosition","pushCurrentState","navElm","removeClass","addClass","navData","autoNext","next","attach","nav","previous","nextId","roots","childId","textElement","detachers","positionUpdateHandler","clickHandler","percentage","css","text","handleBeforeRequestVideoUrl","handlePushHistoryState","handlePopstate","history","pushState","navigationId","_index","_requestedVideoPosition","isHistoryRequest","currentPosition","currentState","replaceState","actionLookup","lastFunc","detachTime","onTimeHandler","detachSeek","SEEKED","onSeekedHandler","detachLangChange","languageChangeHandler","internalDetach","detachMethods","f","newLanguage","empty","arg","removeTitle","titleLanguageLookup","subtitleData","titles","subtitleTimeLookup","ii","j","jj","subs","lang","setTitle","createActionLookup","windowRef","resizeTimeout","actionsLookup","Eventbus","REQUEST_INSTANCE","_requestInstanceHandler","_requestActionHandler","REQUEST_FUNCTION","_requestFunctionHandler","resize","_resizeHandler","clear","clearTimeout","setTimeout","RESIZE","_importSystemEntry","_importSystemEntryWithEventbusDependency","resolver","EngineClass","ActionRegistryEventbusListener","registerEventlistener","registerInterceptor","RequestVideoUriInterceptor","ConfigurationResolver","resolvedConfiguration","process","_createTimelineProviders","LanguageManager","chronoTriggerEngine","preventDefault","PLAY_TOGGLE_REQUEST","entries","acc","settings","timelineProviderClass","_actionRegistry","args","eventHandlers","eventInterceptors","eventListeners","eventHandler","_getEventHandlers","eventHandlerDecorator","arguments","handlers","_callHandlers","eventbusListener","interceptor","_getEventInterceptors","intercept","listener","handleEvent","BEFORE_REQUEST_TIMELINE_URI","ops","ctrls","providers","prvdrs","main","m","ChronoTriggerEngine","ConfigurationFactory","ControllerNamesProvider","OperationMetadataProvider","OperationNamesProvider","TimeLineEventNamesProvider","EngineFactory","WebpackResourceImporter","_currentLanguage","_labelLookup","_setRootElementLang","_createLabelLookup","_addEventbusListeners","_handleRequestLabelCollection","_handleRequestLabelCollections","_handleRequestCurrentLanguage","_handleLanguageChange","rootSelector","_extractLanguageFromCulture","culture","shift","_eventBus","className","addControllerToElement","controllerInstance","attachControllerToElement","newOperationData","internalResolve","createOptionElementText","valueProperty","labelProperty","defaultIndex","defaultValue","addOptionList","optionData","createOption","optionElements","animateWithClass","one","animate","animationEasing","animationProperties","animationDuration","broadcastEvent","eventArguments","resolveEventArguments","broadcastForTopic","removeEventDataFromOperationData","clearElement","clearOperationData","properties","createElement","resolvePropertyValues","elementName","attributes","serializedAttrs","template","customFunction","endAction","mergedData","mergeOperationData","endLoop","loopIndex","loopLength","startIndex","extendController","controllerExtension","getControllerFromElement","controllerName","controller","getElementControllers","getControllerInstance","propertyName","getElementDimensions","modifier","dimensions","width","innerWidth","height","innerHeight","modifyDimensions","getImport","importedInstance","original","sourceObject","argumentValue","toLowerCase","propNames","getNestedValue","getElementData","propertyChain","currentInstance","suffix","prop","parts","ratioModifier","prefix","endIdx","isPercent","getModifierSuffix","parseInt","widthModifier","heightModifier","_modifyDimensions","ratios","modifyDimensionsByRatio","extract","extractOperationDataArgumentValues","get","loadJSON","log","removeControllerFromElement","removeElement","removePropertiesFromOperationData","reparentElement","requestAction","resizeAction","selectElement","setElementAttributes","setElementContent","setStyle","startAction","startLoop","toggleClass","toggleElement","wait","jsonCache","cache","fetch","response","body","group","dir","groupEnd","description","dependentProperties","required","outputProperties","default","propertyNames","newParentSelector","useSelectedElementAsRoot","override","collection","milliseconds","remove","appendTo","findElementBySelector","hasOwnProperty","attrName","resolvedProperties","toggle","PLAY_REQUEST","STOP_REQUEST","PAUSE_REQUEST","SEEK_REQUEST","RESIZE_REQUEST","CONTAINER_REQUEST","DURATION_REQUEST","COMPLETE","PLAY","STOP","PAUSE","JwPlayerTimelineProvider","MediaElementTimelineProvider","RequestAnimationFrameTimelineProvider","_paused","_player","_currentLoopHandler","_playlist","_videoElementId","_addEventListeners","urls","_extractUrls","jwp","jwplayer","p","w","h","setup","file","image","controls","autostart","displaytitle","displaydescription","nextUpDisplay","abouttext","aboutlink","stretching","repeat","_handlePlayerReady","load","_loopHandler","_seekedHandler","_handlePlayerComplete","play","getPlaylistIndex","jwplayerEvent","toggleplay","_container","getProvider","findIndex","getState","getMute","getVolume","setMute","volume","setVolume","MediaElementPlayer","g","_length","_urls","_addVideoElements","videoElement","getElementById","player","success","mediaElement","_originalNode","_timeUpdateHandler","controlsAreVisible","controlsEnabled","currentTime","videoElm","_extractFileType","lastIdx","lastIndexOf","setSrc","paused","setCurrentTime","getCurrentTime","_requestID","_last","_currentPosition","_updateBound","_update","_firstFrame","_granularity","_playState","_extractPlaylist","_currentPlaylistItem","_resize","requestDurationHandler","now","_reset","requestAnimationFrame","_cancelAnimationFrame","_containerElement","cancelAnimationFrame","_start","n","r","s","u","1","_dereq_","2","global","doccy","topLevel","minDoc","3","win","4","setTimeoutFunc","noop","fn","TypeError","_state","_handled","_value","_deferreds","doResolve","handle","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","newValue","finale","thisArg","_unhandledRejectionFn","len","Handler","done","reason","ex","prototype","prom","all","remaining","res","val","constructor","race","setImmediate","err","_setImmediateFn","_setUnhandledRejectionFn","5","defineProperty","_typeof","Symbol","iterator","_mejs","_mejs2","__esModule","_en","_general","i18n","en","EN","_len","_key","test","isObjectEmpty","message","pluralParam","str","pluralForm","_plural","input","number","form","concat","replace","escapeHTML","mejsL10n","strings","6","_window2","_interopRequireDefault","_document2","_media2","_renderer","_constants","MediaElement","idOrNode","sources","_this","Constructor","_classCallCheck","defaults","renderers","fakeNodeName","pluginPath","shimScriptAccess","originalNode","random","toString","setAttribute","getAttribute","parentNode","insertBefore","appendChild","processURL","protocol","IS_IOS","html5media","mediaTypes","xhr","XMLHttpRequest","onreadystatechange","readyState","status","blobUrl","URL","webkitURL","createObjectURL","open","responseType","send","mediaFiles","nodeName","src","_sources","nodeSource","node","formatType","_type","events","promises","rendererName","changeRenderer","media","show","hide","newRenderer","newRendererType","rendererArray","order","_i","total","renderOptions","create","setSize","generateError","urlList","createEvent","dispatchEvent","props","methods","addProperty","onGet","onSet","oldValue","set","assignGettersSetters","propName","capName","getFn","setFn","getSrc","getTypeFromFile","_src","absolutizeUrl","_type2","_i2","_src2","_type3","_media","renderInfo","select","triggerAction","tmpResponse","assignMethods","_i3","_i4","_total","callback","removeEventListener","callbacks","_i5","_i6","cloneNode","wrapper","parentElement","removeAttribute","7","_window","mejs","readOnlyProperties","8","_createClass","defineProperties","descriptor","enumerable","configurable","writable","protoProps","staticProps","Renderer","renderersLength","rendererIndicator","rendererRanking","jl","canPlayType","_order","_renderers","Renderers","9","_i18n2","_player2","Features","newObj","_interopRequireWildcard","_dom","usePluginFullScreen","fullscreenText","useFakeFullscreen","isFullScreen","isNativeFullScreen","isInIframe","isPluginClickThroughCreated","fullscreenMode","containerSizeTimeout","buildfullscreen","isVideo","detectFullscreenMode","fullscreenTitle","isString","fullscreenBtn","classPrefix","innerHTML","addControlElement","HAS_TRUE_NATIVE_FULLSCREEN","IS_FULLSCREEN","exitFullScreen","enterFullScreen","keyActions","ctrlKey","exitFullscreenCallback","which","keyCode","enableKeyboard","globalBind","normalHeight","normalWidth","FULLSCREEN_EVENT_NAME","setControlsSize","cleanfullscreen","globalUnbind","isNative","mode","SUPPORT_POINTER_EVENTS","containerStyles","getComputedStyle","getElement","HAS_IOS_FULLSCREEN","webkitEnterFullscreen","documentElement","parseFloat","requestFullScreen","checkFullscreen","windowWidth","clientWidth","screenWidth","screen","abs","style","elements","querySelectorAll","setDimensions","layers","zoomFactor","min","captionText","querySelector","fontSize","lineHeight","bottom","offsetHeight","cancelFullScreen","_total2","10","playText","pauseText","buildplaypause","op","playTitle","pauseTitle","playBtn","togglePlayPause","11","_time","enableProgressTooltip","useSmoothHover","forceLive","buildprogress","lastKeyPressTime","mouseIsDown","startedPaused","autoRewindInitial","autoRewind","tooltip","rail","showControls","startControlsTimer","timeSlider","focus","newTime","max","defaultSeekBackwardInterval","defaultSeekForwardInterval","loaded","current","timefloat","timefloatcurrent","slider","hovered","buffer","forcedHandlePause","setTransformStyle","transform","webkitTransform","MozTransform","msTransform","OTransform","display","handleMouseMove","totalStyles","offsetStyles","offsetWidth","mozTransform","oTransform","cssMatrix","leftPos","x","originalEvent","changedTouches","pageX","left","toFixed","setCurrentRailHandle","updateCurrent","IS_ANDROID","handleLocation","m41","hoverScaleX","half","offsetContainer","Utils","tooltipStyles","hasClass","marginLeft","secondsToTimeCode","alwaysShowHours","showTimecodeFrameCount","framesPerSecond","secondsDecimalLength","timeFormat","restartPlayer","Date","seekForward","seekBackward","seekTime","newVolume","mutePlayer","setMuted","IS_FIREFOX","stopPropagation","endEvents","totalEvents","closest","SUPPORT_PASSIVE_EVENT","passive","broadcastCallback","seconds","timeSliderText","time","innerText","setProgressRail","setCurrentRail","tabIndex","cleanprogress","detail","percent","buffered","bytesTotal","bufferedBytes","lengthComputable","fakeTime","setCurrentRailMain","nTime","tW","newWidth","round","handlePos","12","timeAndDurationSeparator","buildcurrent","updateTimeCallback","cleancurrent","buildduration","lastChild","updateDurationCallback","updateDuration","cleanduration","timecode","13","startLanguage","tracksText","chaptersText","tracksAriaLive","hideCaptionsButtonWhenEmpty","toggleCaptionsButtonWhenOnlyOne","slidesSelector","hasChapters","buildtracks","findTracks","tracks","trackFiles","tracksTitle","chaptersTitle","domNode","textTracks","cleartracks","captions","firstChild","captionsText","captionsButton","disabled","chaptersButton","subtitleCount","kind","trim","trackToLoad","selectedTrack","isLoadingTrack","_kind","addTrackButton","trackId","srclang","loadNextTrack","inEvents","outEvents","keyboard","setTrack","_total3","_total4","radio","siblings","el","_i7","_total5","_i8","_total6","alwaysShowControls","displayCaptions","slidesContainer","displaySlides","chapters","rebuildtracks","tracktags","track","isLoaded","setByKeyboard","radios","checked","_i9","_total7","_i10","_total8","_i11","_total9","_track","caption","loadTrack","checkForTracks","ajax","TrackFormatParser","dfxp","webvtt","enableTrackButton","setupSlides","drawChapters","removeTrackButton","codes","targetSiblings","button","hasSubtitles","searchTrackPosition","captionTextPreprocessor","div","scripts","getElementsByTagName","allElements","_i12","attributesObj","sanitize","identifier","slides","imgs","showSlide","img","fadeIn","fadeOut","_visible","_i13","_total10","listItems","_i14","_total11","_i15","_total12","lo","hi","mid","af","sq","ar","be","bg","ca","zh","hr","cs","da","nl","et","fl","fi","fr","gl","de","ht","iw","hu","is","ga","it","ja","ko","lv","lt","mk","ms","mt","no","fa","pl","pt","ro","ru","sr","sk","sl","es","sw","sv","tl","th","tr","uk","vi","cy","yi","pattern","trackText","lines","convertSMPTEtoSeconds","$","styleNode","styles","_i16","_total13","_temp","eq","_style","14","muteText","unmuteText","allyVolumeControlText","hideVolumeOnTouchDevices","audioVolume","videoVolume","startVolume","buildvolume","volumeControlText","mute","volumeSlider","matches","muted","anchor","nextSibling","mouseIsOver","modified","volumeTotal","volumeCurrent","volumeHandle","positionVolumeHandle","firstElementChild","_button","volumePercentage","volumeStyles","marginBottom","handleVolumeMove","totalOffset","railHeight","pageY","top","railWidth","toggleMute","relatedTarget","rendered","15","16","_mediaelement2","_default2","dom","mepIndex","players","showPosterWhenEnded","showPosterWhenPaused","defaultVideoWidth","defaultVideoHeight","videoWidth","videoHeight","defaultAudioWidth","defaultAudioHeight","audioWidth","audioHeight","enableAutosize","hideVideoControlsOnLoad","hideVideoControlsOnPause","clickToPlayPause","controlsTimeoutDefault","controlsTimeoutMouseEnter","controlsTimeoutMouseLeave","iPadUseNativeControls","iPhoneUseNativeControls","AndroidUseNativeControls","features","useDefaultControls","pauseOtherPlayers","customError","ended","MepDefaults","hasFocus","controlsTimer","currentMediaTime","proxy","calculateTimeFormat","playerOptions","_meReady","_handleError","isDynamic","IS_IPAD","IS_IPHONE","videoPlayerTitle","offscreen","btnSelector","isNodeAfter","background","outerContainer","tagType","capsTagName","initialAspectRatio","setPlayerSize","pluginWidth","pluginHeight","doAnimation","_loop","opacity","forceHide","_loop2","timeout","killControlsTimer","hideControls","autoplayAttr","enableControls","created","featurePosition","_setDefaultPlayer","buildposter","buildkeyboard","buildoverlays","defaultControls","buildfeatures","clickToPlayPauseCallback","pressed","createIframeLayer","playerIndex","ignorePauseOtherPlayersOption","loadingElement","exp","currentTarget","keyboardAction","globalResizeCallback","webkitIsFullScreen","errorContainer","errorContent","imgError","outerHTML","disableControls","setFillMode","setResponsiveMode","hasFluidMode","maxWidth","currentStyle","ratio","parentEl","frameElement","parentStyles","nativeWidth","nativeHeight","aspectRatio","parentHeight","newHeight","parentWidth","clientHeight","layerChildren","isIframe","maxHeight","targetElement","initHeight","initWidth","scaleX1","scaleY1","scaleX2","scaleY2","bScaleOnWidth","finalWidth","finalHeight","marginTop","totalMargin","marginRight","railStyles","railMargin","siblingsWidth","minWidth","child","layer","posterDiv","posterImg","backgroundImage","doc","ownerDocument","splitEvents","eventList","part","_eventList","_eventList2","feature","posterUrl","setPoster","getPosterUrl","loading","bigPlay","keyPressed","IS_STOCK_ANDROID","hasError","canplayTimeout","evt","initEvent","onkeydown","globalKeydownCallback","activeElement","globalClickCallback","keyAction","featureIndex","source","_loop3","newTrack","17","DefaultPlayer","seekable","18","jQuery","Zepto","ender","mediaelementplayer","each","removeData","ready","19","NativeDash","dashjs","_createPlayer","path","loadScript","MediaPlayer","DashNativeRenderer","dash","debug","drm","robustnessLevel","HAS_MSE","dashPlayer","attachNativeEvents","reset","setProtectionData","getProtectionController","setRobustnessLevel","attachSource","_dashPlayer","dashEvents","initialize","attachView","setAutoPlay","assignMdashEvents","_event","eventType","typeChecks","add","20","PluginDetector","plugins","hasPluginVersion","plugin","v","pv","addPlugin","pluginName","mimeType","activeX","axDetect","detectPlugin","version","ax","NAV","mimeTypes","enabledPlugin","match","ActiveXObject","GetVariable","FlashMediaElementRenderer","flash","isActive","flashState","flashApi","flashApiStack","initEvents","flashReady","stackItem","details","flashWrapper","flashVars","flashHeight","flashWidth","enablePseudoStreaming","pseudoStreamingStartQueryParam","pseudoStreamingType","streamDelimiter","encodeURIComponent","proxyType","IS_IE","IS_EDGE","specialIEContainer","filename","flashNode","fire_setSize","FlashMediaElementVideoRenderer","FlashMediaElementHlsVideoRenderer","FlashMediaElementMdashVideoRenderer","FlashMediaElementAudioRenderer","FlashMediaElementAudioOggRenderer","21","NativeFlv","flvjs","LoggingControl","enableDebug","enableVerbose","createPlayer","configs","FlvNativeRenderer","flv","cors","flvPlayer","_flvOptions","_flvConfigs","attachMediaElement","_flvPlayer","flvEvents","Events","unload","detachMediaElement","assignFlvEvents","msg","flvOptions","flvConfigs","22","NativeHls","Hls","HlsNativeRenderer","hls","autoStartLoad","preload","hlsPlayer","loadSource","attachMedia","_hlsPlayer","hlsEvents","assignEvents","detachMedia","recoverDecodingErrorDate","recoverSwapAudioCodecDate","assignHlsEvents","fatal","getTime","recoverMediaError","swapAudioCodec","_message","_message2","startLoad","stopLoad","23","HtmlMediaElement","SUPPORTS_NATIVE_HLS","24","YouTubeApi","isIframeStarted","isIframeLoaded","iframeQueue","enqueueIframe","YT","createIframe","loadIframeApi","iFrameReady","pop","Player","containerId","getYouTubeId","youTubeId","getYouTubeIdFromParam","getYouTubeIdFromUrl","parameters","paramParts","getYouTubeNoCookieUrl","YouTubeIframeRenderer","youtube","disablekb","modestbranding","playsinline","rel","showinfo","iv_load_policy","nocookie","imageQuality","apiStack","youTubeApi","youTubeIframe","getPlaybackRate","isMuted","percentLoaded","getVideoLoadedFraction","getVideoUrl","_videoId","loadVideoById","cueVideoById","seekTo","unMute","setPlaybackRate","playVideo","pauseVideo","youtubeContainer","isAudio","videoId","youtubeSettings","playerVars","html5","origin","host","onReady","youTubeState","getIframe","newEvent","onStateChange","stopInterval","startInterval","onError","errorHandler","hasAttribute","playlist","onEvent","_youTubeState","interval","setInterval","clearInterval","quality","onYouTubePlayerAPIReady","25","HAS_NATIVE_FULLSCREEN_ENABLED","HAS_MS_NATIVE_FULLSCREEN","HAS_MOZ_NATIVE_FULLSCREEN","HAS_WEBKIT_NATIVE_FULLSCREEN","HAS_NATIVE_FULLSCREEN","IS_SAFARI","IS_CHROME","IS_IPOD","UA","navigator","userAgent","MSStream","appName","pointerEvents","supports","supportsPassive","opts","html5Elements","video","hasiOSFullScreen","hasNativeFullscreen","requestFullscreen","hasWebkitNativeFullScreen","webkitRequestFullScreen","hasMozNativeFullScreen","mozRequestFullScreen","hasMsNativeFullScreen","msRequestFullscreen","hasTrueNativeFullScreen","nativeFullScreenEnabled","fullScreenEventName","mozFullScreenEnabled","msFullscreenEnabled","mozFullScreen","msFullscreenElement","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","isiPad","isiPod","isiPhone","isiOS","isAndroid","isEdge","isChrome","isFirefox","isSafari","isStockAndroid","hasMSE","supportsNativeHLS","supportsPointerEvents","supportsPassiveEvent","26","script","async","onload","onerror","head","rect","getBoundingClientRect","scrollLeft","pageXOffset","scrollTop","pageYOffset","hasClassMethod","addClassMethod","removeClassMethod","classList","contains","RegExp","timestamp","progress","elem","getClientRects","dataType","completed","accept","setRequestHeader","responseText","responseXML","27","debounce","c","_arguments","immediate","callNow","getOwnPropertyNames","rwindow","eventFrags","namespace","CustomEvent","sourceNode","targetNode","compareDocumentPosition","28","getMimeFromType","getExtension","normalizeExtension","normalizedExt","mime","baseName","extension","29","_promisePolyfill2","Element","CharacterData","DocumentType","removeChild","params","bubbles","cancelable","initCustomEvent","Event","to","nextSource","nextKey","String","searchString","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","lastTime","vendors","currTime","timeToCall","pseudoEl","getPropertyValue","Node","nodes","childNodes","nodeType","30","isDropFrame","timeCodeToSeconds","fps","forceHours","showFrameCount","dropFrames","timeBase","framesPer24Hours","framesPer10Minutes","frameSep","hours","minutes","frames","timeBaseDivision","timeFormatFrags","timeFormatSettings","unique","output","totalMinutes","hFrames","mFrames","lis","format","firstTwoPlaces","separatorIndex","separator","firstChar","hasNextValue","SMPTE","decimalLen","secs","multiplier","reverse","pow","Number","isFilled","isPresent","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","globalThis","Function"],"mappings":"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","file":"library.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"), require(\"uuid\"), require(\"lottie-web\"), require(\"mousetrap\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"library\", [\"jquery\", \"uuid\", \"lottie-web\", \"mousetrap\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"library\"] = factory(require(\"jquery\"), require(\"uuid\"), require(\"lottie-web\"), require(\"mousetrap\"));\n\telse\n\t\troot[\"library\"] = factory(root[undefined], root[undefined], root[undefined], root[undefined]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__4985__, __WEBPACK_EXTERNAL_MODULE__7725__, __WEBPACK_EXTERNAL_MODULE__5129__, __WEBPACK_EXTERNAL_MODULE__2935__) {\nreturn ","import { IResolvedOperation } from '~/configuration/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { deepcopy } from '~/operation/helper/deepcopy';\r\nimport { IOperationContext, TOperationData, TOperationResult } from '~/operation/types';\r\nimport { isPromise } from './is-promise';\r\nimport { IAction } from './types';\r\n\r\nexport class Action implements IAction {\r\n  public id = '';\r\n\r\n  constructor(public name: string, public startOperations: IResolvedOperation[], private eventbus: IEventbus) {}\r\n\r\n  start(initOperationData?: TOperationData): Promise<TOperationData> {\r\n    const context: IOperationContext = { currentIndex: -1 };\r\n    const result = new Promise<TOperationData>((resolve, reject) => {\r\n      this.executeOperation(this.startOperations, 0, resolve, reject, initOperationData, context);\r\n    }).catch((e) => {\r\n      console.error(`Error in action start '${this.name}'`);\r\n      console.error(e);\r\n      throw e;\r\n    });\r\n    return result;\r\n  }\r\n\r\n  executeOperation(\r\n    operations: IResolvedOperation[],\r\n    idx: number,\r\n    resolve: (value?: any | PromiseLike<any>) => void,\r\n    reject: (reason?: any) => void,\r\n    previousOperationData: TOperationData | undefined = {},\r\n    context: IOperationContext\r\n  ): void {\r\n    if (context.newIndex !== undefined) {\r\n      idx = context.newIndex;\r\n      delete context.newIndex;\r\n    }\r\n\r\n    context.currentIndex = idx;\r\n\r\n    if (context.skipNextOperation) {\r\n      if (idx < operations.length) {\r\n        this.executeOperation(operations, ++idx, resolve, reject, previousOperationData, context);\r\n      } else {\r\n        resolve(previousOperationData);\r\n      }\r\n    }\r\n\r\n    if (idx < operations.length) {\r\n      const operationInfo = operations[idx];\r\n      const copy = operationInfo.operationData ? deepcopy(operationInfo.operationData) : {};\r\n      const mergedOperationData = Object.assign(previousOperationData, copy);\r\n\r\n      const result: TOperationResult = operationInfo.instance.call(context, mergedOperationData, this.eventbus);\r\n\r\n      if (isPromise(result)) {\r\n        result\r\n          .then((resultOperationData: TOperationData) => {\r\n            this.executeOperation(operations, ++idx, resolve, reject, resultOperationData, context);\r\n          })\r\n          .catch((error: any) => {\r\n            reject(error);\r\n          });\r\n      } else {\r\n        this.executeOperation(operations, ++idx, resolve, reject, result, context);\r\n      }\r\n    } else {\r\n      resolve(previousOperationData);\r\n    }\r\n  }\r\n}\r\n","import { IResolvedOperation } from '~/configuration/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { IOperationContext, TOperationData } from '~/operation/types';\r\nimport { Action } from './action';\r\n\r\nexport class EndableAction extends Action {\r\n  constructor(\r\n    name: string,\r\n    startOperations: IResolvedOperation[],\r\n    public endOperations: IResolvedOperation[],\r\n    eventBus: IEventbus\r\n  ) {\r\n    super(name, startOperations, eventBus);\r\n  }\r\n\r\n  end(initOperationData?: TOperationData): Promise<TOperationData> {\r\n    if (this.endOperations.length) {\r\n      const context: IOperationContext = { currentIndex: -1 };\r\n      const idx = 0;\r\n      const result = new Promise<TOperationData>((resolve, reject) => {\r\n        this.executeOperation(this.endOperations, idx, resolve, reject, initOperationData, context);\r\n      }).catch((e) => {\r\n        console.error(`Error in action end'${this.name}'`);\r\n        throw e;\r\n      });\r\n      return result;\r\n    }\r\n    return new Promise((resolve) => {\r\n      resolve(initOperationData);\r\n    });\r\n  }\r\n}\r\n","export { Action } from './action';\r\nexport { EndableAction } from './endable-action';\r\nexport { TimelineAction } from './timeline-action';\r\n","export function isPromise(obj: any): obj is Promise<unknown> {\r\n  return typeof obj === 'object' && typeof obj.then === 'function';\r\n}\r\n","import { IResolvedOperation } from '~/configuration/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { IStrictDuration } from '~/types';\r\nimport { EndableAction } from './endable-action';\r\n\r\nexport class TimelineAction extends EndableAction {\r\n  public active = false;\r\n\r\n  constructor(\r\n    name: string,\r\n    startOperations: IResolvedOperation[],\r\n    endOperations: IResolvedOperation[],\r\n    public duration: IStrictDuration,\r\n    eventBus: IEventbus\r\n  ) {\r\n    super(name, startOperations, endOperations, eventBus);\r\n  }\r\n\r\n  start(initOperationData: TOperationData): Promise<TOperationData> {\r\n    if (!this.active || this.duration.end < 0) {\r\n      this.active = this.duration.end > -1;\r\n      return super.start(initOperationData);\r\n    }\r\n    return new Promise((resolve) => {\r\n      resolve();\r\n    });\r\n  }\r\n\r\n  end(initOperationData: TOperationData): Promise<TOperationData> {\r\n    this.active = false;\r\n    return super.end(initOperationData);\r\n  }\r\n}\r\n","import $ from 'jquery';\r\nimport { IEndableAction, ITimelineAction } from '~/action/types';\r\nimport { IResolvedEngineConfiguration } from '~/configuration/types';\r\nimport { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { LanguageManager } from '~/language-manager';\r\nimport { TOperation } from '~/operation/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { ITimelineProvider } from '~/timelineproviders/types';\r\nimport { IChronoTriggerEngine, ITimelineProviderInfo, TimelineTypes, TResultCallback } from '~/types';\r\n\r\n/**\r\n * ChronoTriggerEngine, this is where the magic happens. The engine is responsible for starting and stoppping\r\n * the given timeline provider and triggering the actions associated with it.\r\n * ...\r\n */\r\nexport class ChronoTriggerEngine implements IChronoTriggerEngine {\r\n  private _timeLineActionsLookup: Record<string, any> = {};\r\n  private _eventbusListeners: TEventHandlerRemover[] = [];\r\n  private _currentTimelineUri: string = '';\r\n  private _activeTimelineProvider: ITimelineProvider | undefined = undefined;\r\n  private _lastPosition: number = -1;\r\n\r\n  constructor(\r\n    private configuration: IResolvedEngineConfiguration,\r\n    private eventbus: IEventbus,\r\n    private timelineProviders: Record<TimelineTypes, ITimelineProviderInfo>,\r\n    private languageManager: LanguageManager\r\n  ) {}\r\n\r\n  init(): Promise<ITimelineProvider> {\r\n    this._createLayoutTemplate();\r\n\r\n    this._addInitialisationListeners();\r\n\r\n    const { timelines } = this.configuration;\r\n\r\n    this._currentTimelineUri = timelines && timelines.length ? timelines[0].uri : '';\r\n\r\n    this._createTimelineLookup();\r\n\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.TIME, this._onTimeHandler.bind(this, Math.floor)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.SEEK, this._onSeekHandler.bind(this, Math.floor)));\r\n\r\n    return this._initializeTimelineProvider();\r\n  }\r\n\r\n  _createLayoutTemplate() {\r\n    const { containerSelector } = this.configuration;\r\n    const container = $(containerSelector);\r\n\r\n    if (!container || !container.length) {\r\n      throw new Error(`Container selector not found: ${containerSelector}`);\r\n    }\r\n\r\n    const { layoutTemplate } = this.configuration;\r\n\r\n    if (layoutTemplate && layoutTemplate.length) {\r\n      container.html(layoutTemplate);\r\n    } else {\r\n      console.warn('layoutTemplate is empty, unable to create layout');\r\n    }\r\n  }\r\n\r\n  _initializeTimelineProvider(): Promise<ITimelineProvider> {\r\n    if (!this.configuration.timelines?.length) {\r\n      return Promise.resolve<any>(undefined);\r\n    }\r\n\r\n    const firstTimeline = this.configuration.timelines[0];\r\n    const providerSettings = this.timelineProviders[firstTimeline.type];\r\n\r\n    if (!providerSettings) {\r\n      throw new Error(`No timeline provider configured for type ${firstTimeline.type}`);\r\n    }\r\n\r\n    if (this._activeTimelineProvider) {\r\n      this._activeTimelineProvider.destroy();\r\n    }\r\n\r\n    this._activeTimelineProvider = providerSettings.provider;\r\n\r\n    return new Promise((resolve) => {\r\n      if (this._activeTimelineProvider) {\r\n        this._activeTimelineProvider.init().then(() => {\r\n          this._executeActions(this.configuration.initActions, 'start').then(() => {\r\n            resolve(this._activeTimelineProvider);\r\n          });\r\n        });\r\n      } else {\r\n        resolve();\r\n      }\r\n    });\r\n  }\r\n\r\n  async _cleanUp() {\r\n    await this._cleanUpTimeline();\r\n    await this._executeActions(this.configuration.initActions, 'end');\r\n  }\r\n\r\n  async destroy() {\r\n    await this._cleanUp();\r\n    this._activeTimelineProvider = undefined;\r\n    this._eventbusListeners.forEach((remover) => remover());\r\n    if (this.timelineProviders) {\r\n      Object.values(this.timelineProviders).forEach((info) => info.provider.destroy());\r\n    }\r\n  }\r\n\r\n  _addInitialisationListeners() {\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(\r\n        TimelineEventNames.REQUEST_ENGINE_ROOT,\r\n        this._handleRequestEngineRoot.bind(this, this.configuration.containerSelector)\r\n      )\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.REQUEST_TIMELINE_URI, this._handleRequestTimelineUri.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(\r\n        TimelineEventNames.REQUEST_CURRENT_TIMELINE_POSITION,\r\n        this._handleRequestTimelinePosition.bind(this, Math.floor)\r\n      )\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.REQUEST_TIMELINE_CLEANUP, this._handleTimelineComplete.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.EXECUTE_TIMELINEACTION, this._handleExecuteTimelineAction.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.RESIZE_TIMELINEACTION, this._resizeTimelineAction.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.REQUEST_CURRENT_TIMELINE, this._requestCurrentTimeline.bind(this))\r\n    );\r\n  }\r\n\r\n  _createTimelineLookup() {\r\n    if (!this.configuration.timelines) {\r\n      return;\r\n    }\r\n    this.configuration.timelines.forEach((timelineInfo) => {\r\n      timelineInfo.timelineActions.forEach(this._addTimelineAction.bind(this, timelineInfo.uri));\r\n    });\r\n  }\r\n\r\n  _addTimelineAction(uri: string, timeLineAction: ITimelineAction) {\r\n    const startPosition = timeLineAction.duration.start;\r\n    const timelineStartPositions = this._initializeTimelinePosition(\r\n      this._initializeUriLookup(this._timeLineActionsLookup, uri),\r\n      startPosition\r\n    );\r\n    const startMethod = timeLineAction.start.bind(timeLineAction);\r\n\r\n    if (timeLineAction.id.length) {\r\n      (startMethod as any).id = timeLineAction.id;\r\n      (startMethod as any).isStart = true;\r\n    }\r\n\r\n    timelineStartPositions.push(startMethod);\r\n\r\n    let end = timeLineAction.duration.end;\r\n    if (end < 0) {\r\n      end = timeLineAction.duration.end = Infinity;\r\n    }\r\n\r\n    if (isFinite(end)) {\r\n      const timelineEndPositions = this._initializeTimelinePosition(this._timeLineActionsLookup[uri], end);\r\n      const endMethod = timeLineAction.end.bind(timeLineAction);\r\n\r\n      if (timeLineAction.id.length) {\r\n        (endMethod as any).id = timeLineAction.id;\r\n      }\r\n\r\n      timelineEndPositions.push(endMethod);\r\n    }\r\n  }\r\n\r\n  _initializeUriLookup(lookup: Record<string, any>, uri: string): Record<number, any> {\r\n    if (!lookup[uri]) {\r\n      lookup[uri] = {};\r\n    }\r\n\r\n    return lookup[uri];\r\n  }\r\n\r\n  _initializeTimelinePosition(lookup: Record<number, any>, position: number): TOperation[] {\r\n    if (!lookup[position]) {\r\n      lookup[position] = [];\r\n    }\r\n\r\n    return lookup[position];\r\n  }\r\n\r\n  _executeActions(actions: IEndableAction[], methodName: 'start' | 'end', idx = 0): Promise<any> {\r\n    if (actions && idx < actions.length) {\r\n      const action = actions[idx];\r\n\r\n      const promise = action[methodName]();\r\n      return promise.then(() => {\r\n        return this._executeActions(actions, methodName, ++idx);\r\n      });\r\n    }\r\n\r\n    return new Promise((resolve) => {\r\n      resolve();\r\n    });\r\n  }\r\n\r\n  _handleRequestEngineRoot(engineRootSelector: string, resultCallback: TResultCallback) {\r\n    resultCallback($(engineRootSelector));\r\n  }\r\n\r\n  _handleRequestTimelineUri(uri: string, position?: number, previousVideoPosition?: number) {\r\n    if (!this._activeTimelineProvider) {\r\n      return;\r\n    }\r\n\r\n    previousVideoPosition = previousVideoPosition ?? 0;\r\n    this._activeTimelineProvider.stop();\r\n\r\n    this._cleanUpTimeline().then(() => {\r\n      const timelineConfig = this.configuration.timelines.find((timeline) => timeline.uri === uri);\r\n      if (!timelineConfig || !this._activeTimelineProvider || this._currentTimelineUri === timelineConfig.uri) {\r\n        return;\r\n      }\r\n      this._currentTimelineUri = timelineConfig.uri;\r\n\r\n      this.eventbus.broadcast(TimelineEventNames.CURRENT_TIMELINE_CHANGE, [this._currentTimelineUri]);\r\n\r\n      const newProviderSettings = this.timelineProviders[timelineConfig.type];\r\n\r\n      if (this._activeTimelineProvider !== newProviderSettings.provider) {\r\n        this._activeTimelineProvider.destroy();\r\n        this._activeTimelineProvider = newProviderSettings.provider;\r\n      }\r\n\r\n      this._activeTimelineProvider.loop = timelineConfig.loop;\r\n\r\n      position = position ?? 0;\r\n      if (!this._activeTimelineProvider.loop && position > 0) {\r\n        this.eventbus.once(TimelineEventNames.FIRST_FRAME, () => {\r\n          if (!this._activeTimelineProvider) {\r\n            return;\r\n          }\r\n\r\n          this._activeTimelineProvider.pause();\r\n          this.eventbus.broadcast(TimelineEventNames.DURATION, [this._activeTimelineProvider.getDuration()]);\r\n          this._executeStartActions().then(() => {\r\n            position = position ?? 0;\r\n            this._activeTimelineProvider?.seek(position);\r\n            this._onSeekHandler(Math.floor, {\r\n              offset: position,\r\n            });\r\n          });\r\n        });\r\n      }\r\n\r\n      this._activeTimelineProvider.playlistItem(uri);\r\n    });\r\n  }\r\n\r\n  _cleanUpTimeline() {\r\n    return this._executeRelevantActions(this._getActiveActions, 'end');\r\n  }\r\n\r\n  _executeStartActions() {\r\n    return this._executeRelevantActions(this._getActionsForPosition.bind(this, 0), 'start');\r\n  }\r\n\r\n  _getActionsForPosition(position: number, allActions: ITimelineAction[]) {\r\n    return allActions.filter((action) => {\r\n      return !action.active && action.duration.start <= position && action.duration.end >= position;\r\n    });\r\n  }\r\n\r\n  _getActiveActions(allActions: ITimelineAction[]) {\r\n    const actions = allActions.filter((action) => action.active);\r\n    return actions.sort((a, b) => {\r\n      if (b.duration.start < a.duration.start) {\r\n        return -1;\r\n      } else if (b.duration.start > a.duration.start) {\r\n        return 1;\r\n      } else {\r\n        return 0;\r\n      }\r\n    });\r\n  }\r\n\r\n  _executeRelevantActions(filter: Function, executionType: 'start' | 'end') {\r\n    const timelineActions = this._getRelevantTimelineActions();\r\n    const currentActions = filter.apply(this, [timelineActions]);\r\n    return this._executeActions(currentActions, executionType, 0);\r\n  }\r\n\r\n  _handleRequestTimelinePosition(floor: Function, resultCallback: TResultCallback) {\r\n    resultCallback(floor(this._activeTimelineProvider?.getPosition() || -1));\r\n  }\r\n\r\n  _handleTimelineComplete() {\r\n    this._cleanUpTimeline();\r\n  }\r\n\r\n  _handleExecuteTimelineAction(uri: string, index: number, start: boolean) {\r\n    const actions = this._getTimelineActionsForUri(uri);\r\n    const action = actions ? actions[index] : null;\r\n    if (action) {\r\n      if (start) {\r\n        action.start();\r\n      } else {\r\n        action.end();\r\n      }\r\n    }\r\n  }\r\n\r\n  _resizeTimelineAction(/*uri: string, index: number*/) {\r\n    console.error('no resizing implemented');\r\n  }\r\n\r\n  _getRelevantTimelineActions() {\r\n    return this._getTimelineActionsForUri(this._currentTimelineUri);\r\n  }\r\n\r\n  _requestCurrentTimeline(resultCallback: TResultCallback) {\r\n    resultCallback(this._currentTimelineUri);\r\n  }\r\n\r\n  _getTimelineActionsForUri(uri: string): ITimelineAction[] {\r\n    const info = this.configuration.timelines.find((timelineInfo) => {\r\n      return timelineInfo.uri === uri;\r\n    });\r\n    return info?.timelineActions ?? [];\r\n  }\r\n\r\n  _onTimeHandler(floor: Function, event: any) {\r\n    if (!isNaN(event.position)) {\r\n      const pos = floor(event.position);\r\n\r\n      if (this._lastPosition !== pos) {\r\n        this._executeActionsForPosition(pos);\r\n        this.eventbus.broadcast(TimelineEventNames.POSITION_UPDATE, [pos, this._activeTimelineProvider?.getDuration()]);\r\n      }\r\n\r\n      this.eventbus.broadcast(TimelineEventNames.TIME_UPDATE, [\r\n        event.position,\r\n        this._activeTimelineProvider?.getDuration(),\r\n      ]);\r\n    }\r\n  }\r\n\r\n  _onSeekHandler(floor: Function, event: { offset: number }) {\r\n    if (isNaN(event.offset)) {\r\n      return;\r\n    }\r\n\r\n    const pos = floor(event.offset);\r\n\r\n    this._executeSeekActions(pos).then(() => {\r\n      this._activeTimelineProvider?.start();\r\n    });\r\n  }\r\n\r\n  _executeActionsForPosition(position: number) {\r\n    this._lastPosition = position;\r\n    const actions = this._timeLineActionsLookup[this._currentTimelineUri];\r\n\r\n    if (actions) {\r\n      const executions = actions[position];\r\n      executions?.forEach((exec: () => void) => {\r\n        exec();\r\n      });\r\n    }\r\n  }\r\n\r\n  _executeSeekActions(pos: number) {\r\n    const timelineActions = this._getRelevantTimelineActions();\r\n\r\n    if (!timelineActions) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    const currentActions = this._getActiveActions(timelineActions);\r\n    const newActions = this._getActionsForPosition(pos, timelineActions);\r\n    const promise = this._executeActions(currentActions, 'end', 0);\r\n\r\n    return new Promise((resolve) => {\r\n      promise.then(() => {\r\n        this._executeActions(newActions, 'start', 0).then(() => {\r\n          resolve();\r\n        });\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\nimport { IActionConfiguration, IEndableActionConfiguration, ITimelineActionConfiguration } from '~/configuration/types';\r\nimport * as operations from '~/operation';\r\nimport { deepcopy } from '~/operation/helper/deepcopy';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { ConfigurationFactory } from './configuration-factory';\r\n\r\nexport class ActionCreatorFactory {\r\n  constructor(private readonly configurationfactory: ConfigurationFactory) {}\r\n\r\n  createAction(name: string): ActionCreator {\r\n    const creator = new ActionCreator(name, this);\r\n    this.configurationfactory.addAction(creator.actionConfig);\r\n    return creator;\r\n  }\r\n\r\n  createInitAction(name: string): EndableActionCreator {\r\n    const creator = new EndableActionCreator(name, this);\r\n    this.configurationfactory.addInitAction(creator.actionConfig);\r\n    return creator;\r\n  }\r\n\r\n  createEventAction(name: string): ActionCreator {\r\n    const creator = new ActionCreator(name, this);\r\n    this.configurationfactory.addEventAction(creator.actionConfig);\r\n    return creator;\r\n  }\r\n\r\n  createTimelineAction(uri: string, name: string): TimelineActionCreator {\r\n    const creator = new TimelineActionCreator(name, this);\r\n    this.configurationfactory.addTimelineAction(uri, creator.actionConfig);\r\n    return creator;\r\n  }\r\n\r\n  end() {\r\n    return this.configurationfactory;\r\n  }\r\n}\r\n\r\nexport class ActionCreator<T extends IActionConfiguration = IActionConfiguration> {\r\n  actionConfig: T;\r\n\r\n  constructor(name: string | undefined, private readonly factory: ActionCreatorFactory) {\r\n    this.actionConfig = {\r\n      name: '',\r\n      id: uuidv4(),\r\n      startOperations: [],\r\n    } as any;\r\n    if (name?.length) {\r\n      this.actionConfig.name = name;\r\n    }\r\n  }\r\n\r\n  getId() {\r\n    return this.actionConfig.id;\r\n  }\r\n\r\n  setName(name: string) {\r\n    this.actionConfig.name = name;\r\n    return this;\r\n  }\r\n\r\n  getConfiguration(callBack: (config: T) => T) {\r\n    const copy = deepcopy(this.actionConfig);\r\n    const newConfig = callBack.call(this, copy);\r\n    if (newConfig) {\r\n      this.actionConfig = newConfig;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  addStartOperation(systemName: string, operationData: TOperationData) {\r\n    if (!(operations as Record<string, any>)[systemName]) {\r\n      throw Error(`Unknown operation: ${systemName}`);\r\n    }\r\n\r\n    const { startOperations } = this.actionConfig;\r\n    startOperations.push({\r\n      id: uuidv4(),\r\n      systemName: systemName,\r\n      operationData: operationData,\r\n    });\r\n    return this;\r\n  }\r\n\r\n  next() {\r\n    return this.factory;\r\n  }\r\n}\r\n\r\nexport class EndableActionCreator<\r\n  T extends IEndableActionConfiguration = IEndableActionConfiguration\r\n> extends ActionCreator<T> {\r\n  addEndOperation(systemName: string, operationData: TOperationData) {\r\n    if (!(operations as Record<string, any>)[systemName]) {\r\n      throw Error(`Unknown operation: ${systemName}`);\r\n    }\r\n\r\n    let { endOperations } = this.actionConfig;\r\n    if (endOperations) {\r\n      endOperations = this.actionConfig.endOperations = [];\r\n    }\r\n    endOperations.push({\r\n      id: uuidv4(),\r\n      systemName: systemName,\r\n      operationData: operationData,\r\n    });\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class TimelineActionCreator extends EndableActionCreator<ITimelineActionConfiguration> {\r\n  addDuration(start: number, end?: number) {\r\n    this.actionConfig.duration = {\r\n      start: start,\r\n    };\r\n    if (end) {\r\n      this.actionConfig.duration.end = end;\r\n    }\r\n    return this;\r\n  }\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\nimport {\r\n  IActionConfiguration,\r\n  IEndableActionConfiguration,\r\n  IOperationConfiguration,\r\n  ITimelineActionConfiguration,\r\n} from '~/configuration/types';\r\nimport * as operations from '~/operation';\r\nimport { deepcopy } from '~/operation/helper/deepcopy';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { IDuration } from '~/types';\r\nimport { ConfigurationFactory } from './configuration-factory';\r\n\r\nfunction array_move(arr: any[], old_index: number, new_index: number) {\r\n  if (new_index >= arr.length) {\r\n    new_index = 0;\r\n  } else if (new_index < 0) {\r\n    new_index = arr.length - 1;\r\n  }\r\n  arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\r\n}\r\n\r\nexport class ActionEditor<T extends IActionConfiguration = IActionConfiguration> {\r\n  constructor(protected actionConfig: T, protected readonly configurationFactory: ConfigurationFactory) {}\r\n\r\n  updateConfiguration() {\r\n    this.actionConfig = {\r\n      ...this.actionConfig,\r\n    };\r\n  }\r\n\r\n  getConfiguration(callBack: (config: T) => T) {\r\n    const copy = deepcopy(this.actionConfig);\r\n    const newConfig = callBack.call(this, copy);\r\n    if (newConfig) {\r\n      this.actionConfig = newConfig;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  setName(name: string) {\r\n    this.actionConfig = {\r\n      ...this.actionConfig,\r\n      name,\r\n    };\r\n    return this;\r\n  }\r\n\r\n  getName() {\r\n    return this.actionConfig.name;\r\n  }\r\n\r\n  addStartOperation(systemName: string, operationData: TOperationData): OperationEditor<this> {\r\n    if (!(operations as any)[systemName]) {\r\n      throw Error(`Unknown operation: ${systemName}`);\r\n    }\r\n\r\n    const startOperations = this.actionConfig.startOperations ? this.actionConfig.startOperations.slice() : [];\r\n\r\n    const newConfig = {\r\n      id: uuidv4(),\r\n      systemName: systemName,\r\n      operationData: operationData,\r\n    };\r\n\r\n    startOperations.push(newConfig);\r\n\r\n    this.actionConfig = {\r\n      ...this.actionConfig,\r\n      startOperations,\r\n    };\r\n\r\n    return new OperationEditor<this>(newConfig, this);\r\n  }\r\n\r\n  editStartOperation(id: string) {\r\n    const { startOperations } = this.actionConfig;\r\n    const operation = startOperations.find((o) => o.id === id);\r\n\r\n    if (operation) {\r\n      return new OperationEditor<ActionEditor<T>>(operation, this);\r\n    }\r\n\r\n    throw new Error(`start operation not found for id ${id}`);\r\n  }\r\n\r\n  removeStartOperation(id: string) {\r\n    const startOperations = this.actionConfig.startOperations ? this.actionConfig.startOperations.slice() : [];\r\n    const operation = startOperations.find((o) => o.id === id);\r\n\r\n    if (!operation) {\r\n      throw new Error(`start operation not found for id ${id}`);\r\n    }\r\n\r\n    const idx = startOperations.indexOf(operation);\r\n\r\n    if (idx > -1) {\r\n      startOperations.splice(idx, 1);\r\n      this.actionConfig = {\r\n        ...this.actionConfig,\r\n        startOperations,\r\n      };\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  moveStartOperation(id: string, direction: 'up' | 'down') {\r\n    const startOperations = this.actionConfig.startOperations ? this.actionConfig.startOperations.slice() : [];\r\n    const operation = startOperations.find((o) => o.id === id);\r\n\r\n    if (!operation) {\r\n      throw new Error(`start operation not found for id ${id}`);\r\n    }\r\n\r\n    const idx = startOperations.indexOf(operation);\r\n\r\n    if (idx > -1) {\r\n      const newIdx = direction === 'up' ? idx + 1 : idx - 1;\r\n      array_move(startOperations, idx, newIdx);\r\n      this.actionConfig = {\r\n        ...this.actionConfig,\r\n        startOperations,\r\n      };\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  next() {\r\n    return this.configurationFactory;\r\n  }\r\n}\r\n\r\nexport class EndableActionEditor<\r\n  T extends IEndableActionConfiguration = IEndableActionConfiguration\r\n> extends ActionEditor<T> {\r\n  addEndOperation(systemName: string, operationData: TOperationData) {\r\n    if (!(operations as any)[systemName]) {\r\n      throw Error(`Unknown operation: ${systemName}`);\r\n    }\r\n\r\n    const endOperations = this.actionConfig.endOperations ? this.actionConfig.endOperations.slice() : [];\r\n\r\n    const newConfig = {\r\n      id: uuidv4(),\r\n      systemName: systemName,\r\n      operationData: operationData,\r\n    };\r\n\r\n    endOperations.push(newConfig);\r\n\r\n    this.actionConfig.endOperations = endOperations;\r\n\r\n    return new OperationEditor<this>(newConfig, this);\r\n  }\r\n\r\n  editEndOperation(id: string) {\r\n    const { endOperations } = this.actionConfig;\r\n    const operationConfig = endOperations.find((o) => o.id === id);\r\n\r\n    if (operationConfig) {\r\n      return new OperationEditor<this>(operationConfig, this);\r\n    }\r\n\r\n    throw new Error(`operation not found for id ${id}`);\r\n  }\r\n\r\n  removeEndOperation(id: string) {\r\n    const endOperations = this.actionConfig.endOperations ? this.actionConfig.endOperations.slice() : [];\r\n    const operation = endOperations.find((o) => o.id === id);\r\n\r\n    if (!operation) {\r\n      throw new Error(`operation not found for id ${id}`);\r\n    }\r\n\r\n    const idx = endOperations.indexOf(operation);\r\n\r\n    if (idx > -1) {\r\n      endOperations.splice(idx, 1);\r\n      this.actionConfig = {\r\n        ...this.actionConfig,\r\n        endOperations,\r\n      };\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  moveEndOperation(id: string, direction: 'up' | 'down') {\r\n    const endOperations = this.actionConfig.endOperations ? this.actionConfig.endOperations.slice() : [];\r\n    const operation = endOperations.find((o) => o.id === id);\r\n\r\n    if (!operation) {\r\n      throw new Error(`operation not found for id ${id}`);\r\n    }\r\n\r\n    const idx = endOperations.indexOf(operation);\r\n\r\n    if (idx > -1) {\r\n      const newIdx = direction === 'up' ? idx + 1 : idx - 1;\r\n      array_move(endOperations, idx, newIdx);\r\n      this.actionConfig = {\r\n        ...this.actionConfig,\r\n        endOperations,\r\n      };\r\n    }\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class TimelineActionEditor extends EndableActionEditor<ITimelineActionConfiguration> {\r\n  setDuration(start: number, end?: number) {\r\n    if (end != undefined && start > end) {\r\n      throw Error('start position cannot be higher than end position');\r\n    }\r\n\r\n    const duration: IDuration = {\r\n      start,\r\n    };\r\n\r\n    if (end) {\r\n      duration.end = end;\r\n    }\r\n\r\n    this.actionConfig = {\r\n      ...this.actionConfig,\r\n      duration,\r\n    };\r\n    return this;\r\n  }\r\n}\r\n\r\nexport class OperationEditor<T extends ActionEditor> {\r\n  constructor(private operationConfig: IOperationConfiguration, private actionEditor: T) {}\r\n\r\n  getConfiguration(callBack: (config: IOperationConfiguration) => IOperationConfiguration) {\r\n    const copy = deepcopy(this.operationConfig);\r\n    const newConfig = callBack.call(this, copy);\r\n\r\n    if (newConfig) {\r\n      this.operationConfig = newConfig;\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  getSystemName() {\r\n    return this.operationConfig.systemName;\r\n  }\r\n\r\n  setSystemName(systemName: string) {\r\n    if (!(operations as any)[systemName]) {\r\n      throw Error(`Unknown operation: ${systemName}`);\r\n    }\r\n\r\n    this.operationConfig.systemName = systemName;\r\n    this.actionEditor.updateConfiguration();\r\n    return this;\r\n  }\r\n\r\n  setOperationData(operationData: TOperationData) {\r\n    this.operationConfig.operationData = operationData;\r\n    this.actionEditor.updateConfiguration();\r\n    return this;\r\n  }\r\n\r\n  setOperationDataItem(key: string, value: any) {\r\n    const { operationData = {} } = this.operationConfig;\r\n    operationData[key] = value;\r\n    return this.setOperationData(operationData);\r\n  }\r\n\r\n  getOperationDataKeys() {\r\n    const { operationData } = this.operationConfig;\r\n    return operationData ? Object.keys(operationData) : [];\r\n  }\r\n\r\n  getOperationDataValue(key: string) {\r\n    const { operationData } = this.operationConfig;\r\n    return operationData?.[key];\r\n  }\r\n\r\n  next() {\r\n    return this.actionEditor;\r\n  }\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\nimport {\r\n  IActionConfiguration,\r\n  IEngineConfiguration,\r\n  ITimelineActionConfiguration,\r\n  ITimelineConfiguration,\r\n} from '~/configuration/types';\r\nimport { deepcopy } from '~/operation/helper/deepcopy';\r\nimport { ILabel, ILanguageLabel, TimelineTypes } from '~/types';\r\nimport { ActionCreatorFactory } from './action-creator-factory';\r\nimport { ActionEditor, EndableActionEditor, TimelineActionEditor } from './action-editor';\r\nimport TimelineProvidersSettingsEditor from './timeline-provider-settings-editor';\r\n\r\nexport type TEngineConfigurationLists = Pick<\r\n  IEngineConfiguration,\r\n  'availableLanguages' | 'initActions' | 'actions' | 'eventActions' | 'timelines' | 'labels'\r\n>;\r\n\r\nexport class ConfigurationFactory {\r\n  actionCreatorFactory: ActionCreatorFactory;\r\n  configuration: IEngineConfiguration;\r\n\r\n  constructor(config?: IEngineConfiguration) {\r\n    this.configuration = config || ({} as any);\r\n    this.actionCreatorFactory = new ActionCreatorFactory(this);\r\n  }\r\n\r\n  init(defaultLanguage: string) {\r\n    this.configuration = {\r\n      id: uuidv4(),\r\n      engine: {\r\n        systemName: 'ChronoTriggerEngine',\r\n      },\r\n      containerSelector: '#ct-container',\r\n      timelineProviderSettings: {} as any,\r\n      language: defaultLanguage,\r\n      availableLanguages: [],\r\n      layoutTemplate: '',\r\n      initActions: [],\r\n      actions: [],\r\n      timelines: [],\r\n      labels: [],\r\n    };\r\n\r\n    return this;\r\n  }\r\n\r\n  setDefaultLanguage(defaultLanguage: string) {\r\n    this.configuration.language = defaultLanguage;\r\n    return this;\r\n  }\r\n\r\n  setContainerSelector(selector: string) {\r\n    this.configuration.containerSelector = selector;\r\n    return this;\r\n  }\r\n\r\n  editTimelineProviderSettings() {\r\n    return new TimelineProvidersSettingsEditor(this.configuration.timelineProviderSettings, this);\r\n  }\r\n\r\n  getConfiguration(callBack: (copy: IEngineConfiguration) => IEngineConfiguration) {\r\n    const copy = deepcopy<IEngineConfiguration>(this.configuration);\r\n    const newConfig = callBack.call(this, copy);\r\n    if (newConfig) {\r\n      this.configuration = newConfig;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  addLanguage(code: string, languageLabel: string) {\r\n    const languages = this._initializeCollection(this.configuration, 'availableLanguages');\r\n    languages.push({\r\n      code: code,\r\n      label: languageLabel,\r\n    });\r\n    return this;\r\n  }\r\n\r\n  _internalAddAction(collectionName: keyof TEngineConfigurationLists, action: IActionConfiguration) {\r\n    const actions = this._initializeCollection(this.configuration, collectionName);\r\n    actions?.push(action as any);\r\n  }\r\n\r\n  _initializeCollection<T, K extends keyof T>(parent: T, name: K): T[K] {\r\n    if (!parent[name]) {\r\n      (parent[name] as any) = [];\r\n    }\r\n    return parent[name] as T[K];\r\n  }\r\n\r\n  addAction(action: IActionConfiguration) {\r\n    this._internalAddAction('actions', action);\r\n  }\r\n\r\n  addInitAction(action: IActionConfiguration) {\r\n    this._internalAddAction('initActions', action);\r\n  }\r\n\r\n  addEventAction(action: IActionConfiguration) {\r\n    this._internalAddAction('eventActions', action);\r\n  }\r\n\r\n  addTimelineAction(uri: string, action: ITimelineActionConfiguration) {\r\n    const timeline = this.getTimeline(uri);\r\n    if (timeline) {\r\n      const timelineActions = this._initializeCollection(timeline, 'timelineActions');\r\n      timelineActions.push(action);\r\n    } else {\r\n      throw Error(`No timeline found for uri '${uri}'`);\r\n    }\r\n  }\r\n\r\n  createAction(name: string) {\r\n    return this.actionCreatorFactory.createAction(name);\r\n  }\r\n\r\n  createInitAction(name: string) {\r\n    return this.actionCreatorFactory.createInitAction(name);\r\n  }\r\n\r\n  createEventAction(name: string) {\r\n    return this.actionCreatorFactory.createEventAction(name);\r\n  }\r\n\r\n  createTimelineAction(uri: string, name: string) {\r\n    return this.actionCreatorFactory.createTimelineAction(uri, name);\r\n  }\r\n\r\n  addTimeline(uri: string, type: TimelineTypes, duration: number, loop: boolean, selector: string) {\r\n    const timelines = this._initializeCollection(this.configuration, 'timelines');\r\n    const timeline = this.getTimeline(uri);\r\n    if (timeline) {\r\n      throw Error(`timeline for uri ${uri} already exists`);\r\n    }\r\n    const timelineConfig: ITimelineConfiguration = {\r\n      type: type,\r\n      uri: uri,\r\n      duration: duration,\r\n      loop: loop,\r\n      selector: selector,\r\n      timelineActions: [],\r\n    };\r\n    timelines.push(timelineConfig);\r\n    return this;\r\n  }\r\n\r\n  getTimeline(uri: string) {\r\n    return this.configuration.timelines.find((t) => t.uri === uri);\r\n  }\r\n\r\n  removeTimeline(uri: string) {\r\n    const timelineConfig = this.getTimeline(uri);\r\n    if (timelineConfig) {\r\n      const idx = this.configuration.timelines.indexOf(timelineConfig);\r\n      if (idx > -1) {\r\n        this.configuration.timelines.splice(idx, 1);\r\n      }\r\n    }\r\n    return this;\r\n  }\r\n\r\n  _initializeLabel(id: string, labels: ILanguageLabel[]) {\r\n    let label = labels.find((l) => l.id === id);\r\n    if (!label) {\r\n      labels.push({\r\n        id: id,\r\n        labels: [],\r\n      });\r\n      label = labels[labels.length - 1];\r\n    }\r\n    return label;\r\n  }\r\n\r\n  _getLabelTranslation(labelTranslations: ILabel[], languageCode: string) {\r\n    let translation = labelTranslations.find((l) => l.code === languageCode);\r\n    if (!translation) {\r\n      translation = {\r\n        code: languageCode,\r\n        label: '',\r\n      };\r\n      labelTranslations.push(translation);\r\n    }\r\n    return translation;\r\n  }\r\n\r\n  addLabel(id: string, code: string, translation: string) {\r\n    const labels = this._initializeCollection(this.configuration, 'labels');\r\n    const labelConfig = this._initializeLabel(id, labels);\r\n    const labelTranslation = this._getLabelTranslation(labelConfig.labels, code);\r\n    labelTranslation.label = translation;\r\n    return this;\r\n  }\r\n\r\n  editAction(id: string) {\r\n    const actionConfig = this.configuration.actions.find((a) => a.id === id);\r\n    if (actionConfig) {\r\n      return new ActionEditor(actionConfig, this);\r\n    }\r\n    throw new Error(`Action not found for id ${id}`);\r\n  }\r\n\r\n  editEventAction(id: string) {\r\n    const actionConfig = this.configuration.eventActions?.find((a) => a.id === id);\r\n    if (actionConfig) {\r\n      return new ActionEditor(actionConfig, this);\r\n    }\r\n    throw new Error(`Event action not found for id ${id}`);\r\n  }\r\n\r\n  editInitAction(id: string) {\r\n    const actionConfig = this.configuration.initActions.find((a) => a.id === id);\r\n    if (actionConfig) {\r\n      return new EndableActionEditor(actionConfig, this);\r\n    }\r\n    throw new Error(`Init action not found for id ${id}`);\r\n  }\r\n\r\n  editTimelineAction(uri: string, id: string) {\r\n    const timeline = this.getTimeline(uri);\r\n    if (!timeline) {\r\n      throw new Error(`Timeline not found for id ${id}`);\r\n    }\r\n    const actionConfig = timeline.timelineActions.find((a) => a.id === id);\r\n    if (actionConfig) {\r\n      return new TimelineActionEditor(actionConfig, this);\r\n    }\r\n    throw new Error(`Timeline action not found for id ${id}`);\r\n  }\r\n}\r\n","import * as controllers from '~/controllers';\r\nimport * as operations from '~/operation';\r\nimport * as operationMetadata from '~/operation/metadata';\r\nimport { IOperationMetadata } from '~/operation/metadata/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\n\r\nexport class OperationNamesProvider {\r\n  getOperationNames() {\r\n    return Object.keys(operations);\r\n  }\r\n}\r\n\r\nexport class ControllerNamesProvider {\r\n  getControllerNames() {\r\n    return Object.keys(controllers);\r\n  }\r\n}\r\n\r\nexport class OperationMetadataProvider {\r\n  getOperationMetadata(operationName: string) {\r\n    const getMetadata = ((operationMetadata as any) as Record<string, () => IOperationMetadata<any>>)[operationName];\r\n    if (!getMetadata) {\r\n      throw new Error(`Could not find metadata for operation called ${operationName}`);\r\n    }\r\n    return getMetadata();\r\n  }\r\n}\r\n\r\nexport class TimeLineEventNamesProvider {\r\n  getEventNames() {\r\n    return Object.values(TimelineEventNames);\r\n  }\r\n}\r\n","import { ITimelineProviderSettings } from '~/configuration/types';\r\nimport * as timelineProviders from '~/timelineproviders';\r\nimport { TimelineTypes } from '~/types';\r\nimport { ConfigurationFactory } from './configuration-factory';\r\n\r\nexport default class TimelineProvidersSettingsEditor {\r\n  constructor(\r\n    private providersSettings: Record<TimelineTypes, ITimelineProviderSettings>,\r\n    private configurationFactory: ConfigurationFactory\r\n  ) {}\r\n\r\n  addProvider(timelineType: TimelineTypes) {\r\n    if (this.providersSettings[timelineType]) {\r\n      throw new Error(`Settings for a '${timelineType}' provider already exist`);\r\n    }\r\n    this.providersSettings[timelineType] = {\r\n      poster: '',\r\n      selector: '',\r\n      systemName: '',\r\n      vendor: '',\r\n    };\r\n    return new TimelineProviderSettingsEditor(this.providersSettings[timelineType], this, this.configurationFactory);\r\n  }\r\n\r\n  editProvider(timelineType: TimelineTypes) {\r\n    if (!this.providersSettings[timelineType]) {\r\n      throw new Error(`No settings for a '${timelineType}' provider exist yet`);\r\n    }\r\n    return new TimelineProviderSettingsEditor(this.providersSettings[timelineType], this, this.configurationFactory);\r\n  }\r\n\r\n  next() {\r\n    return this.configurationFactory;\r\n  }\r\n}\r\n\r\nexport class TimelineProviderSettingsEditor {\r\n  constructor(\r\n    private providerSettings: ITimelineProviderSettings,\r\n    private providersSettingsEditor: TimelineProvidersSettingsEditor,\r\n    private configurationFactory: ConfigurationFactory\r\n  ) {}\r\n\r\n  setVendor(vendor: string) {\r\n    this.providerSettings.vendor = vendor;\r\n    return this;\r\n  }\r\n\r\n  setSelector(selector: string) {\r\n    this.providerSettings.selector = selector;\r\n    return this;\r\n  }\r\n\r\n  setSystemName(systemName: string) {\r\n    if (!(timelineProviders as any)[systemName]) {\r\n      throw new Error(`Unknown timeline provider system name: ${systemName}`);\r\n    }\r\n    this.providerSettings.systemName = systemName;\r\n    return this;\r\n  }\r\n\r\n  next() {\r\n    return this.providersSettingsEditor;\r\n  }\r\n\r\n  end() {\r\n    return this.configurationFactory;\r\n  }\r\n}\r\n","import { isDefined } from 'ts-is-present';\r\nimport { Action, EndableAction, TimelineAction } from '~/action';\r\nimport { IAction } from '~/action/types';\r\nimport { ActionRegistryEventbusListener } from '~/eventbus';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { deepcopy } from '~/operation/helper/deepcopy';\r\nimport { getNestedPropertyValue } from '~/operation/helper/get-nested-property-value';\r\nimport { IConfigurationResolver, IResourceImporter } from '~/types';\r\nimport {\r\n  IActionConfiguration,\r\n  IEndableActionConfiguration,\r\n  IEngineConfiguration,\r\n  IEventActionConfiguration,\r\n  IOperationConfiguration,\r\n  IResolvedEngineConfiguration,\r\n  IResolvedOperation,\r\n  IResolvedTimelineConfiguration,\r\n  ITimelineActionConfiguration,\r\n  ITimelineConfiguration,\r\n} from './types';\r\n\r\nexport class ConfigurationResolver implements IConfigurationResolver {\r\n  constructor(private importer: IResourceImporter, private eventbus: IEventbus) {}\r\n\r\n  process(\r\n    configuration: IEngineConfiguration,\r\n    actionRegistryListener?: ActionRegistryEventbusListener\r\n  ): [Record<string, IAction>, IResolvedEngineConfiguration] {\r\n    resolvePlaceholders(configuration, configuration, this.importer);\r\n\r\n    const resolvedConfig: IResolvedEngineConfiguration = {\r\n      id: configuration.id,\r\n      engine: { ...configuration.engine },\r\n      timelineProviderSettings: deepcopy(configuration.timelineProviderSettings),\r\n      containerSelector: configuration.containerSelector,\r\n      language: configuration.language,\r\n      layoutTemplate: configuration.layoutTemplate,\r\n      availableLanguages: deepcopy(configuration.availableLanguages),\r\n      actions: resolveActions(configuration.actions, this.importer, this.eventbus),\r\n      initActions: resolveActions(configuration.initActions, this.importer, this.eventbus),\r\n      labels: deepcopy(configuration.labels),\r\n      timelineFlow: deepcopy(configuration.timelineFlow),\r\n      timelines: resolveTimelines(configuration.timelines, this.importer, this.eventbus),\r\n    };\r\n\r\n    if (configuration.eventActions && actionRegistryListener) {\r\n      resolveEventActions(configuration.eventActions, actionRegistryListener, this.importer, this.eventbus);\r\n    }\r\n\r\n    const actionsLookup = resolvedConfig.actions.reduce<Record<string, IAction>>(\r\n      (aggr, action) => ({\r\n        ...aggr,\r\n        [action.name]: action,\r\n      }),\r\n      {}\r\n    );\r\n\r\n    return [actionsLookup, resolvedConfig];\r\n  }\r\n}\r\n\r\nfunction resolveEventActions(\r\n  eventActionConfigurations: IEventActionConfiguration[],\r\n  actionRegistryListener: ActionRegistryEventbusListener,\r\n  importer: IResourceImporter,\r\n  eventbus: IEventbus\r\n) {\r\n  const resolvedConfigs = eventActionConfigurations.map<IResolvedActionConfiguration>((config) => {\r\n    return resolveActionConfiguration(config, importer);\r\n  });\r\n\r\n  resolvedConfigs.forEach((config, index) => {\r\n    const { eventName, eventTopic } = eventActionConfigurations[index];\r\n    const eventAction = new Action(config.name, config.startOperations, eventbus);\r\n    actionRegistryListener.registerAction(eventAction, eventName, eventTopic);\r\n  });\r\n}\r\n\r\nfunction resolveTimelines(timelines: ITimelineConfiguration[], importer: IResourceImporter, eventbus: IEventbus) {\r\n  const resolve = resolveTimelineAction.bind(null, importer, eventbus);\r\n\r\n  return timelines.map<IResolvedTimelineConfiguration>((config) => ({\r\n    ...config,\r\n    timelineActions: config.timelineActions.map(resolve),\r\n  }));\r\n}\r\n\r\nfunction resolveOperation(importer: IResourceImporter, operationConfig: IOperationConfiguration): IResolvedOperation {\r\n  return {\r\n    id: operationConfig.id,\r\n    systemName: operationConfig.systemName,\r\n    operationData: deepcopy(operationConfig.operationData),\r\n    instance: importer.import(operationConfig.systemName)[operationConfig.systemName],\r\n  };\r\n}\r\n\r\nfunction resolveActionConfiguration(\r\n  config: IActionConfiguration,\r\n  importer: IResourceImporter\r\n): IResolvedActionConfiguration {\r\n  const resolve = resolveOperation.bind(null, importer);\r\n\r\n  return {\r\n    id: config.id,\r\n    name: config.name,\r\n    startOperations: config.startOperations.map(resolve),\r\n  };\r\n}\r\n\r\nfunction resolveEndableActionConfiguration(\r\n  config: IEndableActionConfiguration,\r\n  importer: IResourceImporter\r\n): IResolvedEndableActionConfiguration {\r\n  const resolve = resolveOperation.bind(null, importer);\r\n\r\n  const action = resolveActionConfiguration(config, importer);\r\n\r\n  return {\r\n    ...action,\r\n    endOperations: config.endOperations.map(resolve),\r\n  };\r\n}\r\n\r\nfunction resolveTimelineAction(\r\n  importer: IResourceImporter,\r\n  eventbus: IEventbus,\r\n  actionConfiguration: ITimelineActionConfiguration\r\n) {\r\n  const resolvedConfig = resolveEndableActionConfiguration(actionConfiguration, importer);\r\n  const duration = {\r\n    end: actionConfiguration.duration.end ?? -1,\r\n    start: actionConfiguration.duration.start,\r\n  };\r\n\r\n  const { name, endOperations, startOperations } = resolvedConfig;\r\n  return new TimelineAction(name, startOperations, endOperations, duration, eventbus);\r\n}\r\n\r\nfunction resolveActions(\r\n  actionConfigurations: IEndableActionConfiguration[],\r\n  importer: IResourceImporter,\r\n  eventbus: IEventbus\r\n) {\r\n  const resolvedConfigs = actionConfigurations.map<IResolvedEndableActionConfiguration>((config) => {\r\n    return resolveEndableActionConfiguration(config, importer);\r\n  });\r\n\r\n  return resolvedConfigs.map<EndableAction>((resolvedConfig) => {\r\n    const { name, endOperations, startOperations } = resolvedConfig;\r\n    return new EndableAction(name, startOperations, endOperations, eventbus);\r\n  });\r\n}\r\n\r\nfunction resolvePlaceholders(config: any, rootConfig: any, importer: IResourceImporter) {\r\n  if (!isDefined(config)) {\r\n    return;\r\n  }\r\n\r\n  if (Array.isArray(config)) {\r\n    config.forEach((item) => {\r\n      resolvePlaceholders(item, rootConfig, importer);\r\n    });\r\n  } else {\r\n    Object.keys(config).forEach((key) => {\r\n      resolvePlaceholder(key, config, rootConfig, importer);\r\n    });\r\n  }\r\n}\r\n\r\nfunction resolvePlaceholder(key: string, config: any, rootConfig: any, importer: IResourceImporter) {\r\n  const value = config[key];\r\n  if (typeof value === 'string') {\r\n    if (value.startsWith('config:')) {\r\n      const configProperty = value.substr(7, value.length);\r\n      config[key] = getNestedPropertyValue(configProperty, rootConfig);\r\n    } else if (value.startsWith('template:')) {\r\n      const templateKey = value.substr(9, value.length);\r\n      config[key] = importer.import(templateKey)[templateKey];\r\n    } else if (value.startsWith('json:')) {\r\n      const jsonKey = value.substr(5, value.length);\r\n      const json = importer.import(jsonKey)[jsonKey];\r\n      config[key] = json;\r\n    }\r\n  } else if (typeof value === 'object') {\r\n    resolvePlaceholders(config[key], rootConfig, importer);\r\n  }\r\n}\r\n\r\ninterface IResolvedActionConfiguration {\r\n  id: string;\r\n  name: string;\r\n  startOperations: IResolvedOperation[];\r\n}\r\n\r\ninterface IResolvedEndableActionConfiguration extends IResolvedActionConfiguration {\r\n  endOperations: IResolvedOperation[];\r\n}\r\n\r\ninterface IResolvedEventActionConfiguration extends IResolvedActionConfiguration {\r\n  eventName: string;\r\n  eventTopic?: string;\r\n}\r\n","import { IEndableAction } from '~/action/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { deepcopy } from '~/operation/helper/deepcopy';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { IController } from './types';\r\n\r\ninterface IActionInstanceInfo {\r\n  start: boolean;\r\n  action: IEndableAction;\r\n}\r\n\r\nexport interface IEventListenerControllerOperationData {\r\n  selectedElement: JQuery;\r\n  eventName: string;\r\n  actions: string[];\r\n  actionOperationData?: TOperationData;\r\n}\r\n\r\nexport class EventListenerController implements IController<IEventListenerControllerOperationData> {\r\n  operationData: IEventListenerControllerOperationData | null;\r\n  actionInstanceInfos: IActionInstanceInfo[];\r\n  name = 'EventListenerController';\r\n\r\n  constructor() {\r\n    this.operationData = null;\r\n    this.actionInstanceInfos = [];\r\n  }\r\n\r\n  init(operationData: IEventListenerControllerOperationData) {\r\n    this.operationData = {\r\n      selectedElement: operationData.selectedElement,\r\n      eventName: operationData.eventName,\r\n      actions: operationData.actions.slice(),\r\n      actionOperationData: operationData.actionOperationData ? deepcopy(operationData.actionOperationData) : undefined,\r\n    };\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    if (!this.operationData) {\r\n      return;\r\n    }\r\n\r\n    const { selectedElement, actions, eventName } = this.operationData;\r\n    if (!this.actionInstanceInfos) {\r\n      this.actionInstanceInfos = [];\r\n\r\n      const resultCallback = (isStart: boolean) => (actionInstance: IEndableAction) => {\r\n        this.actionInstanceInfos.push({ start: isStart, action: actionInstance });\r\n      };\r\n\r\n      actions.forEach((actionName: string) => {\r\n        const [isStart, name] = this._isStartAction(actionName);\r\n        eventbus.broadcast(TimelineEventNames.REQUEST_ACTION, [name, resultCallback(isStart)]);\r\n      });\r\n\r\n      if (this._getElementTagName(selectedElement) === 'SELECT') {\r\n        selectedElement.on(eventName, this._selectEventHandler.bind(this));\r\n      } else {\r\n        selectedElement.on(eventName, this._eventHandler.bind(this));\r\n      }\r\n    }\r\n  }\r\n\r\n  _getElementTagName(element: JQuery | HTMLElement) {\r\n    const tagName = (element as JQuery).length ? (element as JQuery)[0].tagName : (element as HTMLElement).tagName;\r\n    return tagName.toUpperCase();\r\n  }\r\n\r\n  _isStartAction(actionName: string): [boolean, string] {\r\n    const prefix = actionName.substr(0, 'end:'.length);\r\n    if (prefix === 'end:') {\r\n      return [false, actionName.substr('end:'.length)];\r\n    } else {\r\n      return [true, actionName];\r\n    }\r\n  }\r\n\r\n  _eventHandler(event: any) {\r\n    if (!this.operationData) {\r\n      return;\r\n    }\r\n\r\n    const copy = this.operationData.actionOperationData ? deepcopy(this.operationData.actionOperationData) : {};\r\n\r\n    if (event.target) {\r\n      copy.targetValue = event.target.value;\r\n    }\r\n\r\n    this._executeAction(this.actionInstanceInfos, copy, 0);\r\n  }\r\n\r\n  _executeAction(actions: IActionInstanceInfo[], operationData: TOperationData, idx: number) {\r\n    if (idx < actions.length) {\r\n      const actionInfo = actions[idx];\r\n      const { action } = actionInfo;\r\n      const method = actionInfo.start ? action.start.bind(action) : action.end.bind(action);\r\n      method(operationData).then((resultOperationData) => {\r\n        return this._executeAction(actions, Object.assign(operationData, resultOperationData), ++idx);\r\n      });\r\n    }\r\n  }\r\n\r\n  _selectEventHandler(event: any) {\r\n    if (!this.operationData) {\r\n      return;\r\n    }\r\n\r\n    const options = event.target;\r\n\r\n    for (let i = 0, l = options.length; i < l; i++) {\r\n      const opt = options[i];\r\n      if (opt.selected) {\r\n        const copy = this.operationData.actionOperationData ? deepcopy(this.operationData.actionOperationData) : {};\r\n        this._executeAction(this.actionInstanceInfos, Object.assign({ eventArgs: [opt.value] }, copy), 0);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    this.operationData?.selectedElement.off(this.operationData.eventName);\r\n  }\r\n}\r\n","export { EventListenerController } from './event-listener-controller';\r\nexport { LabelController } from './label-controller';\r\nexport { LottieController } from './lottie-controller';\r\nexport { NavigationController } from './navigation-controller';\r\nexport { ProgressbarController } from './progressbar-controller';\r\nexport { RoutingController } from './routing-controller';\r\nexport { SubtitlesController } from './subtitles-controller';\r\n","import { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { ILabel } from '~/types';\r\nimport { IController } from './types';\r\n\r\nexport interface ILabelControllerMetadata {\r\n  selectedElement: JQuery;\r\n  labelId: string;\r\n}\r\n\r\nexport class LabelController implements IController<ILabelControllerMetadata> {\r\n  listeners: TEventHandlerRemover[] = [];\r\n  currentLanguage: string | null = null;\r\n  operationData: ILabelControllerMetadata | null = null;\r\n  labelData: Record<string, string> = {};\r\n  name = 'LabelController';\r\n\r\n  init(operationData: ILabelControllerMetadata) {\r\n    this.operationData = Object.assign({}, operationData);\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    if (!this.operationData) {\r\n      return;\r\n    }\r\n\r\n    eventbus.broadcast(TimelineEventNames.REQUEST_CURRENT_LANGUAGE, [\r\n      (language: string) => {\r\n        this.currentLanguage = language;\r\n      },\r\n    ]);\r\n    eventbus.broadcast(TimelineEventNames.REQUEST_LABEL_COLLECTION, [\r\n      this.operationData.labelId,\r\n      (labelCollection: ILabel[]) => {\r\n        this.createTextDataLookup(labelCollection);\r\n      },\r\n    ]);\r\n    this.setLabel();\r\n    this.listeners.push(eventbus.on(TimelineEventNames.LANGUAGE_CHANGE, this.handleLanguageChange.bind(this)));\r\n  }\r\n\r\n  setLabel() {\r\n    if (this.currentLanguage) {\r\n      this.operationData?.selectedElement.html(this.labelData[this.currentLanguage]);\r\n    }\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    this.listeners.forEach((func) => {\r\n      func();\r\n    });\r\n  }\r\n\r\n  handleLanguageChange(code: string) {\r\n    this.currentLanguage = code;\r\n    this.setLabel();\r\n  }\r\n\r\n  createTextDataLookup(data: ILabel[]) {\r\n    data.forEach((d) => {\r\n      this.labelData[d.code] = d.label;\r\n    });\r\n  }\r\n}\r\n","import lottie, { AnimationItem } from 'lottie-web';\r\nimport { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { IController } from './types';\r\n\r\nexport interface IInnerMetadata {\r\n  selectedElement: JQuery;\r\n  renderer: 'svg' | 'canvas' | 'html';\r\n  loop: boolean;\r\n  autoplay: boolean;\r\n  animationData: any;\r\n  json: any;\r\n  labelIds: string[];\r\n  viewBox: string;\r\n  iefallback: any;\r\n}\r\n\r\nexport interface ILottieControllerMetadata extends IInnerMetadata {\r\n  url: string;\r\n}\r\n\r\nexport class LottieController implements IController<ILottieControllerMetadata> {\r\n  name = 'LottieController';\r\n  currentLanguage: string | null = null;\r\n  labelData: Record<string, Record<string, string>> = {};\r\n  listeners: TEventHandlerRemover[] = [];\r\n  animationItem: AnimationItem | null = null;\r\n  operationData: IInnerMetadata | null = null;\r\n  serializedData: string | null = null;\r\n  serializedIEData: string | null = null;\r\n  freezePosition = -1;\r\n  endPosition = -1;\r\n\r\n  constructor() {}\r\n\r\n  init(operationData: ILottieControllerMetadata) {\r\n    this.operationData = {\r\n      selectedElement: operationData.selectedElement,\r\n      renderer: operationData.renderer,\r\n      loop: operationData.loop,\r\n      autoplay: operationData.autoplay,\r\n      animationData: operationData.animationData,\r\n      json: operationData.json,\r\n      labelIds: operationData.labelIds,\r\n      viewBox: operationData.viewBox,\r\n      iefallback: operationData.iefallback,\r\n    };\r\n    if (operationData.url.indexOf('[') > -1) {\r\n      this.parseFilename(operationData.url);\r\n    }\r\n    this.serializedData = this.operationData.json\r\n      ? JSON.stringify(this.operationData.json)\r\n      : JSON.stringify(this.operationData.animationData);\r\n    if (this.operationData.iefallback) {\r\n      this.serializedIEData = JSON.stringify(this.operationData.iefallback);\r\n    }\r\n  }\r\n\r\n  parseFilename(name: string) {\r\n    const params = name.substr(name.indexOf('[') + 1, name.indexOf(']') - name.indexOf('[') - 1);\r\n    const settings = params.split(',');\r\n    settings.forEach((setting) => {\r\n      const values = setting.split('=');\r\n      if (values[0] === 'freeze') {\r\n        this.freezePosition = +values[1];\r\n      } else if (values[0] === 'end') {\r\n        this.endPosition = +values[1];\r\n      }\r\n    });\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    if (!this.operationData) {\r\n      return;\r\n    }\r\n\r\n    const { labelIds } = this.operationData;\r\n    if (labelIds && labelIds.length) {\r\n      const resultHolder: { language: string; labelCollections: any[] } = {} as any;\r\n\r\n      eventbus.broadcast(TimelineEventNames.REQUEST_CURRENT_LANGUAGE, [resultHolder]);\r\n      this.currentLanguage = resultHolder.language;\r\n      this.listeners.push(eventbus.on(TimelineEventNames.LANGUAGE_CHANGE, this.handleLanguageChange.bind(this)));\r\n      eventbus.broadcast(TimelineEventNames.REQUEST_LABEL_COLLECTIONS, [this.operationData.labelIds, resultHolder]);\r\n      this.createTextDataLookup(resultHolder.labelCollections);\r\n    }\r\n    this.createAnimation();\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    this.listeners.forEach((func) => {\r\n      func();\r\n    });\r\n\r\n    if (this.animationItem) {\r\n      if (this.endPosition > -1) {\r\n        this.animationItem.addEventListener('complete', this.destroy.bind(this));\r\n        this.animationItem.playSegments([this.freezePosition, this.endPosition], true);\r\n      } else {\r\n        this.animationItem.destroy();\r\n      }\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    if (this.animationItem) {\r\n      this.animationItem.destroy();\r\n      this.animationItem = null;\r\n    }\r\n  }\r\n\r\n  createAnimation() {\r\n    if (!this.operationData || !this.serializedData) {\r\n      return;\r\n    }\r\n\r\n    this.animationItem?.destroy();\r\n    let serialized = this.isIE() && this.serializedIEData ? this.serializedIEData : this.serializedData;\r\n\r\n    const { labelIds } = this.operationData;\r\n    if (labelIds && labelIds.length) {\r\n      labelIds.forEach((id) => {\r\n        serialized = serialized.split(`!!${id}!!`).join(this.labelData[id][this.currentLanguage ?? '']);\r\n      });\r\n    }\r\n    const animationData = JSON.parse(serialized);\r\n\r\n    const animationSettings = {\r\n      autoplay: this.operationData.autoplay,\r\n      container: this.operationData.selectedElement[0],\r\n      loop: this.operationData.loop,\r\n      renderer: this.operationData.renderer,\r\n      animationData,\r\n    };\r\n\r\n    this.animationItem = lottie.loadAnimation(animationSettings);\r\n    if (this.endPosition < 0) {\r\n      this.endPosition = this.animationItem.timeCompleted;\r\n    }\r\n\r\n    if (this.freezePosition > -1) {\r\n      this.animationItem.playSegments([0, this.freezePosition], true);\r\n    }\r\n    if (this.operationData.viewBox) {\r\n      this.operationData.selectedElement.find('svg').attr('viewBox', this.operationData.viewBox);\r\n    }\r\n  }\r\n\r\n  createTextDataLookup(data: any[]) {\r\n    data.forEach((infos, index) => {\r\n      infos.forEach((d: any) => {\r\n        if (this.operationData) {\r\n          this.labelData[this.operationData.labelIds[index]][d.code] = d.label;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleLanguageChange(code: string) {\r\n    this.currentLanguage = code;\r\n    this.createAnimation();\r\n  }\r\n\r\n  isIE() {\r\n    const isIE = false || !!(window.document as any)['documentMode'];\r\n\r\n    // Edge 20+\r\n    const isEdge = !isIE && !!window['StyleMedia'];\r\n\r\n    return isEdge || isIE;\r\n  }\r\n}\r\n","import $ from 'jquery';\r\nimport { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { TResultCallback } from '~/types';\r\nimport { LabelController } from './label-controller';\r\nimport { IController } from './types';\r\n\r\nexport interface INavigationControllerOperationData {\r\n  selectedElement: JQuery;\r\n  json: any;\r\n}\r\n\r\nexport class NavigationController implements IController<INavigationControllerOperationData> {\r\n  name: string = 'NavigationController';\r\n  navigation: any[] = [];\r\n  navLookup: Record<string, any> = {};\r\n  navVidIdLookup: Record<string, any> = {};\r\n  ctrlLookup: Record<string, LabelController> = {};\r\n  activeNavigationPoint: any | null = null;\r\n  labelControllers: LabelController[] = [];\r\n  eventhandlers: TEventHandlerRemover[] = [];\r\n  eventbus: IEventbus | null = null;\r\n  container: JQuery | null = null;\r\n\r\n  constructor() {}\r\n\r\n  init(operationData: TOperationData) {\r\n    this.container = operationData.selectedElement;\r\n    this.navigation = this.buildNavigationData(operationData.json);\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    if (!this.container) {\r\n      return;\r\n    }\r\n\r\n    this.eventbus = eventbus;\r\n\r\n    this.eventhandlers.push(eventbus.on('navigate-to-video-url', this.handleNavigateVideoUrl.bind(this)));\r\n    this.eventhandlers.push(eventbus.on('highlight-navigation', this.highlightMenu.bind(this)));\r\n    this.eventhandlers.push(eventbus.on('request-current-navigation', this.handleRequestCurrentNavigation.bind(this)));\r\n    this.eventhandlers.push(eventbus.on('video-complete', this.handleVideoComplete.bind(this)));\r\n\r\n    this.buildHtml(this.container, this.navigation);\r\n    this.initHistory.bind(this);\r\n  }\r\n\r\n  initHistory() {\r\n    this.activeNavigationPoint = this.navVidIdLookup[0];\r\n    const navId = this.getQueryVariable(0);\r\n    let videoIndex = 0;\r\n    if (navId) {\r\n      const nav = this.navLookup[navId];\r\n      videoIndex = nav.videoUrlIndex;\r\n    }\r\n    this.highlightMenu(videoIndex);\r\n  }\r\n\r\n  getQueryVariable(variableIdx: number) {\r\n    const href = window.location.href;\r\n    const hashIndex = href.indexOf('#');\r\n    if (hashIndex > -1) {\r\n      const query = href.substring(hashIndex + 2);\r\n      if (query) {\r\n        const vars = query.split('/');\r\n        return vars[variableIdx];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  handleRequestCurrentNavigation(resultCallback: TResultCallback) {\r\n    if (this.activeNavigationPoint) {\r\n      const labelCtrl = this.ctrlLookup[this.activeNavigationPoint.labelId];\r\n      resultCallback({\r\n        navigationData: this.activeNavigationPoint,\r\n        title: labelCtrl.labelData[labelCtrl.currentLanguage || ''],\r\n      });\r\n    } else {\r\n      resultCallback(null);\r\n    }\r\n  }\r\n\r\n  detach(eventbus: IEventbus) {\r\n    this.eventhandlers.forEach((handler) => {\r\n      handler();\r\n    });\r\n\r\n    this.labelControllers.forEach((ctrl) => {\r\n      ctrl.detach(eventbus);\r\n    });\r\n\r\n    this.labelControllers.length = 0;\r\n    this.eventbus = null;\r\n    this.container = null;\r\n    window.onpopstate = null;\r\n  }\r\n\r\n  pushCurrentState(position = -1) {\r\n    if (!this.activeNavigationPoint) {\r\n      return;\r\n    }\r\n    const labelCtrl: LabelController = this.ctrlLookup[this.activeNavigationPoint.labelId];\r\n\r\n    if (!labelCtrl) {\r\n      return;\r\n    }\r\n\r\n    const state = {\r\n      navigationData: this.activeNavigationPoint,\r\n      title: labelCtrl.labelData[labelCtrl.currentLanguage || ''],\r\n      position: -1,\r\n    };\r\n    if (position > -1) {\r\n      state.position = position;\r\n    }\r\n    this.eventbus?.broadcast('push-history-state', [state]);\r\n  }\r\n\r\n  buildHtml(parentElm: JQuery, data: any) {\r\n    const ul = $('<ul/>');\r\n    data.forEach(this.addNavElement.bind(this, ul));\r\n    parentElm.append(ul);\r\n  }\r\n\r\n  addNavElement(parentElm: JQuery, data: any) {\r\n    if (data.visible) {\r\n      const li = $('<li/>');\r\n      const a = $(`<a href='javascript:;' id='nav_${data.videoUrlIndex}'/>`);\r\n      li.append(a);\r\n      this.addLabel(a, data.labelId);\r\n      this.addClickHandler(a, data.videoUrlIndex);\r\n\r\n      if (data.children) {\r\n        const ul = $('<ul/>');\r\n        data.children.forEach(this.addNavElement.bind(this, ul));\r\n        li.append(ul);\r\n      }\r\n\r\n      parentElm.append(li);\r\n    }\r\n  }\r\n\r\n  addClickHandler(parentElm: JQuery, videoIndex: number) {\r\n    parentElm.mouseup(this.menuMouseupHandler.bind(this, videoIndex));\r\n  }\r\n\r\n  menuMouseupHandler(videoIndex: number) {\r\n    const navdata = this.navVidIdLookup[videoIndex];\r\n    if (navdata) {\r\n      this.eventbus?.broadcast('request-video-url', [navdata.videoUrlIndex]);\r\n      this.handleNavigateVideoUrl(navdata.videoUrlIndex);\r\n    }\r\n  }\r\n\r\n  handleNavigateVideoUrl(index: number, requestedVideoPosition: number = 0) {\r\n    this.highlightMenu(index);\r\n    this.eventbus?.broadcast('request-video-url', [index, requestedVideoPosition]);\r\n    this.activeNavigationPoint = this.navVidIdLookup[index];\r\n    this.pushCurrentState(requestedVideoPosition);\r\n  }\r\n\r\n  highlightMenu(index: number) {\r\n    const navElm = $(`#nav_${index}`);\r\n\r\n    if (navElm.length) {\r\n      $('.current-menu-item').removeClass('current-menu-item');\r\n      navElm.addClass('current-menu-item');\r\n    }\r\n  }\r\n\r\n  handleVideoComplete(index: number) {\r\n    const navData = this.navVidIdLookup[index];\r\n    if (navData.autoNext) {\r\n      this.eventbus?.broadcast('request-video-url', [navData.next.videoUrlIndex]);\r\n    } else {\r\n      this.eventbus?.broadcast('request-video-cleanup');\r\n    }\r\n  }\r\n\r\n  addLabel(parentElm: JQuery, labelId: string) {\r\n    const data = {\r\n      selectedElement: parentElm,\r\n      labelId: labelId,\r\n    };\r\n    const resultCallback = (instance: LabelController) => {\r\n      instance.init(data);\r\n      instance.attach(this.eventbus as IEventbus);\r\n      this.labelControllers.push(instance);\r\n      this.ctrlLookup[labelId] = instance;\r\n    };\r\n    this.eventbus?.broadcast('request-instance', ['LabelController', resultCallback]);\r\n  }\r\n\r\n  buildNavigationData(data: any) {\r\n    const result: any[] = [];\r\n    data.navigationData.forEach((nav: any, index: number) => {\r\n      this.navLookup[nav.id] = nav;\r\n      this.navVidIdLookup[nav.videoUrlIndex] = nav;\r\n      nav.previous = data.navigationData[index - 1];\r\n    });\r\n\r\n    data.navigationData.forEach((nav: any, index: number) => {\r\n      if (nav.nextId) {\r\n        nav.next = this.navLookup[nav.nextId];\r\n        delete nav.nextId;\r\n      } else {\r\n        nav.next = data.navigationData[index + 1];\r\n      }\r\n    });\r\n\r\n    data.roots.forEach((id: string) => {\r\n      const nav = this.navLookup[id];\r\n      if (nav.children) {\r\n        nav.children = nav.children.map((childId: string) => {\r\n          return this.navLookup[childId];\r\n        });\r\n      }\r\n      result.push(nav);\r\n    });\r\n    return result;\r\n  }\r\n}\r\n","import { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { IController } from './types';\r\n\r\nexport interface IProgressbarControllerOperationData {\r\n  selectedElement: JQuery;\r\n  textElement: JQuery;\r\n}\r\n\r\nexport class ProgressbarController implements IController<IProgressbarControllerOperationData> {\r\n  name: string = 'ProgressbarController';\r\n  selectedElement: JQuery | null = null;\r\n  textElement: JQuery | null = null;\r\n  detachers: TEventHandlerRemover[] = [];\r\n\r\n  init(operationData: TOperationData) {\r\n    this.selectedElement = operationData.selectedElement;\r\n    this.textElement = operationData.textElement;\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    this.detachers.push(eventbus.on(TimelineEventNames.POSITION_UPDATE, this.positionUpdateHandler.bind(this)));\r\n\r\n    const clickHandler = this.clickHandler.bind(this);\r\n    this.selectedElement?.on('click', clickHandler);\r\n    this.detachers.push(() => this.selectedElement?.off('click'), clickHandler);\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    this.detachers.forEach((func: () => void) => {\r\n      func();\r\n    });\r\n  }\r\n\r\n  positionUpdateHandler({ position, duration }: { position: number; duration: number }) {\r\n    const percentage = (100 / duration) * position;\r\n    this.selectedElement?.css('width', `${percentage}%`);\r\n    this.textElement?.text(`${Math.floor(percentage)}%`);\r\n  }\r\n\r\n  clickHandler() {}\r\n}\r\n","import { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { IController } from './types';\r\n\r\nexport interface IRoutingControllerOperationData {\r\n  json: any;\r\n}\r\n\r\nexport class RoutingController implements IController<IRoutingControllerOperationData> {\r\n  name = 'RoutingController';\r\n  navLookup: Record<string, any> = {};\r\n  navVidIdLookup: Record<string, any> = {};\r\n  navigation: any = null;\r\n  eventhandlers: TEventHandlerRemover[] = [];\r\n  eventbus: IEventbus | null = null;\r\n\r\n  constructor() {}\r\n\r\n  init(operationData: TOperationData) {\r\n    this.navigation = this.buildNavigationData(operationData.json);\r\n  }\r\n\r\n  attach(eventbus: IEventbus) {\r\n    this.eventhandlers.push(eventbus.on('before-request-video-url', this.handleBeforeRequestVideoUrl.bind(this)));\r\n    this.eventhandlers.push(eventbus.on('push-history-state', this.handlePushHistoryState.bind(this)));\r\n    this.eventbus = eventbus;\r\n    window.onpopstate = this.handlePopstate.bind(this);\r\n\r\n    const navId = this.getQueryVariable(0);\r\n    if (navId) {\r\n      const nav = this.navLookup[navId];\r\n      const pos = +this.getQueryVariable(1);\r\n      this.eventbus.broadcast('request-video-url', [nav.videoUrlIndex, pos, true]);\r\n    } else {\r\n      window.history.pushState({ navigationId: this.navigation[0].id }, '', `#/${this.navigation[0].id}`);\r\n    }\r\n  }\r\n\r\n  handlePopstate(event: any) {\r\n    const navigationId = event.state ? event.state.navigationId : this.navigation[0].id;\r\n    const position = event.state?.position ?? 0;\r\n    const nav = this.navLookup[navigationId];\r\n    this.eventbus?.broadcast('highlight-navigation', [nav.videoUrlIndex]);\r\n    this.eventbus?.broadcast('request-video-url', [nav.videoUrlIndex, position, true]);\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    if (this.eventhandlers) {\r\n      this.eventhandlers.forEach((handler) => {\r\n        handler();\r\n      });\r\n    }\r\n    this.eventbus = null;\r\n  }\r\n\r\n  handleBeforeRequestVideoUrl(_index: number, _requestedVideoPosition: number = 0, isHistoryRequest: boolean = false) {\r\n    isHistoryRequest = isHistoryRequest !== undefined ? isHistoryRequest : false;\r\n    if (!isHistoryRequest) {\r\n      const resultCallback = (item: any) => {\r\n        this.pushState(item);\r\n      };\r\n      this.eventbus?.broadcast('request-current-navigation', [resultCallback]);\r\n    }\r\n  }\r\n\r\n  getQueryVariable(variableIdx: number) {\r\n    const href = window.location.href;\r\n    const hashIndex = href.indexOf('#');\r\n    if (hashIndex > -1) {\r\n      const query = href.substring(hashIndex + 2);\r\n      if (query) {\r\n        const vars = query.split('/');\r\n        return vars[variableIdx];\r\n      }\r\n    }\r\n    return '';\r\n  }\r\n\r\n  handlePushHistoryState(state: any) {\r\n    this.pushState(state);\r\n  }\r\n\r\n  pushState(state: any) {\r\n    if (state && state.navigationData && state.navigationData.visible) {\r\n      let currentPosition = state.position !== undefined ? state.position : -1;\r\n      if (currentPosition < 0) {\r\n        const resultCallback = (position: number) => {\r\n          currentPosition = position > 3 ? position - 3 : 0;\r\n        };\r\n        this.eventbus?.broadcast('request-current-video-position', [resultCallback]);\r\n      }\r\n\r\n      const currentState = window.history.state;\r\n      if (currentState && currentState.navigationId !== state.navigationData.id) {\r\n        window.history.pushState(\r\n          { navigationId: state.navigationData.id, position: currentPosition },\r\n          state.title,\r\n          `#/${state.navigationData.id}/${currentPosition}`\r\n        );\r\n      } else if (currentState && currentState.navigationId === state.navigationData.id) {\r\n        window.history.replaceState(\r\n          { navigationId: currentState.navigationId, position: currentPosition },\r\n          state.title,\r\n          `#/${currentState.navigationId}/${currentPosition}`\r\n        );\r\n      } else {\r\n        window.history.pushState(\r\n          { navigationId: state.navigationData.id, position: currentPosition },\r\n          state.title,\r\n          `#/${state.navigationData.id}/${currentPosition}`\r\n        );\r\n      }\r\n      window.document.title = state.title;\r\n    }\r\n  }\r\n\r\n  buildNavigationData(data: any) {\r\n    const result: any[] = [];\r\n    data.navigationData.forEach((nav: any, index: any) => {\r\n      this.navLookup[nav.id] = nav;\r\n      this.navVidIdLookup[nav.videoUrlIndex] = nav;\r\n      nav.previous = data.navigationData[index - 1];\r\n    });\r\n\r\n    data.navigationData.forEach((nav: any, index: number) => {\r\n      if (nav.nextId) {\r\n        nav.next = this.navLookup[nav.nextId];\r\n        delete nav.nextId;\r\n      } else {\r\n        nav.next = data.navigationData[index + 1];\r\n      }\r\n    });\r\n\r\n    data.roots.forEach((id: string) => {\r\n      const nav = this.navLookup[id];\r\n      if (nav.children) {\r\n        nav.children = nav.children.map((childId: string) => {\r\n          return this.navLookup[childId];\r\n        });\r\n      }\r\n      result.push(nav);\r\n    });\r\n    return result;\r\n  }\r\n}\r\n","import { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TOperationData } from '~/operation/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { IController } from './types';\r\n\r\nexport interface ISubtitlesControllerOperationData {\r\n  selectedElement: JQuery;\r\n  language: string;\r\n  subtitleData: any;\r\n}\r\n\r\nexport class SubtitlesController implements IController<ISubtitlesControllerOperationData> {\r\n  actionLookup: Record<string, any> = {};\r\n  currentLanguage: string | null = null;\r\n  lastFunc: Function | null = null;\r\n  name = 'SubtitlesController';\r\n\r\n  attach(eventbus: IEventbus) {\r\n    const detachTime = eventbus.on(TimelineEventNames.TIME, this.onTimeHandler.bind(this));\r\n    const detachSeek = eventbus.on(TimelineEventNames.SEEKED, this.onSeekedHandler.bind(this));\r\n    const detachLangChange = eventbus.on(TimelineEventNames.LANGUAGE_CHANGE, this.languageChangeHandler.bind(this));\r\n    this.internalDetach = this.internalDetach.bind(this, [detachTime, detachLangChange, detachSeek]);\r\n  }\r\n\r\n  detach(_eventbus: IEventbus) {\r\n    this.internalDetach();\r\n  }\r\n\r\n  internalDetach(detachMethods?: TEventHandlerRemover[]) {\r\n    if (detachMethods) {\r\n      detachMethods.forEach((f) => {\r\n        f();\r\n      });\r\n    }\r\n  }\r\n\r\n  languageChangeHandler(newLanguage: string) {\r\n    this.currentLanguage = newLanguage;\r\n    if (this.lastFunc) {\r\n      this.lastFunc();\r\n    }\r\n  }\r\n\r\n  removeTitle(container?: JQuery) {\r\n    container?.empty();\r\n    this.lastFunc = null;\r\n  }\r\n\r\n  onTimeHandler(arg: any) {\r\n    const position = arg.position;\r\n    const func = this.actionLookup[position];\r\n    if (func) {\r\n      func();\r\n      this.lastFunc = func;\r\n    }\r\n  }\r\n\r\n  onSeekedHandler(arg: any) {\r\n    let position = arg.position;\r\n    let func = this.actionLookup[position];\r\n    while (!func && --position >= 0) {\r\n      func = this.actionLookup[position];\r\n    }\r\n    if (func) {\r\n      func();\r\n      this.lastFunc = func;\r\n    } else {\r\n      this.removeTitle();\r\n    }\r\n  }\r\n\r\n  setTitle(container: JQuery, titleLanguageLookup: Record<string, string>) {\r\n    if (this.currentLanguage) {\r\n      container.html(titleLanguageLookup[this.currentLanguage]);\r\n    }\r\n  }\r\n\r\n  createActionLookup(operationData: TOperationData, container: JQuery) {\r\n    const subtitleData = operationData.subtitleData;\r\n    const titles = subtitleData[0].titles;\r\n    const subtitleTimeLookup: Record<number, () => void> = {};\r\n\r\n    for (let i = 0, ii = titles.length; i < ii; i++) {\r\n      const titleLanguageLookup: Record<string, string> = {};\r\n\r\n      for (let j = 0, jj = subtitleData.length; j < jj; j++) {\r\n        const subs = subtitleData[j];\r\n        titleLanguageLookup[subs.lang] = subs.titles[i].text;\r\n      }\r\n\r\n      subtitleTimeLookup[titles[i].duration.start] = this.setTitle.bind(this, container, titleLanguageLookup);\r\n      subtitleTimeLookup[titles[i].duration.end] = this.removeTitle;\r\n    }\r\n\r\n    return subtitleTimeLookup;\r\n  }\r\n\r\n  init(operationData: ISubtitlesControllerOperationData) {\r\n    const container = operationData.selectedElement;\r\n    this.removeTitle = this.removeTitle.bind(this, container);\r\n    this.currentLanguage = operationData.language;\r\n    this.actionLookup = this.createActionLookup(operationData, container);\r\n  }\r\n}\r\n","import $ from 'jquery';\r\nimport Mousetrap from 'mousetrap';\r\nimport { IAction } from '~/action/types';\r\nimport { ConfigurationResolver } from '~/configuration/configuration-resolver';\r\nimport { IEngineConfiguration, IResolvedEngineConfiguration } from '~/configuration/types';\r\nimport { ActionRegistryEventbusListener, Eventbus, RequestVideoUriInterceptor } from '~/eventbus';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { LanguageManager } from '~/language-manager';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport {\r\n  IChronoTriggerEngine,\r\n  IConfigurationResolver,\r\n  IEngineFactory,\r\n  IResourceImporter,\r\n  ITimelineProviderInfo,\r\n  TimelineTypes,\r\n  TResultCallback,\r\n} from './types';\r\n\r\nexport class EngineFactory implements IEngineFactory {\r\n  private resizeTimeout: any = -1;\r\n  private actionsLookup: Record<string, IAction> = {};\r\n  private importer: IResourceImporter;\r\n  private eventbus: IEventbus;\r\n\r\n  constructor(importer: IResourceImporter, windowRef: any, eventbus?: IEventbus) {\r\n    this.importer = importer;\r\n    this.eventbus = eventbus || new Eventbus();\r\n    this.eventbus.on(TimelineEventNames.REQUEST_INSTANCE, this._requestInstanceHandler.bind(this));\r\n    this.eventbus.on(TimelineEventNames.REQUEST_ACTION, this._requestActionHandler.bind(this));\r\n    this.eventbus.on(TimelineEventNames.REQUEST_FUNCTION, this._requestFunctionHandler.bind(this));\r\n\r\n    $(windowRef).resize(this._resizeHandler.bind(this));\r\n  }\r\n\r\n  destroy() {\r\n    this.eventbus.clear();\r\n  }\r\n\r\n  private _resizeHandler() {\r\n    if (this.resizeTimeout) {\r\n      clearTimeout(this.resizeTimeout);\r\n    }\r\n    this.resizeTimeout = setTimeout(() => {\r\n      this.eventbus.broadcast(TimelineEventNames.RESIZE);\r\n    }, 200);\r\n  }\r\n\r\n  private _importSystemEntryWithEventbusDependency(systemName: string): any {\r\n    const ctor = this._importSystemEntry(systemName);\r\n    return new ctor(this.eventbus);\r\n  }\r\n\r\n  private _importSystemEntry(systemName: string): any {\r\n    return this.importer.import(systemName)[systemName];\r\n  }\r\n\r\n  private _requestInstanceHandler(systemName: string, resultCallback: TResultCallback) {\r\n    resultCallback(this._importSystemEntryWithEventbusDependency(systemName));\r\n  }\r\n\r\n  private _requestFunctionHandler(systemName: string, resultCallback: TResultCallback) {\r\n    resultCallback(this._importSystemEntry(systemName));\r\n  }\r\n\r\n  private _requestActionHandler(systemName: string, resultCallback: TResultCallback) {\r\n    const action = this.actionsLookup[systemName];\r\n    if (action) {\r\n      resultCallback(action);\r\n    } else {\r\n      console.error(`Unknown action: ${systemName}`);\r\n      resultCallback(null);\r\n    }\r\n  }\r\n\r\n  createEngine(configuration: IEngineConfiguration, resolver?: IConfigurationResolver): IChronoTriggerEngine {\r\n    const { systemName } = configuration.engine;\r\n    const EngineClass = this._importSystemEntry(systemName);\r\n\r\n    let actionRegistryListener: ActionRegistryEventbusListener | undefined = undefined;\r\n    if (configuration.eventActions && configuration.eventActions.length) {\r\n      actionRegistryListener = new ActionRegistryEventbusListener();\r\n      this.eventbus.registerEventlistener(actionRegistryListener);\r\n    }\r\n\r\n    this.eventbus.registerInterceptor(\r\n      TimelineEventNames.REQUEST_TIMELINE_URI,\r\n      new RequestVideoUriInterceptor(this.eventbus)\r\n    );\r\n\r\n    resolver = resolver || new ConfigurationResolver(this.importer, this.eventbus);\r\n    const [actionLookup, resolvedConfiguration] = resolver.process(configuration, actionRegistryListener);\r\n    this.actionsLookup = actionLookup;\r\n\r\n    const timelineProviders = this._createTimelineProviders(resolvedConfiguration, this.eventbus);\r\n\r\n    const { language, labels } = configuration;\r\n    const languageManager = new LanguageManager(language, labels, this.eventbus);\r\n\r\n    const chronoTriggerEngine = new EngineClass(\r\n      resolvedConfiguration,\r\n      this.eventbus,\r\n      timelineProviders,\r\n      languageManager\r\n    );\r\n\r\n    Mousetrap.bind('space', (event) => {\r\n      event.preventDefault();\r\n      this.eventbus.broadcast(TimelineEventNames.PLAY_TOGGLE_REQUEST);\r\n      return false;\r\n    });\r\n\r\n    return chronoTriggerEngine;\r\n  }\r\n\r\n  private _createTimelineProviders(\r\n    configuration: IResolvedEngineConfiguration,\r\n    eventbus: IEventbus\r\n  ): Record<TimelineTypes, ITimelineProviderInfo> {\r\n    const { timelineProviderSettings } = configuration;\r\n\r\n    const result = Object.entries(timelineProviderSettings).reduce<Record<TimelineTypes, ITimelineProviderInfo>>(\r\n      (acc, [timelineType, settings]) => {\r\n        const timelineProviderClass = this._importSystemEntry(settings.systemName);\r\n        acc[timelineType as TimelineTypes] = {\r\n          vendor: settings.vendor,\r\n          provider: new timelineProviderClass(eventbus, configuration),\r\n        };\r\n        return acc;\r\n      },\r\n      {} as Record<TimelineTypes, ITimelineProviderInfo>\r\n    );\r\n\r\n    return result;\r\n  }\r\n}\r\n","import { IAction } from '~/action/types';\r\nimport { IEventbusListener } from './types';\r\n\r\nexport class ActionRegistryEventbusListener implements IEventbusListener {\r\n  private _actionRegistry: Record<string, IAction[]> = {};\r\n\r\n  registerAction(action: IAction, eventName: string, eventTopic?: string): void {\r\n    if (eventTopic && eventTopic.length) {\r\n      eventName = `${eventName}:${eventTopic}`;\r\n    }\r\n    if (!this._actionRegistry[eventName]) {\r\n      this._actionRegistry[eventName] = [];\r\n    }\r\n    this._actionRegistry[eventName].push(action);\r\n  }\r\n\r\n  handleEvent(eventName: string, eventTopic: string | undefined, args: any[]): void {\r\n    if (eventTopic && eventTopic.length) {\r\n      eventName = `${eventName}:${eventTopic}`;\r\n    }\r\n    const actions = this._actionRegistry[eventName];\r\n    if (actions) {\r\n      const operationData = {\r\n        eventArgs: args,\r\n      };\r\n      actions.forEach((action) => {\r\n        action.start(operationData);\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { IEventbus, IEventbusInterceptor, IEventbusListener, TEventHandler, TEventHandlerRemover } from './types';\r\n\r\nexport class Eventbus implements IEventbus {\r\n  private eventHandlers: Record<string, TEventHandler[]> = {};\r\n  private eventInterceptors: Record<string, IEventbusInterceptor[]> = {};\r\n  private eventListeners: IEventbusListener[] = [];\r\n\r\n  constructor() {\r\n    this.clear();\r\n  }\r\n\r\n  clear() {\r\n    this.eventHandlers = {};\r\n    this.eventListeners = [];\r\n    this.eventInterceptors = {};\r\n  }\r\n\r\n  _getEventInterceptors(eventName: string, eventTopic?: string): IEventbusInterceptor[] {\r\n    if (eventTopic && eventTopic.length) {\r\n      eventName = `${eventName}:${eventTopic}`;\r\n    }\r\n    if (!this.eventInterceptors[eventName]) {\r\n      this.eventInterceptors[eventName] = [];\r\n    }\r\n    return this.eventInterceptors[eventName];\r\n  }\r\n\r\n  _getEventHandlers(eventName: string, eventTopic?: string): TEventHandler[] {\r\n    if (eventTopic && eventTopic.length) {\r\n      eventName = `${eventName}:${eventTopic}`;\r\n    }\r\n    if (!this.eventHandlers[eventName]) {\r\n      this.eventHandlers[eventName] = [];\r\n    }\r\n    return this.eventHandlers[eventName];\r\n  }\r\n\r\n  on(eventName: string, eventHandler: TEventHandler, eventTopic?: string): TEventHandlerRemover {\r\n    this._getEventHandlers(eventName, eventTopic).push(eventHandler);\r\n    return () => {\r\n      this.off(eventName, eventHandler, eventTopic);\r\n    };\r\n  }\r\n\r\n  once(eventName: string, eventHandler: TEventHandler, eventTopic?: string): void {\r\n    const eventHandlerDecorator = () => {\r\n      eventHandler(...arguments);\r\n      this.off(eventName, eventHandlerDecorator, eventTopic);\r\n    };\r\n    this.on(eventName, eventHandlerDecorator, eventTopic);\r\n  }\r\n\r\n  off(eventName: string, eventHandler: TEventHandler, eventTopic?: string): void {\r\n    const handlers = this._getEventHandlers(eventName, eventTopic);\r\n    if (handlers) {\r\n      const idx = handlers.indexOf(eventHandler);\r\n      if (idx > -1) {\r\n        handlers.splice(idx, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  broadcast(eventName: string, args: any[]): void {\r\n    this._callHandlers(eventName, undefined, args);\r\n  }\r\n\r\n  broadcastForTopic(eventName: string, eventTopic: string, args: any[]): void {\r\n    this._callHandlers(eventName, eventTopic, args);\r\n  }\r\n\r\n  registerEventlistener(eventbusListener: IEventbusListener): void {\r\n    this.eventListeners.push(eventbusListener);\r\n  }\r\n\r\n  registerInterceptor(eventName: string, interceptor: IEventbusInterceptor, eventTopic?: string): void {\r\n    const interceptors = this._getEventInterceptors(eventName, eventTopic);\r\n    interceptors.push(interceptor);\r\n  }\r\n\r\n  _callHandlers(eventName: string, eventTopic: string | undefined, args: any = []): void {\r\n    const handlers = this._getEventHandlers(eventName, eventTopic);\r\n\r\n    if (handlers) {\r\n      const interceptors = this._getEventInterceptors(eventName, eventTopic);\r\n\r\n      interceptors.forEach((interceptor) => {\r\n        args = interceptor.intercept(args);\r\n      });\r\n\r\n      this.eventListeners.forEach((listener: IEventbusListener) => {\r\n        listener.handleEvent(eventName, eventTopic, args);\r\n      });\r\n\r\n      if (args.length) {\r\n        handlers.forEach((handler: TEventHandler) => handler(...args));\r\n      } else {\r\n        handlers.forEach((handler: TEventHandler) => handler());\r\n      }\r\n    }\r\n  }\r\n}\r\n","export { ActionRegistryEventbusListener } from './actionregistry-eventbus-listener';\r\nexport { Eventbus } from './eventbus';\r\nexport { RequestVideoUriInterceptor } from './request-video-uri-interceptor';\r\n","import { TimelineEventNames } from '~/timeline-event-names';\r\nimport { IEventbus, IEventbusInterceptor } from './types';\r\n\r\nexport class RequestVideoUriInterceptor implements IEventbusInterceptor {\r\n  constructor(private eventbus: IEventbus) {}\r\n\r\n  intercept(args: any[]): any[] {\r\n    this.eventbus.broadcast(TimelineEventNames.BEFORE_REQUEST_TIMELINE_URI, args.slice());\r\n    return args;\r\n  }\r\n}\r\n","import * as ctrls from '~/controllers';\r\nimport * as m from '~/index';\r\nimport * as ops from '~/operation';\r\nimport { TOperation } from '~/operation/types';\r\nimport * as prvdrs from '~/timelineproviders';\r\nimport { IResourceImporter } from '~/types';\r\n\r\nconst operations: Record<string, TOperation<any>> = ops as any;\r\nconst controllers: Record<string, any> = ctrls;\r\nconst providers: Record<string, any> = prvdrs;\r\nconst main: Record<string, any> = m;\r\n\r\nexport class WebpackResourceImporter implements IResourceImporter {\r\n  getOperationNames(): string[] {\r\n    return Object.keys(operations);\r\n  }\r\n\r\n  getControllerNames(): string[] {\r\n    return Object.keys(controllers);\r\n  }\r\n\r\n  getProviderNames(): string[] {\r\n    return Object.keys(providers);\r\n  }\r\n\r\n  import(name: string): Record<string, any> {\r\n    const value = operations[name] || controllers[name] || providers[name] || main[name];\r\n\r\n    return { [name]: value };\r\n  }\r\n}\r\n","export { Action, EndableAction, TimelineAction } from './action';\r\nexport * from './action/types';\r\nexport { ChronoTriggerEngine } from './chrono-trigger-engine';\r\nexport {\r\n  ActionCreator,\r\n  ActionCreatorFactory,\r\n  EndableActionCreator,\r\n  TimelineActionCreator,\r\n} from './configuration/api/action-creator-factory';\r\nexport {\r\n  ActionEditor,\r\n  EndableActionEditor,\r\n  OperationEditor,\r\n  TimelineActionEditor,\r\n} from './configuration/api/action-editor';\r\nexport { ConfigurationFactory } from './configuration/api/configuration-factory';\r\nexport {\r\n  ControllerNamesProvider,\r\n  OperationMetadataProvider,\r\n  OperationNamesProvider,\r\n  TimeLineEventNamesProvider,\r\n} from './configuration/api/name-providers';\r\nexport { TimelineProviderSettingsEditor } from './configuration/api/timeline-provider-settings-editor';\r\nexport { ConfigurationResolver } from './configuration/configuration-resolver';\r\nexport * from './configuration/types';\r\nexport * from './controllers/types';\r\nexport { EngineFactory } from './engine-factory';\r\nexport { Eventbus } from './eventbus/eventbus';\r\nexport { WebpackResourceImporter } from './importer/webpack-resource-importer';\r\nexport { LanguageManager } from './language-manager';\r\nexport * from './operation/types';\r\nexport { TimelineEventNames } from './timeline-event-names';\r\nexport * from './timelineproviders/types';\r\nexport * from './types';\r\n","import $ from 'jquery';\r\nimport { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { ILabel, ILanguageLabel, TResultCallback } from '~/types';\r\n\r\nexport class LanguageManager {\r\n  private _labelLookup: Record<string, ILabel[]> = {};\r\n  private _eventbusListeners: TEventHandlerRemover[] = [];\r\n\r\n  constructor(private _currentLanguage: string, labels: ILanguageLabel[], private _eventbus: IEventbus) {\r\n    if (!_currentLanguage || !_currentLanguage.length) {\r\n      throw new Error('language ctor arg cannot be null or have zero length');\r\n    }\r\n    if (!labels) {\r\n      throw new Error('labels ctor arg cannot be null');\r\n    }\r\n    if (!_eventbus) {\r\n      throw new Error('eventbus ctor arg cannot be null');\r\n    }\r\n    this._setRootElementLang(_currentLanguage);\r\n    this._createLabelLookup(labels);\r\n    this._addEventbusListeners(_eventbus);\r\n  }\r\n\r\n  _addEventbusListeners(eventbus: IEventbus) {\r\n    this._eventbusListeners.push(\r\n      eventbus.on(TimelineEventNames.REQUEST_LABEL_COLLECTION, this._handleRequestLabelCollection.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      eventbus.on(TimelineEventNames.REQUEST_LABEL_COLLECTIONS, this._handleRequestLabelCollections.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      eventbus.on(TimelineEventNames.REQUEST_CURRENT_LANGUAGE, this._handleRequestCurrentLanguage.bind(this))\r\n    );\r\n    this._eventbusListeners.push(\r\n      eventbus.on(TimelineEventNames.LANGUAGE_CHANGE, this._handleLanguageChange.bind(this))\r\n    );\r\n  }\r\n\r\n  _handleRequestCurrentLanguage(resultCallback: TResultCallback) {\r\n    resultCallback(this._currentLanguage);\r\n  }\r\n\r\n  _handleRequestLabelCollection(labelId: string, resultCallback: TResultCallback) {\r\n    resultCallback(this._labelLookup[labelId]);\r\n  }\r\n\r\n  _handleRequestLabelCollections(labelIds: string[], resultCallback: TResultCallback) {\r\n    const labelCollections = labelIds.map((labelId) => {\r\n      return this._labelLookup[labelId];\r\n    });\r\n    resultCallback(labelCollections);\r\n  }\r\n\r\n  _handleLanguageChange(language: string) {\r\n    if (language && language.length) {\r\n      this._currentLanguage = language;\r\n      this._setRootElementLang(this._currentLanguage);\r\n    } else {\r\n      console.error('Language cannot be changed to null or empty string');\r\n    }\r\n  }\r\n\r\n  _setRootElementLang(language: string) {\r\n    const callBack = (rootSelector: string) => {\r\n      const lang = this._extractLanguageFromCulture(language);\r\n      $(rootSelector).attr('lang', lang);\r\n    };\r\n    this._eventbus.broadcast(TimelineEventNames.REQUEST_ENGINE_ROOT, [callBack]);\r\n  }\r\n\r\n  _extractLanguageFromCulture(culture: string) {\r\n    if (culture.indexOf('-') > -1) {\r\n      return culture.split('-').shift() as string;\r\n    }\r\n    return culture;\r\n  }\r\n\r\n  _createLabelLookup(labels: ILanguageLabel[]) {\r\n    labels.forEach((label) => {\r\n      this._labelLookup[label.id] = label.labels;\r\n    });\r\n  }\r\n}\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IAddClassOperationData {\r\n  selectedElement: JQuery;\r\n  className: string;\r\n}\r\n\r\nexport const addClass: TOperation<IAddClassOperationData> = function (\r\n  operationData: IAddClassOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, className } = operationData;\r\n  selectedElement.addClass(className);\r\n  return operationData;\r\n};\r\n","import { IController } from '~/controllers/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { attachControllerToElement } from './helper/attach-controller-to-element';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IAddControllerToElementOperationData {\r\n  selectedElement: JQuery;\r\n  controllerInstance: IController<any>;\r\n}\r\n\r\nexport const addControllerToElement: TOperation<IAddControllerToElementOperationData> = function (\r\n  operationData: IAddControllerToElementOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { selectedElement, controllerInstance } = operationData;\r\n\r\n  attachControllerToElement(selectedElement, controllerInstance);\r\n\r\n  controllerInstance.init(operationData);\r\n\r\n  const promise = controllerInstance.attach(eventBus);\r\n\r\n  if (promise) {\r\n    return new Promise((resolve, reject) => {\r\n      promise.then((newOperationData: any) => {\r\n        internalResolve(resolve, operationData, newOperationData);\r\n      }, reject);\r\n    });\r\n  } else {\r\n    return operationData;\r\n  }\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nfunction createOptionElementText(\r\n  valueProperty: string,\r\n  labelProperty: string,\r\n  defaultIndex: number,\r\n  defaultValue: any,\r\n  data: any,\r\n  index: number\r\n) {\r\n  let selected = '';\r\n  if (defaultValue) {\r\n    selected = data[valueProperty] === defaultValue ? ' selected' : '';\r\n  } else if (defaultIndex) {\r\n    selected = index === defaultIndex ? ' selected' : '';\r\n  }\r\n  return `<option value='${data[valueProperty]}'${selected}>${data[labelProperty]}</option>`;\r\n}\r\n\r\nexport interface IAddOptionListOperationData {\r\n  valueProperty: string;\r\n  labelProperty: string;\r\n  defaultIndex: number;\r\n  defaultValue: string;\r\n  optionData: any[];\r\n  selectedElement: JQuery;\r\n}\r\n\r\nexport const addOptionList: TOperation<IAddOptionListOperationData> = function (\r\n  operationData: IAddOptionListOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { valueProperty, labelProperty, defaultIndex, defaultValue, optionData, selectedElement } = operationData;\r\n\r\n  const createOption = createOptionElementText.bind(null, valueProperty, labelProperty, defaultIndex, defaultValue);\r\n\r\n  const optionElements = optionData.map(createOption);\r\n\r\n  selectedElement.html(optionElements.join(''));\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IAnimateWithClassOperationData {\r\n  selectedElement: JQuery;\r\n  className: string;\r\n  removeClass?: boolean;\r\n}\r\n\r\nexport const animateWithClass: TOperation<IAnimateWithClassOperationData> = function (\r\n  operationData: IAnimateWithClassOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  let { selectedElement, className, removeClass } = operationData;\r\n  removeClass = removeClass !== undefined ? removeClass : true;\r\n\r\n  const promise = new Promise<IAnimateWithClassOperationData>((resolve, reject) => {\r\n    try {\r\n      selectedElement.one('webkitAnimationEnd oanimationend oAnimationEnd msAnimationEnd animationEnd', () => {\r\n        if (removeClass) {\r\n          selectedElement.removeClass(className);\r\n        }\r\n        internalResolve(resolve, {}, operationData);\r\n      });\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n\r\n  selectedElement.addClass(className);\r\n\r\n  return promise;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IAnimateOperationData {\r\n  animationEasing?: string;\r\n  selectedElement: JQuery;\r\n  animationProperties: any;\r\n  animationDuration: number;\r\n}\r\n\r\nexport const animate: TOperation<IAnimateOperationData> = function (\r\n  operationData: IAnimateOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { animationEasing, selectedElement, animationProperties, animationDuration } = operationData;\r\n  const promise = new Promise<IAnimateOperationData>((resolve, reject) => {\r\n    try {\r\n      if (animationEasing) {\r\n        selectedElement.animate(animationProperties, animationDuration, animationEasing, () => {\r\n          internalResolve(resolve, {}, operationData);\r\n        });\r\n      } else {\r\n        selectedElement.animate(animationProperties, animationDuration, () => {\r\n          internalResolve(resolve, {}, operationData);\r\n        });\r\n      }\r\n    } catch (e) {\r\n      reject(e);\r\n    }\r\n  });\r\n  return promise;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { removeEventDataFromOperationData } from './helper/remove-event-data-from-operation-data';\r\nimport { resolveEventArguments } from './helper/resolve-event-arguments';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IBroadcastEventOperationData {\r\n  eventArgs: any;\r\n  eventTopic?: string;\r\n  eventName: string;\r\n}\r\n\r\nexport const broadcastEvent: TOperation<IBroadcastEventOperationData> = function (\r\n  operationData: IBroadcastEventOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { eventArgs, eventTopic, eventName } = operationData;\r\n\r\n  const eventArguments = resolveEventArguments(operationData, eventArgs);\r\n\r\n  if (eventTopic) {\r\n    eventBus.broadcastForTopic(eventName, eventTopic, eventArguments);\r\n  } else {\r\n    eventBus.broadcast(eventName, eventArguments);\r\n  }\r\n\r\n  removeEventDataFromOperationData(operationData);\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IClearElementOperationData {\r\n  selectedElement: JQuery;\r\n}\r\n\r\nexport const clearElement: TOperation<IClearElementOperationData> = function (\r\n  operationData: IClearElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement } = operationData;\r\n  selectedElement.empty();\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IClearOperationDataOperationData {\r\n  properties?: string[];\r\n}\r\n\r\nexport const clearOperationData: TOperation<IClearOperationDataOperationData> = function (\r\n  operationData: IClearOperationDataOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { properties } = operationData;\r\n\r\n  if (properties) {\r\n    properties.forEach((name) => {\r\n      delete (operationData as any)[name];\r\n    });\r\n    delete operationData.properties;\r\n    return operationData;\r\n  }\r\n\r\n  return {};\r\n};\r\n","import $ from 'jquery';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { resolvePropertyValues } from './helper/resolve-property-values';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ICreateElementOperationData {\r\n  elementName: string;\r\n  attributes?: any;\r\n  text: string;\r\n  template: JQuery;\r\n}\r\n\r\nexport const createElement: TOperation<ICreateElementOperationData> = function (\r\n  operationData: ICreateElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  operationData = resolvePropertyValues(operationData, operationData);\r\n  const { elementName, attributes, text } = operationData;\r\n\r\n  const serializedAttrs = attributes\r\n    ? ' ' +\r\n      Object.entries(attributes)\r\n        .map(([key, value]) => `${key}=\"${value}\"`)\r\n        .join(' ')\r\n    : '';\r\n\r\n  const template = text\r\n    ? $(`<${elementName}${serializedAttrs}>${text}</${elementName}>`)\r\n    : $(`<${elementName}${serializedAttrs}/>`);\r\n\r\n  operationData.template = template;\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/index';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ICustomFunctionOperationData {\r\n  systemName: string;\r\n}\r\n\r\nexport const customFunction: TOperation<ICustomFunctionOperationData> = function (\r\n  operationData: ICustomFunctionOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { systemName } = operationData;\r\n  return new Promise<ICustomFunctionOperationData>((resolve, reject) => {\r\n    const resultCallback = (func: Function) => {\r\n      const promise = func(operationData, eventBus);\r\n      if (promise) {\r\n        promise.then(() => {\r\n          internalResolve(resolve, {}, operationData);\r\n        }, reject);\r\n      } else {\r\n        internalResolve(resolve, {}, operationData);\r\n      }\r\n    };\r\n    eventBus.broadcast(TimelineEventNames.REQUEST_FUNCTION, [systemName, resultCallback]);\r\n  });\r\n};\r\n","import { IEndableAction } from '~/action/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { mergeOperationData } from './helper/merge-operation-data';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IEndActionOperationData {\r\n  actionInstance: IEndableAction;\r\n  actionOperationData: any;\r\n}\r\n\r\nexport const endAction: TOperation<IEndActionOperationData> = function (\r\n  operationData: IEndActionOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { actionInstance, actionOperationData } = operationData;\r\n  delete operationData.actionOperationData;\r\n  return new Promise<IEndActionOperationData>((resolve, reject) => {\r\n    const mergedData = mergeOperationData(operationData, actionOperationData);\r\n    actionInstance.end(mergedData).then(() => {\r\n      internalResolve(resolve, operationData);\r\n    }, reject);\r\n  });\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { IOperationContext, TOperation } from './types';\r\n\r\nexport const endLoop: TOperation<any> = function (this: IOperationContext, operationData: any, _eventBus: IEventbus) {\r\n  const context = this;\r\n\r\n  if (!context.skipNextOperation) {\r\n    if (context.loopIndex !== undefined && context.loopLength !== undefined && context.loopIndex < context.loopLength) {\r\n      context.loopIndex = context.loopIndex + 1;\r\n      context.newIndex = context.startIndex;\r\n    } else {\r\n      delete context.loopIndex;\r\n      delete context.loopLength;\r\n      delete context.startIndex;\r\n      delete context.newIndex;\r\n    }\r\n  } else {\r\n    delete context.skipNextOperation;\r\n  }\r\n\r\n  return operationData;\r\n};\r\n","import { IController } from '~/controllers/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IExtendControllerOperationData {\r\n  controllerInstance: IController<any>;\r\n  controllerExtension: any;\r\n}\r\n\r\nexport const extendController: TOperation<IExtendControllerOperationData> = function (\r\n  operationData: IExtendControllerOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { controllerInstance, controllerExtension } = operationData;\r\n\r\n  operationData.controllerInstance = Object.assign(controllerInstance, controllerExtension);\r\n\r\n  return operationData;\r\n};\r\n","import { IController } from '~/controllers/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { getElementControllers } from './helper/get-element-data';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IGetControllerFromElementOperationData {\r\n  selectedElement: JQuery;\r\n  controllerName: string;\r\n  controllerInstance?: IController<any>;\r\n}\r\n\r\nexport const getControllerFromElement: TOperation<IGetControllerFromElementOperationData> = function (\r\n  operationData: IGetControllerFromElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, controllerName } = operationData;\r\n  const controllers = getElementControllers(selectedElement);\r\n  const controller = controllers.find((ctrl) => {\r\n    return ctrl.name === controllerName;\r\n  });\r\n\r\n  if (!controller) {\r\n    console.warn(`controller for name '${controllerName}' was not found on the given element`);\r\n  }\r\n\r\n  operationData.controllerInstance = controller;\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IGetControllerInstanceOperationData {\r\n  systemName: string;\r\n  propertyName?: string;\r\n}\r\n\r\nexport const getControllerInstance: TOperation<IGetControllerInstanceOperationData> = function (\r\n  operationData: IGetControllerInstanceOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { systemName } = operationData;\r\n  let { propertyName } = operationData;\r\n\r\n  propertyName = propertyName || 'controllerInstance';\r\n  (operationData as any)[propertyName] = null;\r\n  const resultCallback = (instance: any) => {\r\n    (operationData as any)[propertyName as string] = instance;\r\n  };\r\n  eventBus.broadcast(TimelineEventNames.REQUEST_INSTANCE, [systemName, resultCallback]);\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { modifyDimensions } from './helper/modify-dimensions';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IGetElementDimensionsOperationData {\r\n  selectedElement: JQuery;\r\n  modifier: string;\r\n  dimensions?: { width?: number; height?: number };\r\n}\r\n\r\nexport const getElementDimensions: TOperation<IGetElementDimensionsOperationData> = function (\r\n  operationData: IGetElementDimensionsOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, modifier } = operationData;\r\n  const dimensions = {\r\n    width: selectedElement.innerWidth() ?? 0,\r\n    height: selectedElement.innerHeight() ?? 0,\r\n  };\r\n  if (dimensions.height === 0) {\r\n    dimensions.height = dimensions.width;\r\n  }\r\n  if (modifier && modifier.length) {\r\n    modifyDimensions(dimensions, modifier);\r\n  }\r\n  operationData.dimensions = dimensions;\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IGetImportOperationData {\r\n  systemName: string;\r\n  importedInstance: any;\r\n}\r\n\r\nexport const getImport: TOperation<IGetImportOperationData> = function (\r\n  operationData: IGetImportOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { systemName } = operationData;\r\n  const callBack = (instance: any) => {\r\n    operationData.importedInstance = instance;\r\n  };\r\n  eventBus.broadcast(TimelineEventNames.REQUEST_FUNCTION, [systemName, callBack]);\r\n  delete (operationData as any).systemName;\r\n  return operationData;\r\n};\r\n","import { getElementControllers } from './get-element-data';\r\n\r\nexport function attachControllerToElement(element: JQuery, controller: any) {\r\n  if (!element.data('chronoEngineControllers')) {\r\n    element.data('chronoEngineControllers', []);\r\n  }\r\n  const controllers = getElementControllers(element);\r\n  controllers.push(controller);\r\n}\r\n","import { isDefined } from 'ts-is-present';\r\n\r\nexport function deepcopy<T>(original: T): T {\r\n  if (isDefined(original)) {\r\n    return JSON.parse(JSON.stringify(original)) as T;\r\n  }\r\n  return original;\r\n}\r\n","import { getNestedValue } from './get-nested-value';\r\n\r\nexport function extractOperationDataArgumentValues(sourceObject: any, argumentValue: string | any) {\r\n  if (typeof argumentValue === 'string' && argumentValue.toLowerCase().startsWith('operationdata.')) {\r\n    const propNames = argumentValue.split('.');\r\n    propNames.shift();\r\n    return getNestedValue(propNames, sourceObject);\r\n  }\r\n  return argumentValue;\r\n}\r\n","import { IController } from '~/controllers/types';\r\n\r\nconst controllersName = 'chronoEngineControllers';\r\n\r\nfunction getElementData(name: string, element: JQuery): IController<any>[] {\r\n  return element.data(name);\r\n}\r\n\r\nconst getElementControllers = getElementData.bind(null, controllersName);\r\n\r\nexport { getElementData, getElementControllers };\r\n","import { getNestedValue } from './get-nested-value';\r\n\r\nexport function getNestedPropertyValue(propertyChain: string, sourceObject: any) {\r\n  const properties = propertyChain.split('.');\r\n  return getNestedValue(properties, sourceObject);\r\n}\r\n","export function getNestedValue(properties: any, sourceObject: any) {\r\n  if (!properties) {\r\n    throw Error('properties arg cannot be null');\r\n  }\r\n\r\n  if (!sourceObject) {\r\n    throw Error('sourceObject arg cannot be null');\r\n  }\r\n\r\n  let currentInstance = sourceObject;\r\n  let suffix = null;\r\n\r\n  properties.forEach((prop: string, index: number) => {\r\n    if (index === properties.length - 1) {\r\n      const parts = prop.split('+');\r\n      if (parts.length > 1) {\r\n        prop = parts[0];\r\n        suffix = parts[1];\r\n      }\r\n    }\r\n    currentInstance = currentInstance[prop];\r\n  });\r\n\r\n  return suffix ? currentInstance + suffix : currentInstance;\r\n}\r\n","import { TOperationData } from '../types';\r\nimport { mergeOperationData } from './merge-operation-data';\r\n\r\nexport function internalResolve(resolve: Function, operationData: TOperationData, newOperationData?: TOperationData) {\r\n  if (newOperationData) {\r\n    resolve(mergeOperationData(operationData, newOperationData));\r\n  } else {\r\n    resolve(operationData);\r\n  }\r\n}\r\n","import { TOperationData } from '~/operation/types';\r\n\r\nexport function mergeOperationData<T extends TOperationData, K = T>(\r\n  operationData: T,\r\n  newOperationData: TOperationData\r\n): K {\r\n  return Object.assign(operationData, newOperationData) as K;\r\n}\r\n","import { IDimensions } from '~/types';\r\n\r\nfunction modifyDimensionsByRatio(ratioModifier: string, dimensions: IDimensions) {\r\n  //h[ar=8-1]\r\n  let prefix = ratioModifier.substr(0, 1);\r\n  let ratio = ratioModifier.substr(\r\n    ratioModifier.indexOf('[') + 1,\r\n    ratioModifier.indexOf(']') - ratioModifier.indexOf('[') - 1\r\n  );\r\n  let ratios = ratio.split('=')[1].split('-');\r\n  if (prefix === 'h') {\r\n    dimensions.height = (dimensions.width / +ratios[0]) * +ratios[1];\r\n  } else if (prefix === 'w') {\r\n    dimensions.width = (dimensions.height / +ratios[1]) * +ratios[0];\r\n  }\r\n}\r\n\r\nfunction getModifierSuffix(modifier: string): [string | null, number, boolean] {\r\n  let endIdx = 1;\r\n  let suffix: string | null = modifier.substr(modifier.length - 1, 1);\r\n  if (suffix !== 'h' && suffix !== 'w' && suffix !== '%') {\r\n    suffix = null;\r\n  }\r\n  const isPercent = suffix === '%';\r\n  if (isPercent) {\r\n    endIdx = 2;\r\n    suffix = modifier.substr(modifier.length - endIdx, 1);\r\n    if (suffix !== 'h' && suffix !== 'w') {\r\n      suffix = null;\r\n      endIdx = 1;\r\n    }\r\n  }\r\n  return [suffix, endIdx, isPercent];\r\n}\r\n\r\nfunction _modifyDimensions(\r\n  dimensions: IDimensions,\r\n  prefix: string,\r\n  suffix: string | null,\r\n  widthModifier: number,\r\n  heightModifier: number\r\n) {\r\n  switch (prefix) {\r\n    case '+':\r\n      switch (suffix) {\r\n        case 'h':\r\n          dimensions.height += heightModifier;\r\n          break;\r\n        case 'w':\r\n          dimensions.width += widthModifier;\r\n          break;\r\n        default:\r\n          dimensions.height += heightModifier;\r\n          dimensions.width += widthModifier;\r\n      }\r\n      break;\r\n    case '-':\r\n      switch (suffix) {\r\n        case 'h':\r\n          dimensions.height -= heightModifier;\r\n          break;\r\n        case 'w':\r\n          dimensions.width -= widthModifier;\r\n          break;\r\n        default:\r\n          dimensions.height -= heightModifier;\r\n          dimensions.width -= widthModifier;\r\n      }\r\n      break;\r\n    case '/':\r\n      switch (suffix) {\r\n        case 'h':\r\n          dimensions.height /= heightModifier;\r\n          break;\r\n        case 'w':\r\n          dimensions.width /= widthModifier;\r\n          break;\r\n        default:\r\n          dimensions.height /= heightModifier;\r\n          dimensions.width /= widthModifier;\r\n      }\r\n      break;\r\n    case '*':\r\n      switch (suffix) {\r\n        case 'h':\r\n          dimensions.height *= heightModifier;\r\n          break;\r\n        case 'w':\r\n          dimensions.width *= widthModifier;\r\n          break;\r\n        default:\r\n          dimensions.height *= heightModifier;\r\n          dimensions.width *= widthModifier;\r\n      }\r\n      break;\r\n    default:\r\n      console.error(`Unknown operator found: ${prefix}`);\r\n  }\r\n  return dimensions;\r\n}\r\n\r\nexport function modifyDimensions(dimensions: IDimensions, modifier: string) {\r\n  let ratioModifier: string | null = null;\r\n  if (modifier.indexOf('|') > -1) {\r\n    [modifier, ratioModifier] = modifier.split('|');\r\n  }\r\n\r\n  const prefix = modifier.substr(0, 1);\r\n  let [suffix, endIdx, isPercent] = getModifierSuffix(modifier);\r\n\r\n  const value = parseInt(\r\n    suffix !== null ? modifier.substr(1, modifier.length - endIdx - 1) : modifier.substr(1, modifier.length),\r\n    10\r\n  );\r\n\r\n  let widthModifier = value;\r\n  let heightModifier = value;\r\n  if (isPercent) {\r\n    widthModifier = (dimensions.width / 100) * value;\r\n    heightModifier = (dimensions.height / 100) * value;\r\n  }\r\n\r\n  dimensions = _modifyDimensions(dimensions, prefix, suffix, widthModifier, heightModifier);\r\n\r\n  if (ratioModifier) {\r\n    modifyDimensionsByRatio(ratioModifier, dimensions);\r\n  }\r\n}\r\n","import { TOperationData } from '~/operation/types';\r\n\r\nexport function removeEventDataFromOperationData(operationData: TOperationData) {\r\n  delete operationData.eventName;\r\n  delete operationData.eventTopic;\r\n  delete operationData.eventArgs;\r\n}\r\n","import { TOperationData } from '~/operation/types';\r\nimport { extractOperationDataArgumentValues } from './extract-operation-data-argument-values';\r\n\r\nexport function resolveEventArguments(operationData: TOperationData, eventArgs: any[]) {\r\n  if (!eventArgs) {\r\n    return;\r\n  }\r\n  const extract = extractOperationDataArgumentValues.bind(null, operationData);\r\n  return eventArgs.map(extract);\r\n}\r\n","import { TOperationData } from '~/operation/types';\r\nimport { deepcopy } from './deepcopy';\r\nimport { extractOperationDataArgumentValues } from './extract-operation-data-argument-values';\r\n\r\nexport function resolvePropertyValues(operationData: TOperationData, properties: any) {\r\n  const copy = properties !== operationData ? deepcopy(properties) : properties;\r\n  const extract = extractOperationDataArgumentValues.bind(null, operationData);\r\n  Object.entries(properties).forEach(([key, value]) => {\r\n    copy[key] = extract(value);\r\n  });\r\n  return copy;\r\n}\r\n","export { addClass } from './add-class';\r\nexport { addControllerToElement } from './add-controller-to-element';\r\nexport { addOptionList } from './add-option-list';\r\nexport { animate } from './animate';\r\nexport { animateWithClass } from './animate-with-class';\r\nexport { broadcastEvent } from './broadcast-event';\r\nexport { clearElement } from './clear-element';\r\nexport { clearOperationData } from './clear-operation-data';\r\nexport { createElement } from './create-element';\r\nexport { customFunction } from './custom-function';\r\nexport { endAction } from './end-action';\r\nexport { endLoop } from './end-loop';\r\nexport { extendController } from './extend-controller';\r\nexport { getControllerFromElement } from './get-controller-from-element';\r\nexport { getControllerInstance } from './get-controller-instance';\r\nexport { getElementDimensions } from './get-element-dimensions';\r\nexport { getImport } from './get-import';\r\nexport { loadJSON } from './load-json';\r\nexport { log } from './log';\r\nexport { removeClass } from './remove-class';\r\nexport { removeControllerFromElement } from './remove-controller-from-element';\r\nexport { removeElement } from './remove-element';\r\nexport { removePropertiesFromOperationData } from './remove-properties-from-operation-data';\r\nexport { reparentElement } from './reparent-element';\r\nexport { requestAction } from './request-action';\r\nexport { resizeAction } from './resize-action';\r\nexport { selectElement } from './select-element';\r\nexport { setElementAttributes } from './set-element-attributes';\r\nexport { setElementContent } from './set-element-content';\r\nexport { setOperationData } from './set-operation-data';\r\nexport { setStyle } from './set-style';\r\nexport { startAction } from './start-action';\r\nexport { startLoop } from './start-loop';\r\nexport { toggleClass } from './toggle-class';\r\nexport { toggleElement } from './toggle-element';\r\nexport { wait } from './wait';\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nconst jsonCache: Record<string, any> = {};\r\n\r\nexport interface ILoadJSONOperationData {\r\n  url: string;\r\n  cache: boolean;\r\n  propertyName?: string;\r\n  json?: any;\r\n}\r\n\r\nexport const loadJSON: TOperation<ILoadJSONOperationData> = function (\r\n  operationData: ILoadJSONOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { url, cache, propertyName = 'json' } = operationData;\r\n\r\n  if (cache && jsonCache[url]) {\r\n    (operationData as any)[propertyName] = jsonCache[url];\r\n    return operationData;\r\n  }\r\n\r\n  return new Promise((resolve, reject) => {\r\n    fetch(url)\r\n      .then((response) => {\r\n        jsonCache[url] = (operationData as any)[propertyName as string] = response.body;\r\n        resolve(operationData);\r\n      })\r\n      .catch(reject);\r\n  });\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { IOperationContext, TOperation } from './types';\r\n\r\nexport const log: TOperation<never> = function (this: IOperationContext, operationData: never, _eventBus: IEventbus) {\r\n  console.group('Operation info');\r\n  console.dir({ context: this });\r\n  console.dir({ operationData });\r\n  console.groupEnd();\r\n  return operationData;\r\n};\r\n","import { IAddClassOperationData } from '~/operation/add-class';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction addClass(): IOperationMetadata<IAddClassOperationData> {\r\n  return {\r\n    description: 'Add a class to the selected element.',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      className: {\r\n        type: 'ParameterType:className',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default addClass;\r\n","import { IAddControllerToElementOperationData } from '~/operation/add-controller-to-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction addControllerToElement(): IOperationMetadata<IAddControllerToElementOperationData> {\r\n  return {\r\n    description: 'Adds the current controller to the selected element(s)',\r\n    dependentProperties: ['selectedElement', 'controllerInstance'],\r\n  };\r\n}\r\nexport default addControllerToElement;\r\n","import { IAddOptionListOperationData } from '~/operation/add-option-list';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction addOptionList(): IOperationMetadata<IAddOptionListOperationData> {\r\n  return {\r\n    description:\r\n      'Creates a list of option elements from the specified data and adds it to the currently selected element.',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      valueProperty: {\r\n        type: 'ParameterType:string',\r\n        required: true,\r\n      },\r\n      labelProperty: {\r\n        type: 'ParameterType:string',\r\n        required: true,\r\n      },\r\n      defaultIndex: 'ParameterType:integer',\r\n      defaultValue: 'ParameterType:string',\r\n      optionData: 'ParameterType:array',\r\n    },\r\n  };\r\n}\r\nexport default addOptionList;\r\n","import { IAnimateWithClassOperationData } from '~/operation/animate-with-class';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction animateWithClass(): IOperationMetadata<IAnimateWithClassOperationData> {\r\n  return {\r\n    description: 'Animates the selected element by adding the given animation class.',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      className: {\r\n        type: 'ParameterType:className',\r\n        required: true,\r\n      },\r\n      removeClass: 'ParameterType:boolean',\r\n    },\r\n  };\r\n}\r\nexport default animateWithClass;\r\n","import { IAnimateOperationData } from '~/operation/animate';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction animate(): IOperationMetadata<IAnimateOperationData> {\r\n  return {\r\n    description: 'Animates the selected element with the given animation settings.',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      animationEasing: 'ParameterType:boolean',\r\n      animationProperties: {\r\n        type: 'ParameterType:object',\r\n        required: true,\r\n      },\r\n      animationDuration: {\r\n        type: 'ParameterType:integer',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default animate;\r\n","import { IBroadcastEventOperationData } from '~/operation/broadcast-event';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction broadcastEvent(): IOperationMetadata<IBroadcastEventOperationData> {\r\n  return {\r\n    description: 'Broadcasts an eventbus event with the given type, topic and optional arguments',\r\n    properties: {\r\n      eventArgs: 'ParameterType:array',\r\n      eventTopic: 'ParameterType:eventTopic',\r\n      eventName: {\r\n        type: 'ParameterType:eventName',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default broadcastEvent;\r\n","import { IClearElementOperationData } from '~/operation/clear-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction clearElement(): IOperationMetadata<IClearElementOperationData> {\r\n  return {\r\n    description: 'clears the given element',\r\n    dependentProperties: ['selectedElement'],\r\n  };\r\n}\r\n\r\nexport default clearElement;\r\n","import { IClearOperationDataOperationData } from '~/operation/clear-operation-data';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction clearOperationData(): IOperationMetadata<IClearOperationDataOperationData> {\r\n  return {\r\n    description: 'clears the current operation data',\r\n    properties: {\r\n      properties: 'ParameterType:array',\r\n    },\r\n  };\r\n}\r\nexport default clearOperationData;\r\n","import { ICreateElementOperationData } from '~/operation/create-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction createElement(): IOperationMetadata<ICreateElementOperationData> {\r\n  return {\r\n    description: 'Creates an HTML element with the given name and optionally adds the given attributes',\r\n    properties: {\r\n      elementName: {\r\n        type: 'ParameterType:htmlElementName',\r\n        required: true,\r\n      },\r\n      attributes: 'ParameterType:object',\r\n      text: 'ParameterType:string',\r\n    },\r\n    outputProperties: {\r\n      template: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default createElement;\r\n","import { ICustomFunctionOperationData } from '~/operation/custom-function';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction customFunction(): IOperationMetadata<ICustomFunctionOperationData> {\r\n  return {\r\n    description: 'Executes the specified custom function',\r\n    properties: {\r\n      systemName: {\r\n        type: 'ParameterType:systemName',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default customFunction;\r\n","import { IEndActionOperationData } from '~/operation/end-action';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction endAction(): IOperationMetadata<IEndActionOperationData> {\r\n  return {\r\n    description: 'Ends the current action',\r\n    dependentProperties: ['actionInstance'],\r\n    properties: {\r\n      actionOperationData: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default endAction;\r\n","import { IOperationMetadata } from './types';\r\n\r\nfunction endLoop(): IOperationMetadata<never> {\r\n  return {\r\n    description: 'Ends the current loop',\r\n  };\r\n}\r\n\r\nexport default endLoop;\r\n","import { IExtendControllerOperationData } from '~/operation/extend-controller';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction extendController(): IOperationMetadata<IExtendControllerOperationData> {\r\n  return {\r\n    description: 'Extends the current controller',\r\n    dependentProperties: ['controllerInstance'],\r\n    properties: {\r\n      controllerExtension: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default extendController;\r\n","import { IGetControllerFromElementOperationData } from '~/operation/get-controller-from-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction getControllerFromElement(): IOperationMetadata<IGetControllerFromElementOperationData> {\r\n  return {\r\n    description: 'Retrieves the specified controller from the current element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      controllerName: {\r\n        type: 'ParameterType:controllerName',\r\n        required: true,\r\n      },\r\n    },\r\n    outputProperties: {\r\n      controllerInstance: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default getControllerFromElement;\r\n","import { IGetControllerInstanceOperationData } from '~/operation/get-controller-instance';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction getControllerInstance(): IOperationMetadata<IGetControllerInstanceOperationData> {\r\n  return {\r\n    description: 'Retrieves an instance of the specified controller',\r\n    properties: {\r\n      systemName: {\r\n        type: 'ParameterType:controllerName',\r\n        required: true,\r\n      },\r\n      propertyName: {\r\n        type: 'ParameterType:string',\r\n        defaultValue: 'controllerInstance',\r\n      },\r\n    },\r\n    outputProperties: {\r\n      controllerInstance: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default getControllerInstance;\r\n","import { IGetElementDimensionsOperationData } from '~/operation/get-element-dimensions';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction getElementDimensions(): IOperationMetadata<IGetElementDimensionsOperationData> {\r\n  return {\r\n    description: 'Calculates the dimensions for the current element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      modifier: 'ParameterType:dimensionsModifier',\r\n    },\r\n    outputProperties: {\r\n      dimensions: 'ParameterType:dimensions',\r\n    },\r\n  };\r\n}\r\nexport default getElementDimensions;\r\n","import { IGetImportOperationData } from '~/operation/get-import';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction getImport(): IOperationMetadata<IGetImportOperationData> {\r\n  return {\r\n    description: 'Retrieves a javascript import specified by the given system name',\r\n    properties: {\r\n      systemName: {\r\n        type: 'ParameterType:systemName',\r\n        required: true,\r\n      },\r\n    },\r\n    outputProperties: {\r\n      importedInstance: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default getImport;\r\n","export { default as addClass } from './add-class';\r\nexport { default as addControllerToElement } from './add-controller-to-element';\r\nexport { default as addOptionList } from './add-option-list';\r\nexport { default as animate } from './animate';\r\nexport { default as animateWithClass } from './animate-with-class';\r\nexport { default as broadcastEvent } from './broadcast-event';\r\nexport { default as clearElement } from './clear-element';\r\nexport { default as clearOperationData } from './clear-operation-data';\r\nexport { default as createElement } from './create-element';\r\nexport { default as customFunction } from './custom-function';\r\nexport { default as endAction } from './end-action';\r\nexport { default as endLoop } from './end-loop';\r\nexport { default as extendController } from './extend-controller';\r\nexport { default as getControllerFromElement } from './get-controller-from-element';\r\nexport { default as getControllerInstance } from './get-controller-instance';\r\nexport { default as getElementDimensions } from './get-element-dimensions';\r\nexport { default as getImport } from './get-import';\r\nexport { default as loadJSON } from './load-json';\r\nexport { default as log } from './log';\r\nexport { default as removeClass } from './remove-class';\r\nexport { default as removeControllerFromElement } from './remove-controller-from-element';\r\nexport { default as removeElement } from './remove-element';\r\nexport { default as removePropertiesFromOperationData } from './remove-properties-from-operation-data';\r\nexport { default as reparentElement } from './reparent-element';\r\nexport { default as requestAction } from './request-action';\r\nexport { default as resizeAction } from './resize-action';\r\nexport { default as selectElement } from './select-element';\r\nexport { default as setElementAttributes } from './set-element-attributes';\r\nexport { default as setElementContent } from './set-element-content';\r\nexport { default as setOperationData } from './set-operation-data';\r\nexport { default as setStyle } from './set-style';\r\nexport { default as startAction } from './start-action';\r\nexport { default as startLoop } from './start-loop';\r\nexport { default as toggleClass } from './toggle-class';\r\nexport { default as toggleElement } from './toggle-element';\r\nexport { default as wait } from './wait';\r\n","import { ILoadJSONOperationData } from '~/operation/load-json';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction loadJSON(): IOperationMetadata<ILoadJSONOperationData> {\r\n  return {\r\n    description: 'Load JSON from the given url',\r\n    properties: {\r\n      url: {\r\n        type: 'ParameterType:url',\r\n        required: true,\r\n      },\r\n      cache: 'ParameterType:boolean',\r\n      propertyName: {\r\n        type: 'ParameterType:string',\r\n        defaultValue: 'json',\r\n      },\r\n    },\r\n    outputProperties: {\r\n      json: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default loadJSON;\r\n","import { IOperationMetadata } from './types';\r\n\r\nfunction log(): IOperationMetadata<never> {\r\n  return {\r\n    description: 'Logs the current context and operation data to the console',\r\n  };\r\n}\r\n\r\nexport default log;\r\n","import { IRemoveClassOperationData } from '~/operation/remove-class';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction removeClass(): IOperationMetadata<IRemoveClassOperationData> {\r\n  return {\r\n    description: 'Removes the specified class from the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      className: {\r\n        type: 'ParameterType:className',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport default removeClass;\r\n","import { IRemoveControllerFromElementOperationData } from '~/operation/remove-controller-from-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction removeControllerFromElement(): IOperationMetadata<IRemoveControllerFromElementOperationData> {\r\n  return {\r\n    description: 'Removes the specified controller from the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      controllerName: {\r\n        type: 'ParameterType:controllerName',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport default removeControllerFromElement;\r\n","import { IRemoveElementOperationData } from '~/operation/remove-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction removeElement(): IOperationMetadata<IRemoveElementOperationData> {\r\n  return {\r\n    description: 'Removes the selected element from the DOM',\r\n    dependentProperties: ['selectedElement'],\r\n  };\r\n}\r\nexport default removeElement;\r\n","import { IRemovePropertiesFromOperationDataOperationData } from '~/operation/remove-properties-from-operation-data';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction removePropertiesFromOperationData(): IOperationMetadata<IRemovePropertiesFromOperationDataOperationData> {\r\n  return {\r\n    description: 'Removes the specified properties from the current operation data',\r\n    properties: {\r\n      propertyNames: 'ParameterType:array',\r\n    },\r\n  };\r\n}\r\nexport default removePropertiesFromOperationData;\r\n","import { IReparentElementOperationData } from '~/operation/reparent-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction reparentElement(): IOperationMetadata<IReparentElementOperationData> {\r\n  return {\r\n    description: 'Moves the selected element to the new location described by the given selector',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      newParentSelector: {\r\n        type: 'ParameterType:selector',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default reparentElement;\r\n","import { IRequestActionOperationData } from '~/operation/request-action';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction requestAction(): IOperationMetadata<IRequestActionOperationData> {\r\n  return {\r\n    description: 'Retrieves an instance of the specified action',\r\n    properties: {\r\n      systemName: {\r\n        type: 'ParameterType:actionName',\r\n      },\r\n    },\r\n    outputProperties: {\r\n      actionInstance: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default requestAction;\r\n","import { IResizeActionOperationData } from '~/operation/resize-action';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction resizeAction(): IOperationMetadata<IResizeActionOperationData> {\r\n  return {\r\n    description: 'Triggers a resize on the current action',\r\n    dependentProperties: ['actionInstance'],\r\n    properties: {\r\n      actionOperationData: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default resizeAction;\r\n","import { ISelectElementOperationData } from '~/operation/select-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction selectElement(): IOperationMetadata<ISelectElementOperationData> {\r\n  return {\r\n    description: 'Selects an element using the given selector',\r\n    properties: {\r\n      selector: {\r\n        type: 'ParameterType:selector',\r\n        required: true,\r\n      },\r\n      propertyName: 'ParameterType:string',\r\n      useSelectedElementAsRoot: 'ParameterType:boolean',\r\n    },\r\n    outputProperties: {\r\n      selectedElement: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default selectElement;\r\n","import { ISetElementAttributesOperationData } from '~/operation/set-element-attributes';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction setElementAttributes(): IOperationMetadata<ISetElementAttributesOperationData> {\r\n  return {\r\n    description: 'Sets the given attributes on the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      attributes: {\r\n        type: 'ParameterType:object',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default setElementAttributes;\r\n","import { ISetElementContentOperationData } from '~/operation/set-element-content';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction setElementContent(): IOperationMetadata<ISetElementContentOperationData> {\r\n  return {\r\n    description: 'Sets the given HTML content in the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      append: 'ParameterType:boolean',\r\n      template: {\r\n        type: 'ParameterType:htmlContent',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default setElementContent;\r\n","import { ISetOperationData } from '~/operation/set-operation-data';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction setOperationData(): IOperationMetadata<ISetOperationData> {\r\n  return {\r\n    description: 'Sets the given properties on the current operation data',\r\n    properties: {\r\n      properties: {\r\n        type: 'ParameterType:object',\r\n        required: true,\r\n      },\r\n      override: 'ParameterType:boolean',\r\n    },\r\n  };\r\n}\r\nexport default setOperationData;\r\n","import { ISetStyleOperationData } from '~/operation/set-style';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction setStyle(): IOperationMetadata<ISetStyleOperationData> {\r\n  return {\r\n    description: 'Sets the given style properties on the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      properties: {\r\n        type: 'ParameterType:object',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport default setStyle;\r\n","import { IStartActionOperationData } from '~/operation/start-action';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction startAction(): IOperationMetadata<IStartActionOperationData> {\r\n  return {\r\n    description: 'Starts the selected action',\r\n    dependentProperties: ['actionInstance'],\r\n    properties: {\r\n      actionOperationData: 'ParameterType:object',\r\n    },\r\n  };\r\n}\r\nexport default startAction;\r\n","import { TStartLoopOperationData } from '~/operation/start-loop';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction startLoop(): IOperationMetadata<TStartLoopOperationData> {\r\n  return {\r\n    description: 'Starts a loop over the given collection',\r\n    properties: {\r\n      collection: {\r\n        type: 'ParameterType:array',\r\n        required: true,\r\n      },\r\n      propertyName: {\r\n        type: 'ParameterType:string',\r\n        defaultValue: 'currentItem',\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\nexport default startLoop;\r\n","import { IToggleClassOperationData } from '~/operation/toggle-class';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction toggleClass(): IOperationMetadata<IToggleClassOperationData> {\r\n  return {\r\n    description: 'Toggles the given class on the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n    properties: {\r\n      className: {\r\n        type: 'ParameterType:className',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default toggleClass;\r\n","import { IToggleElementOperationData } from '~/operation/toggle-element';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction toggleElement(): IOperationMetadata<IToggleElementOperationData> {\r\n  return {\r\n    description: 'Toggles the selected element',\r\n    dependentProperties: ['selectedElement'],\r\n  };\r\n}\r\nexport default toggleElement;\r\n","import { IWaitOperationData } from '~/operation/wait';\r\nimport { IOperationMetadata } from './types';\r\n\r\nfunction wait(): IOperationMetadata<IWaitOperationData> {\r\n  return {\r\n    description: 'Waits the given amount of milliseconds before the action continues',\r\n    properties: {\r\n      milliseconds: {\r\n        type: 'ParameterType:integer',\r\n        required: true,\r\n      },\r\n    },\r\n  };\r\n}\r\nexport default wait;\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IRemoveClassOperationData {\r\n  selectedElement: JQuery;\r\n  className: string;\r\n}\r\n\r\nexport const removeClass: TOperation<IRemoveClassOperationData> = function (\r\n  operationData: IRemoveClassOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, className } = operationData;\r\n  selectedElement.removeClass(className);\r\n  return operationData;\r\n};\r\n","import { IController } from '~/controllers/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { getElementControllers } from './helper/get-element-data';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IRemoveControllerFromElementOperationData {\r\n  selectedElement: JQuery;\r\n  controllerName: string;\r\n}\r\n\r\nexport const removeControllerFromElement: TOperation<IRemoveControllerFromElementOperationData> = function (\r\n  operationData: IRemoveControllerFromElementOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { selectedElement, controllerName } = operationData;\r\n\r\n  const controllers = getElementControllers(selectedElement);\r\n  const controller = controllers?.find((ctrl: IController<any>) => ctrl.name === controllerName);\r\n\r\n  if (controller) {\r\n    const idx = controllers.indexOf(controller);\r\n    controllers.splice(idx, 1);\r\n    controller.detach(eventBus);\r\n  }\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IRemoveElementOperationData {\r\n  selectedElement: JQuery;\r\n}\r\n\r\nexport const removeElement: TOperation<IRemoveElementOperationData> = function (\r\n  operationData: IRemoveElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement } = operationData;\r\n  selectedElement.remove();\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IRemovePropertiesFromOperationDataOperationData {\r\n  propertyNames: string[];\r\n}\r\n\r\nexport const removePropertiesFromOperationData: TOperation<IRemovePropertiesFromOperationDataOperationData> = function (\r\n  operationData: IRemovePropertiesFromOperationDataOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { propertyNames } = operationData;\r\n\r\n  propertyNames.forEach((name) => {\r\n    delete (operationData as any)[name];\r\n  });\r\n  delete (operationData as any).propertyNames;\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IReparentElementOperationData {\r\n  selectedElement: JQuery;\r\n  newParentSelector: string;\r\n}\r\n\r\nexport const reparentElement: TOperation<IReparentElementOperationData> = function (\r\n  operationData: IReparentElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, newParentSelector } = operationData;\r\n  selectedElement.remove().appendTo(newParentSelector);\r\n  return operationData;\r\n};\r\n","import { IAction } from '~/action/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IRequestActionOperationData {\r\n  systemName: string;\r\n  actionInstance: IAction;\r\n}\r\n\r\nexport const requestAction: TOperation<IRequestActionOperationData> = function (\r\n  operationData: IRequestActionOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { systemName } = operationData;\r\n\r\n  const resultCallback = (action: IAction) => {\r\n    operationData.actionInstance = action;\r\n  };\r\n\r\n  eventBus.broadcast(TimelineEventNames.REQUEST_ACTION, [systemName, resultCallback]);\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { mergeOperationData } from './helper/merge-operation-data';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IResizeActionOperationData {\r\n  actionInstance: any;\r\n  actionOperationData: any;\r\n}\r\n\r\nexport const resizeAction: TOperation<IResizeActionOperationData> = function (\r\n  operationData: IResizeActionOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { actionInstance, actionOperationData } = operationData;\r\n  operationData = mergeOperationData(operationData, actionOperationData);\r\n\r\n  if (actionInstance.resize) {\r\n    return actionInstance.resize(operationData);\r\n  }\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { TOperation } from './types';\r\n\r\nfunction findElementBySelector(root: JQuery, selector: string, operationData: any, propertyName: string) {\r\n  const element = root.find(selector);\r\n  if (!element.length) {\r\n    console.warn(`selector '${selector}' wasn't found!`);\r\n  }\r\n  operationData[propertyName] = element;\r\n  if (operationData.hasOwnProperty('propertyName')) {\r\n    delete operationData.propertyName;\r\n  }\r\n}\r\n\r\nexport interface ISelectElementOperationData {\r\n  selector: string;\r\n  propertyName: string;\r\n  useSelectedElementAsRoot: boolean;\r\n}\r\n\r\nexport const selectElement: TOperation<ISelectElementOperationData> = function (\r\n  operationData: ISelectElementOperationData,\r\n  eventBus: IEventbus\r\n) {\r\n  const { selector, propertyName = 'selectedElement', useSelectedElementAsRoot } = operationData;\r\n\r\n  if (!selector) {\r\n    throw new Error('selector is undefined!');\r\n  }\r\n\r\n  if (useSelectedElementAsRoot && (operationData as any)[propertyName]) {\r\n    const currentRoot = (operationData as any)[propertyName];\r\n    findElementBySelector(currentRoot, selector, operationData, propertyName);\r\n    return operationData;\r\n  }\r\n\r\n  const rootCallback = (root: JQuery) => {\r\n    findElementBySelector(root, selector, operationData, propertyName);\r\n  };\r\n  eventBus.broadcast(TimelineEventNames.REQUEST_ENGINE_ROOT, [rootCallback]);\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ISetElementAttributesOperationData {\r\n  attributes: any;\r\n  selectedElement: JQuery;\r\n}\r\n\r\nexport const setElementAttributes: TOperation<ISetElementAttributesOperationData> = function (\r\n  operationData: ISetElementAttributesOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { attributes, selectedElement } = operationData;\r\n  Object.keys(attributes).forEach((attrName) => {\r\n    selectedElement.attr(attrName, attributes[attrName]);\r\n  });\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ISetElementContentOperationData {\r\n  append: boolean;\r\n  selectedElement: JQuery;\r\n  template: string;\r\n}\r\n\r\nexport const setElementContent: TOperation<ISetElementContentOperationData> = function (\r\n  operationData: ISetElementContentOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { append, selectedElement, template } = operationData;\r\n  if (!append) {\r\n    selectedElement.html(template);\r\n  } else {\r\n    selectedElement.append(template);\r\n  }\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { resolvePropertyValues } from './helper/resolve-property-values';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ISetOperationData {\r\n  override?: boolean;\r\n  properties: any;\r\n}\r\n\r\nexport const setOperationData: TOperation<ISetOperationData> = function (\r\n  operationData: ISetOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { override, properties } = operationData;\r\n  const resolvedProperties = resolvePropertyValues(operationData, properties);\r\n  delete operationData.properties;\r\n\r\n  if (override) {\r\n    operationData = resolvedProperties;\r\n  } else {\r\n    operationData = Object.assign(operationData, resolvedProperties);\r\n  }\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { resolvePropertyValues } from './helper/resolve-property-values';\r\nimport { TOperation } from './types';\r\n\r\nexport interface ISetStyleOperationData {\r\n  properties: any;\r\n  propertyName?: string;\r\n  selectedElement?: JQuery;\r\n}\r\n\r\nexport const setStyle: TOperation<ISetStyleOperationData> = function (\r\n  operationData: ISetStyleOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { propertyName = 'selectedElement' } = operationData;\r\n\r\n  const properties = resolvePropertyValues(operationData, operationData.properties);\r\n  (operationData as any)[propertyName].css(properties);\r\n  return operationData;\r\n};\r\n","import { IAction } from '~/action/types';\r\nimport { IEventbus } from '~/eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { mergeOperationData } from './helper/merge-operation-data';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IStartActionOperationData {\r\n  actionInstance: IAction;\r\n  actionOperationData: any;\r\n}\r\n\r\nexport const startAction: TOperation<IStartActionOperationData> = function (\r\n  operationData: IStartActionOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { actionInstance, actionOperationData } = operationData;\r\n  return new Promise((resolve, reject) => {\r\n    operationData = mergeOperationData(operationData, actionOperationData);\r\n    actionInstance.start(operationData).then(() => {\r\n      internalResolve(resolve, operationData);\r\n    }, reject);\r\n  });\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { IOperationContext, TOperation } from './types';\r\n\r\nexport type TStartLoopOperationData = {\r\n  collection: any[] | null;\r\n  propertyName?: string;\r\n};\r\n\r\nexport const startLoop: TOperation<TStartLoopOperationData> = function (\r\n  this: IOperationContext,\r\n  operationData: TStartLoopOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const context = this;\r\n  const { collection, propertyName = 'currentItem' } = operationData;\r\n\r\n  if (context.loopIndex === undefined) {\r\n    if (collection?.length) {\r\n      context.loopIndex = 0;\r\n      context.loopLength = collection.length - 1;\r\n      context.startIndex = context.currentIndex;\r\n    } else {\r\n      context.skipNextOperation = true;\r\n    }\r\n  }\r\n\r\n  if (collection?.length && context.loopIndex !== undefined) {\r\n    (operationData as any)[propertyName] = collection[context.loopIndex];\r\n  }\r\n\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IToggleClassOperationData {\r\n  selectedElement: JQuery;\r\n  className: string;\r\n}\r\n\r\nexport const toggleClass: TOperation<IToggleClassOperationData> = function (\r\n  operationData: IToggleClassOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  const { selectedElement, className } = operationData;\r\n  selectedElement.toggleClass(className);\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IToggleElementOperationData {\r\n  selectedElement: JQuery;\r\n}\r\n\r\nexport const toggleElement: TOperation<IToggleElementOperationData> = function toggleElement(\r\n  operationData: IToggleElementOperationData,\r\n  _eventBus: IEventbus\r\n) {\r\n  operationData.selectedElement.toggle();\r\n  return operationData;\r\n};\r\n","import { IEventbus } from '~/eventbus/types';\r\nimport { internalResolve } from './helper/internal-resolve';\r\nimport { TOperation } from './types';\r\n\r\nexport interface IWaitOperationData {\r\n  milliseconds: number;\r\n}\r\n\r\nexport const wait: TOperation<IWaitOperationData> = function (operationData: IWaitOperationData, _eventBus: IEventbus) {\r\n  const { milliseconds } = operationData;\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => {\r\n      internalResolve(resolve, operationData);\r\n    }, milliseconds);\r\n  });\r\n};\r\n","export class TimelineEventNames {\r\n  // timeline requests\r\n  static PLAY_TOGGLE_REQUEST = 'timeline-play-toggle-request';\r\n  static PLAY_REQUEST = 'timeline-play-request';\r\n  static STOP_REQUEST = 'timeline-stop-request';\r\n  static PAUSE_REQUEST = 'timeline-pause-request';\r\n  static SEEK_REQUEST = 'timeline-seek-request';\r\n  static RESIZE_REQUEST = 'timeline-resize-request';\r\n  static CONTAINER_REQUEST = 'timeline-container-request';\r\n  static DURATION_REQUEST = 'timeline-duration-request';\r\n  static REQUEST_CURRENT_TIMELINE = 'timeline-request-current-timeline';\r\n\r\n  // timeline announcements\r\n  static DURATION = 'timeline-duration';\r\n  static TIME = 'timeline-time';\r\n  static SEEKED = 'timeline-seeked';\r\n  static COMPLETE = 'timeline-complete';\r\n  static PLAY = 'timeline-play';\r\n  static STOP = 'timeline-stop';\r\n  static PAUSE = 'timeline-pause';\r\n  static SEEK = 'timeline-seek';\r\n  static RESIZE = 'timeline-resize';\r\n  static POSITION_UPDATE = 'timeline-position-update';\r\n  static TIME_UPDATE = 'timeline-time-update';\r\n  static CURRENT_TIMELINE_CHANGE = 'timeline-current-timeline-change';\r\n  static FIRST_FRAME = 'timeline-firstframe';\r\n\r\n  // factory and engine events\r\n  static REQUEST_INSTANCE = 'request-instance';\r\n  static REQUEST_ACTION = 'request-action';\r\n  static REQUEST_FUNCTION = 'request-function';\r\n  static REQUEST_TIMELINE_URI = 'request-timeline-uri';\r\n  static BEFORE_REQUEST_TIMELINE_URI = 'before-request-timeline-uri';\r\n  static REQUEST_ENGINE_ROOT = 'request-engine-root';\r\n  static REQUEST_CURRENT_TIMELINE_POSITION = 'request-current-timeline-position';\r\n  static REQUEST_TIMELINE_CLEANUP = 'request-timeline-cleanup';\r\n  static EXECUTE_TIMELINEACTION = 'execute-timelineaction';\r\n  static RESIZE_TIMELINEACTION = 'resize-timelineaction';\r\n\r\n  //language manager events\r\n  static REQUEST_LABEL_COLLECTION = 'request-label-collection';\r\n  static REQUEST_LABEL_COLLECTIONS = 'request-label-collections';\r\n  static REQUEST_CURRENT_LANGUAGE = 'request-current-language';\r\n  static LANGUAGE_CHANGE = 'language-change';\r\n}\r\n","export { JwPlayerTimelineProvider } from './jwplayer-timeline-provider';\r\nexport { MediaElementTimelineProvider } from './media-element-timeline-provider';\r\nexport { RequestAnimationFrameTimelineProvider } from './request-animation-frame-timeline-provider';\r\n","import $ from 'jquery';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { IResolvedEngineConfiguration } from '~/configuration/types';\r\nimport { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { TResultCallback } from '~/types';\r\nimport { ITimelineProvider } from './types';\r\n\r\nexport class JwPlayerTimelineProvider implements ITimelineProvider {\r\n  private _paused: boolean = false;\r\n  private _player: any = null;\r\n  private _currentLoopHandler: Function | null = null;\r\n  private _eventbusListeners: TEventHandlerRemover[] = [];\r\n  private _playlist: any[] = [];\r\n  private _videoElementId: string = uuidv4();\r\n\r\n  loop = false;\r\n\r\n  constructor(private eventbus: IEventbus, private config: IResolvedEngineConfiguration) {\r\n    this._addEventListeners();\r\n  }\r\n\r\n  _extractUrls(configuration: IResolvedEngineConfiguration) {\r\n    const urls = configuration.timelines\r\n      .filter((timeline) => timeline.type === 'mediaplayer')\r\n      .map((timeline) => {\r\n        return timeline.uri;\r\n      });\r\n    return urls;\r\n  }\r\n\r\n  init(): Promise<any> {\r\n    const settings = this.config.timelineProviderSettings['mediaplayer'];\r\n    const { selector } = settings;\r\n    const urls = this._extractUrls(this.config);\r\n    const jwp = (window as any).jwplayer;\r\n    const p = $(`#${selector}`);\r\n    if (!p.length) {\r\n      throw new Error(`videoplayer selector '${selector}' not found`);\r\n    }\r\n    let w = p.innerWidth();\r\n    let h = p.innerHeight();\r\n    if (w === 0) {\r\n      w = 100;\r\n    }\r\n    if (h === 0) {\r\n      h = 300;\r\n    }\r\n\r\n    this._player = jwp(selector);\r\n    this._player.setup({\r\n      file: urls[0],\r\n      image: settings.poster,\r\n      height: h,\r\n      width: w,\r\n      controls: true,\r\n      autostart: false,\r\n      displaytitle: false,\r\n      displaydescription: false,\r\n      nextUpDisplay: false,\r\n      abouttext: 'ChronoTriggerJS',\r\n      aboutlink: 'http://www.google.com',\r\n      stretching: 'fill',\r\n      repeat: false,\r\n    });\r\n    this._playlist.length = 0;\r\n    urls.forEach((url) => {\r\n      const item = {\r\n        file: url,\r\n        title: url,\r\n        image: settings.poster,\r\n      };\r\n      this._playlist.push(item);\r\n    });\r\n    const promise = new Promise((resolve) => {\r\n      this._player.once('ready', () => {\r\n        this._handlePlayerReady(resolve);\r\n      });\r\n      this._player.load(this._playlist);\r\n    });\r\n    return promise;\r\n  }\r\n\r\n  _handlePlayerReady(resolve: (value: any | PromiseLike<any>) => void) {\r\n    this._player.once('firstFrame', () => {\r\n      this._player.pause();\r\n      this.eventbus.broadcast(TimelineEventNames.DURATION, [this.getDuration()]);\r\n      resolve(this);\r\n    });\r\n    this._player.on(TimelineEventNames.TIME, this._loopHandler.bind(this, Math.floor));\r\n    this._player.on(TimelineEventNames.SEEKED, this._seekedHandler.bind(this));\r\n    this._player.on(TimelineEventNames.COMPLETE, this._handlePlayerComplete.bind(this));\r\n    setTimeout(() => {\r\n      this._player.play();\r\n    }, 10);\r\n  }\r\n\r\n  _handlePlayerComplete() {\r\n    if (!this.loop) {\r\n      this.stop();\r\n      this.eventbus.broadcast(TimelineEventNames.COMPLETE, [this._player.getPlaylistIndex()]);\r\n    }\r\n  }\r\n\r\n  _seekedHandler() {\r\n    this.eventbus.broadcast(TimelineEventNames.SEEKED, [this.getPosition(), this.getDuration()]);\r\n  }\r\n\r\n  destroy() {\r\n    this._player.remove();\r\n    this._eventbusListeners.forEach((func) => func());\r\n  }\r\n\r\n  _loopHandler(floor: (x: number) => number, jwplayerEvent: any) {\r\n    const pos = floor(jwplayerEvent.position);\r\n    if (this.loop && pos === floor(this._player.getDuration() - 1)) {\r\n      this.seek(0);\r\n    }\r\n  }\r\n\r\n  _timeResetLoopHandler() {\r\n    if (this.loop) {\r\n      this.seek(0);\r\n    }\r\n  }\r\n\r\n  _addEventListeners() {\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PLAY_TOGGLE_REQUEST, this.toggleplay.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PLAY_REQUEST, this.start.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.STOP_REQUEST, this.stop.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PAUSE_REQUEST, this.pause.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.SEEK_REQUEST, this.seek.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.RESIZE_REQUEST, this.resize.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.CONTAINER_REQUEST, this._container.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.DURATION_REQUEST, this.duration.bind(this)));\r\n  }\r\n\r\n  _container(resultCallback: TResultCallback) {\r\n    let suffix = '';\r\n    if (this._player.getProvider().name !== 'html5') {\r\n      suffix = '_wrapper';\r\n    }\r\n    const container = $(`#${this._videoElementId}${suffix}`);\r\n    resultCallback(container);\r\n  }\r\n\r\n  toggleplay() {\r\n    if (this._paused) {\r\n      this.start();\r\n    } else {\r\n      this.pause();\r\n    }\r\n  }\r\n\r\n  start() {\r\n    this._paused = false;\r\n    this._player.play();\r\n    this.eventbus.broadcast(TimelineEventNames.PLAY);\r\n  }\r\n\r\n  stop() {\r\n    this._paused = false;\r\n    this._player.stop();\r\n    this.eventbus.broadcast(TimelineEventNames.STOP);\r\n  }\r\n\r\n  pause() {\r\n    this._paused = true;\r\n    this._player.pause();\r\n    this.eventbus.broadcast(TimelineEventNames.PAUSE);\r\n  }\r\n\r\n  seek(position: number) {\r\n    const currentPosition = this._player.getPosition();\r\n    this._player.seek(position);\r\n    this.eventbus.broadcast(TimelineEventNames.SEEK, [position, currentPosition, this._player.getDuration()]);\r\n  }\r\n\r\n  resize(width: number, height: number) {\r\n    this._player.resize(width, height);\r\n    this.eventbus.broadcast(TimelineEventNames.RESIZE, [width, height]);\r\n  }\r\n\r\n  duration(resultCallback: TResultCallback) {\r\n    resultCallback(Math.floor(this.getDuration()));\r\n  }\r\n\r\n  playlistItem(uri: string) {\r\n    const index = this._playlist.findIndex((item) => item.file === uri);\r\n    if (index > -1) {\r\n      this._player.playlistItem(index);\r\n    }\r\n  }\r\n\r\n  getPosition() {\r\n    return this._player.getPosition();\r\n  }\r\n\r\n  getPlaylistIndex() {\r\n    return this._player.getPlaylistIndex();\r\n  }\r\n\r\n  getState() {\r\n    return this._player.getState();\r\n  }\r\n\r\n  getDuration() {\r\n    return this._player.getDuration();\r\n  }\r\n\r\n  getMute() {\r\n    return this._player.getMute();\r\n  }\r\n\r\n  getVolume() {\r\n    return this._player.getVolume();\r\n  }\r\n\r\n  setMute(state: boolean) {\r\n    this._player.setMute(state);\r\n  }\r\n\r\n  setVolume(volume: number) {\r\n    this._player.setVolume(volume);\r\n  }\r\n}\r\n","import $ from 'jquery';\r\nimport 'mediaelement';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { IResolvedEngineConfiguration, IResolvedTimelineConfiguration } from '~/configuration/types';\r\nimport { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { TResultCallback } from '~/types';\r\nimport { ITimelineProvider } from './types';\r\n\r\nconst { MediaElementPlayer } = global as any;\r\n\r\nexport class MediaElementTimelineProvider implements ITimelineProvider {\r\n  private _videoElementId: string = uuidv4();\r\n  private _eventbusListeners: TEventHandlerRemover[] = [];\r\n  private _playlist: IResolvedTimelineConfiguration[] = [];\r\n  private _length: number = 0;\r\n  private _urls: string[] = [];\r\n\r\n  player: mediaelementjs.MediaElementPlayer | undefined;\r\n\r\n  loop = false;\r\n\r\n  constructor(private eventbus: IEventbus, private config: IResolvedEngineConfiguration) {\r\n    this._addEventListeners();\r\n  }\r\n\r\n  _addEventListeners() {\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PLAY_REQUEST, this.start.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.STOP_REQUEST, this.stop.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PAUSE_REQUEST, this.pause.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.SEEK_REQUEST, this.seek.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.RESIZE_REQUEST, this.resize.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.CONTAINER_REQUEST, this._container.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.DURATION_REQUEST, this.duration.bind(this)));\r\n  }\r\n\r\n  _extractUrls(configuration: IResolvedEngineConfiguration) {\r\n    const urls = configuration.timelines\r\n      .filter((timeline) => timeline.type === 'mediaplayer')\r\n      .map((timeline) => timeline.uri);\r\n    return urls;\r\n  }\r\n\r\n  init() {\r\n    const selector = '';\r\n    this._urls = this._extractUrls(this.config);\r\n    this._addVideoElements(selector, this._urls);\r\n    const self = this;\r\n\r\n    const promise = new Promise((resolve) => {\r\n      const videoElement = document.getElementById(this._videoElementId);\r\n      self.player = new MediaElementPlayer(videoElement, {\r\n        success: (mediaElement: any, _originalNode: any, instance: mediaelementjs.MediaElementPlayer) => {\r\n          mediaElement.addEventListener('timeupdate', this._timeUpdateHandler.bind(this));\r\n          instance.loop = this.loop;\r\n          instance.controlsAreVisible = false;\r\n          instance.controlsEnabled = false;\r\n          resolve();\r\n        },\r\n      });\r\n    });\r\n\r\n    return promise;\r\n  }\r\n\r\n  private _timeUpdateHandler() {\r\n    if (this.player) {\r\n      this.eventbus.broadcast(TimelineEventNames.TIME, [{ position: this.player.currentTime }]);\r\n      this.eventbus.broadcast(TimelineEventNames.POSITION_UPDATE, [\r\n        { position: this.player.currentTime, duration: this.player.duration },\r\n      ]);\r\n    }\r\n  }\r\n\r\n  private _addVideoElements(selector: string, urls: string[]) {\r\n    const videoElm = [`<video class='mejs__player' id=${this._videoElementId} data-mejsoptions='{\"preload\": \"true\"}'>`];\r\n    urls.forEach((url) => {\r\n      videoElm.push(`<source src='${url}' type='${this._extractFileType(url)}'/>`);\r\n    });\r\n    videoElm.push('</video>');\r\n    $(selector).append(videoElm.join(''));\r\n  }\r\n\r\n  _extractFileType(url: string) {\r\n    const lastIdx = url.lastIndexOf('.');\r\n    return `video/${url.substr(lastIdx + 1)}`;\r\n  }\r\n\r\n  playlistItem(uri: string) {\r\n    this.player?.setSrc(uri);\r\n  }\r\n\r\n  start() {\r\n    this.player?.play();\r\n  }\r\n\r\n  stop() {\r\n    this.player?.stop();\r\n  }\r\n\r\n  destroy() {\r\n    if (!this.player?.paused) {\r\n      this.player?.pause();\r\n    }\r\n\r\n    this.player?.remove();\r\n    $(`#${this._videoElementId}`).remove();\r\n    this._eventbusListeners.forEach((func) => func());\r\n  }\r\n\r\n  pause() {\r\n    this.player?.pause();\r\n  }\r\n\r\n  seek(position: number) {\r\n    this.player?.setCurrentTime(position);\r\n  }\r\n\r\n  resize() {}\r\n\r\n  duration(resultCallback: TResultCallback) {\r\n    resultCallback(this.getDuration());\r\n  }\r\n\r\n  getDuration() {\r\n    return this.player?.duration || -1;\r\n  }\r\n\r\n  getPosition() {\r\n    return this.player?.getCurrentTime() || -1;\r\n  }\r\n\r\n  _container(resultCallback: TResultCallback) {\r\n    resultCallback($(`#${this._videoElementId}`));\r\n  }\r\n}\r\n","import $ from 'jquery';\r\nimport { IResolvedEngineConfiguration, IResolvedTimelineConfiguration } from '~/configuration/types';\r\nimport { IEventbus, TEventHandlerRemover } from '~/eventbus/types';\r\nimport { TimelineEventNames } from '~/timeline-event-names';\r\nimport { TResultCallback } from '~/types';\r\nimport { ITimelineProvider } from './types';\r\n\r\ntype TUpdateMethod = (now: number) => void;\r\ntype TPlayState = 'stopped' | 'running' | 'paused';\r\n\r\nexport class RequestAnimationFrameTimelineProvider implements ITimelineProvider {\r\n  private _requestID: number = -1;\r\n  private _last: number = 0;\r\n  private _currentPosition: number = 0;\r\n  private _updateBound: TUpdateMethod = this._update.bind(this);\r\n  private _eventbusListeners: TEventHandlerRemover[] = [];\r\n  private _firstFrame = true;\r\n  private _currentPlaylistItem: IResolvedTimelineConfiguration;\r\n  private _granularity = 1000;\r\n  private _playState: TPlayState = 'stopped';\r\n  private _playlist: IResolvedTimelineConfiguration[];\r\n  private _containerElement: JQuery<HTMLElement> | undefined;\r\n\r\n  loop: boolean = false;\r\n\r\n  constructor(private eventbus: IEventbus, private config: IResolvedEngineConfiguration) {\r\n    this.eventbus = eventbus;\r\n    this.config = config;\r\n    this._playlist = this._extractPlaylist(config);\r\n    this._currentPlaylistItem = this._playlist[0];\r\n  }\r\n\r\n  private _extractPlaylist(configuration: IResolvedEngineConfiguration): IResolvedTimelineConfiguration[] {\r\n    const playlist = configuration.timelines.filter((timeline) => timeline.type === 'animation');\r\n    return playlist;\r\n  }\r\n\r\n  playlistItem(uri: string): void {\r\n    if (uri === null || !uri.length || this._playlist.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const item = this._playlist.find((item) => {\r\n      return item.uri === uri;\r\n    });\r\n\r\n    if (!item) {\r\n      throw new Error(`Unknown playlist uri: ${uri}`);\r\n    }\r\n\r\n    this._currentPlaylistItem = item;\r\n    this._firstFrame = true;\r\n  }\r\n\r\n  private _addEventListeners() {\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PLAY_TOGGLE_REQUEST, this.toggleplay.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PLAY_REQUEST, this.start.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.STOP_REQUEST, this.stop.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.PAUSE_REQUEST, this.pause.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.SEEK_REQUEST, this.seek.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.RESIZE_REQUEST, this._resize.bind(this)));\r\n    this._eventbusListeners.push(this.eventbus.on(TimelineEventNames.CONTAINER_REQUEST, this._container.bind(this)));\r\n    this._eventbusListeners.push(\r\n      this.eventbus.on(TimelineEventNames.DURATION_REQUEST, this.requestDurationHandler.bind(this))\r\n    );\r\n  }\r\n\r\n  private _update(now: number): void {\r\n    if (this._playState !== 'running') {\r\n      return;\r\n    }\r\n\r\n    if (!this._last || now - this._last >= this._granularity) {\r\n      if (!this._last && this._firstFrame) {\r\n        this._firstFrame = false;\r\n        this.eventbus.broadcast(TimelineEventNames.FIRST_FRAME);\r\n      }\r\n\r\n      this._last = now;\r\n      this._currentPosition++;\r\n\r\n      if (this._currentPosition > this._currentPlaylistItem.duration) {\r\n        if (this.loop) {\r\n          this._reset();\r\n        } else {\r\n          this.stop();\r\n          this.eventbus.broadcast(TimelineEventNames.COMPLETE);\r\n          return;\r\n        }\r\n      }\r\n\r\n      this.eventbus.broadcast(TimelineEventNames.TIME, [{ position: this._currentPosition }]);\r\n      this.eventbus.broadcast(TimelineEventNames.POSITION_UPDATE, [\r\n        { position: this._currentPosition, duration: this._currentPlaylistItem.duration },\r\n      ]);\r\n    }\r\n\r\n    this._requestID = requestAnimationFrame(this._updateBound);\r\n  }\r\n\r\n  private _start() {\r\n    if (this._requestID && this._playState === 'running') {\r\n      return;\r\n    }\r\n    this._playState = 'running';\r\n    this._requestID = requestAnimationFrame(this._updateBound);\r\n  }\r\n\r\n  private _reset() {\r\n    this._cancelAnimationFrame();\r\n    this._last = 0;\r\n    this._currentPosition = 0;\r\n  }\r\n\r\n  private _resize() {\r\n    console.error('Not implemented yet');\r\n  }\r\n\r\n  private _container(callBack: TResultCallback) {\r\n    callBack(this._containerElement);\r\n  }\r\n\r\n  private _cancelAnimationFrame() {\r\n    if (this._requestID) {\r\n      cancelAnimationFrame(this._requestID);\r\n      this._requestID = -1;\r\n      this._last = 0;\r\n      this._currentPosition = 0;\r\n    }\r\n  }\r\n\r\n  init(): Promise<any> {\r\n    this._addEventListeners();\r\n    this._currentPlaylistItem = this._playlist[0];\r\n    this._containerElement = $(this._currentPlaylistItem.selector);\r\n\r\n    if (!this._containerElement.length) {\r\n      throw new Error(`timeline selector '${this._currentPlaylistItem.selector}' not found`);\r\n    }\r\n\r\n    const promise = new Promise((resolve) => {\r\n      resolve();\r\n    });\r\n\r\n    return promise;\r\n  }\r\n\r\n  destroy() {\r\n    this.stop();\r\n    this._eventbusListeners.forEach((func) => func());\r\n    this._containerElement = undefined;\r\n  }\r\n\r\n  toggleplay() {\r\n    if (this._playState !== 'running') {\r\n      this.start();\r\n    } else {\r\n      this.pause();\r\n    }\r\n  }\r\n\r\n  start() {\r\n    this._start();\r\n    this.eventbus.broadcast(TimelineEventNames.PLAY);\r\n  }\r\n\r\n  stop() {\r\n    this._cancelAnimationFrame();\r\n    this._playState = 'stopped';\r\n    this.eventbus.broadcast(TimelineEventNames.STOP);\r\n  }\r\n\r\n  pause() {\r\n    this._playState = 'paused';\r\n    this.eventbus.broadcast(TimelineEventNames.PAUSE);\r\n  }\r\n\r\n  seek(position: number) {\r\n    if (position < 0 || position > this._currentPlaylistItem.duration) {\r\n      return;\r\n    }\r\n\r\n    this.eventbus.broadcast(TimelineEventNames.SEEK, [position, this._currentPosition, this.getDuration()]);\r\n    this._currentPosition = position;\r\n    this.eventbus.broadcast(TimelineEventNames.SEEKED, [this.getPosition(), this.getDuration()]);\r\n    this.eventbus.broadcast(TimelineEventNames.TIME, [{ position: this.getPosition() }]);\r\n    this.eventbus.broadcast(TimelineEventNames.POSITION_UPDATE, [\r\n      { position: this._currentPosition, duration: this._currentPlaylistItem.duration },\r\n    ]);\r\n  }\r\n\r\n  getPosition() {\r\n    return this._currentPosition;\r\n  }\r\n\r\n  getDuration() {\r\n    return this._currentPlaylistItem.duration;\r\n  }\r\n\r\n  requestDurationHandler(callBack: TResultCallback) {\r\n    callBack(this._currentPlaylistItem.duration);\r\n  }\r\n}\r\n","/*!\n * MediaElement.js\n * http://www.mediaelementjs.com/\n *\n * Wrapper that mimics native HTML5 MediaElement (audio and video)\n * using a variety of technologies (pure JavaScript, Flash, iframe)\n *\n * Copyright 2010-2017, John Dyer (http://j.hn/)\n * License: MIT\n *\n */(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(_dereq_,module,exports){\n\n},{}],2:[function(_dereq_,module,exports){\n(function (global){\nvar topLevel = typeof global !== 'undefined' ? global :\n    typeof window !== 'undefined' ? window : {}\nvar minDoc = _dereq_(1);\n\nvar doccy;\n\nif (typeof document !== 'undefined') {\n    doccy = document;\n} else {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n    if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n}\n\nmodule.exports = doccy;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"1\":1}],3:[function(_dereq_,module,exports){\n(function (global){\nvar win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],4:[function(_dereq_,module,exports){\n(function (root) {\n\n  // Store setTimeout reference so promise-polyfill will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var setTimeoutFunc = setTimeout;\n\n  function noop() {}\n  \n  // Polyfill for Function.prototype.bind\n  function bind(fn, thisArg) {\n    return function () {\n      fn.apply(thisArg, arguments);\n    };\n  }\n\n  function Promise(fn) {\n    if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n    if (typeof fn !== 'function') throw new TypeError('not a function');\n    this._state = 0;\n    this._handled = false;\n    this._value = undefined;\n    this._deferreds = [];\n\n    doResolve(fn, this);\n  }\n\n  function handle(self, deferred) {\n    while (self._state === 3) {\n      self = self._value;\n    }\n    if (self._state === 0) {\n      self._deferreds.push(deferred);\n      return;\n    }\n    self._handled = true;\n    Promise._immediateFn(function () {\n      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n      if (cb === null) {\n        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n        return;\n      }\n      var ret;\n      try {\n        ret = cb(self._value);\n      } catch (e) {\n        reject(deferred.promise, e);\n        return;\n      }\n      resolve(deferred.promise, ret);\n    });\n  }\n\n  function resolve(self, newValue) {\n    try {\n      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n        var then = newValue.then;\n        if (newValue instanceof Promise) {\n          self._state = 3;\n          self._value = newValue;\n          finale(self);\n          return;\n        } else if (typeof then === 'function') {\n          doResolve(bind(then, newValue), self);\n          return;\n        }\n      }\n      self._state = 1;\n      self._value = newValue;\n      finale(self);\n    } catch (e) {\n      reject(self, e);\n    }\n  }\n\n  function reject(self, newValue) {\n    self._state = 2;\n    self._value = newValue;\n    finale(self);\n  }\n\n  function finale(self) {\n    if (self._state === 2 && self._deferreds.length === 0) {\n      Promise._immediateFn(function() {\n        if (!self._handled) {\n          Promise._unhandledRejectionFn(self._value);\n        }\n      });\n    }\n\n    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n      handle(self, self._deferreds[i]);\n    }\n    self._deferreds = null;\n  }\n\n  function Handler(onFulfilled, onRejected, promise) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.promise = promise;\n  }\n\n  /**\n   * Take a potentially misbehaving resolver function and make sure\n   * onFulfilled and onRejected are only called once.\n   *\n   * Makes no guarantees about asynchrony.\n   */\n  function doResolve(fn, self) {\n    var done = false;\n    try {\n      fn(function (value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      }, function (reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      });\n    } catch (ex) {\n      if (done) return;\n      done = true;\n      reject(self, ex);\n    }\n  }\n\n  Promise.prototype['catch'] = function (onRejected) {\n    return this.then(null, onRejected);\n  };\n\n  Promise.prototype.then = function (onFulfilled, onRejected) {\n    var prom = new (this.constructor)(noop);\n\n    handle(this, new Handler(onFulfilled, onRejected, prom));\n    return prom;\n  };\n\n  Promise.all = function (arr) {\n    var args = Array.prototype.slice.call(arr);\n\n    return new Promise(function (resolve, reject) {\n      if (args.length === 0) return resolve([]);\n      var remaining = args.length;\n\n      function res(i, val) {\n        try {\n          if (val && (typeof val === 'object' || typeof val === 'function')) {\n            var then = val.then;\n            if (typeof then === 'function') {\n              then.call(val, function (val) {\n                res(i, val);\n              }, reject);\n              return;\n            }\n          }\n          args[i] = val;\n          if (--remaining === 0) {\n            resolve(args);\n          }\n        } catch (ex) {\n          reject(ex);\n        }\n      }\n\n      for (var i = 0; i < args.length; i++) {\n        res(i, args[i]);\n      }\n    });\n  };\n\n  Promise.resolve = function (value) {\n    if (value && typeof value === 'object' && value.constructor === Promise) {\n      return value;\n    }\n\n    return new Promise(function (resolve) {\n      resolve(value);\n    });\n  };\n\n  Promise.reject = function (value) {\n    return new Promise(function (resolve, reject) {\n      reject(value);\n    });\n  };\n\n  Promise.race = function (values) {\n    return new Promise(function (resolve, reject) {\n      for (var i = 0, len = values.length; i < len; i++) {\n        values[i].then(resolve, reject);\n      }\n    });\n  };\n\n  // Use polyfill for setImmediate for performance gains\n  Promise._immediateFn = (typeof setImmediate === 'function' && function (fn) { setImmediate(fn); }) ||\n    function (fn) {\n      setTimeoutFunc(fn, 0);\n    };\n\n  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n    if (typeof console !== 'undefined' && console) {\n      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n    }\n  };\n\n  /**\n   * Set the immediate function to execute callbacks\n   * @param fn {function} Function to execute\n   * @deprecated\n   */\n  Promise._setImmediateFn = function _setImmediateFn(fn) {\n    Promise._immediateFn = fn;\n  };\n\n  /**\n   * Change the function to execute on unhandled rejection\n   * @param {function} fn Function to execute on unhandled rejection\n   * @deprecated\n   */\n  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n    Promise._unhandledRejectionFn = fn;\n  };\n  \n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = Promise;\n  } else if (!root.Promise) {\n    root.Promise = Promise;\n  }\n\n})(this);\n\n},{}],5:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _en = _dereq_(15);\n\nvar _general = _dereq_(27);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar i18n = { lang: 'en', en: _en.EN };\n\ni18n.language = function () {\n\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\targs[_key] = arguments[_key];\n\t}\n\n\tif (args !== null && args !== undefined && args.length) {\n\n\t\tif (typeof args[0] !== 'string') {\n\t\t\tthrow new TypeError('Language code must be a string value');\n\t\t}\n\n\t\tif (!/^[a-z]{2,3}((\\-|_)[a-z]{2})?$/i.test(args[0])) {\n\t\t\tthrow new TypeError('Language code must have format 2-3 letters and. optionally, hyphen, underscore followed by 2 more letters');\n\t\t}\n\n\t\ti18n.lang = args[0];\n\n\t\tif (i18n[args[0]] === undefined) {\n\t\t\targs[1] = args[1] !== null && args[1] !== undefined && _typeof(args[1]) === 'object' ? args[1] : {};\n\t\t\ti18n[args[0]] = !(0, _general.isObjectEmpty)(args[1]) ? args[1] : _en.EN;\n\t\t} else if (args[1] !== null && args[1] !== undefined && _typeof(args[1]) === 'object') {\n\t\t\ti18n[args[0]] = args[1];\n\t\t}\n\t}\n\n\treturn i18n.lang;\n};\n\ni18n.t = function (message) {\n\tvar pluralParam = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\n\tif (typeof message === 'string' && message.length) {\n\n\t\tvar str = void 0,\n\t\t    pluralForm = void 0;\n\n\t\tvar language = i18n.language();\n\n\t\tvar _plural = function _plural(input, number, form) {\n\n\t\t\tif ((typeof input === 'undefined' ? 'undefined' : _typeof(input)) !== 'object' || typeof number !== 'number' || typeof form !== 'number') {\n\t\t\t\treturn input;\n\t\t\t}\n\n\t\t\tvar _pluralForms = function () {\n\t\t\t\treturn [function () {\n\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t}, function () {\n\t\t\t\t\treturn (arguments.length <= 0 ? undefined : arguments[0]) === 1 ? arguments.length <= 1 ? undefined : arguments[1] : arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t}, function () {\n\t\t\t\t\treturn (arguments.length <= 0 ? undefined : arguments[0]) === 0 || (arguments.length <= 0 ? undefined : arguments[0]) === 1 ? arguments.length <= 1 ? undefined : arguments[1] : arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) % 10 === 1 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 !== 11) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) !== 0) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1 || (arguments.length <= 0 ? undefined : arguments[0]) === 11) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 2 || (arguments.length <= 0 ? undefined : arguments[0]) === 12) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) > 2 && (arguments.length <= 0 ? undefined : arguments[0]) < 20) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 0 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 > 0 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 < 20) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) % 10 === 1 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 !== 11) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 10 >= 2 && ((arguments.length <= 0 ? undefined : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 20)) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn [3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) % 10 === 1 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 !== 11) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 10 >= 2 && (arguments.length <= 0 ? undefined : arguments[0]) % 10 <= 4 && ((arguments.length <= 0 ? undefined : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 20)) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) >= 2 && (arguments.length <= 0 ? undefined : arguments[0]) <= 4) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 10 >= 2 && (arguments.length <= 0 ? undefined : arguments[0]) % 10 <= 4 && ((arguments.length <= 0 ? undefined : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 20)) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) % 100 === 1) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 100 === 2) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 100 === 3 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 === 4) {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 2) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) > 2 && (arguments.length <= 0 ? undefined : arguments[0]) < 7) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) > 6 && (arguments.length <= 0 ? undefined : arguments[0]) < 11) {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 5 ? undefined : arguments[5];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 0) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 2) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 3 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 <= 10) {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 11) {\n\t\t\t\t\t\treturn arguments.length <= 5 ? undefined : arguments[5];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 6 ? undefined : arguments[6];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 0 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 > 1 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 < 11) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 100 > 10 && (arguments.length <= 0 ? undefined : arguments[0]) % 100 < 20) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) % 10 === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 10 === 2) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\treturn (arguments.length <= 0 ? undefined : arguments[0]) !== 11 && (arguments.length <= 0 ? undefined : arguments[0]) % 10 === 1 ? arguments.length <= 1 ? undefined : arguments[1] : arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) % 10 >= 2 && (arguments.length <= 0 ? undefined : arguments[0]) % 10 <= 4 && ((arguments.length <= 0 ? undefined : arguments[0]) % 100 < 10 || (arguments.length <= 0 ? undefined : arguments[0]) % 100 >= 20)) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 2) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) !== 8 && (arguments.length <= 0 ? undefined : arguments[0]) !== 11) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\treturn (arguments.length <= 0 ? undefined : arguments[0]) === 0 ? arguments.length <= 1 ? undefined : arguments[1] : arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 2) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 3) {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 4 ? undefined : arguments[4];\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\tif ((arguments.length <= 0 ? undefined : arguments[0]) === 0) {\n\t\t\t\t\t\treturn arguments.length <= 1 ? undefined : arguments[1];\n\t\t\t\t\t} else if ((arguments.length <= 0 ? undefined : arguments[0]) === 1) {\n\t\t\t\t\t\treturn arguments.length <= 2 ? undefined : arguments[2];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn arguments.length <= 3 ? undefined : arguments[3];\n\t\t\t\t\t}\n\t\t\t\t}];\n\t\t\t}();\n\n\t\t\treturn _pluralForms[form].apply(null, [number].concat(input));\n\t\t};\n\n\t\tif (i18n[language] !== undefined) {\n\t\t\tstr = i18n[language][message];\n\t\t\tif (pluralParam !== null && typeof pluralParam === 'number') {\n\t\t\t\tpluralForm = i18n[language]['mejs.plural-form'];\n\t\t\t\tstr = _plural.apply(null, [str, pluralParam, pluralForm]);\n\t\t\t}\n\t\t}\n\n\t\tif (!str && i18n.en) {\n\t\t\tstr = i18n.en[message];\n\t\t\tif (pluralParam !== null && typeof pluralParam === 'number') {\n\t\t\t\tpluralForm = i18n.en['mejs.plural-form'];\n\t\t\t\tstr = _plural.apply(null, [str, pluralParam, pluralForm]);\n\t\t\t}\n\t\t}\n\n\t\tstr = str || message;\n\n\t\tif (pluralParam !== null && typeof pluralParam === 'number') {\n\t\t\tstr = str.replace('%1', pluralParam);\n\t\t}\n\n\t\treturn (0, _general.escapeHTML)(str);\n\t}\n\n\treturn message;\n};\n\n_mejs2.default.i18n = i18n;\n\nif (typeof mejsL10n !== 'undefined') {\n\t_mejs2.default.i18n.language(mejsL10n.language, mejsL10n.strings);\n}\n\nexports.default = i18n;\n\n},{\"15\":15,\"27\":27,\"7\":7}],6:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _general = _dereq_(27);\n\nvar _media2 = _dereq_(28);\n\nvar _renderer = _dereq_(8);\n\nvar _constants = _dereq_(25);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MediaElement = function MediaElement(idOrNode, options, sources) {\n\tvar _this = this;\n\n\t_classCallCheck(this, MediaElement);\n\n\tvar t = this;\n\n\tsources = Array.isArray(sources) ? sources : null;\n\n\tt.defaults = {\n\t\trenderers: [],\n\n\t\tfakeNodeName: 'mediaelementwrapper',\n\n\t\tpluginPath: 'build/',\n\n\t\tshimScriptAccess: 'sameDomain'\n\t};\n\n\toptions = Object.assign(t.defaults, options);\n\n\tt.mediaElement = _document2.default.createElement(options.fakeNodeName);\n\n\tvar id = idOrNode,\n\t    error = false;\n\n\tif (typeof idOrNode === 'string') {\n\t\tt.mediaElement.originalNode = _document2.default.getElementById(idOrNode);\n\t} else {\n\t\tt.mediaElement.originalNode = idOrNode;\n\t\tid = idOrNode.id;\n\t}\n\n\tif (t.mediaElement.originalNode === undefined || t.mediaElement.originalNode === null) {\n\t\treturn null;\n\t}\n\n\tt.mediaElement.options = options;\n\tid = id || 'mejs_' + Math.random().toString().slice(2);\n\n\tt.mediaElement.originalNode.setAttribute('id', id + '_from_mejs');\n\n\tvar tagName = t.mediaElement.originalNode.tagName.toLowerCase();\n\tif (['video', 'audio'].indexOf(tagName) > -1 && !t.mediaElement.originalNode.getAttribute('preload')) {\n\t\tt.mediaElement.originalNode.setAttribute('preload', 'none');\n\t}\n\n\tt.mediaElement.originalNode.parentNode.insertBefore(t.mediaElement, t.mediaElement.originalNode);\n\n\tt.mediaElement.appendChild(t.mediaElement.originalNode);\n\n\tvar processURL = function processURL(url, type) {\n\t\tif (_window2.default.location.protocol === 'https:' && url.indexOf('http:') === 0 && _constants.IS_IOS && _mejs2.default.html5media.mediaTypes.indexOf(type) > -1) {\n\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\txhr.onreadystatechange = function () {\n\t\t\t\tif (this.readyState === 4 && this.status === 200) {\n\t\t\t\t\tvar _url = _window2.default.URL || _window2.default.webkitURL,\n\t\t\t\t\t    blobUrl = _url.createObjectURL(this.response);\n\t\t\t\t\tt.mediaElement.originalNode.setAttribute('src', blobUrl);\n\t\t\t\t\treturn blobUrl;\n\t\t\t\t}\n\t\t\t\treturn url;\n\t\t\t};\n\t\t\txhr.open('GET', url);\n\t\t\txhr.responseType = 'blob';\n\t\t\txhr.send();\n\t\t}\n\n\t\treturn url;\n\t};\n\n\tvar mediaFiles = void 0;\n\n\tif (sources !== null) {\n\t\tmediaFiles = sources;\n\t} else if (t.mediaElement.originalNode !== null) {\n\n\t\tmediaFiles = [];\n\n\t\tswitch (t.mediaElement.originalNode.nodeName.toLowerCase()) {\n\t\t\tcase 'iframe':\n\t\t\t\tmediaFiles.push({\n\t\t\t\t\ttype: '',\n\t\t\t\t\tsrc: t.mediaElement.originalNode.getAttribute('src')\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'audio':\n\t\t\tcase 'video':\n\t\t\t\tvar _sources = t.mediaElement.originalNode.children.length,\n\t\t\t\t    nodeSource = t.mediaElement.originalNode.getAttribute('src');\n\n\t\t\t\tif (nodeSource) {\n\t\t\t\t\tvar node = t.mediaElement.originalNode,\n\t\t\t\t\t    type = (0, _media2.formatType)(nodeSource, node.getAttribute('type'));\n\t\t\t\t\tmediaFiles.push({\n\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\tsrc: processURL(nodeSource, type)\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0; i < _sources; i++) {\n\t\t\t\t\tvar n = t.mediaElement.originalNode.children[i];\n\t\t\t\t\tif (n.tagName.toLowerCase() === 'source') {\n\t\t\t\t\t\tvar src = n.getAttribute('src'),\n\t\t\t\t\t\t    _type = (0, _media2.formatType)(src, n.getAttribute('type'));\n\t\t\t\t\t\tmediaFiles.push({ type: _type, src: processURL(src, _type) });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tt.mediaElement.id = id;\n\tt.mediaElement.renderers = {};\n\tt.mediaElement.events = {};\n\tt.mediaElement.promises = [];\n\tt.mediaElement.renderer = null;\n\tt.mediaElement.rendererName = null;\n\n\tt.mediaElement.changeRenderer = function (rendererName, mediaFiles) {\n\n\t\tvar t = _this,\n\t\t    media = Object.keys(mediaFiles[0]).length > 2 ? mediaFiles[0] : mediaFiles[0].src;\n\n\t\tif (t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null && t.mediaElement.renderer.name === rendererName) {\n\t\t\tt.mediaElement.renderer.pause();\n\t\t\tif (t.mediaElement.renderer.stop) {\n\t\t\t\tt.mediaElement.renderer.stop();\n\t\t\t}\n\t\t\tt.mediaElement.renderer.show();\n\t\t\tt.mediaElement.renderer.setSrc(media);\n\t\t\treturn true;\n\t\t}\n\n\t\tif (t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null) {\n\t\t\tt.mediaElement.renderer.pause();\n\t\t\tif (t.mediaElement.renderer.stop) {\n\t\t\t\tt.mediaElement.renderer.stop();\n\t\t\t}\n\t\t\tt.mediaElement.renderer.hide();\n\t\t}\n\n\t\tvar newRenderer = t.mediaElement.renderers[rendererName],\n\t\t    newRendererType = null;\n\n\t\tif (newRenderer !== undefined && newRenderer !== null) {\n\t\t\tnewRenderer.show();\n\t\t\tnewRenderer.setSrc(media);\n\t\t\tt.mediaElement.renderer = newRenderer;\n\t\t\tt.mediaElement.rendererName = rendererName;\n\t\t\treturn true;\n\t\t}\n\n\t\tvar rendererArray = t.mediaElement.options.renderers.length ? t.mediaElement.options.renderers : _renderer.renderer.order;\n\n\t\tfor (var _i = 0, total = rendererArray.length; _i < total; _i++) {\n\t\t\tvar index = rendererArray[_i];\n\n\t\t\tif (index === rendererName) {\n\t\t\t\tvar rendererList = _renderer.renderer.renderers;\n\t\t\t\tnewRendererType = rendererList[index];\n\n\t\t\t\tvar renderOptions = Object.assign(newRendererType.options, t.mediaElement.options);\n\t\t\t\tnewRenderer = newRendererType.create(t.mediaElement, renderOptions, mediaFiles);\n\t\t\t\tnewRenderer.name = rendererName;\n\n\t\t\t\tt.mediaElement.renderers[newRendererType.name] = newRenderer;\n\t\t\t\tt.mediaElement.renderer = newRenderer;\n\t\t\t\tt.mediaElement.rendererName = rendererName;\n\t\t\t\tnewRenderer.show();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tt.mediaElement.setSize = function (width, height) {\n\t\tif (t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null) {\n\t\t\tt.mediaElement.renderer.setSize(width, height);\n\t\t}\n\t};\n\n\tt.mediaElement.generateError = function (message, urlList) {\n\t\tmessage = message || '';\n\t\turlList = Array.isArray(urlList) ? urlList : [];\n\t\tvar event = (0, _general.createEvent)('error', t.mediaElement);\n\t\tevent.message = message;\n\t\tevent.urls = urlList;\n\t\tt.mediaElement.dispatchEvent(event);\n\t\terror = true;\n\t};\n\n\tvar props = _mejs2.default.html5media.properties,\n\t    methods = _mejs2.default.html5media.methods,\n\t    addProperty = function addProperty(obj, name, onGet, onSet) {\n\t\tvar oldValue = obj[name];\n\t\tvar getFn = function getFn() {\n\t\t\treturn onGet.apply(obj, [oldValue]);\n\t\t},\n\t\t    setFn = function setFn(newValue) {\n\t\t\toldValue = onSet.apply(obj, [newValue]);\n\t\t\treturn oldValue;\n\t\t};\n\n\t\tObject.defineProperty(obj, name, {\n\t\t\tget: getFn,\n\t\t\tset: setFn\n\t\t});\n\t},\n\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\tif (propName !== 'src') {\n\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1),\n\t\t\t    getFn = function getFn() {\n\t\t\t\treturn t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null && typeof t.mediaElement.renderer['get' + capName] === 'function' ? t.mediaElement.renderer['get' + capName]() : null;\n\t\t\t},\n\t\t\t    setFn = function setFn(value) {\n\t\t\t\tif (t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null && typeof t.mediaElement.renderer['set' + capName] === 'function') {\n\t\t\t\t\tt.mediaElement.renderer['set' + capName](value);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\taddProperty(t.mediaElement, propName, getFn, setFn);\n\t\t\tt.mediaElement['get' + capName] = getFn;\n\t\t\tt.mediaElement['set' + capName] = setFn;\n\t\t}\n\t},\n\t    getSrc = function getSrc() {\n\t\treturn t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null ? t.mediaElement.renderer.getSrc() : null;\n\t},\n\t    setSrc = function setSrc(value) {\n\t\tvar mediaFiles = [];\n\n\t\tif (typeof value === 'string') {\n\t\t\tmediaFiles.push({\n\t\t\t\tsrc: value,\n\t\t\t\ttype: value ? (0, _media2.getTypeFromFile)(value) : ''\n\t\t\t});\n\t\t} else if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.src !== undefined) {\n\t\t\tvar _src = (0, _media2.absolutizeUrl)(value.src),\n\t\t\t    _type2 = value.type,\n\t\t\t    media = Object.assign(value, {\n\t\t\t\tsrc: _src,\n\t\t\t\ttype: (_type2 === '' || _type2 === null || _type2 === undefined) && _src ? (0, _media2.getTypeFromFile)(_src) : _type2\n\t\t\t});\n\t\t\tmediaFiles.push(media);\n\t\t} else if (Array.isArray(value)) {\n\t\t\tfor (var _i2 = 0, total = value.length; _i2 < total; _i2++) {\n\n\t\t\t\tvar _src2 = (0, _media2.absolutizeUrl)(value[_i2].src),\n\t\t\t\t    _type3 = value[_i2].type,\n\t\t\t\t    _media = Object.assign(value[_i2], {\n\t\t\t\t\tsrc: _src2,\n\t\t\t\t\ttype: (_type3 === '' || _type3 === null || _type3 === undefined) && _src2 ? (0, _media2.getTypeFromFile)(_src2) : _type3\n\t\t\t\t});\n\n\t\t\t\tmediaFiles.push(_media);\n\t\t\t}\n\t\t}\n\n\t\tvar renderInfo = _renderer.renderer.select(mediaFiles, t.mediaElement.options.renderers.length ? t.mediaElement.options.renderers : []),\n\t\t    event = void 0;\n\n\t\tif (!t.mediaElement.paused && !(t.mediaElement.src == null || t.mediaElement.src === '')) {\n\t\t\tt.mediaElement.pause();\n\t\t\tevent = (0, _general.createEvent)('pause', t.mediaElement);\n\t\t\tt.mediaElement.dispatchEvent(event);\n\t\t}\n\t\tt.mediaElement.originalNode.src = mediaFiles[0].src || '';\n\n\t\tif (renderInfo === null && mediaFiles[0].src) {\n\t\t\tt.mediaElement.generateError('No renderer found', mediaFiles);\n\t\t\treturn;\n\t\t}\n\n\t\tvar shouldChangeRenderer = !(mediaFiles[0].src == null || mediaFiles[0].src === '');\n\t\treturn shouldChangeRenderer ? t.mediaElement.changeRenderer(renderInfo.rendererName, mediaFiles) : null;\n\t},\n\t    triggerAction = function triggerAction(methodName, args) {\n\t\ttry {\n\t\t\tif (methodName === 'play' && (t.mediaElement.rendererName === 'native_dash' || t.mediaElement.rendererName === 'native_hls' || t.mediaElement.rendererName === 'vimeo_iframe')) {\n\t\t\t\tvar response = t.mediaElement.renderer[methodName](args);\n\t\t\t\tif (response && typeof response.then === 'function') {\n\t\t\t\t\tresponse.catch(function () {\n\t\t\t\t\t\tif (t.mediaElement.paused) {\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar tmpResponse = t.mediaElement.renderer.play();\n\t\t\t\t\t\t\t\tif (tmpResponse !== undefined) {\n\t\t\t\t\t\t\t\t\ttmpResponse.catch(function () {\n\t\t\t\t\t\t\t\t\t\tif (!t.mediaElement.renderer.paused) {\n\t\t\t\t\t\t\t\t\t\t\tt.mediaElement.renderer.pause();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 150);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tt.mediaElement.renderer[methodName](args);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tt.mediaElement.generateError(e, mediaFiles);\n\t\t}\n\t},\n\t    assignMethods = function assignMethods(methodName) {\n\t\tt.mediaElement[methodName] = function () {\n\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\targs[_key] = arguments[_key];\n\t\t\t}\n\n\t\t\tif (t.mediaElement.renderer !== undefined && t.mediaElement.renderer !== null && typeof t.mediaElement.renderer[methodName] === 'function') {\n\t\t\t\tif (t.mediaElement.promises.length) {\n\t\t\t\t\tPromise.all(t.mediaElement.promises).then(function () {\n\t\t\t\t\t\ttriggerAction(methodName, args);\n\t\t\t\t\t}).catch(function (e) {\n\t\t\t\t\t\tt.mediaElement.generateError(e, mediaFiles);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttriggerAction(methodName, args);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t};\n\n\taddProperty(t.mediaElement, 'src', getSrc, setSrc);\n\tt.mediaElement.getSrc = getSrc;\n\tt.mediaElement.setSrc = setSrc;\n\n\tfor (var _i3 = 0, total = props.length; _i3 < total; _i3++) {\n\t\tassignGettersSetters(props[_i3]);\n\t}\n\n\tfor (var _i4 = 0, _total = methods.length; _i4 < _total; _i4++) {\n\t\tassignMethods(methods[_i4]);\n\t}\n\n\tt.mediaElement.addEventListener = function (eventName, callback) {\n\t\tt.mediaElement.events[eventName] = t.mediaElement.events[eventName] || [];\n\n\t\tt.mediaElement.events[eventName].push(callback);\n\t};\n\tt.mediaElement.removeEventListener = function (eventName, callback) {\n\t\tif (!eventName) {\n\t\t\tt.mediaElement.events = {};\n\t\t\treturn true;\n\t\t}\n\n\t\tvar callbacks = t.mediaElement.events[eventName];\n\n\t\tif (!callbacks) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (!callback) {\n\t\t\tt.mediaElement.events[eventName] = [];\n\t\t\treturn true;\n\t\t}\n\n\t\tfor (var _i5 = 0; _i5 < callbacks.length; _i5++) {\n\t\t\tif (callbacks[_i5] === callback) {\n\t\t\t\tt.mediaElement.events[eventName].splice(_i5, 1);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\tt.mediaElement.dispatchEvent = function (event) {\n\t\tvar callbacks = t.mediaElement.events[event.type];\n\t\tif (callbacks) {\n\t\t\tfor (var _i6 = 0; _i6 < callbacks.length; _i6++) {\n\t\t\t\tcallbacks[_i6].apply(null, [event]);\n\t\t\t}\n\t\t}\n\t};\n\n\tt.mediaElement.destroy = function () {\n\t\tvar mediaElement = t.mediaElement.originalNode.cloneNode(true);\n\t\tvar wrapper = t.mediaElement.parentElement;\n\t\tmediaElement.removeAttribute('id');\n\t\tmediaElement.remove();\n\t\tt.mediaElement.remove();\n\t\twrapper.appendChild(mediaElement);\n\t};\n\n\tif (mediaFiles.length) {\n\t\tt.mediaElement.src = mediaFiles;\n\t}\n\n\tif (t.mediaElement.promises.length) {\n\t\tPromise.all(t.mediaElement.promises).then(function () {\n\t\t\tif (t.mediaElement.options.success) {\n\t\t\t\tt.mediaElement.options.success(t.mediaElement, t.mediaElement.originalNode);\n\t\t\t}\n\t\t}).catch(function () {\n\t\t\tif (error && t.mediaElement.options.error) {\n\t\t\t\tt.mediaElement.options.error(t.mediaElement, t.mediaElement.originalNode);\n\t\t\t}\n\t\t});\n\t} else {\n\t\tif (t.mediaElement.options.success) {\n\t\t\tt.mediaElement.options.success(t.mediaElement, t.mediaElement.originalNode);\n\t\t}\n\n\t\tif (error && t.mediaElement.options.error) {\n\t\t\tt.mediaElement.options.error(t.mediaElement, t.mediaElement.originalNode);\n\t\t}\n\t}\n\n\treturn t.mediaElement;\n};\n\n_window2.default.MediaElement = MediaElement;\n_mejs2.default.MediaElement = MediaElement;\n\nexports.default = MediaElement;\n\n},{\"2\":2,\"25\":25,\"27\":27,\"28\":28,\"3\":3,\"7\":7,\"8\":8}],7:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mejs = {};\n\nmejs.version = '4.2.16';\n\nmejs.html5media = {\n\tproperties: ['volume', 'src', 'currentTime', 'muted', 'duration', 'paused', 'ended', 'buffered', 'error', 'networkState', 'readyState', 'seeking', 'seekable', 'currentSrc', 'preload', 'bufferedBytes', 'bufferedTime', 'initialTime', 'startOffsetTime', 'defaultPlaybackRate', 'playbackRate', 'played', 'autoplay', 'loop', 'controls'],\n\treadOnlyProperties: ['duration', 'paused', 'ended', 'buffered', 'error', 'networkState', 'readyState', 'seeking', 'seekable'],\n\n\tmethods: ['load', 'play', 'pause', 'canPlayType'],\n\n\tevents: ['loadstart', 'durationchange', 'loadedmetadata', 'loadeddata', 'progress', 'canplay', 'canplaythrough', 'suspend', 'abort', 'error', 'emptied', 'stalled', 'play', 'playing', 'pause', 'waiting', 'seeking', 'seeked', 'timeupdate', 'ended', 'ratechange', 'volumechange'],\n\n\tmediaTypes: ['audio/mp3', 'audio/ogg', 'audio/oga', 'audio/wav', 'audio/x-wav', 'audio/wave', 'audio/x-pn-wav', 'audio/mpeg', 'audio/mp4', 'video/mp4', 'video/webm', 'video/ogg', 'video/ogv']\n};\n\n_window2.default.mejs = mejs;\n\nexports.default = mejs;\n\n},{\"3\":3}],8:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.renderer = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Renderer = function () {\n\tfunction Renderer() {\n\t\t_classCallCheck(this, Renderer);\n\n\t\tthis.renderers = {};\n\t\tthis.order = [];\n\t}\n\n\t_createClass(Renderer, [{\n\t\tkey: 'add',\n\t\tvalue: function add(renderer) {\n\t\t\tif (renderer.name === undefined) {\n\t\t\t\tthrow new TypeError('renderer must contain at least `name` property');\n\t\t\t}\n\n\t\t\tthis.renderers[renderer.name] = renderer;\n\t\t\tthis.order.push(renderer.name);\n\t\t}\n\t}, {\n\t\tkey: 'select',\n\t\tvalue: function select(mediaFiles) {\n\t\t\tvar renderers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n\t\t\tvar renderersLength = renderers.length;\n\n\t\t\trenderers = renderers.length ? renderers : this.order;\n\n\t\t\tif (!renderersLength) {\n\t\t\t\tvar rendererIndicator = [/^(html5|native)/i, /^flash/i, /iframe$/i],\n\t\t\t\t    rendererRanking = function rendererRanking(renderer) {\n\t\t\t\t\tfor (var i = 0, total = rendererIndicator.length; i < total; i++) {\n\t\t\t\t\t\tif (rendererIndicator[i].test(renderer)) {\n\t\t\t\t\t\t\treturn i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn rendererIndicator.length;\n\t\t\t\t};\n\n\t\t\t\trenderers.sort(function (a, b) {\n\t\t\t\t\treturn rendererRanking(a) - rendererRanking(b);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (var i = 0, total = renderers.length; i < total; i++) {\n\t\t\t\tvar key = renderers[i],\n\t\t\t\t    _renderer = this.renderers[key];\n\n\t\t\t\tif (_renderer !== null && _renderer !== undefined) {\n\t\t\t\t\tfor (var j = 0, jl = mediaFiles.length; j < jl; j++) {\n\t\t\t\t\t\tif (typeof _renderer.canPlayType === 'function' && typeof mediaFiles[j].type === 'string' && _renderer.canPlayType(mediaFiles[j].type)) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\trendererName: _renderer.name,\n\t\t\t\t\t\t\t\tsrc: mediaFiles[j].src\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\t}, {\n\t\tkey: 'order',\n\t\tset: function set(order) {\n\t\t\tif (!Array.isArray(order)) {\n\t\t\t\tthrow new TypeError('order must be an array of strings.');\n\t\t\t}\n\n\t\t\tthis._order = order;\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this._order;\n\t\t}\n\t}, {\n\t\tkey: 'renderers',\n\t\tset: function set(renderers) {\n\t\t\tif (renderers !== null && (typeof renderers === 'undefined' ? 'undefined' : _typeof(renderers)) !== 'object') {\n\t\t\t\tthrow new TypeError('renderers must be an array of objects.');\n\t\t\t}\n\n\t\t\tthis._renderers = renderers;\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this._renderers;\n\t\t}\n\t}]);\n\n\treturn Renderer;\n}();\n\nvar renderer = exports.renderer = new Renderer();\n\n_mejs2.default.Renderers = renderer;\n\n},{\"7\":7}],9:[function(_dereq_,module,exports){\n'use strict';\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _constants = _dereq_(25);\n\nvar Features = _interopRequireWildcard(_constants);\n\nvar _general = _dereq_(27);\n\nvar _dom = _dereq_(26);\n\nvar _media = _dereq_(28);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tusePluginFullScreen: true,\n\n\tfullscreenText: null,\n\n\tuseFakeFullscreen: false\n});\n\nObject.assign(_player2.default.prototype, {\n\tisFullScreen: false,\n\n\tisNativeFullScreen: false,\n\n\tisInIframe: false,\n\n\tisPluginClickThroughCreated: false,\n\n\tfullscreenMode: '',\n\n\tcontainerSizeTimeout: null,\n\n\tbuildfullscreen: function buildfullscreen(player) {\n\t\tif (!player.isVideo) {\n\t\t\treturn;\n\t\t}\n\n\t\tplayer.isInIframe = _window2.default.location !== _window2.default.parent.location;\n\n\t\tplayer.detectFullscreenMode();\n\n\t\tvar t = this,\n\t\t    fullscreenTitle = (0, _general.isString)(t.options.fullscreenText) ? t.options.fullscreenText : _i18n2.default.t('mejs.fullscreen'),\n\t\t    fullscreenBtn = _document2.default.createElement('div');\n\n\t\tfullscreenBtn.className = t.options.classPrefix + 'button ' + t.options.classPrefix + 'fullscreen-button';\n\t\tfullscreenBtn.innerHTML = '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + fullscreenTitle + '\" aria-label=\"' + fullscreenTitle + '\" tabindex=\"0\"></button>';\n\t\tt.addControlElement(fullscreenBtn, 'fullscreen');\n\n\t\tfullscreenBtn.addEventListener('click', function () {\n\t\t\tvar isFullScreen = Features.HAS_TRUE_NATIVE_FULLSCREEN && Features.IS_FULLSCREEN || player.isFullScreen;\n\n\t\t\tif (isFullScreen) {\n\t\t\t\tplayer.exitFullScreen();\n\t\t\t} else {\n\t\t\t\tplayer.enterFullScreen();\n\t\t\t}\n\t\t});\n\n\t\tplayer.fullscreenBtn = fullscreenBtn;\n\n\t\tt.options.keyActions.push({\n\t\t\tkeys: [70],\n\t\t\taction: function action(player, media, key, event) {\n\t\t\t\tif (!event.ctrlKey) {\n\t\t\t\t\tif (typeof player.enterFullScreen !== 'undefined') {\n\t\t\t\t\t\tif (player.isFullScreen) {\n\t\t\t\t\t\t\tplayer.exitFullScreen();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tplayer.enterFullScreen();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tt.exitFullscreenCallback = function (e) {\n\t\t\tvar key = e.which || e.keyCode || 0;\n\t\t\tif (t.options.enableKeyboard && key === 27 && (Features.HAS_TRUE_NATIVE_FULLSCREEN && Features.IS_FULLSCREEN || t.isFullScreen)) {\n\t\t\t\tplayer.exitFullScreen();\n\t\t\t}\n\t\t};\n\n\t\tt.globalBind('keydown', t.exitFullscreenCallback);\n\n\t\tt.normalHeight = 0;\n\t\tt.normalWidth = 0;\n\n\t\tif (Features.HAS_TRUE_NATIVE_FULLSCREEN) {\n\t\t\tvar fullscreenChanged = function fullscreenChanged() {\n\t\t\t\tif (player.isFullScreen) {\n\t\t\t\t\tif (Features.isFullScreen()) {\n\t\t\t\t\t\tplayer.isNativeFullScreen = true;\n\n\t\t\t\t\t\tplayer.setControlsSize();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tplayer.isNativeFullScreen = false;\n\n\t\t\t\t\t\tplayer.exitFullScreen();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tplayer.globalBind(Features.FULLSCREEN_EVENT_NAME, fullscreenChanged);\n\t\t}\n\t},\n\tcleanfullscreen: function cleanfullscreen(player) {\n\t\tplayer.exitFullScreen();\n\t\tplayer.globalUnbind('keydown', player.exitFullscreenCallback);\n\t},\n\tdetectFullscreenMode: function detectFullscreenMode() {\n\t\tvar t = this,\n\t\t    isNative = t.media.rendererName !== null && /(native|html5)/i.test(t.media.rendererName);\n\n\t\tvar mode = '';\n\n\t\tif (Features.HAS_TRUE_NATIVE_FULLSCREEN && isNative) {\n\t\t\tmode = 'native-native';\n\t\t} else if (Features.HAS_TRUE_NATIVE_FULLSCREEN && !isNative) {\n\t\t\tmode = 'plugin-native';\n\t\t} else if (t.usePluginFullScreen && Features.SUPPORT_POINTER_EVENTS) {\n\t\t\tmode = 'plugin-click';\n\t\t}\n\n\t\tt.fullscreenMode = mode;\n\t\treturn mode;\n\t},\n\tenterFullScreen: function enterFullScreen() {\n\t\tvar t = this,\n\t\t    isNative = t.media.rendererName !== null && /(html5|native)/i.test(t.media.rendererName),\n\t\t    containerStyles = getComputedStyle(t.getElement(t.container));\n\n\t\tif (!t.isVideo) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (t.options.useFakeFullscreen === false && Features.IS_IOS && Features.HAS_IOS_FULLSCREEN && typeof t.media.originalNode.webkitEnterFullscreen === 'function' && t.media.originalNode.canPlayType((0, _media.getTypeFromFile)(t.media.getSrc()))) {\n\t\t\tt.media.originalNode.webkitEnterFullscreen();\n\t\t\treturn;\n\t\t}\n\n\t\t(0, _dom.addClass)(_document2.default.documentElement, t.options.classPrefix + 'fullscreen');\n\t\t(0, _dom.addClass)(t.getElement(t.container), t.options.classPrefix + 'container-fullscreen');\n\n\t\tt.normalHeight = parseFloat(containerStyles.height);\n\t\tt.normalWidth = parseFloat(containerStyles.width);\n\n\t\tif (t.fullscreenMode === 'native-native' || t.fullscreenMode === 'plugin-native') {\n\t\t\tFeatures.requestFullScreen(t.getElement(t.container));\n\n\t\t\tif (t.isInIframe) {\n\t\t\t\tsetTimeout(function checkFullscreen() {\n\n\t\t\t\t\tif (t.isNativeFullScreen) {\n\t\t\t\t\t\tvar percentErrorMargin = 0.002,\n\t\t\t\t\t\t    windowWidth = _window2.default.innerWidth || _document2.default.documentElement.clientWidth || _document2.default.body.clientWidth,\n\t\t\t\t\t\t    screenWidth = screen.width,\n\t\t\t\t\t\t    absDiff = Math.abs(screenWidth - windowWidth),\n\t\t\t\t\t\t    marginError = screenWidth * percentErrorMargin;\n\n\t\t\t\t\t\tif (absDiff > marginError) {\n\t\t\t\t\t\t\tt.exitFullScreen();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetTimeout(checkFullscreen, 500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, 1000);\n\t\t\t}\n\t\t}\n\n\t\tt.getElement(t.container).style.width = '100%';\n\t\tt.getElement(t.container).style.height = '100%';\n\n\t\tt.containerSizeTimeout = setTimeout(function () {\n\t\t\tt.getElement(t.container).style.width = '100%';\n\t\t\tt.getElement(t.container).style.height = '100%';\n\t\t\tt.setControlsSize();\n\t\t}, 500);\n\n\t\tif (isNative) {\n\t\t\tt.node.style.width = '100%';\n\t\t\tt.node.style.height = '100%';\n\t\t} else {\n\t\t\tvar elements = t.getElement(t.container).querySelectorAll('embed, object, video'),\n\t\t\t    _total = elements.length;\n\t\t\tfor (var i = 0; i < _total; i++) {\n\t\t\t\telements[i].style.width = '100%';\n\t\t\t\telements[i].style.height = '100%';\n\t\t\t}\n\t\t}\n\n\t\tif (t.options.setDimensions && typeof t.media.setSize === 'function') {\n\t\t\tt.media.setSize(screen.width, screen.height);\n\t\t}\n\n\t\tvar layers = t.getElement(t.layers).children,\n\t\t    total = layers.length;\n\t\tfor (var _i = 0; _i < total; _i++) {\n\t\t\tlayers[_i].style.width = '100%';\n\t\t\tlayers[_i].style.height = '100%';\n\t\t}\n\n\t\tif (t.fullscreenBtn) {\n\t\t\t(0, _dom.removeClass)(t.fullscreenBtn, t.options.classPrefix + 'fullscreen');\n\t\t\t(0, _dom.addClass)(t.fullscreenBtn, t.options.classPrefix + 'unfullscreen');\n\t\t}\n\n\t\tt.setControlsSize();\n\t\tt.isFullScreen = true;\n\n\t\tvar zoomFactor = Math.min(screen.width / t.width, screen.height / t.height),\n\t\t    captionText = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'captions-text');\n\t\tif (captionText) {\n\t\t\tcaptionText.style.fontSize = zoomFactor * 100 + '%';\n\t\t\tcaptionText.style.lineHeight = 'normal';\n\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'captions-position').style.bottom = (screen.height - t.normalHeight) / 2 - t.getElement(t.controls).offsetHeight / 2 + zoomFactor + 15 + 'px';\n\t\t}\n\t\tvar event = (0, _general.createEvent)('enteredfullscreen', t.getElement(t.container));\n\t\tt.getElement(t.container).dispatchEvent(event);\n\t},\n\texitFullScreen: function exitFullScreen() {\n\t\tvar t = this,\n\t\t    isNative = t.media.rendererName !== null && /(native|html5)/i.test(t.media.rendererName);\n\n\t\tif (!t.isVideo) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearTimeout(t.containerSizeTimeout);\n\n\t\tif (Features.HAS_TRUE_NATIVE_FULLSCREEN && (Features.IS_FULLSCREEN || t.isFullScreen)) {\n\t\t\tFeatures.cancelFullScreen();\n\t\t}\n\n\t\t(0, _dom.removeClass)(_document2.default.documentElement, t.options.classPrefix + 'fullscreen');\n\t\t(0, _dom.removeClass)(t.getElement(t.container), t.options.classPrefix + 'container-fullscreen');\n\n\t\tif (t.options.setDimensions) {\n\t\t\tt.getElement(t.container).style.width = t.normalWidth + 'px';\n\t\t\tt.getElement(t.container).style.height = t.normalHeight + 'px';\n\n\t\t\tif (isNative) {\n\t\t\t\tt.node.style.width = t.normalWidth + 'px';\n\t\t\t\tt.node.style.height = t.normalHeight + 'px';\n\t\t\t} else {\n\t\t\t\tvar elements = t.getElement(t.container).querySelectorAll('embed, object, video'),\n\t\t\t\t    _total2 = elements.length;\n\t\t\t\tfor (var i = 0; i < _total2; i++) {\n\t\t\t\t\telements[i].style.width = t.normalWidth + 'px';\n\t\t\t\t\telements[i].style.height = t.normalHeight + 'px';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof t.media.setSize === 'function') {\n\t\t\t\tt.media.setSize(t.normalWidth, t.normalHeight);\n\t\t\t}\n\n\t\t\tvar layers = t.getElement(t.layers).children,\n\t\t\t    total = layers.length;\n\t\t\tfor (var _i2 = 0; _i2 < total; _i2++) {\n\t\t\t\tlayers[_i2].style.width = t.normalWidth + 'px';\n\t\t\t\tlayers[_i2].style.height = t.normalHeight + 'px';\n\t\t\t}\n\t\t}\n\n\t\tif (t.fullscreenBtn) {\n\t\t\t(0, _dom.removeClass)(t.fullscreenBtn, t.options.classPrefix + 'unfullscreen');\n\t\t\t(0, _dom.addClass)(t.fullscreenBtn, t.options.classPrefix + 'fullscreen');\n\t\t}\n\n\t\tt.setControlsSize();\n\t\tt.isFullScreen = false;\n\n\t\tvar captionText = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'captions-text');\n\t\tif (captionText) {\n\t\t\tcaptionText.style.fontSize = '';\n\t\t\tcaptionText.style.lineHeight = '';\n\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'captions-position').style.bottom = '';\n\t\t}\n\t\tvar event = (0, _general.createEvent)('exitedfullscreen', t.getElement(t.container));\n\t\tt.getElement(t.container).dispatchEvent(event);\n\t}\n});\n\n},{\"16\":16,\"2\":2,\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"5\":5}],10:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _general = _dereq_(27);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tplayText: null,\n\n\tpauseText: null\n});\n\nObject.assign(_player2.default.prototype, {\n\tbuildplaypause: function buildplaypause(player, controls, layers, media) {\n\t\tvar t = this,\n\t\t    op = t.options,\n\t\t    playTitle = (0, _general.isString)(op.playText) ? op.playText : _i18n2.default.t('mejs.play'),\n\t\t    pauseTitle = (0, _general.isString)(op.pauseText) ? op.pauseText : _i18n2.default.t('mejs.pause'),\n\t\t    play = _document2.default.createElement('div');\n\n\t\tplay.className = t.options.classPrefix + 'button ' + t.options.classPrefix + 'playpause-button ' + t.options.classPrefix + 'play';\n\t\tplay.innerHTML = '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + playTitle + '\" aria-label=\"' + pauseTitle + '\" tabindex=\"0\"></button>';\n\t\tplay.addEventListener('click', function () {\n\t\t\tif (t.paused) {\n\t\t\t\tt.play();\n\t\t\t} else {\n\t\t\t\tt.pause();\n\t\t\t}\n\t\t});\n\n\t\tvar playBtn = play.querySelector('button');\n\t\tt.addControlElement(play, 'playpause');\n\n\t\tfunction togglePlayPause(which) {\n\t\t\tif ('play' === which) {\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'play');\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'replay');\n\t\t\t\t(0, _dom.addClass)(play, t.options.classPrefix + 'pause');\n\t\t\t\tplayBtn.setAttribute('title', pauseTitle);\n\t\t\t\tplayBtn.setAttribute('aria-label', pauseTitle);\n\t\t\t} else {\n\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'pause');\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'replay');\n\t\t\t\t(0, _dom.addClass)(play, t.options.classPrefix + 'play');\n\t\t\t\tplayBtn.setAttribute('title', playTitle);\n\t\t\t\tplayBtn.setAttribute('aria-label', playTitle);\n\t\t\t}\n\t\t}\n\n\t\ttogglePlayPause('pse');\n\n\t\tmedia.addEventListener('loadedmetadata', function () {\n\t\t\tif (media.rendererName.indexOf('flash') === -1) {\n\t\t\t\ttogglePlayPause('pse');\n\t\t\t}\n\t\t});\n\t\tmedia.addEventListener('play', function () {\n\t\t\ttogglePlayPause('play');\n\t\t});\n\t\tmedia.addEventListener('playing', function () {\n\t\t\ttogglePlayPause('play');\n\t\t});\n\t\tmedia.addEventListener('pause', function () {\n\t\t\ttogglePlayPause('pse');\n\t\t});\n\t\tmedia.addEventListener('ended', function () {\n\t\t\tif (!player.options.loop) {\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'pause');\n\t\t\t\t(0, _dom.removeClass)(play, t.options.classPrefix + 'play');\n\t\t\t\t(0, _dom.addClass)(play, t.options.classPrefix + 'replay');\n\t\t\t\tplayBtn.setAttribute('title', playTitle);\n\t\t\t\tplayBtn.setAttribute('aria-label', playTitle);\n\t\t\t}\n\t\t});\n\t}\n});\n\n},{\"16\":16,\"2\":2,\"26\":26,\"27\":27,\"5\":5}],11:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _constants = _dereq_(25);\n\nvar _time = _dereq_(30);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tenableProgressTooltip: true,\n\n\tuseSmoothHover: true,\n\n\tforceLive: false\n});\n\nObject.assign(_player2.default.prototype, {\n\tbuildprogress: function buildprogress(player, controls, layers, media) {\n\n\t\tvar lastKeyPressTime = 0,\n\t\t    mouseIsDown = false,\n\t\t    startedPaused = false;\n\n\t\tvar t = this,\n\t\t    autoRewindInitial = player.options.autoRewind,\n\t\t    tooltip = player.options.enableProgressTooltip ? '<span class=\"' + t.options.classPrefix + 'time-float\">' + ('<span class=\"' + t.options.classPrefix + 'time-float-current\">00:00</span>') + ('<span class=\"' + t.options.classPrefix + 'time-float-corner\"></span>') + '</span>' : '',\n\t\t    rail = _document2.default.createElement('div');\n\n\t\trail.className = t.options.classPrefix + 'time-rail';\n\t\trail.innerHTML = '<span class=\"' + t.options.classPrefix + 'time-total ' + t.options.classPrefix + 'time-slider\">' + ('<span class=\"' + t.options.classPrefix + 'time-buffering\"></span>') + ('<span class=\"' + t.options.classPrefix + 'time-loaded\"></span>') + ('<span class=\"' + t.options.classPrefix + 'time-current\"></span>') + ('<span class=\"' + t.options.classPrefix + 'time-hovered no-hover\"></span>') + ('<span class=\"' + t.options.classPrefix + 'time-handle\"><span class=\"' + t.options.classPrefix + 'time-handle-content\"></span></span>') + ('' + tooltip) + '</span>';\n\n\t\tt.addControlElement(rail, 'progress');\n\n\t\tt.options.keyActions.push({\n\t\t\tkeys: [37, 227],\n\t\t\taction: function action(player) {\n\t\t\t\tif (!isNaN(player.duration) && player.duration > 0) {\n\t\t\t\t\tif (player.isVideo) {\n\t\t\t\t\t\tplayer.showControls();\n\t\t\t\t\t\tplayer.startControlsTimer();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar timeSlider = player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'time-total');\n\t\t\t\t\tif (timeSlider) {\n\t\t\t\t\t\ttimeSlider.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar newTime = Math.max(player.currentTime - player.options.defaultSeekBackwardInterval(player), 0);\n\n\t\t\t\t\tif (!player.paused) {\n\t\t\t\t\t\tplayer.pause();\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tplayer.setCurrentTime(newTime);\n\t\t\t\t\t}, 0);\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tplayer.play();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkeys: [39, 228],\n\t\t\taction: function action(player) {\n\n\t\t\t\tif (!isNaN(player.duration) && player.duration > 0) {\n\t\t\t\t\tif (player.isVideo) {\n\t\t\t\t\t\tplayer.showControls();\n\t\t\t\t\t\tplayer.startControlsTimer();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar timeSlider = player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'time-total');\n\t\t\t\t\tif (timeSlider) {\n\t\t\t\t\t\ttimeSlider.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar newTime = Math.min(player.currentTime + player.options.defaultSeekForwardInterval(player), player.duration);\n\n\t\t\t\t\tif (!player.paused) {\n\t\t\t\t\t\tplayer.pause();\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tplayer.setCurrentTime(newTime);\n\t\t\t\t\t}, 0);\n\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tplayer.play();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tt.rail = controls.querySelector('.' + t.options.classPrefix + 'time-rail');\n\t\tt.total = controls.querySelector('.' + t.options.classPrefix + 'time-total');\n\t\tt.loaded = controls.querySelector('.' + t.options.classPrefix + 'time-loaded');\n\t\tt.current = controls.querySelector('.' + t.options.classPrefix + 'time-current');\n\t\tt.handle = controls.querySelector('.' + t.options.classPrefix + 'time-handle');\n\t\tt.timefloat = controls.querySelector('.' + t.options.classPrefix + 'time-float');\n\t\tt.timefloatcurrent = controls.querySelector('.' + t.options.classPrefix + 'time-float-current');\n\t\tt.slider = controls.querySelector('.' + t.options.classPrefix + 'time-slider');\n\t\tt.hovered = controls.querySelector('.' + t.options.classPrefix + 'time-hovered');\n\t\tt.buffer = controls.querySelector('.' + t.options.classPrefix + 'time-buffering');\n\t\tt.newTime = 0;\n\t\tt.forcedHandlePause = false;\n\t\tt.setTransformStyle = function (element, value) {\n\t\t\telement.style.transform = value;\n\t\t\telement.style.webkitTransform = value;\n\t\t\telement.style.MozTransform = value;\n\t\t\telement.style.msTransform = value;\n\t\t\telement.style.OTransform = value;\n\t\t};\n\n\t\tt.buffer.style.display = 'none';\n\n\t\tvar handleMouseMove = function handleMouseMove(e) {\n\t\t\tvar totalStyles = getComputedStyle(t.total),\n\t\t\t    offsetStyles = (0, _dom.offset)(t.total),\n\t\t\t    width = t.total.offsetWidth,\n\t\t\t    transform = function () {\n\t\t\t\tif (totalStyles.webkitTransform !== undefined) {\n\t\t\t\t\treturn 'webkitTransform';\n\t\t\t\t} else if (totalStyles.mozTransform !== undefined) {\n\t\t\t\t\treturn 'mozTransform ';\n\t\t\t\t} else if (totalStyles.oTransform !== undefined) {\n\t\t\t\t\treturn 'oTransform';\n\t\t\t\t} else if (totalStyles.msTransform !== undefined) {\n\t\t\t\t\treturn 'msTransform';\n\t\t\t\t} else {\n\t\t\t\t\treturn 'transform';\n\t\t\t\t}\n\t\t\t}(),\n\t\t\t    cssMatrix = function () {\n\t\t\t\tif ('WebKitCSSMatrix' in window) {\n\t\t\t\t\treturn 'WebKitCSSMatrix';\n\t\t\t\t} else if ('MSCSSMatrix' in window) {\n\t\t\t\t\treturn 'MSCSSMatrix';\n\t\t\t\t} else if ('CSSMatrix' in window) {\n\t\t\t\t\treturn 'CSSMatrix';\n\t\t\t\t}\n\t\t\t}();\n\n\t\t\tvar percentage = 0,\n\t\t\t    leftPos = 0,\n\t\t\t    pos = 0,\n\t\t\t    x = void 0;\n\n\t\t\tif (e.originalEvent && e.originalEvent.changedTouches) {\n\t\t\t\tx = e.originalEvent.changedTouches[0].pageX;\n\t\t\t} else if (e.changedTouches) {\n\t\t\t\tx = e.changedTouches[0].pageX;\n\t\t\t} else {\n\t\t\t\tx = e.pageX;\n\t\t\t}\n\n\t\t\tif (t.getDuration()) {\n\t\t\t\tif (x < offsetStyles.left) {\n\t\t\t\t\tx = offsetStyles.left;\n\t\t\t\t} else if (x > width + offsetStyles.left) {\n\t\t\t\t\tx = width + offsetStyles.left;\n\t\t\t\t}\n\n\t\t\t\tpos = x - offsetStyles.left;\n\t\t\t\tpercentage = pos / width;\n\t\t\t\tt.newTime = percentage * t.getDuration();\n\n\t\t\t\tif (mouseIsDown && t.getCurrentTime() !== null && t.newTime.toFixed(4) !== t.getCurrentTime().toFixed(4)) {\n\t\t\t\t\tt.setCurrentRailHandle(t.newTime);\n\t\t\t\t\tt.updateCurrent(t.newTime);\n\t\t\t\t}\n\n\t\t\t\tif (!_constants.IS_IOS && !_constants.IS_ANDROID) {\n\t\t\t\t\tif (pos < 0) {\n\t\t\t\t\t\tpos = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif (t.options.useSmoothHover && cssMatrix !== null && typeof window[cssMatrix] !== 'undefined') {\n\t\t\t\t\t\tvar matrix = new window[cssMatrix](getComputedStyle(t.handle)[transform]),\n\t\t\t\t\t\t    handleLocation = matrix.m41,\n\t\t\t\t\t\t    hoverScaleX = pos / parseFloat(getComputedStyle(t.total).width) - handleLocation / parseFloat(getComputedStyle(t.total).width);\n\n\t\t\t\t\t\tt.hovered.style.left = handleLocation + 'px';\n\t\t\t\t\t\tt.setTransformStyle(t.hovered, 'scaleX(' + hoverScaleX + ')');\n\t\t\t\t\t\tt.hovered.setAttribute('pos', pos);\n\n\t\t\t\t\t\tif (hoverScaleX >= 0) {\n\t\t\t\t\t\t\t(0, _dom.removeClass)(t.hovered, 'negative');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t(0, _dom.addClass)(t.hovered, 'negative');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.timefloat) {\n\t\t\t\t\t\tvar half = t.timefloat.offsetWidth / 2,\n\t\t\t\t\t\t    offsetContainer = mejs.Utils.offset(t.getElement(t.container)),\n\t\t\t\t\t\t    tooltipStyles = getComputedStyle(t.timefloat);\n\n\t\t\t\t\t\tif (x - offsetContainer.left < t.timefloat.offsetWidth) {\n\t\t\t\t\t\t\tleftPos = half;\n\t\t\t\t\t\t} else if (x - offsetContainer.left >= t.getElement(t.container).offsetWidth - half) {\n\t\t\t\t\t\t\tleftPos = t.total.offsetWidth - half;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tleftPos = pos;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ((0, _dom.hasClass)(t.getElement(t.container), t.options.classPrefix + 'long-video')) {\n\t\t\t\t\t\t\tleftPos += parseFloat(tooltipStyles.marginLeft) / 2 + t.timefloat.offsetWidth / 2;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tt.timefloat.style.left = leftPos + 'px';\n\t\t\t\t\t\tt.timefloatcurrent.innerHTML = (0, _time.secondsToTimeCode)(t.newTime, player.options.alwaysShowHours, player.options.showTimecodeFrameCount, player.options.framesPerSecond, player.options.secondsDecimalLength, player.options.timeFormat);\n\t\t\t\t\t\tt.timefloat.style.display = 'block';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (!_constants.IS_IOS && !_constants.IS_ANDROID && t.timefloat) {\n\t\t\t\tleftPos = t.timefloat.offsetWidth + width >= t.getElement(t.container).offsetWidth ? t.timefloat.offsetWidth / 2 : 0;\n\t\t\t\tt.timefloat.style.left = leftPos + 'px';\n\t\t\t\tt.timefloat.style.left = leftPos + 'px';\n\t\t\t\tt.timefloat.style.display = 'block';\n\t\t\t}\n\t\t},\n\t\t    updateSlider = function updateSlider() {\n\t\t\tvar seconds = t.getCurrentTime(),\n\t\t\t    timeSliderText = _i18n2.default.t('mejs.time-slider'),\n\t\t\t    time = (0, _time.secondsToTimeCode)(seconds, player.options.alwaysShowHours, player.options.showTimecodeFrameCount, player.options.framesPerSecond, player.options.secondsDecimalLength, player.options.timeFormat),\n\t\t\t    duration = t.getDuration();\n\n\t\t\tt.slider.setAttribute('role', 'slider');\n\t\t\tt.slider.tabIndex = 0;\n\n\t\t\tif (media.paused) {\n\t\t\t\tt.slider.setAttribute('aria-label', timeSliderText);\n\t\t\t\tt.slider.setAttribute('aria-valuemin', 0);\n\t\t\t\tt.slider.setAttribute('aria-valuemax', isNaN(duration) ? 0 : duration);\n\t\t\t\tt.slider.setAttribute('aria-valuenow', seconds);\n\t\t\t\tt.slider.setAttribute('aria-valuetext', time);\n\t\t\t} else {\n\t\t\t\tt.slider.removeAttribute('aria-label');\n\t\t\t\tt.slider.removeAttribute('aria-valuemin');\n\t\t\t\tt.slider.removeAttribute('aria-valuemax');\n\t\t\t\tt.slider.removeAttribute('aria-valuenow');\n\t\t\t\tt.slider.removeAttribute('aria-valuetext');\n\t\t\t}\n\t\t},\n\t\t    restartPlayer = function restartPlayer() {\n\t\t\tif (new Date() - lastKeyPressTime >= 1000) {\n\t\t\t\tt.play();\n\t\t\t}\n\t\t},\n\t\t    handleMouseup = function handleMouseup() {\n\t\t\tif (mouseIsDown && t.getCurrentTime() !== null && t.newTime.toFixed(4) !== t.getCurrentTime().toFixed(4)) {\n\t\t\t\tt.setCurrentTime(t.newTime);\n\t\t\t\tt.setCurrentRailHandle(t.newTime);\n\t\t\t\tt.updateCurrent(t.newTime);\n\t\t\t}\n\t\t\tif (t.forcedHandlePause) {\n\t\t\t\tt.slider.focus();\n\t\t\t\tt.play();\n\t\t\t}\n\t\t\tt.forcedHandlePause = false;\n\t\t};\n\n\t\tt.slider.addEventListener('focus', function () {\n\t\t\tplayer.options.autoRewind = false;\n\t\t});\n\t\tt.slider.addEventListener('blur', function () {\n\t\t\tplayer.options.autoRewind = autoRewindInitial;\n\t\t});\n\t\tt.slider.addEventListener('keydown', function (e) {\n\t\t\tif (new Date() - lastKeyPressTime >= 1000) {\n\t\t\t\tstartedPaused = t.paused;\n\t\t\t}\n\n\t\t\tif (t.options.enableKeyboard && t.options.keyActions.length) {\n\n\t\t\t\tvar keyCode = e.which || e.keyCode || 0,\n\t\t\t\t    duration = t.getDuration(),\n\t\t\t\t    seekForward = player.options.defaultSeekForwardInterval(media),\n\t\t\t\t    seekBackward = player.options.defaultSeekBackwardInterval(media);\n\n\t\t\t\tvar seekTime = t.getCurrentTime();\n\t\t\t\tvar volume = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'volume-slider');\n\n\t\t\t\tif (keyCode === 38 || keyCode === 40) {\n\t\t\t\t\tif (volume) {\n\t\t\t\t\t\tvolume.style.display = 'block';\n\t\t\t\t\t}\n\t\t\t\t\tif (t.isVideo) {\n\t\t\t\t\t\tt.showControls();\n\t\t\t\t\t\tt.startControlsTimer();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar newVolume = keyCode === 38 ? Math.min(t.volume + 0.1, 1) : Math.max(t.volume - 0.1, 0),\n\t\t\t\t\t    mutePlayer = newVolume <= 0;\n\t\t\t\t\tt.setVolume(newVolume);\n\t\t\t\t\tt.setMuted(mutePlayer);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tif (volume) {\n\t\t\t\t\t\tvolume.style.display = 'none';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tswitch (keyCode) {\n\t\t\t\t\tcase 37:\n\t\t\t\t\t\tif (t.getDuration() !== Infinity) {\n\t\t\t\t\t\t\tseekTime -= seekBackward;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tif (t.getDuration() !== Infinity) {\n\t\t\t\t\t\t\tseekTime += seekForward;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 36:\n\t\t\t\t\t\tseekTime = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 35:\n\t\t\t\t\t\tseekTime = duration;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 13:\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\tif (_constants.IS_FIREFOX) {\n\t\t\t\t\t\t\tif (t.paused) {\n\t\t\t\t\t\t\t\tt.play();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tt.pause();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tseekTime = seekTime < 0 || isNaN(seekTime) ? 0 : seekTime >= duration ? duration : Math.floor(seekTime);\n\t\t\t\tlastKeyPressTime = new Date();\n\t\t\t\tif (!startedPaused) {\n\t\t\t\t\tplayer.pause();\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tt.setCurrentTime(seekTime);\n\t\t\t\t}, 0);\n\n\t\t\t\tif (seekTime < t.getDuration() && !startedPaused) {\n\t\t\t\t\tsetTimeout(restartPlayer, 1100);\n\t\t\t\t}\n\n\t\t\t\tplayer.showControls();\n\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t});\n\n\t\tvar events = ['mousedown', 'touchstart'];\n\n\t\tt.slider.addEventListener('dragstart', function () {\n\t\t\treturn false;\n\t\t});\n\n\t\tfor (var i = 0, total = events.length; i < total; i++) {\n\t\t\tt.slider.addEventListener(events[i], function (e) {\n\t\t\t\tt.forcedHandlePause = false;\n\t\t\t\tif (t.getDuration() !== Infinity) {\n\t\t\t\t\tif (e.which === 1 || e.which === 0) {\n\t\t\t\t\t\tif (!t.paused) {\n\t\t\t\t\t\t\tt.pause();\n\t\t\t\t\t\t\tt.forcedHandlePause = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmouseIsDown = true;\n\t\t\t\t\t\thandleMouseMove(e);\n\t\t\t\t\t\tvar endEvents = ['mouseup', 'touchend'];\n\n\t\t\t\t\t\tfor (var j = 0, totalEvents = endEvents.length; j < totalEvents; j++) {\n\t\t\t\t\t\t\tt.getElement(t.container).addEventListener(endEvents[j], function (event) {\n\t\t\t\t\t\t\t\tvar target = event.target;\n\t\t\t\t\t\t\t\tif (target === t.slider || target.closest('.' + t.options.classPrefix + 'time-slider')) {\n\t\t\t\t\t\t\t\t\thandleMouseMove(event);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tt.globalBind('mouseup.dur touchend.dur', function () {\n\t\t\t\t\t\t\thandleMouseup();\n\t\t\t\t\t\t\tmouseIsDown = false;\n\t\t\t\t\t\t\tif (t.timefloat) {\n\t\t\t\t\t\t\t\tt.timefloat.style.display = 'none';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, _constants.SUPPORT_PASSIVE_EVENT && events[i] === 'touchstart' ? { passive: true } : false);\n\t\t}\n\t\tt.slider.addEventListener('mouseenter', function (e) {\n\t\t\tif (e.target === t.slider && t.getDuration() !== Infinity) {\n\t\t\t\tt.getElement(t.container).addEventListener('mousemove', function (event) {\n\t\t\t\t\tvar target = event.target;\n\t\t\t\t\tif (target === t.slider || target.closest('.' + t.options.classPrefix + 'time-slider')) {\n\t\t\t\t\t\thandleMouseMove(event);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (t.timefloat && !_constants.IS_IOS && !_constants.IS_ANDROID) {\n\t\t\t\t\tt.timefloat.style.display = 'block';\n\t\t\t\t}\n\t\t\t\tif (t.hovered && !_constants.IS_IOS && !_constants.IS_ANDROID && t.options.useSmoothHover) {\n\t\t\t\t\t(0, _dom.removeClass)(t.hovered, 'no-hover');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tt.slider.addEventListener('mouseleave', function () {\n\t\t\tif (t.getDuration() !== Infinity) {\n\t\t\t\tif (!mouseIsDown) {\n\t\t\t\t\tif (t.timefloat) {\n\t\t\t\t\t\tt.timefloat.style.display = 'none';\n\t\t\t\t\t}\n\t\t\t\t\tif (t.hovered && t.options.useSmoothHover) {\n\t\t\t\t\t\t(0, _dom.addClass)(t.hovered, 'no-hover');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tt.broadcastCallback = function (e) {\n\t\t\tvar broadcast = controls.querySelector('.' + t.options.classPrefix + 'broadcast');\n\t\t\tif (!t.options.forceLive && t.getDuration() !== Infinity) {\n\t\t\t\tif (broadcast) {\n\t\t\t\t\tt.slider.style.display = '';\n\t\t\t\t\tbroadcast.remove();\n\t\t\t\t}\n\n\t\t\t\tplayer.setProgressRail(e);\n\t\t\t\tif (!t.forcedHandlePause) {\n\t\t\t\t\tplayer.setCurrentRail(e);\n\t\t\t\t}\n\t\t\t\tupdateSlider();\n\t\t\t} else if (!broadcast && t.options.forceLive) {\n\t\t\t\tvar label = _document2.default.createElement('span');\n\t\t\t\tlabel.className = t.options.classPrefix + 'broadcast';\n\t\t\t\tlabel.innerText = _i18n2.default.t('mejs.live-broadcast');\n\t\t\t\tt.slider.style.display = 'none';\n\t\t\t\tt.rail.appendChild(label);\n\t\t\t}\n\t\t};\n\n\t\tmedia.addEventListener('progress', t.broadcastCallback);\n\t\tmedia.addEventListener('timeupdate', t.broadcastCallback);\n\t\tmedia.addEventListener('play', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\t\tmedia.addEventListener('playing', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\t\tmedia.addEventListener('seeking', function () {\n\t\t\tt.buffer.style.display = '';\n\t\t});\n\t\tmedia.addEventListener('seeked', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\t\tmedia.addEventListener('pause', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\t\tmedia.addEventListener('waiting', function () {\n\t\t\tt.buffer.style.display = '';\n\t\t});\n\t\tmedia.addEventListener('loadeddata', function () {\n\t\t\tt.buffer.style.display = '';\n\t\t});\n\t\tmedia.addEventListener('canplay', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\t\tmedia.addEventListener('error', function () {\n\t\t\tt.buffer.style.display = 'none';\n\t\t});\n\n\t\tt.getElement(t.container).addEventListener('controlsresize', function (e) {\n\t\t\tif (t.getDuration() !== Infinity) {\n\t\t\t\tplayer.setProgressRail(e);\n\t\t\t\tif (!t.forcedHandlePause) {\n\t\t\t\t\tplayer.setCurrentRail(e);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\tcleanprogress: function cleanprogress(player, controls, layers, media) {\n\t\tmedia.removeEventListener('progress', player.broadcastCallback);\n\t\tmedia.removeEventListener('timeupdate', player.broadcastCallback);\n\t\tif (player.rail) {\n\t\t\tplayer.rail.remove();\n\t\t}\n\t},\n\tsetProgressRail: function setProgressRail(e) {\n\t\tvar t = this,\n\t\t    target = e !== undefined ? e.detail.target || e.target : t.media;\n\n\t\tvar percent = null;\n\n\t\tif (target && target.buffered && target.buffered.length > 0 && target.buffered.end && t.getDuration()) {\n\t\t\tpercent = target.buffered.end(target.buffered.length - 1) / t.getDuration();\n\t\t} else if (target && target.bytesTotal !== undefined && target.bytesTotal > 0 && target.bufferedBytes !== undefined) {\n\t\t\t\tpercent = target.bufferedBytes / target.bytesTotal;\n\t\t\t} else if (e && e.lengthComputable && e.total !== 0) {\n\t\t\t\t\tpercent = e.loaded / e.total;\n\t\t\t\t}\n\n\t\tif (percent !== null) {\n\t\t\tpercent = Math.min(1, Math.max(0, percent));\n\n\t\t\tif (t.loaded) {\n\t\t\t\tt.setTransformStyle(t.loaded, 'scaleX(' + percent + ')');\n\t\t\t}\n\t\t}\n\t},\n\tsetCurrentRailHandle: function setCurrentRailHandle(fakeTime) {\n\t\tvar t = this;\n\t\tt.setCurrentRailMain(t, fakeTime);\n\t},\n\tsetCurrentRail: function setCurrentRail() {\n\t\tvar t = this;\n\t\tt.setCurrentRailMain(t);\n\t},\n\tsetCurrentRailMain: function setCurrentRailMain(t, fakeTime) {\n\t\tif (t.getCurrentTime() !== undefined && t.getDuration()) {\n\t\t\tvar nTime = typeof fakeTime === 'undefined' ? t.getCurrentTime() : fakeTime;\n\n\t\t\tif (t.total && t.handle) {\n\t\t\t\tvar tW = parseFloat(getComputedStyle(t.total).width);\n\n\t\t\t\tvar newWidth = Math.round(tW * nTime / t.getDuration()),\n\t\t\t\t    handlePos = newWidth - Math.round(t.handle.offsetWidth / 2);\n\n\t\t\t\thandlePos = handlePos < 0 ? 0 : handlePos;\n\t\t\t\tt.setTransformStyle(t.current, 'scaleX(' + newWidth / tW + ')');\n\t\t\t\tt.setTransformStyle(t.handle, 'translateX(' + handlePos + 'px)');\n\n\t\t\t\tif (t.options.useSmoothHover && !(0, _dom.hasClass)(t.hovered, 'no-hover')) {\n\t\t\t\t\tvar pos = parseInt(t.hovered.getAttribute('pos'), 10);\n\t\t\t\t\tpos = isNaN(pos) ? 0 : pos;\n\n\t\t\t\t\tvar hoverScaleX = pos / tW - handlePos / tW;\n\n\t\t\t\t\tt.hovered.style.left = handlePos + 'px';\n\t\t\t\t\tt.setTransformStyle(t.hovered, 'scaleX(' + hoverScaleX + ')');\n\n\t\t\t\t\tif (hoverScaleX >= 0) {\n\t\t\t\t\t\t(0, _dom.removeClass)(t.hovered, 'negative');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t(0, _dom.addClass)(t.hovered, 'negative');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\n},{\"16\":16,\"2\":2,\"25\":25,\"26\":26,\"30\":30,\"5\":5}],12:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _time = _dereq_(30);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tduration: 0,\n\n\ttimeAndDurationSeparator: '<span> | </span>'\n});\n\nObject.assign(_player2.default.prototype, {\n\tbuildcurrent: function buildcurrent(player, controls, layers, media) {\n\t\tvar t = this,\n\t\t    time = _document2.default.createElement('div');\n\n\t\ttime.className = t.options.classPrefix + 'time';\n\t\ttime.setAttribute('role', 'timer');\n\t\ttime.setAttribute('aria-live', 'off');\n\t\ttime.innerHTML = '<span class=\"' + t.options.classPrefix + 'currenttime\">' + (0, _time.secondsToTimeCode)(0, player.options.alwaysShowHours, player.options.showTimecodeFrameCount, player.options.framesPerSecond, player.options.secondsDecimalLength, player.options.timeFormat) + '</span>';\n\n\t\tt.addControlElement(time, 'current');\n\t\tplayer.updateCurrent();\n\t\tt.updateTimeCallback = function () {\n\t\t\tif (t.controlsAreVisible) {\n\t\t\t\tplayer.updateCurrent();\n\t\t\t}\n\t\t};\n\t\tmedia.addEventListener('timeupdate', t.updateTimeCallback);\n\t},\n\tcleancurrent: function cleancurrent(player, controls, layers, media) {\n\t\tmedia.removeEventListener('timeupdate', player.updateTimeCallback);\n\t},\n\tbuildduration: function buildduration(player, controls, layers, media) {\n\t\tvar t = this,\n\t\t    currTime = controls.lastChild.querySelector('.' + t.options.classPrefix + 'currenttime');\n\n\t\tif (currTime) {\n\t\t\tcontrols.querySelector('.' + t.options.classPrefix + 'time').innerHTML += t.options.timeAndDurationSeparator + '<span class=\"' + t.options.classPrefix + 'duration\">' + ((0, _time.secondsToTimeCode)(t.options.duration, t.options.alwaysShowHours, t.options.showTimecodeFrameCount, t.options.framesPerSecond, t.options.secondsDecimalLength, t.options.timeFormat) + '</span>');\n\t\t} else {\n\t\t\tif (controls.querySelector('.' + t.options.classPrefix + 'currenttime')) {\n\t\t\t\t(0, _dom.addClass)(controls.querySelector('.' + t.options.classPrefix + 'currenttime').parentNode, t.options.classPrefix + 'currenttime-container');\n\t\t\t}\n\n\t\t\tvar duration = _document2.default.createElement('div');\n\t\t\tduration.className = t.options.classPrefix + 'time ' + t.options.classPrefix + 'duration-container';\n\t\t\tduration.innerHTML = '<span class=\"' + t.options.classPrefix + 'duration\">' + ((0, _time.secondsToTimeCode)(t.options.duration, t.options.alwaysShowHours, t.options.showTimecodeFrameCount, t.options.framesPerSecond, t.options.secondsDecimalLength, t.options.timeFormat) + '</span>');\n\n\t\t\tt.addControlElement(duration, 'duration');\n\t\t}\n\n\t\tt.updateDurationCallback = function () {\n\t\t\tif (t.controlsAreVisible) {\n\t\t\t\tplayer.updateDuration();\n\t\t\t}\n\t\t};\n\n\t\tmedia.addEventListener('timeupdate', t.updateDurationCallback);\n\t},\n\tcleanduration: function cleanduration(player, controls, layers, media) {\n\t\tmedia.removeEventListener('timeupdate', player.updateDurationCallback);\n\t},\n\tupdateCurrent: function updateCurrent() {\n\t\tvar t = this;\n\n\t\tvar currentTime = t.getCurrentTime();\n\n\t\tif (isNaN(currentTime)) {\n\t\t\tcurrentTime = 0;\n\t\t}\n\n\t\tvar timecode = (0, _time.secondsToTimeCode)(currentTime, t.options.alwaysShowHours, t.options.showTimecodeFrameCount, t.options.framesPerSecond, t.options.secondsDecimalLength, t.options.timeFormat);\n\n\t\tif (timecode.length > 5) {\n\t\t\t(0, _dom.addClass)(t.getElement(t.container), t.options.classPrefix + 'long-video');\n\t\t} else {\n\t\t\t(0, _dom.removeClass)(t.getElement(t.container), t.options.classPrefix + 'long-video');\n\t\t}\n\n\t\tif (t.getElement(t.controls).querySelector('.' + t.options.classPrefix + 'currenttime')) {\n\t\t\tt.getElement(t.controls).querySelector('.' + t.options.classPrefix + 'currenttime').innerText = timecode;\n\t\t}\n\t},\n\tupdateDuration: function updateDuration() {\n\t\tvar t = this;\n\n\t\tvar duration = t.getDuration();\n\n\t\tif (t.media !== undefined && (isNaN(duration) || duration === Infinity || duration < 0)) {\n\t\t\tt.media.duration = t.options.duration = duration = 0;\n\t\t}\n\n\t\tif (t.options.duration > 0) {\n\t\t\tduration = t.options.duration;\n\t\t}\n\n\t\tvar timecode = (0, _time.secondsToTimeCode)(duration, t.options.alwaysShowHours, t.options.showTimecodeFrameCount, t.options.framesPerSecond, t.options.secondsDecimalLength, t.options.timeFormat);\n\n\t\tif (timecode.length > 5) {\n\t\t\t(0, _dom.addClass)(t.getElement(t.container), t.options.classPrefix + 'long-video');\n\t\t} else {\n\t\t\t(0, _dom.removeClass)(t.getElement(t.container), t.options.classPrefix + 'long-video');\n\t\t}\n\n\t\tif (t.getElement(t.controls).querySelector('.' + t.options.classPrefix + 'duration') && duration > 0) {\n\t\t\tt.getElement(t.controls).querySelector('.' + t.options.classPrefix + 'duration').innerHTML = timecode;\n\t\t}\n\t}\n});\n\n},{\"16\":16,\"2\":2,\"26\":26,\"30\":30}],13:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _time = _dereq_(30);\n\nvar _general = _dereq_(27);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tstartLanguage: '',\n\n\ttracksText: null,\n\n\tchaptersText: null,\n\n\ttracksAriaLive: false,\n\n\thideCaptionsButtonWhenEmpty: true,\n\n\ttoggleCaptionsButtonWhenOnlyOne: false,\n\n\tslidesSelector: ''\n});\n\nObject.assign(_player2.default.prototype, {\n\thasChapters: false,\n\n\tbuildtracks: function buildtracks(player, controls, layers, media) {\n\n\t\tthis.findTracks();\n\n\t\tif (!player.tracks.length && (!player.trackFiles || !player.trackFiles.length === 0)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar t = this,\n\t\t    attr = t.options.tracksAriaLive ? ' role=\"log\" aria-live=\"assertive\" aria-atomic=\"false\"' : '',\n\t\t    tracksTitle = (0, _general.isString)(t.options.tracksText) ? t.options.tracksText : _i18n2.default.t('mejs.captions-subtitles'),\n\t\t    chaptersTitle = (0, _general.isString)(t.options.chaptersText) ? t.options.chaptersText : _i18n2.default.t('mejs.captions-chapters'),\n\t\t    total = player.trackFiles === null ? player.tracks.length : player.trackFiles.length;\n\n\t\tif (t.domNode.textTracks) {\n\t\t\tfor (var i = t.domNode.textTracks.length - 1; i >= 0; i--) {\n\t\t\t\tt.domNode.textTracks[i].mode = 'hidden';\n\t\t\t}\n\t\t}\n\n\t\tt.cleartracks(player);\n\n\t\tplayer.captions = _document2.default.createElement('div');\n\t\tplayer.captions.className = t.options.classPrefix + 'captions-layer ' + t.options.classPrefix + 'layer';\n\t\tplayer.captions.innerHTML = '<div class=\"' + t.options.classPrefix + 'captions-position ' + t.options.classPrefix + 'captions-position-hover\"' + attr + '>' + ('<span class=\"' + t.options.classPrefix + 'captions-text\"></span>') + '</div>';\n\t\tplayer.captions.style.display = 'none';\n\t\tlayers.insertBefore(player.captions, layers.firstChild);\n\n\t\tplayer.captionsText = player.captions.querySelector('.' + t.options.classPrefix + 'captions-text');\n\n\t\tplayer.captionsButton = _document2.default.createElement('div');\n\t\tplayer.captionsButton.className = t.options.classPrefix + 'button ' + t.options.classPrefix + 'captions-button';\n\t\tplayer.captionsButton.innerHTML = '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + tracksTitle + '\" aria-label=\"' + tracksTitle + '\" tabindex=\"0\"></button>' + ('<div class=\"' + t.options.classPrefix + 'captions-selector ' + t.options.classPrefix + 'offscreen\">') + ('<ul class=\"' + t.options.classPrefix + 'captions-selector-list\">') + ('<li class=\"' + t.options.classPrefix + 'captions-selector-list-item\">') + ('<input type=\"radio\" class=\"' + t.options.classPrefix + 'captions-selector-input\" ') + ('name=\"' + player.id + '_captions\" id=\"' + player.id + '_captions_none\" ') + 'value=\"none\" checked disabled>' + ('<label class=\"' + t.options.classPrefix + 'captions-selector-label ') + (t.options.classPrefix + 'captions-selected\" ') + ('for=\"' + player.id + '_captions_none\">' + _i18n2.default.t('mejs.none') + '</label>') + '</li>' + '</ul>' + '</div>';\n\n\t\tt.addControlElement(player.captionsButton, 'tracks');\n\n\t\tplayer.captionsButton.querySelector('.' + t.options.classPrefix + 'captions-selector-input').disabled = false;\n\n\t\tplayer.chaptersButton = _document2.default.createElement('div');\n\t\tplayer.chaptersButton.className = t.options.classPrefix + 'button ' + t.options.classPrefix + 'chapters-button';\n\t\tplayer.chaptersButton.innerHTML = '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + chaptersTitle + '\" aria-label=\"' + chaptersTitle + '\" tabindex=\"0\"></button>' + ('<div class=\"' + t.options.classPrefix + 'chapters-selector ' + t.options.classPrefix + 'offscreen\">') + ('<ul class=\"' + t.options.classPrefix + 'chapters-selector-list\"></ul>') + '</div>';\n\n\t\tvar subtitleCount = 0;\n\n\t\tfor (var _i = 0; _i < total; _i++) {\n\t\t\tvar kind = player.tracks[_i].kind,\n\t\t\t    src = player.tracks[_i].src;\n\t\t\tif (src.trim()) {\n\t\t\t\tif (kind === 'subtitles' || kind === 'captions') {\n\t\t\t\t\tsubtitleCount++;\n\t\t\t\t} else if (kind === 'chapters' && !controls.querySelector('.' + t.options.classPrefix + 'chapter-selector')) {\n\t\t\t\t\tplayer.captionsButton.parentNode.insertBefore(player.chaptersButton, player.captionsButton);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tplayer.trackToLoad = -1;\n\t\tplayer.selectedTrack = null;\n\t\tplayer.isLoadingTrack = false;\n\n\t\tfor (var _i2 = 0; _i2 < total; _i2++) {\n\t\t\tvar _kind = player.tracks[_i2].kind;\n\t\t\tif (player.tracks[_i2].src.trim() && (_kind === 'subtitles' || _kind === 'captions')) {\n\t\t\t\tplayer.addTrackButton(player.tracks[_i2].trackId, player.tracks[_i2].srclang, player.tracks[_i2].label);\n\t\t\t}\n\t\t}\n\n\t\tplayer.loadNextTrack();\n\n\t\tvar inEvents = ['mouseenter', 'focusin'],\n\t\t    outEvents = ['mouseleave', 'focusout'];\n\n\t\tif (t.options.toggleCaptionsButtonWhenOnlyOne && subtitleCount === 1) {\n\t\t\tplayer.captionsButton.addEventListener('click', function (e) {\n\t\t\t\tvar trackId = 'none';\n\t\t\t\tif (player.selectedTrack === null) {\n\t\t\t\t\ttrackId = player.tracks[0].trackId;\n\t\t\t\t}\n\t\t\t\tvar keyboard = e.keyCode || e.which;\n\t\t\t\tplayer.setTrack(trackId, typeof keyboard !== 'undefined');\n\t\t\t});\n\t\t} else {\n\t\t\tvar labels = player.captionsButton.querySelectorAll('.' + t.options.classPrefix + 'captions-selector-label'),\n\t\t\t    captions = player.captionsButton.querySelectorAll('input[type=radio]');\n\n\t\t\tfor (var _i3 = 0, _total = inEvents.length; _i3 < _total; _i3++) {\n\t\t\t\tplayer.captionsButton.addEventListener(inEvents[_i3], function () {\n\t\t\t\t\t(0, _dom.removeClass)(this.querySelector('.' + t.options.classPrefix + 'captions-selector'), t.options.classPrefix + 'offscreen');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (var _i4 = 0, _total2 = outEvents.length; _i4 < _total2; _i4++) {\n\t\t\t\tplayer.captionsButton.addEventListener(outEvents[_i4], function () {\n\t\t\t\t\t(0, _dom.addClass)(this.querySelector('.' + t.options.classPrefix + 'captions-selector'), t.options.classPrefix + 'offscreen');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (var _i5 = 0, _total3 = captions.length; _i5 < _total3; _i5++) {\n\t\t\t\tcaptions[_i5].addEventListener('click', function (e) {\n\t\t\t\t\tvar keyboard = e.keyCode || e.which;\n\t\t\t\t\tplayer.setTrack(this.value, typeof keyboard !== 'undefined');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor (var _i6 = 0, _total4 = labels.length; _i6 < _total4; _i6++) {\n\t\t\t\tlabels[_i6].addEventListener('click', function (e) {\n\t\t\t\t\tvar radio = (0, _dom.siblings)(this, function (el) {\n\t\t\t\t\t\treturn el.tagName === 'INPUT';\n\t\t\t\t\t})[0],\n\t\t\t\t\t    event = (0, _general.createEvent)('click', radio);\n\t\t\t\t\tradio.dispatchEvent(event);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tplayer.captionsButton.addEventListener('keydown', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t}\n\n\t\tfor (var _i7 = 0, _total5 = inEvents.length; _i7 < _total5; _i7++) {\n\t\t\tplayer.chaptersButton.addEventListener(inEvents[_i7], function () {\n\t\t\t\tif (this.querySelector('.' + t.options.classPrefix + 'chapters-selector-list').children.length) {\n\t\t\t\t\t(0, _dom.removeClass)(this.querySelector('.' + t.options.classPrefix + 'chapters-selector'), t.options.classPrefix + 'offscreen');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfor (var _i8 = 0, _total6 = outEvents.length; _i8 < _total6; _i8++) {\n\t\t\tplayer.chaptersButton.addEventListener(outEvents[_i8], function () {\n\t\t\t\t(0, _dom.addClass)(this.querySelector('.' + t.options.classPrefix + 'chapters-selector'), t.options.classPrefix + 'offscreen');\n\t\t\t});\n\t\t}\n\n\t\tplayer.chaptersButton.addEventListener('keydown', function (e) {\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif (!player.options.alwaysShowControls) {\n\t\t\tplayer.getElement(player.container).addEventListener('controlsshown', function () {\n\t\t\t\t(0, _dom.addClass)(player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'captions-position'), t.options.classPrefix + 'captions-position-hover');\n\t\t\t});\n\n\t\t\tplayer.getElement(player.container).addEventListener('controlshidden', function () {\n\t\t\t\tif (!media.paused) {\n\t\t\t\t\t(0, _dom.removeClass)(player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'captions-position'), t.options.classPrefix + 'captions-position-hover');\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\t(0, _dom.addClass)(player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'captions-position'), t.options.classPrefix + 'captions-position-hover');\n\t\t}\n\n\t\tmedia.addEventListener('timeupdate', function () {\n\t\t\tplayer.displayCaptions();\n\t\t});\n\n\t\tif (player.options.slidesSelector !== '') {\n\t\t\tplayer.slidesContainer = _document2.default.querySelectorAll(player.options.slidesSelector);\n\n\t\t\tmedia.addEventListener('timeupdate', function () {\n\t\t\t\tplayer.displaySlides();\n\t\t\t});\n\t\t}\n\t},\n\tcleartracks: function cleartracks(player) {\n\t\tif (player) {\n\t\t\tif (player.captions) {\n\t\t\t\tplayer.captions.remove();\n\t\t\t}\n\t\t\tif (player.chapters) {\n\t\t\t\tplayer.chapters.remove();\n\t\t\t}\n\t\t\tif (player.captionsText) {\n\t\t\t\tplayer.captionsText.remove();\n\t\t\t}\n\t\t\tif (player.captionsButton) {\n\t\t\t\tplayer.captionsButton.remove();\n\t\t\t}\n\t\t\tif (player.chaptersButton) {\n\t\t\t\tplayer.chaptersButton.remove();\n\t\t\t}\n\t\t}\n\t},\n\trebuildtracks: function rebuildtracks() {\n\t\tvar t = this;\n\t\tt.findTracks();\n\t\tt.buildtracks(t, t.getElement(t.controls), t.getElement(t.layers), t.media);\n\t},\n\tfindTracks: function findTracks() {\n\t\tvar t = this,\n\t\t    tracktags = t.trackFiles === null ? t.node.querySelectorAll('track') : t.trackFiles,\n\t\t    total = tracktags.length;\n\n\t\tt.tracks = [];\n\t\tfor (var i = 0; i < total; i++) {\n\t\t\tvar track = tracktags[i],\n\t\t\t    srclang = track.getAttribute('srclang').toLowerCase() || '',\n\t\t\t    trackId = t.id + '_track_' + i + '_' + track.getAttribute('kind') + '_' + srclang;\n\t\t\tt.tracks.push({\n\t\t\t\ttrackId: trackId,\n\t\t\t\tsrclang: srclang,\n\t\t\t\tsrc: track.getAttribute('src'),\n\t\t\t\tkind: track.getAttribute('kind'),\n\t\t\t\tlabel: track.getAttribute('label') || '',\n\t\t\t\tentries: [],\n\t\t\t\tisLoaded: false\n\t\t\t});\n\t\t}\n\t},\n\tsetTrack: function setTrack(trackId, setByKeyboard) {\n\n\t\tvar t = this,\n\t\t    radios = t.captionsButton.querySelectorAll('input[type=\"radio\"]'),\n\t\t    captions = t.captionsButton.querySelectorAll('.' + t.options.classPrefix + 'captions-selected'),\n\t\t    track = t.captionsButton.querySelector('input[value=\"' + trackId + '\"]');\n\n\t\tfor (var i = 0, total = radios.length; i < total; i++) {\n\t\t\tradios[i].checked = false;\n\t\t}\n\n\t\tfor (var _i9 = 0, _total7 = captions.length; _i9 < _total7; _i9++) {\n\t\t\t(0, _dom.removeClass)(captions[_i9], t.options.classPrefix + 'captions-selected');\n\t\t}\n\n\t\ttrack.checked = true;\n\t\tvar labels = (0, _dom.siblings)(track, function (el) {\n\t\t\treturn (0, _dom.hasClass)(el, t.options.classPrefix + 'captions-selector-label');\n\t\t});\n\t\tfor (var _i10 = 0, _total8 = labels.length; _i10 < _total8; _i10++) {\n\t\t\t(0, _dom.addClass)(labels[_i10], t.options.classPrefix + 'captions-selected');\n\t\t}\n\n\t\tif (trackId === 'none') {\n\t\t\tt.selectedTrack = null;\n\t\t\t(0, _dom.removeClass)(t.captionsButton, t.options.classPrefix + 'captions-enabled');\n\t\t} else {\n\t\t\tfor (var _i11 = 0, _total9 = t.tracks.length; _i11 < _total9; _i11++) {\n\t\t\t\tvar _track = t.tracks[_i11];\n\t\t\t\tif (_track.trackId === trackId) {\n\t\t\t\t\tif (t.selectedTrack === null) {\n\t\t\t\t\t\t(0, _dom.addClass)(t.captionsButton, t.options.classPrefix + 'captions-enabled');\n\t\t\t\t\t}\n\t\t\t\t\tt.selectedTrack = _track;\n\t\t\t\t\tt.captions.setAttribute('lang', t.selectedTrack.srclang);\n\t\t\t\t\tt.displayCaptions();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar event = (0, _general.createEvent)('captionschange', t.media);\n\t\tevent.detail.caption = t.selectedTrack;\n\t\tt.media.dispatchEvent(event);\n\n\t\tif (!setByKeyboard) {\n\t\t\tsetTimeout(function () {\n\t\t\t\tt.getElement(t.container).focus();\n\t\t\t}, 500);\n\t\t}\n\t},\n\tloadNextTrack: function loadNextTrack() {\n\t\tvar t = this;\n\n\t\tt.trackToLoad++;\n\t\tif (t.trackToLoad < t.tracks.length) {\n\t\t\tt.isLoadingTrack = true;\n\t\t\tt.loadTrack(t.trackToLoad);\n\t\t} else {\n\t\t\tt.isLoadingTrack = false;\n\t\t\tt.checkForTracks();\n\t\t}\n\t},\n\tloadTrack: function loadTrack(index) {\n\t\tvar t = this,\n\t\t    track = t.tracks[index];\n\n\t\tif (track !== undefined && (track.src !== undefined || track.src !== \"\")) {\n\t\t\t(0, _dom.ajax)(track.src, 'text', function (d) {\n\t\t\t\ttrack.entries = typeof d === 'string' && /<tt\\s+xml/ig.exec(d) ? _mejs2.default.TrackFormatParser.dfxp.parse(d) : _mejs2.default.TrackFormatParser.webvtt.parse(d);\n\n\t\t\t\ttrack.isLoaded = true;\n\t\t\t\tt.enableTrackButton(track);\n\t\t\t\tt.loadNextTrack();\n\n\t\t\t\tif (track.kind === 'slides') {\n\t\t\t\t\tt.setupSlides(track);\n\t\t\t\t} else if (track.kind === 'chapters' && !t.hasChapters) {\n\t\t\t\t\t\tt.drawChapters(track);\n\t\t\t\t\t\tt.hasChapters = true;\n\t\t\t\t\t}\n\t\t\t}, function () {\n\t\t\t\tt.removeTrackButton(track.trackId);\n\t\t\t\tt.loadNextTrack();\n\t\t\t});\n\t\t}\n\t},\n\tenableTrackButton: function enableTrackButton(track) {\n\t\tvar t = this,\n\t\t    lang = track.srclang,\n\t\t    target = _document2.default.getElementById('' + track.trackId);\n\n\t\tif (!target) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar label = track.label;\n\n\t\tif (label === '') {\n\t\t\tlabel = _i18n2.default.t(_mejs2.default.language.codes[lang]) || lang;\n\t\t}\n\t\ttarget.disabled = false;\n\t\tvar targetSiblings = (0, _dom.siblings)(target, function (el) {\n\t\t\treturn (0, _dom.hasClass)(el, t.options.classPrefix + 'captions-selector-label');\n\t\t});\n\t\tfor (var i = 0, total = targetSiblings.length; i < total; i++) {\n\t\t\ttargetSiblings[i].innerHTML = label;\n\t\t}\n\n\t\tif (t.options.startLanguage === lang) {\n\t\t\ttarget.checked = true;\n\t\t\tvar event = (0, _general.createEvent)('click', target);\n\t\t\ttarget.dispatchEvent(event);\n\t\t}\n\t},\n\tremoveTrackButton: function removeTrackButton(trackId) {\n\t\tvar element = _document2.default.getElementById('' + trackId);\n\t\tif (element) {\n\t\t\tvar button = element.closest('li');\n\t\t\tif (button) {\n\t\t\t\tbutton.remove();\n\t\t\t}\n\t\t}\n\t},\n\taddTrackButton: function addTrackButton(trackId, lang, label) {\n\t\tvar t = this;\n\t\tif (label === '') {\n\t\t\tlabel = _i18n2.default.t(_mejs2.default.language.codes[lang]) || lang;\n\t\t}\n\n\t\tt.captionsButton.querySelector('ul').innerHTML += '<li class=\"' + t.options.classPrefix + 'captions-selector-list-item\">' + ('<input type=\"radio\" class=\"' + t.options.classPrefix + 'captions-selector-input\" ') + ('name=\"' + t.id + '_captions\" id=\"' + trackId + '\" value=\"' + trackId + '\" disabled>') + ('<label class=\"' + t.options.classPrefix + 'captions-selector-label\"') + ('for=\"' + trackId + '\">' + label + ' (loading)</label>') + '</li>';\n\t},\n\tcheckForTracks: function checkForTracks() {\n\t\tvar t = this;\n\n\t\tvar hasSubtitles = false;\n\n\t\tif (t.options.hideCaptionsButtonWhenEmpty) {\n\t\t\tfor (var i = 0, total = t.tracks.length; i < total; i++) {\n\t\t\t\tvar kind = t.tracks[i].kind;\n\t\t\t\tif ((kind === 'subtitles' || kind === 'captions') && t.tracks[i].isLoaded) {\n\t\t\t\t\thasSubtitles = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tt.captionsButton.style.display = hasSubtitles ? '' : 'none';\n\t\t\tt.setControlsSize();\n\t\t}\n\t},\n\tdisplayCaptions: function displayCaptions() {\n\t\tif (this.tracks === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar t = this,\n\t\t    track = t.selectedTrack,\n\t\t    sanitize = function sanitize(html) {\n\t\t\tvar div = _document2.default.createElement('div');\n\t\t\tdiv.innerHTML = html;\n\n\t\t\tvar scripts = div.getElementsByTagName('script');\n\t\t\tvar i = scripts.length;\n\t\t\twhile (i--) {\n\t\t\t\tscripts[i].remove();\n\t\t\t}\n\n\t\t\tvar allElements = div.getElementsByTagName('*');\n\t\t\tfor (var _i12 = 0, n = allElements.length; _i12 < n; _i12++) {\n\t\t\t\tvar attributesObj = allElements[_i12].attributes,\n\t\t\t\t    attributes = Array.prototype.slice.call(attributesObj);\n\n\t\t\t\tfor (var j = 0, total = attributes.length; j < total; j++) {\n\t\t\t\t\tif (attributes[j].name.startsWith('on') || attributes[j].value.startsWith('javascript')) {\n\t\t\t\t\t\tallElements[_i12].remove();\n\t\t\t\t\t} else if (attributes[j].name === 'style') {\n\t\t\t\t\t\tallElements[_i12].removeAttribute(attributes[j].name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn div.innerHTML;\n\t\t};\n\n\t\tif (track !== null && track.isLoaded) {\n\t\t\tvar i = t.searchTrackPosition(track.entries, t.media.currentTime);\n\t\t\tif (i > -1) {\n\t\t\t\tvar text = track.entries[i].text;\n\t\t\t\tif (typeof t.options.captionTextPreprocessor === 'function') text = t.options.captionTextPreprocessor(text);\n\t\t\t\tt.captionsText.innerHTML = sanitize(text);\n\t\t\t\tt.captionsText.className = t.options.classPrefix + 'captions-text ' + (track.entries[i].identifier || '');\n\t\t\t\tt.captions.style.display = '';\n\t\t\t\tt.captions.style.height = '0px';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tt.captions.style.display = 'none';\n\t\t} else {\n\t\t\tt.captions.style.display = 'none';\n\t\t}\n\t},\n\tsetupSlides: function setupSlides(track) {\n\t\tvar t = this;\n\t\tt.slides = track;\n\t\tt.slides.entries.imgs = [t.slides.entries.length];\n\t\tt.showSlide(0);\n\t},\n\tshowSlide: function showSlide(index) {\n\t\tvar _this = this;\n\n\t\tvar t = this;\n\n\t\tif (t.tracks === undefined || t.slidesContainer === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar url = t.slides.entries[index].text;\n\n\t\tvar img = t.slides.entries[index].imgs;\n\n\t\tif (img === undefined || img.fadeIn === undefined) {\n\t\t\tvar image = _document2.default.createElement('img');\n\t\t\timage.src = url;\n\t\t\timage.addEventListener('load', function () {\n\t\t\t\tvar self = _this,\n\t\t\t\t    visible = (0, _dom.siblings)(self, function (el) {\n\t\t\t\t\treturn visible(el);\n\t\t\t\t});\n\t\t\t\tself.style.display = 'none';\n\t\t\t\tt.slidesContainer.innerHTML += self.innerHTML;\n\t\t\t\t(0, _dom.fadeIn)(t.slidesContainer.querySelector(image));\n\t\t\t\tfor (var i = 0, total = visible.length; i < total; i++) {\n\t\t\t\t\t(0, _dom.fadeOut)(visible[i], 400);\n\t\t\t\t}\n\t\t\t});\n\t\t\tt.slides.entries[index].imgs = img = image;\n\t\t} else if (!(0, _dom.visible)(img)) {\n\t\t\tvar _visible = (0, _dom.siblings)(self, function (el) {\n\t\t\t\treturn _visible(el);\n\t\t\t});\n\t\t\t(0, _dom.fadeIn)(t.slidesContainer.querySelector(img));\n\t\t\tfor (var i = 0, total = _visible.length; i < total; i++) {\n\t\t\t\t(0, _dom.fadeOut)(_visible[i]);\n\t\t\t}\n\t\t}\n\t},\n\tdisplaySlides: function displaySlides() {\n\t\tvar t = this;\n\n\t\tif (this.slides === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar slides = t.slides,\n\t\t    i = t.searchTrackPosition(slides.entries, t.media.currentTime);\n\n\t\tif (i > -1) {\n\t\t\tt.showSlide(i);\n\t\t}\n\t},\n\tdrawChapters: function drawChapters(chapters) {\n\t\tvar t = this,\n\t\t    total = chapters.entries.length;\n\n\t\tif (!total) {\n\t\t\treturn;\n\t\t}\n\n\t\tt.chaptersButton.querySelector('ul').innerHTML = '';\n\n\t\tfor (var i = 0; i < total; i++) {\n\t\t\tt.chaptersButton.querySelector('ul').innerHTML += '<li class=\"' + t.options.classPrefix + 'chapters-selector-list-item\" ' + 'role=\"menuitemcheckbox\" aria-live=\"polite\" aria-disabled=\"false\" aria-checked=\"false\">' + ('<input type=\"radio\" class=\"' + t.options.classPrefix + 'captions-selector-input\" ') + ('name=\"' + t.id + '_chapters\" id=\"' + t.id + '_chapters_' + i + '\" value=\"' + chapters.entries[i].start + '\" disabled>') + ('<label class=\"' + t.options.classPrefix + 'chapters-selector-label\"') + ('for=\"' + t.id + '_chapters_' + i + '\">' + chapters.entries[i].text + '</label>') + '</li>';\n\t\t}\n\n\t\tvar radios = t.chaptersButton.querySelectorAll('input[type=\"radio\"]'),\n\t\t    labels = t.chaptersButton.querySelectorAll('.' + t.options.classPrefix + 'chapters-selector-label');\n\n\t\tfor (var _i13 = 0, _total10 = radios.length; _i13 < _total10; _i13++) {\n\t\t\tradios[_i13].disabled = false;\n\t\t\tradios[_i13].checked = false;\n\t\t\tradios[_i13].addEventListener('click', function (e) {\n\t\t\t\tvar self = this,\n\t\t\t\t    listItems = t.chaptersButton.querySelectorAll('li'),\n\t\t\t\t    label = (0, _dom.siblings)(self, function (el) {\n\t\t\t\t\treturn (0, _dom.hasClass)(el, t.options.classPrefix + 'chapters-selector-label');\n\t\t\t\t})[0];\n\n\t\t\t\tself.checked = true;\n\t\t\t\tself.parentNode.setAttribute('aria-checked', true);\n\t\t\t\t(0, _dom.addClass)(label, t.options.classPrefix + 'chapters-selected');\n\t\t\t\t(0, _dom.removeClass)(t.chaptersButton.querySelector('.' + t.options.classPrefix + 'chapters-selected'), t.options.classPrefix + 'chapters-selected');\n\n\t\t\t\tfor (var _i14 = 0, _total11 = listItems.length; _i14 < _total11; _i14++) {\n\t\t\t\t\tlistItems[_i14].setAttribute('aria-checked', false);\n\t\t\t\t}\n\n\t\t\t\tvar keyboard = e.keyCode || e.which;\n\t\t\t\tif (typeof keyboard === 'undefined') {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tt.getElement(t.container).focus();\n\t\t\t\t\t}, 500);\n\t\t\t\t}\n\n\t\t\t\tt.media.setCurrentTime(parseFloat(self.value));\n\t\t\t\tif (t.media.paused) {\n\t\t\t\t\tt.media.play();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfor (var _i15 = 0, _total12 = labels.length; _i15 < _total12; _i15++) {\n\t\t\tlabels[_i15].addEventListener('click', function (e) {\n\t\t\t\tvar radio = (0, _dom.siblings)(this, function (el) {\n\t\t\t\t\treturn el.tagName === 'INPUT';\n\t\t\t\t})[0],\n\t\t\t\t    event = (0, _general.createEvent)('click', radio);\n\t\t\t\tradio.dispatchEvent(event);\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t}\n\t},\n\tsearchTrackPosition: function searchTrackPosition(tracks, currentTime) {\n\t\tvar lo = 0,\n\t\t    hi = tracks.length - 1,\n\t\t    mid = void 0,\n\t\t    start = void 0,\n\t\t    stop = void 0;\n\n\t\twhile (lo <= hi) {\n\t\t\tmid = lo + hi >> 1;\n\t\t\tstart = tracks[mid].start;\n\t\t\tstop = tracks[mid].stop;\n\n\t\t\tif (currentTime >= start && currentTime < stop) {\n\t\t\t\treturn mid;\n\t\t\t} else if (start < currentTime) {\n\t\t\t\tlo = mid + 1;\n\t\t\t} else if (start > currentTime) {\n\t\t\t\thi = mid - 1;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n});\n\n_mejs2.default.language = {\n\tcodes: {\n\t\taf: 'mejs.afrikaans',\n\t\tsq: 'mejs.albanian',\n\t\tar: 'mejs.arabic',\n\t\tbe: 'mejs.belarusian',\n\t\tbg: 'mejs.bulgarian',\n\t\tca: 'mejs.catalan',\n\t\tzh: 'mejs.chinese',\n\t\t'zh-cn': 'mejs.chinese-simplified',\n\t\t'zh-tw': 'mejs.chines-traditional',\n\t\thr: 'mejs.croatian',\n\t\tcs: 'mejs.czech',\n\t\tda: 'mejs.danish',\n\t\tnl: 'mejs.dutch',\n\t\ten: 'mejs.english',\n\t\tet: 'mejs.estonian',\n\t\tfl: 'mejs.filipino',\n\t\tfi: 'mejs.finnish',\n\t\tfr: 'mejs.french',\n\t\tgl: 'mejs.galician',\n\t\tde: 'mejs.german',\n\t\tel: 'mejs.greek',\n\t\tht: 'mejs.haitian-creole',\n\t\tiw: 'mejs.hebrew',\n\t\thi: 'mejs.hindi',\n\t\thu: 'mejs.hungarian',\n\t\tis: 'mejs.icelandic',\n\t\tid: 'mejs.indonesian',\n\t\tga: 'mejs.irish',\n\t\tit: 'mejs.italian',\n\t\tja: 'mejs.japanese',\n\t\tko: 'mejs.korean',\n\t\tlv: 'mejs.latvian',\n\t\tlt: 'mejs.lithuanian',\n\t\tmk: 'mejs.macedonian',\n\t\tms: 'mejs.malay',\n\t\tmt: 'mejs.maltese',\n\t\tno: 'mejs.norwegian',\n\t\tfa: 'mejs.persian',\n\t\tpl: 'mejs.polish',\n\t\tpt: 'mejs.portuguese',\n\t\tro: 'mejs.romanian',\n\t\tru: 'mejs.russian',\n\t\tsr: 'mejs.serbian',\n\t\tsk: 'mejs.slovak',\n\t\tsl: 'mejs.slovenian',\n\t\tes: 'mejs.spanish',\n\t\tsw: 'mejs.swahili',\n\t\tsv: 'mejs.swedish',\n\t\ttl: 'mejs.tagalog',\n\t\tth: 'mejs.thai',\n\t\ttr: 'mejs.turkish',\n\t\tuk: 'mejs.ukrainian',\n\t\tvi: 'mejs.vietnamese',\n\t\tcy: 'mejs.welsh',\n\t\tyi: 'mejs.yiddish'\n\t}\n};\n\n_mejs2.default.TrackFormatParser = {\n\twebvtt: {\n\t\tpattern: /^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,\n\n\t\tparse: function parse(trackText) {\n\t\t\tvar lines = trackText.split(/\\r?\\n/),\n\t\t\t    entries = [];\n\n\t\t\tvar timecode = void 0,\n\t\t\t    text = void 0,\n\t\t\t    identifier = void 0;\n\n\t\t\tfor (var i = 0, total = lines.length; i < total; i++) {\n\t\t\t\ttimecode = this.pattern.exec(lines[i]);\n\n\t\t\t\tif (timecode && i < lines.length) {\n\t\t\t\t\tif (i - 1 >= 0 && lines[i - 1] !== '') {\n\t\t\t\t\t\tidentifier = lines[i - 1];\n\t\t\t\t\t}\n\t\t\t\t\ti++;\n\n\t\t\t\t\ttext = lines[i];\n\t\t\t\t\ti++;\n\t\t\t\t\twhile (lines[i] !== '' && i < lines.length) {\n\t\t\t\t\t\ttext = text + '\\n' + lines[i];\n\t\t\t\t\t\ti++;\n\t\t\t\t\t}\n\t\t\t\t\ttext = text === null ? '' : text.trim().replace(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig, \"<a href='$1' target='_blank'>$1</a>\");\n\t\t\t\t\tentries.push({\n\t\t\t\t\t\tidentifier: identifier,\n\t\t\t\t\t\tstart: (0, _time.convertSMPTEtoSeconds)(timecode[1]) === 0 ? 0.200 : (0, _time.convertSMPTEtoSeconds)(timecode[1]),\n\t\t\t\t\t\tstop: (0, _time.convertSMPTEtoSeconds)(timecode[3]),\n\t\t\t\t\t\ttext: text,\n\t\t\t\t\t\tsettings: timecode[5]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tidentifier = '';\n\t\t\t}\n\t\t\treturn entries;\n\t\t}\n\t},\n\n\tdfxp: {\n\t\tparse: function parse(trackText) {\n\t\t\ttrackText = $(trackText).filter('tt');\n\t\t\tvar container = trackText.firstChild,\n\t\t\t    lines = container.querySelectorAll('p'),\n\t\t\t    styleNode = trackText.getElementById('' + container.attr('style')),\n\t\t\t    entries = [];\n\n\t\t\tvar styles = void 0;\n\n\t\t\tif (styleNode.length) {\n\t\t\t\tstyleNode.removeAttribute('id');\n\t\t\t\tvar attributes = styleNode.attributes;\n\t\t\t\tif (attributes.length) {\n\t\t\t\t\tstyles = {};\n\t\t\t\t\tfor (var i = 0, total = attributes.length; i < total; i++) {\n\t\t\t\t\t\tstyles[attributes[i].name.split(\":\")[1]] = attributes[i].value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var _i16 = 0, _total13 = lines.length; _i16 < _total13; _i16++) {\n\t\t\t\tvar style = void 0,\n\t\t\t\t    _temp = {\n\t\t\t\t\tstart: null,\n\t\t\t\t\tstop: null,\n\t\t\t\t\tstyle: null,\n\t\t\t\t\ttext: null\n\t\t\t\t};\n\n\t\t\t\tif (lines.eq(_i16).attr('begin')) {\n\t\t\t\t\t_temp.start = (0, _time.convertSMPTEtoSeconds)(lines.eq(_i16).attr('begin'));\n\t\t\t\t}\n\t\t\t\tif (!_temp.start && lines.eq(_i16 - 1).attr('end')) {\n\t\t\t\t\t_temp.start = (0, _time.convertSMPTEtoSeconds)(lines.eq(_i16 - 1).attr('end'));\n\t\t\t\t}\n\t\t\t\tif (lines.eq(_i16).attr('end')) {\n\t\t\t\t\t_temp.stop = (0, _time.convertSMPTEtoSeconds)(lines.eq(_i16).attr('end'));\n\t\t\t\t}\n\t\t\t\tif (!_temp.stop && lines.eq(_i16 + 1).attr('begin')) {\n\t\t\t\t\t_temp.stop = (0, _time.convertSMPTEtoSeconds)(lines.eq(_i16 + 1).attr('begin'));\n\t\t\t\t}\n\n\t\t\t\tif (styles) {\n\t\t\t\t\tstyle = '';\n\t\t\t\t\tfor (var _style in styles) {\n\t\t\t\t\t\tstyle += _style + ':' + styles[_style] + ';';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (style) {\n\t\t\t\t\t_temp.style = style;\n\t\t\t\t}\n\t\t\t\tif (_temp.start === 0) {\n\t\t\t\t\t_temp.start = 0.200;\n\t\t\t\t}\n\t\t\t\t_temp.text = lines.eq(_i16).innerHTML.trim().replace(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig, \"<a href='$1' target='_blank'>$1</a>\");\n\t\t\t\tentries.push(_temp);\n\t\t\t}\n\t\t\treturn entries;\n\t\t}\n\t}\n};\n\n},{\"16\":16,\"2\":2,\"26\":26,\"27\":27,\"30\":30,\"5\":5,\"7\":7}],14:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _constants = _dereq_(25);\n\nvar _general = _dereq_(27);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.assign(_player.config, {\n\tmuteText: null,\n\n\tunmuteText: null,\n\n\tallyVolumeControlText: null,\n\n\thideVolumeOnTouchDevices: true,\n\n\taudioVolume: 'horizontal',\n\n\tvideoVolume: 'vertical',\n\n\tstartVolume: 0.8\n});\n\nObject.assign(_player2.default.prototype, {\n\tbuildvolume: function buildvolume(player, controls, layers, media) {\n\t\tif ((_constants.IS_ANDROID || _constants.IS_IOS) && this.options.hideVolumeOnTouchDevices) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar t = this,\n\t\t    mode = t.isVideo ? t.options.videoVolume : t.options.audioVolume,\n\t\t    muteText = (0, _general.isString)(t.options.muteText) ? t.options.muteText : _i18n2.default.t('mejs.mute'),\n\t\t    unmuteText = (0, _general.isString)(t.options.unmuteText) ? t.options.unmuteText : _i18n2.default.t('mejs.unmute'),\n\t\t    volumeControlText = (0, _general.isString)(t.options.allyVolumeControlText) ? t.options.allyVolumeControlText : _i18n2.default.t('mejs.volume-help-text'),\n\t\t    mute = _document2.default.createElement('div');\n\n\t\tmute.className = t.options.classPrefix + 'button ' + t.options.classPrefix + 'volume-button ' + t.options.classPrefix + 'mute';\n\t\tmute.innerHTML = mode === 'horizontal' ? '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + muteText + '\" aria-label=\"' + muteText + '\" tabindex=\"0\"></button>' : '<button type=\"button\" aria-controls=\"' + t.id + '\" title=\"' + muteText + '\" aria-label=\"' + muteText + '\" tabindex=\"0\"></button>' + ('<a href=\"javascript:void(0);\" class=\"' + t.options.classPrefix + 'volume-slider\" ') + ('aria-label=\"' + _i18n2.default.t('mejs.volume-slider') + '\" aria-valuemin=\"0\" aria-valuemax=\"100\" role=\"slider\" ') + 'aria-orientation=\"vertical\">' + ('<span class=\"' + t.options.classPrefix + 'offscreen\">' + volumeControlText + '</span>') + ('<div class=\"' + t.options.classPrefix + 'volume-total\">') + ('<div class=\"' + t.options.classPrefix + 'volume-current\"></div>') + ('<div class=\"' + t.options.classPrefix + 'volume-handle\"></div>') + '</div>' + '</a>';\n\n\t\tt.addControlElement(mute, 'volume');\n\n\t\tt.options.keyActions.push({\n\t\t\tkeys: [38],\n\t\t\taction: function action(player) {\n\t\t\t\tvar volumeSlider = player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'volume-slider');\n\t\t\t\tif (volumeSlider && volumeSlider.matches(':focus')) {\n\t\t\t\t\tvolumeSlider.style.display = 'block';\n\t\t\t\t}\n\t\t\t\tif (player.isVideo) {\n\t\t\t\t\tplayer.showControls();\n\t\t\t\t\tplayer.startControlsTimer();\n\t\t\t\t}\n\n\t\t\t\tvar newVolume = Math.min(player.volume + 0.1, 1);\n\t\t\t\tplayer.setVolume(newVolume);\n\t\t\t\tif (newVolume > 0) {\n\t\t\t\t\tplayer.setMuted(false);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkeys: [40],\n\t\t\taction: function action(player) {\n\t\t\t\tvar volumeSlider = player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'volume-slider');\n\t\t\t\tif (volumeSlider) {\n\t\t\t\t\tvolumeSlider.style.display = 'block';\n\t\t\t\t}\n\n\t\t\t\tif (player.isVideo) {\n\t\t\t\t\tplayer.showControls();\n\t\t\t\t\tplayer.startControlsTimer();\n\t\t\t\t}\n\n\t\t\t\tvar newVolume = Math.max(player.volume - 0.1, 0);\n\t\t\t\tplayer.setVolume(newVolume);\n\n\t\t\t\tif (newVolume <= 0.1) {\n\t\t\t\t\tplayer.setMuted(true);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkeys: [77],\n\t\t\taction: function action(player) {\n\t\t\t\tvar volumeSlider = player.getElement(player.container).querySelector('.' + t.options.classPrefix + 'volume-slider');\n\t\t\t\tif (volumeSlider) {\n\t\t\t\t\tvolumeSlider.style.display = 'block';\n\t\t\t\t}\n\n\t\t\t\tif (player.isVideo) {\n\t\t\t\t\tplayer.showControls();\n\t\t\t\t\tplayer.startControlsTimer();\n\t\t\t\t}\n\t\t\t\tif (player.media.muted) {\n\t\t\t\t\tplayer.setMuted(false);\n\t\t\t\t} else {\n\t\t\t\t\tplayer.setMuted(true);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (mode === 'horizontal') {\n\t\t\tvar anchor = _document2.default.createElement('a');\n\t\t\tanchor.className = t.options.classPrefix + 'horizontal-volume-slider';\n\t\t\tanchor.href = 'javascript:void(0);';\n\t\t\tanchor.setAttribute('aria-label', _i18n2.default.t('mejs.volume-slider'));\n\t\t\tanchor.setAttribute('aria-valuemin', 0);\n\t\t\tanchor.setAttribute('aria-valuemax', 100);\n\t\t\tanchor.setAttribute('aria-valuenow', 100);\n\t\t\tanchor.setAttribute('role', 'slider');\n\t\t\tanchor.innerHTML += '<span class=\"' + t.options.classPrefix + 'offscreen\">' + volumeControlText + '</span>' + ('<div class=\"' + t.options.classPrefix + 'horizontal-volume-total\">') + ('<div class=\"' + t.options.classPrefix + 'horizontal-volume-current\"></div>') + ('<div class=\"' + t.options.classPrefix + 'horizontal-volume-handle\"></div>') + '</div>';\n\t\t\tmute.parentNode.insertBefore(anchor, mute.nextSibling);\n\t\t}\n\n\t\tvar mouseIsDown = false,\n\t\t    mouseIsOver = false,\n\t\t    modified = false,\n\t\t    updateVolumeSlider = function updateVolumeSlider() {\n\t\t\tvar volume = Math.floor(media.volume * 100);\n\t\t\tvolumeSlider.setAttribute('aria-valuenow', volume);\n\t\t\tvolumeSlider.setAttribute('aria-valuetext', volume + '%');\n\t\t};\n\n\t\tvar volumeSlider = mode === 'vertical' ? t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'volume-slider') : t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'horizontal-volume-slider'),\n\t\t    volumeTotal = mode === 'vertical' ? t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'volume-total') : t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'horizontal-volume-total'),\n\t\t    volumeCurrent = mode === 'vertical' ? t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'volume-current') : t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'horizontal-volume-current'),\n\t\t    volumeHandle = mode === 'vertical' ? t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'volume-handle') : t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'horizontal-volume-handle'),\n\t\t    positionVolumeHandle = function positionVolumeHandle(volume) {\n\n\t\t\tif (volume === null || isNaN(volume) || volume === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvolume = Math.max(0, volume);\n\t\t\tvolume = Math.min(volume, 1);\n\n\t\t\tif (volume === 0) {\n\t\t\t\t(0, _dom.removeClass)(mute, t.options.classPrefix + 'mute');\n\t\t\t\t(0, _dom.addClass)(mute, t.options.classPrefix + 'unmute');\n\t\t\t\tvar button = mute.firstElementChild;\n\t\t\t\tbutton.setAttribute('title', unmuteText);\n\t\t\t\tbutton.setAttribute('aria-label', unmuteText);\n\t\t\t} else {\n\t\t\t\t(0, _dom.removeClass)(mute, t.options.classPrefix + 'unmute');\n\t\t\t\t(0, _dom.addClass)(mute, t.options.classPrefix + 'mute');\n\t\t\t\tvar _button = mute.firstElementChild;\n\t\t\t\t_button.setAttribute('title', muteText);\n\t\t\t\t_button.setAttribute('aria-label', muteText);\n\t\t\t}\n\n\t\t\tvar volumePercentage = volume * 100 + '%',\n\t\t\t    volumeStyles = getComputedStyle(volumeHandle);\n\n\t\t\tif (mode === 'vertical') {\n\t\t\t\tvolumeCurrent.style.bottom = 0;\n\t\t\t\tvolumeCurrent.style.height = volumePercentage;\n\t\t\t\tvolumeHandle.style.bottom = volumePercentage;\n\t\t\t\tvolumeHandle.style.marginBottom = -parseFloat(volumeStyles.height) / 2 + 'px';\n\t\t\t} else {\n\t\t\t\tvolumeCurrent.style.left = 0;\n\t\t\t\tvolumeCurrent.style.width = volumePercentage;\n\t\t\t\tvolumeHandle.style.left = volumePercentage;\n\t\t\t\tvolumeHandle.style.marginLeft = -parseFloat(volumeStyles.width) / 2 + 'px';\n\t\t\t}\n\t\t},\n\t\t    handleVolumeMove = function handleVolumeMove(e) {\n\t\t\tvar totalOffset = (0, _dom.offset)(volumeTotal),\n\t\t\t    volumeStyles = getComputedStyle(volumeTotal);\n\n\t\t\tmodified = true;\n\n\t\t\tvar volume = null;\n\n\t\t\tif (mode === 'vertical') {\n\t\t\t\tvar railHeight = parseFloat(volumeStyles.height),\n\t\t\t\t    newY = e.pageY - totalOffset.top;\n\n\t\t\t\tvolume = (railHeight - newY) / railHeight;\n\n\t\t\t\tif (totalOffset.top === 0 || totalOffset.left === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar railWidth = parseFloat(volumeStyles.width),\n\t\t\t\t    newX = e.pageX - totalOffset.left;\n\n\t\t\t\tvolume = newX / railWidth;\n\t\t\t}\n\n\t\t\tvolume = Math.max(0, volume);\n\t\t\tvolume = Math.min(volume, 1);\n\n\t\t\tpositionVolumeHandle(volume);\n\n\t\t\tt.setMuted(volume === 0);\n\t\t\tt.setVolume(volume);\n\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t},\n\t\t    toggleMute = function toggleMute() {\n\t\t\tif (t.muted) {\n\t\t\t\tpositionVolumeHandle(0);\n\t\t\t\t(0, _dom.removeClass)(mute, t.options.classPrefix + 'mute');\n\t\t\t\t(0, _dom.addClass)(mute, t.options.classPrefix + 'unmute');\n\t\t\t} else {\n\t\t\t\tpositionVolumeHandle(media.volume);\n\t\t\t\t(0, _dom.removeClass)(mute, t.options.classPrefix + 'unmute');\n\t\t\t\t(0, _dom.addClass)(mute, t.options.classPrefix + 'mute');\n\t\t\t}\n\t\t};\n\n\t\tplayer.getElement(player.container).addEventListener('keydown', function (e) {\n\t\t\tvar hasFocus = !!e.target.closest('.' + t.options.classPrefix + 'container');\n\t\t\tif (!hasFocus && mode === 'vertical') {\n\t\t\t\tvolumeSlider.style.display = 'none';\n\t\t\t}\n\t\t});\n\n\t\tmute.addEventListener('mouseenter', function (e) {\n\t\t\tif (e.target === mute) {\n\t\t\t\tvolumeSlider.style.display = 'block';\n\t\t\t\tmouseIsOver = true;\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t});\n\t\tmute.addEventListener('focusin', function () {\n\t\t\tvolumeSlider.style.display = 'block';\n\t\t\tmouseIsOver = true;\n\t\t});\n\n\t\tmute.addEventListener('focusout', function (e) {\n\t\t\tif ((!e.relatedTarget || e.relatedTarget && !e.relatedTarget.matches('.' + t.options.classPrefix + 'volume-slider')) && mode === 'vertical') {\n\t\t\t\tvolumeSlider.style.display = 'none';\n\t\t\t}\n\t\t});\n\t\tmute.addEventListener('mouseleave', function () {\n\t\t\tmouseIsOver = false;\n\t\t\tif (!mouseIsDown && mode === 'vertical') {\n\t\t\t\tvolumeSlider.style.display = 'none';\n\t\t\t}\n\t\t});\n\t\tmute.addEventListener('focusout', function () {\n\t\t\tmouseIsOver = false;\n\t\t});\n\t\tmute.addEventListener('keydown', function (e) {\n\t\t\tif (t.options.enableKeyboard && t.options.keyActions.length) {\n\t\t\t\tvar keyCode = e.which || e.keyCode || 0,\n\t\t\t\t    volume = media.volume;\n\n\t\t\t\tswitch (keyCode) {\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tvolume = Math.min(volume + 0.1, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 40:\n\t\t\t\t\t\tvolume = Math.max(0, volume - 0.1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tmouseIsDown = false;\n\t\t\t\tpositionVolumeHandle(volume);\n\t\t\t\tmedia.setVolume(volume);\n\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t});\n\t\tmute.querySelector('button').addEventListener('click', function () {\n\t\t\tmedia.setMuted(!media.muted);\n\t\t\tvar event = (0, _general.createEvent)('volumechange', media);\n\t\t\tmedia.dispatchEvent(event);\n\t\t});\n\n\t\tvolumeSlider.addEventListener('dragstart', function () {\n\t\t\treturn false;\n\t\t});\n\n\t\tvolumeSlider.addEventListener('mouseover', function () {\n\t\t\tmouseIsOver = true;\n\t\t});\n\t\tvolumeSlider.addEventListener('focusin', function () {\n\t\t\tvolumeSlider.style.display = 'block';\n\t\t\tmouseIsOver = true;\n\t\t});\n\t\tvolumeSlider.addEventListener('focusout', function () {\n\t\t\tmouseIsOver = false;\n\t\t\tif (!mouseIsDown && mode === 'vertical') {\n\t\t\t\tvolumeSlider.style.display = 'none';\n\t\t\t}\n\t\t});\n\t\tvolumeSlider.addEventListener('mousedown', function (e) {\n\t\t\thandleVolumeMove(e);\n\t\t\tt.globalBind('mousemove.vol', function (event) {\n\t\t\t\tvar target = event.target;\n\t\t\t\tif (mouseIsDown && (target === volumeSlider || target.closest(mode === 'vertical' ? '.' + t.options.classPrefix + 'volume-slider' : '.' + t.options.classPrefix + 'horizontal-volume-slider'))) {\n\t\t\t\t\thandleVolumeMove(event);\n\t\t\t\t}\n\t\t\t});\n\t\t\tt.globalBind('mouseup.vol', function () {\n\t\t\t\tmouseIsDown = false;\n\t\t\t\tif (!mouseIsOver && mode === 'vertical') {\n\t\t\t\t\tvolumeSlider.style.display = 'none';\n\t\t\t\t}\n\t\t\t});\n\t\t\tmouseIsDown = true;\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tmedia.addEventListener('volumechange', function (e) {\n\t\t\tif (!mouseIsDown) {\n\t\t\t\ttoggleMute();\n\t\t\t}\n\t\t\tupdateVolumeSlider(e);\n\t\t});\n\n\t\tvar rendered = false;\n\t\tmedia.addEventListener('rendererready', function () {\n\t\t\tif (!modified) {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\trendered = true;\n\t\t\t\t\tif (player.options.startVolume === 0 || media.originalNode.muted) {\n\t\t\t\t\t\tmedia.setMuted(true);\n\t\t\t\t\t\tplayer.options.startVolume = 0;\n\t\t\t\t\t}\n\t\t\t\t\tmedia.setVolume(player.options.startVolume);\n\t\t\t\t\tt.setControlsSize();\n\t\t\t\t}, 250);\n\t\t\t}\n\t\t});\n\n\t\tmedia.addEventListener('loadedmetadata', function () {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (!modified && !rendered) {\n\t\t\t\t\tif (player.options.startVolume === 0 || media.originalNode.muted) {\n\t\t\t\t\t\tmedia.setMuted(true);\n\t\t\t\t\t}\n\t\t\t\t\tmedia.setVolume(player.options.startVolume);\n\t\t\t\t\tt.setControlsSize();\n\t\t\t\t}\n\t\t\t\trendered = false;\n\t\t\t}, 250);\n\t\t});\n\n\t\tif (player.options.startVolume === 0 || media.originalNode.muted) {\n\t\t\tmedia.setMuted(true);\n\t\t\tplayer.options.startVolume = 0;\n\t\t\ttoggleMute();\n\t\t}\n\n\t\tt.getElement(t.container).addEventListener('controlsresize', function () {\n\t\t\ttoggleMute();\n\t\t});\n\t}\n});\n\n},{\"16\":16,\"2\":2,\"25\":25,\"26\":26,\"27\":27,\"5\":5}],15:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar EN = exports.EN = {\n\t'mejs.plural-form': 1,\n\n\t'mejs.download-file': 'Download File',\n\n\t'mejs.install-flash': 'You are using a browser that does not have Flash player enabled or installed. Please turn on your Flash player plugin or download the latest version from https://get.adobe.com/flashplayer/',\n\n\t'mejs.fullscreen': 'Fullscreen',\n\n\t'mejs.play': 'Play',\n\t'mejs.pause': 'Pause',\n\n\t'mejs.time-slider': 'Time Slider',\n\t'mejs.time-help-text': 'Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.',\n\t'mejs.live-broadcast': 'Live Broadcast',\n\n\t'mejs.volume-help-text': 'Use Up/Down Arrow keys to increase or decrease volume.',\n\t'mejs.unmute': 'Unmute',\n\t'mejs.mute': 'Mute',\n\t'mejs.volume-slider': 'Volume Slider',\n\n\t'mejs.video-player': 'Video Player',\n\t'mejs.audio-player': 'Audio Player',\n\n\t'mejs.captions-subtitles': 'Captions/Subtitles',\n\t'mejs.captions-chapters': 'Chapters',\n\t'mejs.none': 'None',\n\t'mejs.afrikaans': 'Afrikaans',\n\t'mejs.albanian': 'Albanian',\n\t'mejs.arabic': 'Arabic',\n\t'mejs.belarusian': 'Belarusian',\n\t'mejs.bulgarian': 'Bulgarian',\n\t'mejs.catalan': 'Catalan',\n\t'mejs.chinese': 'Chinese',\n\t'mejs.chinese-simplified': 'Chinese (Simplified)',\n\t'mejs.chinese-traditional': 'Chinese (Traditional)',\n\t'mejs.croatian': 'Croatian',\n\t'mejs.czech': 'Czech',\n\t'mejs.danish': 'Danish',\n\t'mejs.dutch': 'Dutch',\n\t'mejs.english': 'English',\n\t'mejs.estonian': 'Estonian',\n\t'mejs.filipino': 'Filipino',\n\t'mejs.finnish': 'Finnish',\n\t'mejs.french': 'French',\n\t'mejs.galician': 'Galician',\n\t'mejs.german': 'German',\n\t'mejs.greek': 'Greek',\n\t'mejs.haitian-creole': 'Haitian Creole',\n\t'mejs.hebrew': 'Hebrew',\n\t'mejs.hindi': 'Hindi',\n\t'mejs.hungarian': 'Hungarian',\n\t'mejs.icelandic': 'Icelandic',\n\t'mejs.indonesian': 'Indonesian',\n\t'mejs.irish': 'Irish',\n\t'mejs.italian': 'Italian',\n\t'mejs.japanese': 'Japanese',\n\t'mejs.korean': 'Korean',\n\t'mejs.latvian': 'Latvian',\n\t'mejs.lithuanian': 'Lithuanian',\n\t'mejs.macedonian': 'Macedonian',\n\t'mejs.malay': 'Malay',\n\t'mejs.maltese': 'Maltese',\n\t'mejs.norwegian': 'Norwegian',\n\t'mejs.persian': 'Persian',\n\t'mejs.polish': 'Polish',\n\t'mejs.portuguese': 'Portuguese',\n\t'mejs.romanian': 'Romanian',\n\t'mejs.russian': 'Russian',\n\t'mejs.serbian': 'Serbian',\n\t'mejs.slovak': 'Slovak',\n\t'mejs.slovenian': 'Slovenian',\n\t'mejs.spanish': 'Spanish',\n\t'mejs.swahili': 'Swahili',\n\t'mejs.swedish': 'Swedish',\n\t'mejs.tagalog': 'Tagalog',\n\t'mejs.thai': 'Thai',\n\t'mejs.turkish': 'Turkish',\n\t'mejs.ukrainian': 'Ukrainian',\n\t'mejs.vietnamese': 'Vietnamese',\n\t'mejs.welsh': 'Welsh',\n\t'mejs.yiddish': 'Yiddish'\n};\n\n},{}],16:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.config = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _mediaelement = _dereq_(6);\n\nvar _mediaelement2 = _interopRequireDefault(_mediaelement);\n\nvar _default = _dereq_(17);\n\nvar _default2 = _interopRequireDefault(_default);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _constants = _dereq_(25);\n\nvar _general = _dereq_(27);\n\nvar _time = _dereq_(30);\n\nvar _media = _dereq_(28);\n\nvar _dom = _dereq_(26);\n\nvar dom = _interopRequireWildcard(_dom);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n_mejs2.default.mepIndex = 0;\n\n_mejs2.default.players = {};\n\nvar config = exports.config = {\n\tposter: '',\n\n\tshowPosterWhenEnded: false,\n\n\tshowPosterWhenPaused: false,\n\n\tdefaultVideoWidth: 480,\n\n\tdefaultVideoHeight: 270,\n\n\tvideoWidth: -1,\n\n\tvideoHeight: -1,\n\n\tdefaultAudioWidth: 400,\n\n\tdefaultAudioHeight: 40,\n\n\tdefaultSeekBackwardInterval: function defaultSeekBackwardInterval(media) {\n\t\treturn media.getDuration() * 0.05;\n\t},\n\n\tdefaultSeekForwardInterval: function defaultSeekForwardInterval(media) {\n\t\treturn media.getDuration() * 0.05;\n\t},\n\n\tsetDimensions: true,\n\n\taudioWidth: -1,\n\n\taudioHeight: -1,\n\n\tloop: false,\n\n\tautoRewind: true,\n\n\tenableAutosize: true,\n\n\ttimeFormat: '',\n\n\talwaysShowHours: false,\n\n\tshowTimecodeFrameCount: false,\n\n\tframesPerSecond: 25,\n\n\talwaysShowControls: false,\n\n\thideVideoControlsOnLoad: false,\n\n\thideVideoControlsOnPause: false,\n\n\tclickToPlayPause: true,\n\n\tcontrolsTimeoutDefault: 1500,\n\n\tcontrolsTimeoutMouseEnter: 2500,\n\n\tcontrolsTimeoutMouseLeave: 1000,\n\n\tiPadUseNativeControls: false,\n\n\tiPhoneUseNativeControls: false,\n\n\tAndroidUseNativeControls: false,\n\n\tfeatures: ['playpause', 'current', 'progress', 'duration', 'tracks', 'volume', 'fullscreen'],\n\n\tuseDefaultControls: false,\n\n\tisVideo: true,\n\n\tstretching: 'auto',\n\n\tclassPrefix: 'mejs__',\n\n\tenableKeyboard: true,\n\n\tpauseOtherPlayers: true,\n\n\tsecondsDecimalLength: 0,\n\n\tcustomError: null,\n\n\tkeyActions: [{\n\t\tkeys: [32, 179],\n\t\taction: function action(player) {\n\n\t\t\tif (!_constants.IS_FIREFOX) {\n\t\t\t\tif (player.paused || player.ended) {\n\t\t\t\t\tplayer.play();\n\t\t\t\t} else {\n\t\t\t\t\tplayer.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}]\n};\n\n_mejs2.default.MepDefaults = config;\n\nvar MediaElementPlayer = function () {\n\tfunction MediaElementPlayer(node, o) {\n\t\t_classCallCheck(this, MediaElementPlayer);\n\n\t\tvar t = this,\n\t\t    element = typeof node === 'string' ? _document2.default.getElementById(node) : node;\n\n\t\tif (!(t instanceof MediaElementPlayer)) {\n\t\t\treturn new MediaElementPlayer(element, o);\n\t\t}\n\n\t\tt.node = t.media = element;\n\n\t\tif (!t.node) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (t.media.player) {\n\t\t\treturn t.media.player;\n\t\t}\n\n\t\tt.hasFocus = false;\n\n\t\tt.controlsAreVisible = true;\n\n\t\tt.controlsEnabled = true;\n\n\t\tt.controlsTimer = null;\n\n\t\tt.currentMediaTime = 0;\n\n\t\tt.proxy = null;\n\n\t\tif (o === undefined) {\n\t\t\tvar options = t.node.getAttribute('data-mejsoptions');\n\t\t\to = options ? JSON.parse(options) : {};\n\t\t}\n\n\t\tt.options = Object.assign({}, config, o);\n\n\t\tif (t.options.loop && !t.media.getAttribute('loop')) {\n\t\t\tt.media.loop = true;\n\t\t\tt.node.loop = true;\n\t\t} else if (t.media.loop) {\n\t\t\tt.options.loop = true;\n\t\t}\n\n\t\tif (!t.options.timeFormat) {\n\t\t\tt.options.timeFormat = 'mm:ss';\n\t\t\tif (t.options.alwaysShowHours) {\n\t\t\t\tt.options.timeFormat = 'hh:mm:ss';\n\t\t\t}\n\t\t\tif (t.options.showTimecodeFrameCount) {\n\t\t\t\tt.options.timeFormat += ':ff';\n\t\t\t}\n\t\t}\n\n\t\t(0, _time.calculateTimeFormat)(0, t.options, t.options.framesPerSecond || 25);\n\n\t\tt.id = 'mep_' + _mejs2.default.mepIndex++;\n\n\t\t_mejs2.default.players[t.id] = t;\n\n\t\tt.init();\n\n\t\treturn t;\n\t}\n\n\t_createClass(MediaElementPlayer, [{\n\t\tkey: 'getElement',\n\t\tvalue: function getElement(element) {\n\t\t\treturn element;\n\t\t}\n\t}, {\n\t\tkey: 'init',\n\t\tvalue: function init() {\n\t\t\tvar t = this,\n\t\t\t    playerOptions = Object.assign({}, t.options, {\n\t\t\t\tsuccess: function success(media, domNode) {\n\t\t\t\t\tt._meReady(media, domNode);\n\t\t\t\t},\n\t\t\t\terror: function error(e) {\n\t\t\t\t\tt._handleError(e);\n\t\t\t\t}\n\t\t\t}),\n\t\t\t    tagName = t.node.tagName.toLowerCase();\n\n\t\t\tt.isDynamic = tagName !== 'audio' && tagName !== 'video' && tagName !== 'iframe';\n\t\t\tt.isVideo = t.isDynamic ? t.options.isVideo : tagName !== 'audio' && t.options.isVideo;\n\t\t\tt.mediaFiles = null;\n\t\t\tt.trackFiles = null;\n\n\t\t\tif (_constants.IS_IPAD && t.options.iPadUseNativeControls || _constants.IS_IPHONE && t.options.iPhoneUseNativeControls) {\n\t\t\t\tt.node.setAttribute('controls', true);\n\n\t\t\t\tif (_constants.IS_IPAD && t.node.getAttribute('autoplay')) {\n\t\t\t\t\tt.play();\n\t\t\t\t}\n\t\t\t} else if ((t.isVideo || !t.isVideo && (t.options.features.length || t.options.useDefaultControls)) && !(_constants.IS_ANDROID && t.options.AndroidUseNativeControls)) {\n\t\t\t\tt.node.removeAttribute('controls');\n\t\t\t\tvar videoPlayerTitle = t.isVideo ? _i18n2.default.t('mejs.video-player') : _i18n2.default.t('mejs.audio-player');\n\n\t\t\t\tvar offscreen = _document2.default.createElement('span');\n\t\t\t\toffscreen.className = t.options.classPrefix + 'offscreen';\n\t\t\t\toffscreen.innerText = videoPlayerTitle;\n\t\t\t\tt.media.parentNode.insertBefore(offscreen, t.media);\n\n\t\t\t\tt.container = _document2.default.createElement('div');\n\t\t\t\tt.getElement(t.container).id = t.id;\n\t\t\t\tt.getElement(t.container).className = t.options.classPrefix + 'container ' + t.options.classPrefix + 'container-keyboard-inactive ' + t.media.className;\n\t\t\t\tt.getElement(t.container).tabIndex = 0;\n\t\t\t\tt.getElement(t.container).setAttribute('role', 'application');\n\t\t\t\tt.getElement(t.container).setAttribute('aria-label', videoPlayerTitle);\n\t\t\t\tt.getElement(t.container).innerHTML = '<div class=\"' + t.options.classPrefix + 'inner\">' + ('<div class=\"' + t.options.classPrefix + 'mediaelement\"></div>') + ('<div class=\"' + t.options.classPrefix + 'layers\"></div>') + ('<div class=\"' + t.options.classPrefix + 'controls\"></div>') + '</div>';\n\t\t\t\tt.getElement(t.container).addEventListener('focus', function (e) {\n\t\t\t\t\tif (!t.controlsAreVisible && !t.hasFocus && t.controlsEnabled) {\n\t\t\t\t\t\tt.showControls(true);\n\n\t\t\t\t\t\tvar btnSelector = (0, _general.isNodeAfter)(e.relatedTarget, t.getElement(t.container)) ? '.' + t.options.classPrefix + 'controls .' + t.options.classPrefix + 'button:last-child > button' : '.' + t.options.classPrefix + 'playpause-button > button',\n\t\t\t\t\t\t    button = t.getElement(t.container).querySelector(btnSelector);\n\n\t\t\t\t\t\tbutton.focus();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tt.node.parentNode.insertBefore(t.getElement(t.container), t.node);\n\n\t\t\t\tif (!t.options.features.length && !t.options.useDefaultControls) {\n\t\t\t\t\tt.getElement(t.container).style.background = 'transparent';\n\t\t\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'controls').style.display = 'none';\n\t\t\t\t}\n\n\t\t\t\tif (t.isVideo && t.options.stretching === 'fill' && !dom.hasClass(t.getElement(t.container).parentNode, t.options.classPrefix + 'fill-container')) {\n\t\t\t\t\tt.outerContainer = t.media.parentNode;\n\n\t\t\t\t\tvar wrapper = _document2.default.createElement('div');\n\t\t\t\t\twrapper.className = t.options.classPrefix + 'fill-container';\n\t\t\t\t\tt.getElement(t.container).parentNode.insertBefore(wrapper, t.getElement(t.container));\n\t\t\t\t\twrapper.appendChild(t.getElement(t.container));\n\t\t\t\t}\n\n\t\t\t\tif (_constants.IS_ANDROID) {\n\t\t\t\t\tdom.addClass(t.getElement(t.container), t.options.classPrefix + 'android');\n\t\t\t\t}\n\t\t\t\tif (_constants.IS_IOS) {\n\t\t\t\t\tdom.addClass(t.getElement(t.container), t.options.classPrefix + 'ios');\n\t\t\t\t}\n\t\t\t\tif (_constants.IS_IPAD) {\n\t\t\t\t\tdom.addClass(t.getElement(t.container), t.options.classPrefix + 'ipad');\n\t\t\t\t}\n\t\t\t\tif (_constants.IS_IPHONE) {\n\t\t\t\t\tdom.addClass(t.getElement(t.container), t.options.classPrefix + 'iphone');\n\t\t\t\t}\n\t\t\t\tdom.addClass(t.getElement(t.container), t.isVideo ? t.options.classPrefix + 'video' : t.options.classPrefix + 'audio');\n\n\t\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'mediaelement').appendChild(t.node);\n\n\t\t\t\tt.media.player = t;\n\n\t\t\t\tt.controls = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'controls');\n\t\t\t\tt.layers = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'layers');\n\n\t\t\t\tvar tagType = t.isVideo ? 'video' : 'audio',\n\t\t\t\t    capsTagName = tagType.substring(0, 1).toUpperCase() + tagType.substring(1);\n\n\t\t\t\tif (t.options[tagType + 'Width'] > 0 || t.options[tagType + 'Width'].toString().indexOf('%') > -1) {\n\t\t\t\t\tt.width = t.options[tagType + 'Width'];\n\t\t\t\t} else if (t.node.style.width !== '' && t.node.style.width !== null) {\n\t\t\t\t\tt.width = t.node.style.width;\n\t\t\t\t} else if (t.node.getAttribute('width')) {\n\t\t\t\t\tt.width = t.node.getAttribute('width');\n\t\t\t\t} else {\n\t\t\t\t\tt.width = t.options['default' + capsTagName + 'Width'];\n\t\t\t\t}\n\n\t\t\t\tif (t.options[tagType + 'Height'] > 0 || t.options[tagType + 'Height'].toString().indexOf('%') > -1) {\n\t\t\t\t\tt.height = t.options[tagType + 'Height'];\n\t\t\t\t} else if (t.node.style.height !== '' && t.node.style.height !== null) {\n\t\t\t\t\tt.height = t.node.style.height;\n\t\t\t\t} else if (t.node.getAttribute('height')) {\n\t\t\t\t\tt.height = t.node.getAttribute('height');\n\t\t\t\t} else {\n\t\t\t\t\tt.height = t.options['default' + capsTagName + 'Height'];\n\t\t\t\t}\n\n\t\t\t\tt.initialAspectRatio = t.height >= t.width ? t.width / t.height : t.height / t.width;\n\n\t\t\t\tt.setPlayerSize(t.width, t.height);\n\n\t\t\t\tplayerOptions.pluginWidth = t.width;\n\t\t\t\tplayerOptions.pluginHeight = t.height;\n\t\t\t} else if (!t.isVideo && !t.options.features.length && !t.options.useDefaultControls) {\n\t\t\t\t\tt.node.style.display = 'none';\n\t\t\t\t}\n\n\t\t\t_mejs2.default.MepDefaults = playerOptions;\n\n\t\t\tnew _mediaelement2.default(t.media, playerOptions, t.mediaFiles);\n\n\t\t\tif (t.getElement(t.container) !== undefined && t.options.features.length && t.controlsAreVisible && !t.options.hideVideoControlsOnLoad) {\n\t\t\t\tvar event = (0, _general.createEvent)('controlsshown', t.getElement(t.container));\n\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'showControls',\n\t\tvalue: function showControls(doAnimation) {\n\t\t\tvar t = this;\n\n\t\t\tdoAnimation = doAnimation === undefined || doAnimation;\n\n\t\t\tif (t.controlsAreVisible || !t.isVideo) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (doAnimation) {\n\t\t\t\t(function () {\n\t\t\t\t\tdom.fadeIn(t.getElement(t.controls), 200, function () {\n\t\t\t\t\t\tdom.removeClass(t.getElement(t.controls), t.options.classPrefix + 'offscreen');\n\t\t\t\t\t\tvar event = (0, _general.createEvent)('controlsshown', t.getElement(t.container));\n\t\t\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t\t\t});\n\n\t\t\t\t\tvar controls = t.getElement(t.container).querySelectorAll('.' + t.options.classPrefix + 'control');\n\n\t\t\t\t\tvar _loop = function _loop(i, total) {\n\t\t\t\t\t\tdom.fadeIn(controls[i], 200, function () {\n\t\t\t\t\t\t\tdom.removeClass(controls[i], t.options.classPrefix + 'offscreen');\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\tfor (var i = 0, total = controls.length; i < total; i++) {\n\t\t\t\t\t\t_loop(i, total);\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t} else {\n\t\t\t\tdom.removeClass(t.getElement(t.controls), t.options.classPrefix + 'offscreen');\n\t\t\t\tt.getElement(t.controls).style.display = '';\n\t\t\t\tt.getElement(t.controls).style.opacity = 1;\n\n\t\t\t\tvar controls = t.getElement(t.container).querySelectorAll('.' + t.options.classPrefix + 'control');\n\t\t\t\tfor (var i = 0, total = controls.length; i < total; i++) {\n\t\t\t\t\tdom.removeClass(controls[i], t.options.classPrefix + 'offscreen');\n\t\t\t\t\tcontrols[i].style.display = '';\n\t\t\t\t}\n\n\t\t\t\tvar event = (0, _general.createEvent)('controlsshown', t.getElement(t.container));\n\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t}\n\n\t\t\tt.controlsAreVisible = true;\n\t\t\tt.setControlsSize();\n\t\t}\n\t}, {\n\t\tkey: 'hideControls',\n\t\tvalue: function hideControls(doAnimation, forceHide) {\n\t\t\tvar t = this;\n\n\t\t\tdoAnimation = doAnimation === undefined || doAnimation;\n\n\t\t\tif (forceHide !== true && (!t.controlsAreVisible || t.options.alwaysShowControls || t.paused && t.readyState === 4 && (!t.options.hideVideoControlsOnLoad && t.currentTime <= 0 || !t.options.hideVideoControlsOnPause && t.currentTime > 0) || t.isVideo && !t.options.hideVideoControlsOnLoad && !t.readyState || t.ended)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (doAnimation) {\n\t\t\t\t(function () {\n\t\t\t\t\tdom.fadeOut(t.getElement(t.controls), 200, function () {\n\t\t\t\t\t\tdom.addClass(t.getElement(t.controls), t.options.classPrefix + 'offscreen');\n\t\t\t\t\t\tt.getElement(t.controls).style.display = '';\n\t\t\t\t\t\tvar event = (0, _general.createEvent)('controlshidden', t.getElement(t.container));\n\t\t\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t\t\t});\n\n\t\t\t\t\tvar controls = t.getElement(t.container).querySelectorAll('.' + t.options.classPrefix + 'control');\n\n\t\t\t\t\tvar _loop2 = function _loop2(i, total) {\n\t\t\t\t\t\tdom.fadeOut(controls[i], 200, function () {\n\t\t\t\t\t\t\tdom.addClass(controls[i], t.options.classPrefix + 'offscreen');\n\t\t\t\t\t\t\tcontrols[i].style.display = '';\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\tfor (var i = 0, total = controls.length; i < total; i++) {\n\t\t\t\t\t\t_loop2(i, total);\n\t\t\t\t\t}\n\t\t\t\t})();\n\t\t\t} else {\n\t\t\t\tdom.addClass(t.getElement(t.controls), t.options.classPrefix + 'offscreen');\n\t\t\t\tt.getElement(t.controls).style.display = '';\n\t\t\t\tt.getElement(t.controls).style.opacity = 0;\n\n\t\t\t\tvar controls = t.getElement(t.container).querySelectorAll('.' + t.options.classPrefix + 'control');\n\t\t\t\tfor (var i = 0, total = controls.length; i < total; i++) {\n\t\t\t\t\tdom.addClass(controls[i], t.options.classPrefix + 'offscreen');\n\t\t\t\t\tcontrols[i].style.display = '';\n\t\t\t\t}\n\n\t\t\t\tvar event = (0, _general.createEvent)('controlshidden', t.getElement(t.container));\n\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t}\n\n\t\t\tt.controlsAreVisible = false;\n\t\t}\n\t}, {\n\t\tkey: 'startControlsTimer',\n\t\tvalue: function startControlsTimer(timeout) {\n\t\t\tvar t = this;\n\n\t\t\ttimeout = typeof timeout !== 'undefined' ? timeout : t.options.controlsTimeoutDefault;\n\n\t\t\tt.killControlsTimer('start');\n\n\t\t\tt.controlsTimer = setTimeout(function () {\n\t\t\t\tt.hideControls();\n\t\t\t\tt.killControlsTimer('hide');\n\t\t\t}, timeout);\n\t\t}\n\t}, {\n\t\tkey: 'killControlsTimer',\n\t\tvalue: function killControlsTimer() {\n\t\t\tvar t = this;\n\n\t\t\tif (t.controlsTimer !== null) {\n\t\t\t\tclearTimeout(t.controlsTimer);\n\t\t\t\tdelete t.controlsTimer;\n\t\t\t\tt.controlsTimer = null;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'disableControls',\n\t\tvalue: function disableControls() {\n\t\t\tvar t = this;\n\n\t\t\tt.killControlsTimer();\n\t\t\tt.controlsEnabled = false;\n\t\t\tt.hideControls(false, true);\n\t\t}\n\t}, {\n\t\tkey: 'enableControls',\n\t\tvalue: function enableControls() {\n\t\t\tvar t = this;\n\n\t\t\tt.controlsEnabled = true;\n\t\t\tt.showControls(false);\n\t\t}\n\t}, {\n\t\tkey: '_setDefaultPlayer',\n\t\tvalue: function _setDefaultPlayer() {\n\t\t\tvar t = this;\n\t\t\tif (t.proxy) {\n\t\t\t\tt.proxy.pause();\n\t\t\t}\n\t\t\tt.proxy = new _default2.default(t);\n\t\t\tt.media.addEventListener('loadedmetadata', function () {\n\t\t\t\tif (t.getCurrentTime() > 0 && t.currentMediaTime > 0) {\n\t\t\t\t\tt.setCurrentTime(t.currentMediaTime);\n\t\t\t\t\tif (!_constants.IS_IOS && !_constants.IS_ANDROID) {\n\t\t\t\t\t\tt.play();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_meReady',\n\t\tvalue: function _meReady(media, domNode) {\n\t\t\tvar t = this,\n\t\t\t    autoplayAttr = domNode.getAttribute('autoplay'),\n\t\t\t    autoplay = !(autoplayAttr === undefined || autoplayAttr === null || autoplayAttr === 'false'),\n\t\t\t    isNative = media.rendererName !== null && /(native|html5)/i.test(t.media.rendererName);\n\n\t\t\tif (t.getElement(t.controls)) {\n\t\t\t\tt.enableControls();\n\t\t\t}\n\n\t\t\tif (t.getElement(t.container) && t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'overlay-play')) {\n\t\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'overlay-play').style.display = '';\n\t\t\t}\n\n\t\t\tif (t.created) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tt.created = true;\n\t\t\tt.media = media;\n\t\t\tt.domNode = domNode;\n\n\t\t\tif (!(_constants.IS_ANDROID && t.options.AndroidUseNativeControls) && !(_constants.IS_IPAD && t.options.iPadUseNativeControls) && !(_constants.IS_IPHONE && t.options.iPhoneUseNativeControls)) {\n\t\t\t\tif (!t.isVideo && !t.options.features.length && !t.options.useDefaultControls) {\n\t\t\t\t\tif (autoplay && isNative) {\n\t\t\t\t\t\tt.play();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.options.success) {\n\n\t\t\t\t\t\tif (typeof t.options.success === 'string') {\n\t\t\t\t\t\t\t_window2.default[t.options.success](t.media, t.domNode, t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tt.options.success(t.media, t.domNode, t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tt.featurePosition = {};\n\n\t\t\t\tt._setDefaultPlayer();\n\n\t\t\t\tt.buildposter(t, t.getElement(t.controls), t.getElement(t.layers), t.media);\n\t\t\t\tt.buildkeyboard(t, t.getElement(t.controls), t.getElement(t.layers), t.media);\n\t\t\t\tt.buildoverlays(t, t.getElement(t.controls), t.getElement(t.layers), t.media);\n\n\t\t\t\tif (t.options.useDefaultControls) {\n\t\t\t\t\tvar defaultControls = ['playpause', 'current', 'progress', 'duration', 'tracks', 'volume', 'fullscreen'];\n\t\t\t\t\tt.options.features = defaultControls.concat(t.options.features.filter(function (item) {\n\t\t\t\t\t\treturn defaultControls.indexOf(item) === -1;\n\t\t\t\t\t}));\n\t\t\t\t}\n\n\t\t\t\tt.buildfeatures(t, t.getElement(t.controls), t.getElement(t.layers), t.media);\n\n\t\t\t\tvar event = (0, _general.createEvent)('controlsready', t.getElement(t.container));\n\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\n\t\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\t\tt.setControlsSize();\n\n\t\t\t\tif (t.isVideo) {\n\t\t\t\t\tt.clickToPlayPauseCallback = function () {\n\n\t\t\t\t\t\tif (t.options.clickToPlayPause) {\n\t\t\t\t\t\t\tvar button = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'overlay-button'),\n\t\t\t\t\t\t\t    pressed = button.getAttribute('aria-pressed');\n\n\t\t\t\t\t\t\tif (t.paused && pressed) {\n\t\t\t\t\t\t\t\tt.pause();\n\t\t\t\t\t\t\t} else if (t.paused) {\n\t\t\t\t\t\t\t\tt.play();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tt.pause();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbutton.setAttribute('aria-pressed', !pressed);\n\t\t\t\t\t\t\tt.getElement(t.container).focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tt.createIframeLayer();\n\n\t\t\t\t\tt.media.addEventListener('click', t.clickToPlayPauseCallback);\n\n\t\t\t\t\tif ((_constants.IS_ANDROID || _constants.IS_IOS) && !t.options.alwaysShowControls) {\n\t\t\t\t\t\tt.node.addEventListener('touchstart', function () {\n\t\t\t\t\t\t\tif (t.controlsAreVisible) {\n\t\t\t\t\t\t\t\tt.hideControls(false);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (t.controlsEnabled) {\n\t\t\t\t\t\t\t\t\tt.showControls(false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, _constants.SUPPORT_PASSIVE_EVENT ? { passive: true } : false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.getElement(t.container).addEventListener('mouseenter', function () {\n\t\t\t\t\t\t\tif (t.controlsEnabled) {\n\t\t\t\t\t\t\t\tif (!t.options.alwaysShowControls) {\n\t\t\t\t\t\t\t\t\tt.killControlsTimer('enter');\n\t\t\t\t\t\t\t\t\tt.showControls();\n\t\t\t\t\t\t\t\t\tt.startControlsTimer(t.options.controlsTimeoutMouseEnter);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tt.getElement(t.container).addEventListener('mousemove', function () {\n\t\t\t\t\t\t\tif (t.controlsEnabled) {\n\t\t\t\t\t\t\t\tif (!t.controlsAreVisible) {\n\t\t\t\t\t\t\t\t\tt.showControls();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!t.options.alwaysShowControls) {\n\t\t\t\t\t\t\t\t\tt.startControlsTimer(t.options.controlsTimeoutMouseEnter);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tt.getElement(t.container).addEventListener('mouseleave', function () {\n\t\t\t\t\t\t\tif (t.controlsEnabled) {\n\t\t\t\t\t\t\t\tif (!t.paused && !t.options.alwaysShowControls) {\n\t\t\t\t\t\t\t\t\tt.startControlsTimer(t.options.controlsTimeoutMouseLeave);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.options.hideVideoControlsOnLoad) {\n\t\t\t\t\t\tt.hideControls(false);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.options.enableAutosize) {\n\t\t\t\t\t\tt.media.addEventListener('loadedmetadata', function (e) {\n\t\t\t\t\t\t\tvar target = e !== undefined ? e.detail.target || e.target : t.media;\n\t\t\t\t\t\t\tif (t.options.videoHeight <= 0 && !t.domNode.getAttribute('height') && !t.domNode.style.height && target !== null && !isNaN(target.videoHeight)) {\n\t\t\t\t\t\t\t\tt.setPlayerSize(target.videoWidth, target.videoHeight);\n\t\t\t\t\t\t\t\tt.setControlsSize();\n\t\t\t\t\t\t\t\tt.media.setSize(target.videoWidth, target.videoHeight);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tt.media.addEventListener('play', function () {\n\t\t\t\t\tt.hasFocus = true;\n\n\t\t\t\t\tfor (var playerIndex in _mejs2.default.players) {\n\t\t\t\t\t\tif (_mejs2.default.players.hasOwnProperty(playerIndex)) {\n\t\t\t\t\t\t\tvar p = _mejs2.default.players[playerIndex];\n\n\t\t\t\t\t\t\tif (p.id !== t.id && t.options.pauseOtherPlayers && !p.paused && !p.ended && p.options.ignorePauseOtherPlayersOption !== true) {\n\t\t\t\t\t\t\t\tp.pause();\n\t\t\t\t\t\t\t\tp.hasFocus = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!(_constants.IS_ANDROID || _constants.IS_IOS) && !t.options.alwaysShowControls && t.isVideo) {\n\t\t\t\t\t\tt.hideControls();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tt.media.addEventListener('ended', function () {\n\t\t\t\t\tif (t.options.autoRewind) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tt.setCurrentTime(0);\n\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar loadingElement = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'overlay-loading');\n\t\t\t\t\t\t\t\tif (loadingElement && loadingElement.parentNode) {\n\t\t\t\t\t\t\t\t\tloadingElement.parentNode.style.display = 'none';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 20);\n\t\t\t\t\t\t} catch (exp) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof t.media.renderer.stop === 'function') {\n\t\t\t\t\t\tt.media.renderer.stop();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.pause();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.setProgressRail) {\n\t\t\t\t\t\tt.setProgressRail();\n\t\t\t\t\t}\n\t\t\t\t\tif (t.setCurrentRail) {\n\t\t\t\t\t\tt.setCurrentRail();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t.options.loop) {\n\t\t\t\t\t\tt.play();\n\t\t\t\t\t} else if (!t.options.alwaysShowControls && t.controlsEnabled) {\n\t\t\t\t\t\tt.showControls();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tt.media.addEventListener('loadedmetadata', function () {\n\n\t\t\t\t\t(0, _time.calculateTimeFormat)(t.getDuration(), t.options, t.options.framesPerSecond || 25);\n\n\t\t\t\t\tif (t.updateDuration) {\n\t\t\t\t\t\tt.updateDuration();\n\t\t\t\t\t}\n\t\t\t\t\tif (t.updateCurrent) {\n\t\t\t\t\t\tt.updateCurrent();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!t.isFullScreen) {\n\t\t\t\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\t\t\t\tt.setControlsSize();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar duration = null;\n\t\t\t\tt.media.addEventListener('timeupdate', function () {\n\t\t\t\t\tif (!isNaN(t.getDuration()) && duration !== t.getDuration()) {\n\t\t\t\t\t\tduration = t.getDuration();\n\t\t\t\t\t\t(0, _time.calculateTimeFormat)(duration, t.options, t.options.framesPerSecond || 25);\n\n\t\t\t\t\t\tif (t.updateDuration) {\n\t\t\t\t\t\t\tt.updateDuration();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (t.updateCurrent) {\n\t\t\t\t\t\t\tt.updateCurrent();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tt.setControlsSize();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tt.getElement(t.container).addEventListener('click', function (e) {\n\t\t\t\t\tdom.addClass(e.currentTarget, t.options.classPrefix + 'container-keyboard-inactive');\n\t\t\t\t});\n\n\t\t\t\tt.getElement(t.container).addEventListener('focusin', function (e) {\n\t\t\t\t\tdom.removeClass(e.currentTarget, t.options.classPrefix + 'container-keyboard-inactive');\n\t\t\t\t\tif (t.isVideo && !_constants.IS_ANDROID && !_constants.IS_IOS && t.controlsEnabled && !t.options.alwaysShowControls) {\n\t\t\t\t\t\tt.killControlsTimer('enter');\n\t\t\t\t\t\tt.showControls();\n\t\t\t\t\t\tt.startControlsTimer(t.options.controlsTimeoutMouseEnter);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tt.getElement(t.container).addEventListener('focusout', function (e) {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tif (e.relatedTarget) {\n\t\t\t\t\t\t\tif (t.keyboardAction && !e.relatedTarget.closest('.' + t.options.classPrefix + 'container')) {\n\t\t\t\t\t\t\t\tt.keyboardAction = false;\n\t\t\t\t\t\t\t\tif (t.isVideo && !t.options.alwaysShowControls && !t.paused) {\n\t\t\t\t\t\t\t\t\tt.startControlsTimer(t.options.controlsTimeoutMouseLeave);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 0);\n\t\t\t\t});\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\t\t\tt.setControlsSize();\n\t\t\t\t}, 0);\n\n\t\t\t\tt.globalResizeCallback = function () {\n\t\t\t\t\tif (!(t.isFullScreen || _constants.HAS_TRUE_NATIVE_FULLSCREEN && _document2.default.webkitIsFullScreen)) {\n\t\t\t\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\t\t\t}\n\n\t\t\t\t\tt.setControlsSize();\n\t\t\t\t};\n\n\t\t\t\tt.globalBind('resize', t.globalResizeCallback);\n\t\t\t}\n\n\t\t\tif (autoplay && isNative) {\n\t\t\t\tt.play();\n\t\t\t}\n\n\t\t\tif (t.options.success) {\n\t\t\t\tif (typeof t.options.success === 'string') {\n\t\t\t\t\t_window2.default[t.options.success](t.media, t.domNode, t);\n\t\t\t\t} else {\n\t\t\t\t\tt.options.success(t.media, t.domNode, t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_handleError',\n\t\tvalue: function _handleError(e, media, node) {\n\t\t\tvar t = this,\n\t\t\t    play = t.getElement(t.layers).querySelector('.' + t.options.classPrefix + 'overlay-play');\n\n\t\t\tif (play) {\n\t\t\t\tplay.style.display = 'none';\n\t\t\t}\n\n\t\t\tif (t.options.error) {\n\t\t\t\tt.options.error(e, media, node);\n\t\t\t}\n\n\t\t\tif (t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'cannotplay')) {\n\t\t\t\tt.getElement(t.container).querySelector('.' + t.options.classPrefix + 'cannotplay').remove();\n\t\t\t}\n\n\t\t\tvar errorContainer = _document2.default.createElement('div');\n\t\t\terrorContainer.className = t.options.classPrefix + 'cannotplay';\n\t\t\terrorContainer.style.width = '100%';\n\t\t\terrorContainer.style.height = '100%';\n\n\t\t\tvar errorContent = typeof t.options.customError === 'function' ? t.options.customError(t.media, t.media.originalNode) : t.options.customError,\n\t\t\t    imgError = '';\n\n\t\t\tif (!errorContent) {\n\t\t\t\tvar poster = t.media.originalNode.getAttribute('poster');\n\t\t\t\tif (poster) {\n\t\t\t\t\timgError = '<img src=\"' + poster + '\" alt=\"' + _mejs2.default.i18n.t('mejs.download-file') + '\">';\n\t\t\t\t}\n\n\t\t\t\tif (e.message) {\n\t\t\t\t\terrorContent = '<p>' + e.message + '</p>';\n\t\t\t\t}\n\n\t\t\t\tif (e.urls) {\n\t\t\t\t\tfor (var i = 0, total = e.urls.length; i < total; i++) {\n\t\t\t\t\t\tvar url = e.urls[i];\n\t\t\t\t\t\terrorContent += '<a href=\"' + url.src + '\" data-type=\"' + url.type + '\"><span>' + _mejs2.default.i18n.t('mejs.download-file') + ': ' + url.src + '</span></a>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (errorContent && t.getElement(t.layers).querySelector('.' + t.options.classPrefix + 'overlay-error')) {\n\t\t\t\terrorContainer.innerHTML = errorContent;\n\t\t\t\tt.getElement(t.layers).querySelector('.' + t.options.classPrefix + 'overlay-error').innerHTML = '' + imgError + errorContainer.outerHTML;\n\t\t\t\tt.getElement(t.layers).querySelector('.' + t.options.classPrefix + 'overlay-error').parentNode.style.display = 'block';\n\t\t\t}\n\n\t\t\tif (t.controlsEnabled) {\n\t\t\t\tt.disableControls();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setPlayerSize',\n\t\tvalue: function setPlayerSize(width, height) {\n\t\t\tvar t = this;\n\n\t\t\tif (!t.options.setDimensions) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (typeof width !== 'undefined') {\n\t\t\t\tt.width = width;\n\t\t\t}\n\n\t\t\tif (typeof height !== 'undefined') {\n\t\t\t\tt.height = height;\n\t\t\t}\n\n\t\t\tswitch (t.options.stretching) {\n\t\t\t\tcase 'fill':\n\t\t\t\t\tif (t.isVideo) {\n\t\t\t\t\t\tt.setFillMode();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.setDimensions(t.width, t.height);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'responsive':\n\t\t\t\t\tt.setResponsiveMode();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'none':\n\t\t\t\t\tt.setDimensions(t.width, t.height);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif (t.hasFluidMode() === true) {\n\t\t\t\t\t\tt.setResponsiveMode();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.setDimensions(t.width, t.height);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'hasFluidMode',\n\t\tvalue: function hasFluidMode() {\n\t\t\tvar t = this;\n\n\t\t\treturn t.height.toString().indexOf('%') !== -1 || t.node && t.node.style.maxWidth && t.node.style.maxWidth !== 'none' && t.node.style.maxWidth !== t.width || t.node && t.node.currentStyle && t.node.currentStyle.maxWidth === '100%';\n\t\t}\n\t}, {\n\t\tkey: 'setResponsiveMode',\n\t\tvalue: function setResponsiveMode() {\n\t\t\tvar t = this,\n\t\t\t    parent = function () {\n\n\t\t\t\tvar parentEl = void 0,\n\t\t\t\t    el = t.getElement(t.container);\n\n\t\t\t\twhile (el) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (_constants.IS_FIREFOX && el.tagName.toLowerCase() === 'html' && _window2.default.self !== _window2.default.top && _window2.default.frameElement !== null) {\n\t\t\t\t\t\t\treturn _window2.default.frameElement;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparentEl = el.parentElement;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tparentEl = el.parentElement;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (parentEl && dom.visible(parentEl)) {\n\t\t\t\t\t\treturn parentEl;\n\t\t\t\t\t}\n\t\t\t\t\tel = parentEl;\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}(),\n\t\t\t    parentStyles = parent ? getComputedStyle(parent, null) : getComputedStyle(_document2.default.body, null),\n\t\t\t    nativeWidth = function () {\n\t\t\t\tif (t.isVideo) {\n\t\t\t\t\tif (t.node.videoWidth && t.node.videoWidth > 0) {\n\t\t\t\t\t\treturn t.node.videoWidth;\n\t\t\t\t\t} else if (t.node.getAttribute('width')) {\n\t\t\t\t\t\treturn t.node.getAttribute('width');\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn t.options.defaultVideoWidth;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn t.options.defaultAudioWidth;\n\t\t\t\t}\n\t\t\t}(),\n\t\t\t    nativeHeight = function () {\n\t\t\t\tif (t.isVideo) {\n\t\t\t\t\tif (t.node.videoHeight && t.node.videoHeight > 0) {\n\t\t\t\t\t\treturn t.node.videoHeight;\n\t\t\t\t\t} else if (t.node.getAttribute('height')) {\n\t\t\t\t\t\treturn t.node.getAttribute('height');\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn t.options.defaultVideoHeight;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn t.options.defaultAudioHeight;\n\t\t\t\t}\n\t\t\t}(),\n\t\t\t    aspectRatio = function () {\n\t\t\t\tvar ratio = 1;\n\t\t\t\tif (!t.isVideo) {\n\t\t\t\t\treturn ratio;\n\t\t\t\t}\n\n\t\t\t\tif (t.node.videoWidth && t.node.videoWidth > 0 && t.node.videoHeight && t.node.videoHeight > 0) {\n\t\t\t\t\tratio = t.height >= t.width ? t.node.videoWidth / t.node.videoHeight : t.node.videoHeight / t.node.videoWidth;\n\t\t\t\t} else {\n\t\t\t\t\tratio = t.initialAspectRatio;\n\t\t\t\t}\n\n\t\t\t\tif (isNaN(ratio) || ratio < 0.01 || ratio > 100) {\n\t\t\t\t\tratio = 1;\n\t\t\t\t}\n\n\t\t\t\treturn ratio;\n\t\t\t}(),\n\t\t\t    parentHeight = parseFloat(parentStyles.height);\n\n\t\t\tvar newHeight = void 0,\n\t\t\t    parentWidth = parseFloat(parentStyles.width);\n\n\t\t\tif (t.isVideo) {\n\t\t\t\tif (t.height === '100%') {\n\t\t\t\t\tnewHeight = parseFloat(parentWidth * nativeHeight / nativeWidth, 10);\n\t\t\t\t} else {\n\t\t\t\t\tnewHeight = t.height >= t.width ? parseFloat(parentWidth / aspectRatio, 10) : parseFloat(parentWidth * aspectRatio, 10);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewHeight = nativeHeight;\n\t\t\t}\n\n\t\t\tif (isNaN(newHeight)) {\n\t\t\t\tnewHeight = parentHeight;\n\t\t\t}\n\n\t\t\tif (t.getElement(t.container).parentNode.length > 0 && t.getElement(t.container).parentNode.tagName.toLowerCase() === 'body') {\n\t\t\t\tparentWidth = _window2.default.innerWidth || _document2.default.documentElement.clientWidth || _document2.default.body.clientWidth;\n\t\t\t\tnewHeight = _window2.default.innerHeight || _document2.default.documentElement.clientHeight || _document2.default.body.clientHeight;\n\t\t\t}\n\n\t\t\tif (newHeight && parentWidth) {\n\t\t\t\tt.getElement(t.container).style.width = parentWidth + 'px';\n\t\t\t\tt.getElement(t.container).style.height = newHeight + 'px';\n\n\t\t\t\tt.node.style.width = '100%';\n\t\t\t\tt.node.style.height = '100%';\n\n\t\t\t\tif (t.isVideo && t.media.setSize) {\n\t\t\t\t\tt.media.setSize(parentWidth, newHeight);\n\t\t\t\t}\n\n\t\t\t\tvar layerChildren = t.getElement(t.layers).children;\n\t\t\t\tfor (var i = 0, total = layerChildren.length; i < total; i++) {\n\t\t\t\t\tlayerChildren[i].style.width = '100%';\n\t\t\t\t\tlayerChildren[i].style.height = '100%';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setFillMode',\n\t\tvalue: function setFillMode() {\n\t\t\tvar t = this;\n\t\t\tvar isIframe = _window2.default.self !== _window2.default.top && _window2.default.frameElement !== null;\n\t\t\tvar parent = function () {\n\t\t\t\tvar parentEl = void 0,\n\t\t\t\t    el = t.getElement(t.container);\n\n\t\t\t\twhile (el) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (_constants.IS_FIREFOX && el.tagName.toLowerCase() === 'html' && _window2.default.self !== _window2.default.top && _window2.default.frameElement !== null) {\n\t\t\t\t\t\t\treturn _window2.default.frameElement;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparentEl = el.parentElement;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tparentEl = el.parentElement;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (parentEl && dom.visible(parentEl)) {\n\t\t\t\t\t\treturn parentEl;\n\t\t\t\t\t}\n\t\t\t\t\tel = parentEl;\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}();\n\t\t\tvar parentStyles = parent ? getComputedStyle(parent, null) : getComputedStyle(_document2.default.body, null);\n\n\t\t\tif (t.node.style.height !== 'none' && t.node.style.height !== t.height) {\n\t\t\t\tt.node.style.height = 'auto';\n\t\t\t}\n\t\t\tif (t.node.style.maxWidth !== 'none' && t.node.style.maxWidth !== t.width) {\n\t\t\t\tt.node.style.maxWidth = 'none';\n\t\t\t}\n\n\t\t\tif (t.node.style.maxHeight !== 'none' && t.node.style.maxHeight !== t.height) {\n\t\t\t\tt.node.style.maxHeight = 'none';\n\t\t\t}\n\n\t\t\tif (t.node.currentStyle) {\n\t\t\t\tif (t.node.currentStyle.height === '100%') {\n\t\t\t\t\tt.node.currentStyle.height = 'auto';\n\t\t\t\t}\n\t\t\t\tif (t.node.currentStyle.maxWidth === '100%') {\n\t\t\t\t\tt.node.currentStyle.maxWidth = 'none';\n\t\t\t\t}\n\t\t\t\tif (t.node.currentStyle.maxHeight === '100%') {\n\t\t\t\t\tt.node.currentStyle.maxHeight = 'none';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!isIframe && !parseFloat(parentStyles.width)) {\n\t\t\t\tparent.style.width = t.media.offsetWidth + 'px';\n\t\t\t}\n\n\t\t\tif (!isIframe && !parseFloat(parentStyles.height)) {\n\t\t\t\tparent.style.height = t.media.offsetHeight + 'px';\n\t\t\t}\n\n\t\t\tparentStyles = getComputedStyle(parent);\n\n\t\t\tvar parentWidth = parseFloat(parentStyles.width),\n\t\t\t    parentHeight = parseFloat(parentStyles.height);\n\n\t\t\tt.setDimensions('100%', '100%');\n\n\t\t\tvar poster = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'poster>img');\n\t\t\tif (poster) {\n\t\t\t\tposter.style.display = '';\n\t\t\t}\n\n\t\t\tvar targetElement = t.getElement(t.container).querySelectorAll('object, embed, iframe, video'),\n\t\t\t    initHeight = t.height,\n\t\t\t    initWidth = t.width,\n\t\t\t    scaleX1 = parentWidth,\n\t\t\t    scaleY1 = initHeight * parentWidth / initWidth,\n\t\t\t    scaleX2 = initWidth * parentHeight / initHeight,\n\t\t\t    scaleY2 = parentHeight,\n\t\t\t    bScaleOnWidth = scaleX2 > parentWidth === false,\n\t\t\t    finalWidth = bScaleOnWidth ? Math.floor(scaleX1) : Math.floor(scaleX2),\n\t\t\t    finalHeight = bScaleOnWidth ? Math.floor(scaleY1) : Math.floor(scaleY2),\n\t\t\t    width = bScaleOnWidth ? parentWidth + 'px' : finalWidth + 'px',\n\t\t\t    height = bScaleOnWidth ? finalHeight + 'px' : parentHeight + 'px';\n\n\t\t\tfor (var i = 0, total = targetElement.length; i < total; i++) {\n\t\t\t\ttargetElement[i].style.height = height;\n\t\t\t\ttargetElement[i].style.width = width;\n\t\t\t\tif (t.media.setSize) {\n\t\t\t\t\tt.media.setSize(width, height);\n\t\t\t\t}\n\n\t\t\t\ttargetElement[i].style.marginLeft = Math.floor((parentWidth - finalWidth) / 2) + 'px';\n\t\t\t\ttargetElement[i].style.marginTop = 0;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setDimensions',\n\t\tvalue: function setDimensions(width, height) {\n\t\t\tvar t = this;\n\n\t\t\twidth = (0, _general.isString)(width) && width.indexOf('%') > -1 ? width : parseFloat(width) + 'px';\n\t\t\theight = (0, _general.isString)(height) && height.indexOf('%') > -1 ? height : parseFloat(height) + 'px';\n\n\t\t\tt.getElement(t.container).style.width = width;\n\t\t\tt.getElement(t.container).style.height = height;\n\n\t\t\tvar layers = t.getElement(t.layers).children;\n\t\t\tfor (var i = 0, total = layers.length; i < total; i++) {\n\t\t\t\tlayers[i].style.width = width;\n\t\t\t\tlayers[i].style.height = height;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setControlsSize',\n\t\tvalue: function setControlsSize() {\n\t\t\tvar t = this;\n\n\t\t\tif (!dom.visible(t.getElement(t.container))) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (t.rail && dom.visible(t.rail)) {\n\t\t\t\tvar totalStyles = t.total ? getComputedStyle(t.total, null) : null,\n\t\t\t\t    totalMargin = totalStyles ? parseFloat(totalStyles.marginLeft) + parseFloat(totalStyles.marginRight) : 0,\n\t\t\t\t    railStyles = getComputedStyle(t.rail),\n\t\t\t\t    railMargin = parseFloat(railStyles.marginLeft) + parseFloat(railStyles.marginRight);\n\n\t\t\t\tvar siblingsWidth = 0;\n\n\t\t\t\tvar siblings = dom.siblings(t.rail, function (el) {\n\t\t\t\t\treturn el !== t.rail;\n\t\t\t\t}),\n\t\t\t\t    total = siblings.length;\n\t\t\t\tfor (var i = 0; i < total; i++) {\n\t\t\t\t\tsiblingsWidth += siblings[i].offsetWidth;\n\t\t\t\t}\n\n\t\t\t\tsiblingsWidth += totalMargin + (totalMargin === 0 ? railMargin * 2 : railMargin) + 1;\n\n\t\t\t\tt.getElement(t.container).style.minWidth = siblingsWidth + 'px';\n\n\t\t\t\tvar event = (0, _general.createEvent)('controlsresize', t.getElement(t.container));\n\t\t\t\tt.getElement(t.container).dispatchEvent(event);\n\t\t\t} else {\n\t\t\t\tvar children = t.getElement(t.controls).children;\n\t\t\t\tvar minWidth = 0;\n\n\t\t\t\tfor (var _i = 0, _total = children.length; _i < _total; _i++) {\n\t\t\t\t\tminWidth += children[_i].offsetWidth;\n\t\t\t\t}\n\n\t\t\t\tt.getElement(t.container).style.minWidth = minWidth + 'px';\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'addControlElement',\n\t\tvalue: function addControlElement(element, key) {\n\n\t\t\tvar t = this;\n\n\t\t\tif (t.featurePosition[key] !== undefined) {\n\t\t\t\tvar child = t.getElement(t.controls).children[t.featurePosition[key] - 1];\n\t\t\t\tchild.parentNode.insertBefore(element, child.nextSibling);\n\t\t\t} else {\n\t\t\t\tt.getElement(t.controls).appendChild(element);\n\t\t\t\tvar children = t.getElement(t.controls).children;\n\t\t\t\tfor (var i = 0, total = children.length; i < total; i++) {\n\t\t\t\t\tif (element === children[i]) {\n\t\t\t\t\t\tt.featurePosition[key] = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'createIframeLayer',\n\t\tvalue: function createIframeLayer() {\n\t\t\tvar t = this;\n\n\t\t\tif (t.isVideo && t.media.rendererName !== null && t.media.rendererName.indexOf('iframe') > -1 && !_document2.default.getElementById(t.media.id + '-iframe-overlay')) {\n\n\t\t\t\tvar layer = _document2.default.createElement('div'),\n\t\t\t\t    target = _document2.default.getElementById(t.media.id + '_' + t.media.rendererName);\n\n\t\t\t\tlayer.id = t.media.id + '-iframe-overlay';\n\t\t\t\tlayer.className = t.options.classPrefix + 'iframe-overlay';\n\t\t\t\tlayer.addEventListener('click', function (e) {\n\t\t\t\t\tif (t.options.clickToPlayPause) {\n\t\t\t\t\t\tif (t.paused) {\n\t\t\t\t\t\t\tt.play();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tt.pause();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\ttarget.parentNode.insertBefore(layer, target);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'resetSize',\n\t\tvalue: function resetSize() {\n\t\t\tvar t = this;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\t\tt.setControlsSize();\n\t\t\t}, 50);\n\t\t}\n\t}, {\n\t\tkey: 'setPoster',\n\t\tvalue: function setPoster(url) {\n\t\t\tvar t = this;\n\n\t\t\tif (t.getElement(t.container)) {\n\t\t\t\tvar posterDiv = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'poster');\n\n\t\t\t\tif (!posterDiv) {\n\t\t\t\t\tposterDiv = _document2.default.createElement('div');\n\t\t\t\t\tposterDiv.className = t.options.classPrefix + 'poster ' + t.options.classPrefix + 'layer';\n\t\t\t\t\tt.getElement(t.layers).appendChild(posterDiv);\n\t\t\t\t}\n\n\t\t\t\tvar posterImg = posterDiv.querySelector('img');\n\n\t\t\t\tif (!posterImg && url) {\n\t\t\t\t\tposterImg = _document2.default.createElement('img');\n\t\t\t\t\tposterImg.className = t.options.classPrefix + 'poster-img';\n\t\t\t\t\tposterImg.width = '100%';\n\t\t\t\t\tposterImg.height = '100%';\n\t\t\t\t\tposterDiv.style.display = '';\n\t\t\t\t\tposterDiv.appendChild(posterImg);\n\t\t\t\t}\n\n\t\t\t\tif (url) {\n\t\t\t\t\tposterImg.setAttribute('src', url);\n\t\t\t\t\tposterDiv.style.backgroundImage = 'url(\"' + url + '\")';\n\t\t\t\t\tposterDiv.style.display = '';\n\t\t\t\t} else if (posterImg) {\n\t\t\t\t\tposterDiv.style.backgroundImage = 'none';\n\t\t\t\t\tposterDiv.style.display = 'none';\n\t\t\t\t\tposterImg.remove();\n\t\t\t\t} else {\n\t\t\t\t\tposterDiv.style.display = 'none';\n\t\t\t\t}\n\t\t\t} else if (_constants.IS_IPAD && t.options.iPadUseNativeControls || _constants.IS_IPHONE && t.options.iPhoneUseNativeControls || _constants.IS_ANDROID && t.options.AndroidUseNativeControls) {\n\t\t\t\tt.media.originalNode.poster = url;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'changeSkin',\n\t\tvalue: function changeSkin(className) {\n\t\t\tvar t = this;\n\n\t\t\tt.getElement(t.container).className = t.options.classPrefix + 'container ' + className;\n\t\t\tt.setPlayerSize(t.width, t.height);\n\t\t\tt.setControlsSize();\n\t\t}\n\t}, {\n\t\tkey: 'globalBind',\n\t\tvalue: function globalBind(events, callback) {\n\t\t\tvar t = this,\n\t\t\t    doc = t.node ? t.node.ownerDocument : _document2.default;\n\n\t\t\tevents = (0, _general.splitEvents)(events, t.id);\n\t\t\tif (events.d) {\n\t\t\t\tvar eventList = events.d.split(' ');\n\t\t\t\tfor (var i = 0, total = eventList.length; i < total; i++) {\n\t\t\t\t\teventList[i].split('.').reduce(function (part, e) {\n\t\t\t\t\t\tdoc.addEventListener(e, callback, false);\n\t\t\t\t\t\treturn e;\n\t\t\t\t\t}, '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (events.w) {\n\t\t\t\tvar _eventList = events.w.split(' ');\n\t\t\t\tfor (var _i2 = 0, _total2 = _eventList.length; _i2 < _total2; _i2++) {\n\t\t\t\t\t_eventList[_i2].split('.').reduce(function (part, e) {\n\t\t\t\t\t\t_window2.default.addEventListener(e, callback, false);\n\t\t\t\t\t\treturn e;\n\t\t\t\t\t}, '');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'globalUnbind',\n\t\tvalue: function globalUnbind(events, callback) {\n\t\t\tvar t = this,\n\t\t\t    doc = t.node ? t.node.ownerDocument : _document2.default;\n\n\t\t\tevents = (0, _general.splitEvents)(events, t.id);\n\t\t\tif (events.d) {\n\t\t\t\tvar eventList = events.d.split(' ');\n\t\t\t\tfor (var i = 0, total = eventList.length; i < total; i++) {\n\t\t\t\t\teventList[i].split('.').reduce(function (part, e) {\n\t\t\t\t\t\tdoc.removeEventListener(e, callback, false);\n\t\t\t\t\t\treturn e;\n\t\t\t\t\t}, '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (events.w) {\n\t\t\t\tvar _eventList2 = events.w.split(' ');\n\t\t\t\tfor (var _i3 = 0, _total3 = _eventList2.length; _i3 < _total3; _i3++) {\n\t\t\t\t\t_eventList2[_i3].split('.').reduce(function (part, e) {\n\t\t\t\t\t\t_window2.default.removeEventListener(e, callback, false);\n\t\t\t\t\t\treturn e;\n\t\t\t\t\t}, '');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'buildfeatures',\n\t\tvalue: function buildfeatures(player, controls, layers, media) {\n\t\t\tvar t = this;\n\n\t\t\tfor (var i = 0, total = t.options.features.length; i < total; i++) {\n\t\t\t\tvar feature = t.options.features[i];\n\t\t\t\tif (t['build' + feature]) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tt['build' + feature](player, controls, layers, media);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.error('error building ' + feature, e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'buildposter',\n\t\tvalue: function buildposter(player, controls, layers, media) {\n\t\t\tvar t = this,\n\t\t\t    poster = _document2.default.createElement('div');\n\n\t\t\tposter.className = t.options.classPrefix + 'poster ' + t.options.classPrefix + 'layer';\n\t\t\tlayers.appendChild(poster);\n\n\t\t\tvar posterUrl = media.originalNode.getAttribute('poster');\n\n\t\t\tif (player.options.poster !== '') {\n\t\t\t\tif (posterUrl && _constants.IS_IOS) {\n\t\t\t\t\tmedia.originalNode.removeAttribute('poster');\n\t\t\t\t}\n\t\t\t\tposterUrl = player.options.poster;\n\t\t\t}\n\n\t\t\tif (posterUrl) {\n\t\t\t\tt.setPoster(posterUrl);\n\t\t\t} else if (t.media.renderer !== null && typeof t.media.renderer.getPosterUrl === 'function') {\n\t\t\t\tt.setPoster(t.media.renderer.getPosterUrl());\n\t\t\t} else {\n\t\t\t\tposter.style.display = 'none';\n\t\t\t}\n\n\t\t\tmedia.addEventListener('play', function () {\n\t\t\t\tposter.style.display = 'none';\n\t\t\t});\n\n\t\t\tmedia.addEventListener('playing', function () {\n\t\t\t\tposter.style.display = 'none';\n\t\t\t});\n\n\t\t\tif (player.options.showPosterWhenEnded && player.options.autoRewind) {\n\t\t\t\tmedia.addEventListener('ended', function () {\n\t\t\t\t\tposter.style.display = '';\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tmedia.addEventListener('error', function () {\n\t\t\t\tposter.style.display = 'none';\n\t\t\t});\n\n\t\t\tif (player.options.showPosterWhenPaused) {\n\t\t\t\tmedia.addEventListener('pause', function () {\n\t\t\t\t\tif (!player.ended) {\n\t\t\t\t\t\tposter.style.display = '';\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'buildoverlays',\n\t\tvalue: function buildoverlays(player, controls, layers, media) {\n\n\t\t\tif (!player.isVideo) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar t = this,\n\t\t\t    loading = _document2.default.createElement('div'),\n\t\t\t    error = _document2.default.createElement('div'),\n\t\t\t    bigPlay = _document2.default.createElement('div');\n\n\t\t\tloading.style.display = 'none';\n\t\t\tloading.className = t.options.classPrefix + 'overlay ' + t.options.classPrefix + 'layer';\n\t\t\tloading.innerHTML = '<div class=\"' + t.options.classPrefix + 'overlay-loading\">' + ('<span class=\"' + t.options.classPrefix + 'overlay-loading-bg-img\"></span>') + '</div>';\n\t\t\tlayers.appendChild(loading);\n\n\t\t\terror.style.display = 'none';\n\t\t\terror.className = t.options.classPrefix + 'overlay ' + t.options.classPrefix + 'layer';\n\t\t\terror.innerHTML = '<div class=\"' + t.options.classPrefix + 'overlay-error\"></div>';\n\t\t\tlayers.appendChild(error);\n\n\t\t\tbigPlay.className = t.options.classPrefix + 'overlay ' + t.options.classPrefix + 'layer ' + t.options.classPrefix + 'overlay-play';\n\t\t\tbigPlay.innerHTML = '<div class=\"' + t.options.classPrefix + 'overlay-button\" role=\"button\" tabindex=\"0\" ' + ('aria-label=\"' + _i18n2.default.t('mejs.play') + '\" aria-pressed=\"false\"></div>');\n\t\t\tbigPlay.addEventListener('click', function () {\n\t\t\t\tif (t.options.clickToPlayPause) {\n\n\t\t\t\t\tvar button = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'overlay-button'),\n\t\t\t\t\t    pressed = button.getAttribute('aria-pressed');\n\n\t\t\t\t\tif (t.paused) {\n\t\t\t\t\t\tt.play();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tt.pause();\n\t\t\t\t\t}\n\n\t\t\t\t\tbutton.setAttribute('aria-pressed', !!pressed);\n\t\t\t\t\tt.getElement(t.container).focus();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tbigPlay.addEventListener('keydown', function (e) {\n\t\t\t\tvar keyPressed = e.keyCode || e.which || 0;\n\n\t\t\t\tif (keyPressed === 13 || _constants.IS_FIREFOX && keyPressed === 32) {\n\t\t\t\t\tvar event = (0, _general.createEvent)('click', bigPlay);\n\t\t\t\t\tbigPlay.dispatchEvent(event);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlayers.appendChild(bigPlay);\n\n\t\t\tif (t.media.rendererName !== null && (/(youtube|facebook)/i.test(t.media.rendererName) && !(t.media.originalNode.getAttribute('poster') || player.options.poster || typeof t.media.renderer.getPosterUrl === 'function' && t.media.renderer.getPosterUrl()) || _constants.IS_STOCK_ANDROID || t.media.originalNode.getAttribute('autoplay'))) {\n\t\t\t\tbigPlay.style.display = 'none';\n\t\t\t}\n\n\t\t\tvar hasError = false;\n\n\t\t\tmedia.addEventListener('play', function () {\n\t\t\t\tbigPlay.style.display = 'none';\n\t\t\t\tloading.style.display = 'none';\n\t\t\t\terror.style.display = 'none';\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('playing', function () {\n\t\t\t\tbigPlay.style.display = 'none';\n\t\t\t\tloading.style.display = 'none';\n\t\t\t\terror.style.display = 'none';\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('seeking', function () {\n\t\t\t\tbigPlay.style.display = 'none';\n\t\t\t\tloading.style.display = '';\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('seeked', function () {\n\t\t\t\tbigPlay.style.display = t.paused && !_constants.IS_STOCK_ANDROID ? '' : 'none';\n\t\t\t\tloading.style.display = 'none';\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('pause', function () {\n\t\t\t\tloading.style.display = 'none';\n\t\t\t\tif (!_constants.IS_STOCK_ANDROID && !hasError) {\n\t\t\t\t\tbigPlay.style.display = '';\n\t\t\t\t}\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('waiting', function () {\n\t\t\t\tloading.style.display = '';\n\t\t\t\thasError = false;\n\t\t\t});\n\n\t\t\tmedia.addEventListener('loadeddata', function () {\n\t\t\t\tloading.style.display = '';\n\n\t\t\t\tif (_constants.IS_ANDROID) {\n\t\t\t\t\tmedia.canplayTimeout = setTimeout(function () {\n\t\t\t\t\t\tif (_document2.default.createEvent) {\n\t\t\t\t\t\t\tvar evt = _document2.default.createEvent('HTMLEvents');\n\t\t\t\t\t\t\tevt.initEvent('canplay', true, true);\n\t\t\t\t\t\t\treturn media.dispatchEvent(evt);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t\tmedia.addEventListener('canplay', function () {\n\t\t\t\tloading.style.display = 'none';\n\n\t\t\t\tclearTimeout(media.canplayTimeout);\n\t\t\t\thasError = false;\n\t\t\t});\n\n\t\t\tmedia.addEventListener('error', function (e) {\n\t\t\t\tt._handleError(e, t.media, t.node);\n\t\t\t\tloading.style.display = 'none';\n\t\t\t\tbigPlay.style.display = 'none';\n\t\t\t\thasError = true;\n\t\t\t});\n\n\t\t\tmedia.addEventListener('loadedmetadata', function () {\n\t\t\t\tif (!t.controlsEnabled) {\n\t\t\t\t\tt.enableControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmedia.addEventListener('keydown', function (e) {\n\t\t\t\tt.onkeydown(player, media, e);\n\t\t\t\thasError = false;\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'buildkeyboard',\n\t\tvalue: function buildkeyboard(player, controls, layers, media) {\n\n\t\t\tvar t = this;\n\n\t\t\tt.getElement(t.container).addEventListener('keydown', function () {\n\t\t\t\tt.keyboardAction = true;\n\t\t\t});\n\n\t\t\tt.globalKeydownCallback = function (event) {\n\t\t\t\tvar container = _document2.default.activeElement.closest('.' + t.options.classPrefix + 'container'),\n\t\t\t\t    target = t.media.closest('.' + t.options.classPrefix + 'container');\n\t\t\t\tt.hasFocus = !!(container && target && container.id === target.id);\n\t\t\t\treturn t.onkeydown(player, media, event);\n\t\t\t};\n\n\t\t\tt.globalClickCallback = function (event) {\n\t\t\t\tt.hasFocus = !!event.target.closest('.' + t.options.classPrefix + 'container');\n\t\t\t};\n\n\t\t\tt.globalBind('keydown', t.globalKeydownCallback);\n\n\t\t\tt.globalBind('click', t.globalClickCallback);\n\t\t}\n\t}, {\n\t\tkey: 'onkeydown',\n\t\tvalue: function onkeydown(player, media, e) {\n\n\t\t\tif (player.hasFocus && player.options.enableKeyboard) {\n\t\t\t\tfor (var i = 0, total = player.options.keyActions.length; i < total; i++) {\n\t\t\t\t\tvar keyAction = player.options.keyActions[i];\n\n\t\t\t\t\tfor (var j = 0, jl = keyAction.keys.length; j < jl; j++) {\n\t\t\t\t\t\tif (e.keyCode === keyAction.keys[j]) {\n\t\t\t\t\t\t\tkeyAction.action(player, media, e.keyCode, e);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}, {\n\t\tkey: 'play',\n\t\tvalue: function play() {\n\t\t\tthis.proxy.play();\n\t\t}\n\t}, {\n\t\tkey: 'pause',\n\t\tvalue: function pause() {\n\t\t\tthis.proxy.pause();\n\t\t}\n\t}, {\n\t\tkey: 'load',\n\t\tvalue: function load() {\n\t\t\tthis.proxy.load();\n\t\t}\n\t}, {\n\t\tkey: 'setCurrentTime',\n\t\tvalue: function setCurrentTime(time) {\n\t\t\tthis.proxy.setCurrentTime(time);\n\t\t}\n\t}, {\n\t\tkey: 'getCurrentTime',\n\t\tvalue: function getCurrentTime() {\n\t\t\treturn this.proxy.currentTime;\n\t\t}\n\t}, {\n\t\tkey: 'getDuration',\n\t\tvalue: function getDuration() {\n\t\t\treturn this.proxy.duration;\n\t\t}\n\t}, {\n\t\tkey: 'setVolume',\n\t\tvalue: function setVolume(volume) {\n\t\t\tthis.proxy.volume = volume;\n\t\t}\n\t}, {\n\t\tkey: 'getVolume',\n\t\tvalue: function getVolume() {\n\t\t\treturn this.proxy.getVolume();\n\t\t}\n\t}, {\n\t\tkey: 'setMuted',\n\t\tvalue: function setMuted(value) {\n\t\t\tthis.proxy.setMuted(value);\n\t\t}\n\t}, {\n\t\tkey: 'setSrc',\n\t\tvalue: function setSrc(src) {\n\t\t\tif (!this.controlsEnabled) {\n\t\t\t\tthis.enableControls();\n\t\t\t}\n\t\t\tthis.proxy.setSrc(src);\n\t\t}\n\t}, {\n\t\tkey: 'getSrc',\n\t\tvalue: function getSrc() {\n\t\t\treturn this.proxy.getSrc();\n\t\t}\n\t}, {\n\t\tkey: 'canPlayType',\n\t\tvalue: function canPlayType(type) {\n\t\t\treturn this.proxy.canPlayType(type);\n\t\t}\n\t}, {\n\t\tkey: 'remove',\n\t\tvalue: function remove() {\n\t\t\tvar t = this,\n\t\t\t    rendererName = t.media.rendererName,\n\t\t\t    src = t.media.originalNode.src;\n\n\t\t\tfor (var featureIndex in t.options.features) {\n\t\t\t\tvar feature = t.options.features[featureIndex];\n\t\t\t\tif (t['clean' + feature]) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tt['clean' + feature](t, t.getElement(t.layers), t.getElement(t.controls), t.media);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.error('error cleaning ' + feature, e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar nativeWidth = t.node.getAttribute('width'),\n\t\t\t    nativeHeight = t.node.getAttribute('height');\n\n\t\t\tif (nativeWidth) {\n\t\t\t\tif (nativeWidth.indexOf('%') === -1) {\n\t\t\t\t\tnativeWidth = nativeWidth + 'px';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnativeWidth = 'auto';\n\t\t\t}\n\n\t\t\tif (nativeHeight) {\n\t\t\t\tif (nativeHeight.indexOf('%') === -1) {\n\t\t\t\t\tnativeHeight = nativeHeight + 'px';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnativeHeight = 'auto';\n\t\t\t}\n\n\t\t\tt.node.style.width = nativeWidth;\n\t\t\tt.node.style.height = nativeHeight;\n\n\t\t\tt.setPlayerSize(0, 0);\n\n\t\t\tif (!t.isDynamic) {\n\t\t\t\t(function () {\n\t\t\t\t\tt.node.setAttribute('controls', true);\n\t\t\t\t\tt.node.setAttribute('id', t.node.getAttribute('id').replace('_' + rendererName, '').replace('_from_mejs', ''));\n\t\t\t\t\tvar poster = t.getElement(t.container).querySelector('.' + t.options.classPrefix + 'poster>img');\n\t\t\t\t\tif (poster) {\n\t\t\t\t\t\tt.node.setAttribute('poster', poster.src);\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete t.node.autoplay;\n\n\t\t\t\t\tt.node.setAttribute('src', '');\n\t\t\t\t\tif (t.media.canPlayType((0, _media.getTypeFromFile)(src)) !== '') {\n\t\t\t\t\t\tt.node.setAttribute('src', src);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rendererName && rendererName.indexOf('iframe') > -1) {\n\t\t\t\t\t\tvar layer = _document2.default.getElementById(t.media.id + '-iframe-overlay');\n\t\t\t\t\t\tlayer.remove();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar node = t.node.cloneNode();\n\t\t\t\t\tnode.style.display = '';\n\t\t\t\t\tt.getElement(t.container).parentNode.insertBefore(node, t.getElement(t.container));\n\t\t\t\t\tt.node.remove();\n\n\t\t\t\t\tif (t.mediaFiles) {\n\t\t\t\t\t\tfor (var i = 0, total = t.mediaFiles.length; i < total; i++) {\n\t\t\t\t\t\t\tvar source = _document2.default.createElement('source');\n\t\t\t\t\t\t\tsource.setAttribute('src', t.mediaFiles[i].src);\n\t\t\t\t\t\t\tsource.setAttribute('type', t.mediaFiles[i].type);\n\t\t\t\t\t\t\tnode.appendChild(source);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (t.trackFiles) {\n\t\t\t\t\t\tvar _loop3 = function _loop3(_i4, _total4) {\n\t\t\t\t\t\t\tvar track = t.trackFiles[_i4];\n\t\t\t\t\t\t\tvar newTrack = _document2.default.createElement('track');\n\t\t\t\t\t\t\tnewTrack.kind = track.kind;\n\t\t\t\t\t\t\tnewTrack.label = track.label;\n\t\t\t\t\t\t\tnewTrack.srclang = track.srclang;\n\t\t\t\t\t\t\tnewTrack.src = track.src;\n\n\t\t\t\t\t\t\tnode.appendChild(newTrack);\n\t\t\t\t\t\t\tnewTrack.addEventListener('load', function () {\n\t\t\t\t\t\t\t\tthis.mode = 'showing';\n\t\t\t\t\t\t\t\tnode.textTracks[_i4].mode = 'showing';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tfor (var _i4 = 0, _total4 = t.trackFiles.length; _i4 < _total4; _i4++) {\n\t\t\t\t\t\t\t_loop3(_i4, _total4);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete t.node;\n\t\t\t\t\tdelete t.mediaFiles;\n\t\t\t\t\tdelete t.trackFiles;\n\t\t\t\t})();\n\t\t\t} else {\n\t\t\t\tt.getElement(t.container).parentNode.insertBefore(t.node, t.getElement(t.container));\n\t\t\t}\n\n\t\t\tif (t.media.renderer && typeof t.media.renderer.destroy === 'function') {\n\t\t\t\tt.media.renderer.destroy();\n\t\t\t}\n\n\t\t\tdelete _mejs2.default.players[t.id];\n\n\t\t\tif (_typeof(t.getElement(t.container)) === 'object') {\n\t\t\t\tvar offscreen = t.getElement(t.container).parentNode.querySelector('.' + t.options.classPrefix + 'offscreen');\n\t\t\t\toffscreen.remove();\n\t\t\t\tt.getElement(t.container).remove();\n\t\t\t}\n\t\t\tt.globalUnbind('resize', t.globalResizeCallback);\n\t\t\tt.globalUnbind('keydown', t.globalKeydownCallback);\n\t\t\tt.globalUnbind('click', t.globalClickCallback);\n\n\t\t\tdelete t.media.player;\n\t\t}\n\t}, {\n\t\tkey: 'paused',\n\t\tget: function get() {\n\t\t\treturn this.proxy.paused;\n\t\t}\n\t}, {\n\t\tkey: 'muted',\n\t\tget: function get() {\n\t\t\treturn this.proxy.muted;\n\t\t},\n\t\tset: function set(muted) {\n\t\t\tthis.setMuted(muted);\n\t\t}\n\t}, {\n\t\tkey: 'ended',\n\t\tget: function get() {\n\t\t\treturn this.proxy.ended;\n\t\t}\n\t}, {\n\t\tkey: 'readyState',\n\t\tget: function get() {\n\t\t\treturn this.proxy.readyState;\n\t\t}\n\t}, {\n\t\tkey: 'currentTime',\n\t\tset: function set(time) {\n\t\t\tthis.setCurrentTime(time);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getCurrentTime();\n\t\t}\n\t}, {\n\t\tkey: 'duration',\n\t\tget: function get() {\n\t\t\treturn this.getDuration();\n\t\t}\n\t}, {\n\t\tkey: 'volume',\n\t\tset: function set(volume) {\n\t\t\tthis.setVolume(volume);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getVolume();\n\t\t}\n\t}, {\n\t\tkey: 'src',\n\t\tset: function set(src) {\n\t\t\tthis.setSrc(src);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getSrc();\n\t\t}\n\t}]);\n\n\treturn MediaElementPlayer;\n}();\n\n_window2.default.MediaElementPlayer = MediaElementPlayer;\n_mejs2.default.MediaElementPlayer = MediaElementPlayer;\n\nexports.default = MediaElementPlayer;\n\n},{\"17\":17,\"2\":2,\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"30\":30,\"5\":5,\"6\":6,\"7\":7}],17:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DefaultPlayer = function () {\n\tfunction DefaultPlayer(player) {\n\t\t_classCallCheck(this, DefaultPlayer);\n\n\t\tthis.media = player.media;\n\t\tthis.isVideo = player.isVideo;\n\t\tthis.classPrefix = player.options.classPrefix;\n\t\tthis.createIframeLayer = function () {\n\t\t\treturn player.createIframeLayer();\n\t\t};\n\t\tthis.setPoster = function (url) {\n\t\t\treturn player.setPoster(url);\n\t\t};\n\t\treturn this;\n\t}\n\n\t_createClass(DefaultPlayer, [{\n\t\tkey: 'play',\n\t\tvalue: function play() {\n\t\t\tthis.media.play();\n\t\t}\n\t}, {\n\t\tkey: 'pause',\n\t\tvalue: function pause() {\n\t\t\tthis.media.pause();\n\t\t}\n\t}, {\n\t\tkey: 'load',\n\t\tvalue: function load() {\n\t\t\tvar t = this;\n\n\t\t\tif (!t.isLoaded) {\n\t\t\t\tt.media.load();\n\t\t\t}\n\n\t\t\tt.isLoaded = true;\n\t\t}\n\t}, {\n\t\tkey: 'setCurrentTime',\n\t\tvalue: function setCurrentTime(time) {\n\t\t\tthis.media.setCurrentTime(time);\n\t\t}\n\t}, {\n\t\tkey: 'getCurrentTime',\n\t\tvalue: function getCurrentTime() {\n\t\t\treturn this.media.currentTime;\n\t\t}\n\t}, {\n\t\tkey: 'getDuration',\n\t\tvalue: function getDuration() {\n\t\t\tvar duration = this.media.getDuration();\n\t\t\tif (duration === Infinity && this.media.seekable && this.media.seekable.length) {\n\t\t\t\tduration = this.media.seekable.end(0);\n\t\t\t}\n\t\t\treturn duration;\n\t\t}\n\t}, {\n\t\tkey: 'setVolume',\n\t\tvalue: function setVolume(volume) {\n\t\t\tthis.media.setVolume(volume);\n\t\t}\n\t}, {\n\t\tkey: 'getVolume',\n\t\tvalue: function getVolume() {\n\t\t\treturn this.media.getVolume();\n\t\t}\n\t}, {\n\t\tkey: 'setMuted',\n\t\tvalue: function setMuted(value) {\n\t\t\tthis.media.setMuted(value);\n\t\t}\n\t}, {\n\t\tkey: 'setSrc',\n\t\tvalue: function setSrc(src) {\n\t\t\tvar t = this,\n\t\t\t    layer = document.getElementById(t.media.id + '-iframe-overlay');\n\n\t\t\tif (layer) {\n\t\t\t\tlayer.remove();\n\t\t\t}\n\n\t\t\tt.media.setSrc(src);\n\t\t\tt.createIframeLayer();\n\t\t\tif (t.media.renderer !== null && typeof t.media.renderer.getPosterUrl === 'function') {\n\t\t\t\tt.setPoster(t.media.renderer.getPosterUrl());\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'getSrc',\n\t\tvalue: function getSrc() {\n\t\t\treturn this.media.getSrc();\n\t\t}\n\t}, {\n\t\tkey: 'canPlayType',\n\t\tvalue: function canPlayType(type) {\n\t\t\treturn this.media.canPlayType(type);\n\t\t}\n\t}, {\n\t\tkey: 'paused',\n\t\tget: function get() {\n\t\t\treturn this.media.paused;\n\t\t}\n\t}, {\n\t\tkey: 'muted',\n\t\tset: function set(muted) {\n\t\t\tthis.setMuted(muted);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.media.muted;\n\t\t}\n\t}, {\n\t\tkey: 'ended',\n\t\tget: function get() {\n\t\t\treturn this.media.ended;\n\t\t}\n\t}, {\n\t\tkey: 'readyState',\n\t\tget: function get() {\n\t\t\treturn this.media.readyState;\n\t\t}\n\t}, {\n\t\tkey: 'currentTime',\n\t\tset: function set(time) {\n\t\t\tthis.setCurrentTime(time);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getCurrentTime();\n\t\t}\n\t}, {\n\t\tkey: 'duration',\n\t\tget: function get() {\n\t\t\treturn this.getDuration();\n\t\t}\n\t}, {\n\t\tkey: 'remainingTime',\n\t\tget: function get() {\n\t\t\treturn this.getDuration() - this.currentTime();\n\t\t}\n\t}, {\n\t\tkey: 'volume',\n\t\tset: function set(volume) {\n\t\t\tthis.setVolume(volume);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getVolume();\n\t\t}\n\t}, {\n\t\tkey: 'src',\n\t\tset: function set(src) {\n\t\t\tthis.setSrc(src);\n\t\t},\n\t\tget: function get() {\n\t\t\treturn this.getSrc();\n\t\t}\n\t}]);\n\n\treturn DefaultPlayer;\n}();\n\nexports.default = DefaultPlayer;\n\n\n_window2.default.DefaultPlayer = DefaultPlayer;\n\n},{\"3\":3}],18:[function(_dereq_,module,exports){\n'use strict';\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _player = _dereq_(16);\n\nvar _player2 = _interopRequireDefault(_player);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nif (typeof jQuery !== 'undefined') {\n\t_mejs2.default.$ = jQuery;\n} else if (typeof Zepto !== 'undefined') {\n\t_mejs2.default.$ = Zepto;\n} else if (typeof ender !== 'undefined') {\n\t_mejs2.default.$ = ender;\n}\n\n(function ($) {\n\tif (typeof $ !== 'undefined') {\n\t\t$.fn.mediaelementplayer = function (options) {\n\t\t\tif (options === false) {\n\t\t\t\tthis.each(function () {\n\t\t\t\t\tvar player = $(this).data('mediaelementplayer');\n\t\t\t\t\tif (player) {\n\t\t\t\t\t\tplayer.remove();\n\t\t\t\t\t}\n\t\t\t\t\t$(this).removeData('mediaelementplayer');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.each(function () {\n\t\t\t\t\t$(this).data('mediaelementplayer', new _player2.default(this, options));\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\t$(document).ready(function () {\n\t\t\t$('.' + _mejs2.default.MepDefaults.classPrefix + 'player').mediaelementplayer();\n\t\t});\n\t}\n})(_mejs2.default.$);\n\n},{\"16\":16,\"3\":3,\"7\":7}],19:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _media = _dereq_(28);\n\nvar _constants = _dereq_(25);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NativeDash = {\n\n\tpromise: null,\n\n\tload: function load(settings) {\n\t\tif (typeof dashjs !== 'undefined') {\n\t\t\tNativeDash.promise = new Promise(function (resolve) {\n\t\t\t\tresolve();\n\t\t\t}).then(function () {\n\t\t\t\tNativeDash._createPlayer(settings);\n\t\t\t});\n\t\t} else {\n\t\t\tsettings.options.path = typeof settings.options.path === 'string' ? settings.options.path : 'https://cdn.dashjs.org/latest/dash.all.min.js';\n\n\t\t\tNativeDash.promise = NativeDash.promise || (0, _dom.loadScript)(settings.options.path);\n\t\t\tNativeDash.promise.then(function () {\n\t\t\t\tNativeDash._createPlayer(settings);\n\t\t\t});\n\t\t}\n\n\t\treturn NativeDash.promise;\n\t},\n\n\t_createPlayer: function _createPlayer(settings) {\n\t\tvar player = dashjs.MediaPlayer().create();\n\t\t_window2.default['__ready__' + settings.id](player);\n\t\treturn player;\n\t}\n};\n\nvar DashNativeRenderer = {\n\tname: 'native_dash',\n\toptions: {\n\t\tprefix: 'native_dash',\n\t\tdash: {\n\t\t\tpath: 'https://cdn.dashjs.org/latest/dash.all.min.js',\n\t\t\tdebug: false,\n\t\t\tdrm: {},\n\n\t\t\trobustnessLevel: ''\n\t\t}\n\t},\n\n\tcanPlayType: function canPlayType(type) {\n\t\treturn _constants.HAS_MSE && ['application/dash+xml'].indexOf(type.toLowerCase()) > -1;\n\t},\n\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar originalNode = mediaElement.originalNode,\n\t\t    id = mediaElement.id + '_' + options.prefix,\n\t\t    autoplay = originalNode.autoplay,\n\t\t    children = originalNode.children;\n\n\t\tvar node = null,\n\t\t    dashPlayer = null;\n\n\t\toriginalNode.removeAttribute('type');\n\t\tfor (var i = 0, total = children.length; i < total; i++) {\n\t\t\tchildren[i].removeAttribute('type');\n\t\t}\n\n\t\tnode = originalNode.cloneNode(true);\n\t\toptions = Object.assign(options, mediaElement.options);\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    events = _mejs2.default.html5media.events.concat(['click', 'mouseover', 'mouseout']).filter(function (e) {\n\t\t\treturn e !== 'error';\n\t\t}),\n\t\t    attachNativeEvents = function attachNativeEvents(e) {\n\t\t\tvar event = (0, _general.createEvent)(e.type, mediaElement);\n\t\t\tmediaElement.dispatchEvent(event);\n\t\t},\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tnode['get' + capName] = function () {\n\t\t\t\treturn dashPlayer !== null ? node[propName] : null;\n\t\t\t};\n\n\t\t\tnode['set' + capName] = function (value) {\n\t\t\t\tif (_mejs2.default.html5media.readOnlyProperties.indexOf(propName) === -1) {\n\t\t\t\t\tif (propName === 'src') {\n\t\t\t\t\t\tvar source = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.src ? value.src : value;\n\t\t\t\t\t\tnode[propName] = source;\n\t\t\t\t\t\tif (dashPlayer !== null) {\n\t\t\t\t\t\t\tdashPlayer.reset();\n\t\t\t\t\t\t\tfor (var _i = 0, _total = events.length; _i < _total; _i++) {\n\t\t\t\t\t\t\t\tnode.removeEventListener(events[_i], attachNativeEvents);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdashPlayer = NativeDash._createPlayer({\n\t\t\t\t\t\t\t\toptions: options.dash,\n\t\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && _typeof(value.drm) === 'object') {\n\t\t\t\t\t\t\t\tdashPlayer.setProtectionData(value.drm);\n\t\t\t\t\t\t\t\tif ((0, _general.isString)(options.dash.robustnessLevel) && options.dash.robustnessLevel) {\n\t\t\t\t\t\t\t\t\tdashPlayer.getProtectionController().setRobustnessLevel(options.dash.robustnessLevel);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdashPlayer.attachSource(source);\n\t\t\t\t\t\t\tif (autoplay) {\n\t\t\t\t\t\t\t\tdashPlayer.play();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode[propName] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var _i2 = 0, _total2 = props.length; _i2 < _total2; _i2++) {\n\t\t\tassignGettersSetters(props[_i2]);\n\t\t}\n\n\t\t_window2.default['__ready__' + id] = function (_dashPlayer) {\n\t\t\tmediaElement.dashPlayer = dashPlayer = _dashPlayer;\n\n\t\t\tvar dashEvents = dashjs.MediaPlayer.events,\n\t\t\t    assignEvents = function assignEvents(eventName) {\n\t\t\t\tif (eventName === 'loadedmetadata') {\n\t\t\t\t\tdashPlayer.initialize();\n\t\t\t\t\tdashPlayer.attachView(node);\n\t\t\t\t\tdashPlayer.setAutoPlay(false);\n\n\t\t\t\t\tif (_typeof(options.dash.drm) === 'object' && !_mejs2.default.Utils.isObjectEmpty(options.dash.drm)) {\n\t\t\t\t\t\tdashPlayer.setProtectionData(options.dash.drm);\n\t\t\t\t\t\tif ((0, _general.isString)(options.dash.robustnessLevel) && options.dash.robustnessLevel) {\n\t\t\t\t\t\t\tdashPlayer.getProtectionController().setRobustnessLevel(options.dash.robustnessLevel);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdashPlayer.attachSource(node.getSrc());\n\t\t\t\t}\n\n\t\t\t\tnode.addEventListener(eventName, attachNativeEvents);\n\t\t\t};\n\n\t\t\tfor (var _i3 = 0, _total3 = events.length; _i3 < _total3; _i3++) {\n\t\t\t\tassignEvents(events[_i3]);\n\t\t\t}\n\n\t\t\tvar assignMdashEvents = function assignMdashEvents(e) {\n\t\t\t\tif (e.type.toLowerCase() === 'error') {\n\t\t\t\t\tmediaElement.generateError(e.message, node.src);\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t} else {\n\t\t\t\t\tvar _event = (0, _general.createEvent)(e.type, mediaElement);\n\t\t\t\t\t_event.data = e;\n\t\t\t\t\tmediaElement.dispatchEvent(_event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfor (var eventType in dashEvents) {\n\t\t\t\tif (dashEvents.hasOwnProperty(eventType)) {\n\t\t\t\t\tdashPlayer.on(dashEvents[eventType], function (e) {\n\t\t\t\t\t\treturn assignMdashEvents(e);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (mediaFiles && mediaFiles.length > 0) {\n\t\t\tfor (var _i4 = 0, _total4 = mediaFiles.length; _i4 < _total4; _i4++) {\n\t\t\t\tif (_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[_i4].type)) {\n\t\t\t\t\tnode.setAttribute('src', mediaFiles[_i4].src);\n\t\t\t\t\tif (typeof mediaFiles[_i4].drm !== 'undefined') {\n\t\t\t\t\t\toptions.dash.drm = mediaFiles[_i4].drm;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tnode.setAttribute('id', id);\n\n\t\toriginalNode.parentNode.insertBefore(node, originalNode);\n\t\toriginalNode.autoplay = false;\n\t\toriginalNode.style.display = 'none';\n\n\t\tnode.setSize = function (width, height) {\n\t\t\tnode.style.width = width + 'px';\n\t\t\tnode.style.height = height + 'px';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.hide = function () {\n\t\t\tnode.pause();\n\t\t\tnode.style.display = 'none';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.show = function () {\n\t\t\tnode.style.display = '';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.destroy = function () {\n\t\t\tif (dashPlayer !== null) {\n\t\t\t\tdashPlayer.reset();\n\t\t\t}\n\t\t};\n\n\t\tvar event = (0, _general.createEvent)('rendererready', node);\n\t\tmediaElement.dispatchEvent(event);\n\n\t\tmediaElement.promises.push(NativeDash.load({\n\t\t\toptions: options.dash,\n\t\t\tid: id\n\t\t}));\n\n\t\treturn node;\n\t}\n};\n\n_media.typeChecks.push(function (url) {\n\treturn ~url.toLowerCase().indexOf('.mpd') ? 'application/dash+xml' : null;\n});\n\n_renderer.renderer.add(DashNativeRenderer);\n\n},{\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"7\":7,\"8\":8}],20:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.PluginDetector = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _i18n = _dereq_(5);\n\nvar _i18n2 = _interopRequireDefault(_i18n);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _constants = _dereq_(25);\n\nvar _media = _dereq_(28);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PluginDetector = exports.PluginDetector = {\n\tplugins: [],\n\n\thasPluginVersion: function hasPluginVersion(plugin, v) {\n\t\tvar pv = PluginDetector.plugins[plugin];\n\t\tv[1] = v[1] || 0;\n\t\tv[2] = v[2] || 0;\n\t\treturn pv[0] > v[0] || pv[0] === v[0] && pv[1] > v[1] || pv[0] === v[0] && pv[1] === v[1] && pv[2] >= v[2];\n\t},\n\n\taddPlugin: function addPlugin(p, pluginName, mimeType, activeX, axDetect) {\n\t\tPluginDetector.plugins[p] = PluginDetector.detectPlugin(pluginName, mimeType, activeX, axDetect);\n\t},\n\n\tdetectPlugin: function detectPlugin(pluginName, mimeType, activeX, axDetect) {\n\n\t\tvar version = [0, 0, 0],\n\t\t    description = void 0,\n\t\t    ax = void 0;\n\n\t\tif (_constants.NAV.plugins !== null && _constants.NAV.plugins !== undefined && _typeof(_constants.NAV.plugins[pluginName]) === 'object') {\n\t\t\tdescription = _constants.NAV.plugins[pluginName].description;\n\t\t\tif (description && !(typeof _constants.NAV.mimeTypes !== 'undefined' && _constants.NAV.mimeTypes[mimeType] && !_constants.NAV.mimeTypes[mimeType].enabledPlugin)) {\n\t\t\t\tversion = description.replace(pluginName, '').replace(/^\\s+/, '').replace(/\\sr/gi, '.').split('.');\n\t\t\t\tfor (var i = 0, total = version.length; i < total; i++) {\n\t\t\t\t\tversion[i] = parseInt(version[i].match(/\\d+/), 10);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (_window2.default.ActiveXObject !== undefined) {\n\t\t\ttry {\n\t\t\t\tax = new ActiveXObject(activeX);\n\t\t\t\tif (ax) {\n\t\t\t\t\tversion = axDetect(ax);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\treturn version;\n\t}\n};\n\nPluginDetector.addPlugin('flash', 'Shockwave Flash', 'application/x-shockwave-flash', 'ShockwaveFlash.ShockwaveFlash', function (ax) {\n\tvar version = [],\n\t    d = ax.GetVariable(\"$version\");\n\n\tif (d) {\n\t\td = d.split(\" \")[1].split(\",\");\n\t\tversion = [parseInt(d[0], 10), parseInt(d[1], 10), parseInt(d[2], 10)];\n\t}\n\treturn version;\n});\n\nvar FlashMediaElementRenderer = {\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar flash = {};\n\t\tvar isActive = false;\n\n\t\tflash.options = options;\n\t\tflash.id = mediaElement.id + '_' + flash.options.prefix;\n\t\tflash.mediaElement = mediaElement;\n\t\tflash.flashState = {};\n\t\tflash.flashApi = null;\n\t\tflash.flashApiStack = [];\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\t\tflash.flashState[propName] = null;\n\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tflash['get' + capName] = function () {\n\t\t\t\tif (flash.flashApi !== null) {\n\t\t\t\t\tif (typeof flash.flashApi['get_' + propName] === 'function') {\n\t\t\t\t\t\tvar value = flash.flashApi['get_' + propName]();\n\n\t\t\t\t\t\tif (propName === 'buffered') {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstart: function start() {\n\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tend: function end() {\n\t\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlength: 1\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tflash['set' + capName] = function (value) {\n\t\t\t\tif (propName === 'src') {\n\t\t\t\t\tvalue = (0, _media.absolutizeUrl)(value);\n\t\t\t\t}\n\n\t\t\t\tif (flash.flashApi !== null && flash.flashApi['set_' + propName] !== undefined) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tflash.flashApi['set_' + propName](value);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tflash.flashApiStack.push({\n\t\t\t\t\t\ttype: 'set',\n\t\t\t\t\t\tpropName: propName,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var i = 0, total = props.length; i < total; i++) {\n\t\t\tassignGettersSetters(props[i]);\n\t\t}\n\n\t\tvar methods = _mejs2.default.html5media.methods,\n\t\t    assignMethods = function assignMethods(methodName) {\n\t\t\tflash[methodName] = function () {\n\t\t\t\tif (isActive) {\n\t\t\t\t\tif (flash.flashApi !== null) {\n\t\t\t\t\t\tif (flash.flashApi['fire_' + methodName]) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tflash.flashApi['fire_' + methodName]();\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tflash.flashApiStack.push({\n\t\t\t\t\t\t\ttype: 'call',\n\t\t\t\t\t\t\tmethodName: methodName\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t\tmethods.push('stop');\n\t\tfor (var _i = 0, _total = methods.length; _i < _total; _i++) {\n\t\t\tassignMethods(methods[_i]);\n\t\t}\n\n\t\tvar initEvents = ['rendererready'];\n\n\t\tfor (var _i2 = 0, _total2 = initEvents.length; _i2 < _total2; _i2++) {\n\t\t\tvar event = (0, _general.createEvent)(initEvents[_i2], flash);\n\t\t\tmediaElement.dispatchEvent(event);\n\t\t}\n\n\t\t_window2.default['__ready__' + flash.id] = function () {\n\n\t\t\tflash.flashReady = true;\n\t\t\tflash.flashApi = _document2.default.getElementById('__' + flash.id);\n\n\t\t\tif (flash.flashApiStack.length) {\n\t\t\t\tfor (var _i3 = 0, _total3 = flash.flashApiStack.length; _i3 < _total3; _i3++) {\n\t\t\t\t\tvar stackItem = flash.flashApiStack[_i3];\n\n\t\t\t\t\tif (stackItem.type === 'set') {\n\t\t\t\t\t\tvar propName = stackItem.propName,\n\t\t\t\t\t\t    capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\t\t\t\tflash['set' + capName](stackItem.value);\n\t\t\t\t\t} else if (stackItem.type === 'call') {\n\t\t\t\t\t\tflash[stackItem.methodName]();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t_window2.default['__event__' + flash.id] = function (eventName, message) {\n\t\t\tvar event = (0, _general.createEvent)(eventName, flash);\n\t\t\tif (message) {\n\t\t\t\ttry {\n\t\t\t\t\tevent.data = JSON.parse(message);\n\t\t\t\t\tevent.details.data = JSON.parse(message);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tevent.message = message;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tflash.mediaElement.dispatchEvent(event);\n\t\t};\n\n\t\tflash.flashWrapper = _document2.default.createElement('div');\n\n\t\tif (['always', 'sameDomain'].indexOf(flash.options.shimScriptAccess) === -1) {\n\t\t\tflash.options.shimScriptAccess = 'sameDomain';\n\t\t}\n\n\t\tvar autoplay = mediaElement.originalNode.autoplay,\n\t\t    flashVars = ['uid=' + flash.id, 'autoplay=' + autoplay, 'allowScriptAccess=' + flash.options.shimScriptAccess, 'preload=' + (mediaElement.originalNode.getAttribute('preload') || '')],\n\t\t    isVideo = mediaElement.originalNode !== null && mediaElement.originalNode.tagName.toLowerCase() === 'video',\n\t\t    flashHeight = isVideo ? mediaElement.originalNode.height : 1,\n\t\t    flashWidth = isVideo ? mediaElement.originalNode.width : 1;\n\n\t\tif (mediaElement.originalNode.getAttribute('src')) {\n\t\t\tflashVars.push('src=' + mediaElement.originalNode.getAttribute('src'));\n\t\t}\n\n\t\tif (flash.options.enablePseudoStreaming === true) {\n\t\t\tflashVars.push('pseudostreamstart=' + flash.options.pseudoStreamingStartQueryParam);\n\t\t\tflashVars.push('pseudostreamtype=' + flash.options.pseudoStreamingType);\n\t\t}\n\n\t\tif (flash.options.streamDelimiter) {\n\t\t\tflashVars.push('streamdelimiter=' + encodeURIComponent(flash.options.streamDelimiter));\n\t\t}\n\n\t\tif (flash.options.proxyType) {\n\t\t\tflashVars.push('proxytype=' + flash.options.proxyType);\n\t\t}\n\n\t\tmediaElement.appendChild(flash.flashWrapper);\n\t\tmediaElement.originalNode.style.display = 'none';\n\n\t\tvar settings = [];\n\n\t\tif (_constants.IS_IE || _constants.IS_EDGE) {\n\t\t\tvar specialIEContainer = _document2.default.createElement('div');\n\t\t\tflash.flashWrapper.appendChild(specialIEContainer);\n\n\t\t\tif (_constants.IS_EDGE) {\n\t\t\t\tsettings = ['type=\"application/x-shockwave-flash\"', 'data=\"' + flash.options.pluginPath + flash.options.filename + '\"', 'id=\"__' + flash.id + '\"', 'width=\"' + flashWidth + '\"', 'height=\"' + flashHeight + '\\'\"'];\n\t\t\t} else {\n\t\t\t\tsettings = ['classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"', 'codebase=\"//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab\"', 'id=\"__' + flash.id + '\"', 'width=\"' + flashWidth + '\"', 'height=\"' + flashHeight + '\"'];\n\t\t\t}\n\n\t\t\tif (!isVideo) {\n\t\t\t\tsettings.push('style=\"clip: rect(0 0 0 0); position: absolute;\"');\n\t\t\t}\n\n\t\t\tspecialIEContainer.outerHTML = '<object ' + settings.join(' ') + '>' + ('<param name=\"movie\" value=\"' + flash.options.pluginPath + flash.options.filename + '?x=' + new Date() + '\" />') + ('<param name=\"flashvars\" value=\"' + flashVars.join('&amp;') + '\" />') + '<param name=\"quality\" value=\"high\" />' + '<param name=\"bgcolor\" value=\"#000000\" />' + '<param name=\"wmode\" value=\"transparent\" />' + ('<param name=\"allowScriptAccess\" value=\"' + flash.options.shimScriptAccess + '\" />') + '<param name=\"allowFullScreen\" value=\"true\" />' + ('<div>' + _i18n2.default.t('mejs.install-flash') + '</div>') + '</object>';\n\t\t} else {\n\n\t\t\tsettings = ['id=\"__' + flash.id + '\"', 'name=\"__' + flash.id + '\"', 'play=\"true\"', 'loop=\"false\"', 'quality=\"high\"', 'bgcolor=\"#000000\"', 'wmode=\"transparent\"', 'allowScriptAccess=\"' + flash.options.shimScriptAccess + '\"', 'allowFullScreen=\"true\"', 'type=\"application/x-shockwave-flash\"', 'pluginspage=\"//www.macromedia.com/go/getflashplayer\"', 'src=\"' + flash.options.pluginPath + flash.options.filename + '\"', 'flashvars=\"' + flashVars.join('&') + '\"'];\n\n\t\t\tif (isVideo) {\n\t\t\t\tsettings.push('width=\"' + flashWidth + '\"');\n\t\t\t\tsettings.push('height=\"' + flashHeight + '\"');\n\t\t\t} else {\n\t\t\t\tsettings.push('style=\"position: fixed; left: -9999em; top: -9999em;\"');\n\t\t\t}\n\n\t\t\tflash.flashWrapper.innerHTML = '<embed ' + settings.join(' ') + '>';\n\t\t}\n\n\t\tflash.flashNode = flash.flashWrapper.lastChild;\n\n\t\tflash.hide = function () {\n\t\t\tisActive = false;\n\t\t\tif (isVideo) {\n\t\t\t\tflash.flashNode.style.display = 'none';\n\t\t\t}\n\t\t};\n\t\tflash.show = function () {\n\t\t\tisActive = true;\n\t\t\tif (isVideo) {\n\t\t\t\tflash.flashNode.style.display = '';\n\t\t\t}\n\t\t};\n\t\tflash.setSize = function (width, height) {\n\t\t\tflash.flashNode.style.width = width + 'px';\n\t\t\tflash.flashNode.style.height = height + 'px';\n\n\t\t\tif (flash.flashApi !== null && typeof flash.flashApi.fire_setSize === 'function') {\n\t\t\t\tflash.flashApi.fire_setSize(width, height);\n\t\t\t}\n\t\t};\n\n\t\tflash.destroy = function () {\n\t\t\tflash.flashNode.remove();\n\t\t};\n\n\t\tif (mediaFiles && mediaFiles.length > 0) {\n\t\t\tfor (var _i4 = 0, _total4 = mediaFiles.length; _i4 < _total4; _i4++) {\n\t\t\t\tif (_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[_i4].type)) {\n\t\t\t\t\tflash.setSrc(mediaFiles[_i4].src);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn flash;\n\t}\n};\n\nvar hasFlash = PluginDetector.hasPluginVersion('flash', [10, 0, 0]);\n\nif (hasFlash) {\n\t_media.typeChecks.push(function (url) {\n\t\turl = url.toLowerCase();\n\n\t\tif (url.startsWith('rtmp')) {\n\t\t\tif (~url.indexOf('.mp3')) {\n\t\t\t\treturn 'audio/rtmp';\n\t\t\t} else {\n\t\t\t\treturn 'video/rtmp';\n\t\t\t}\n\t\t} else if (/\\.og(a|g)/i.test(url)) {\n\t\t\treturn 'audio/ogg';\n\t\t} else if (~url.indexOf('.m3u8')) {\n\t\t\treturn 'application/x-mpegURL';\n\t\t} else if (~url.indexOf('.mpd')) {\n\t\t\treturn 'application/dash+xml';\n\t\t} else if (~url.indexOf('.flv')) {\n\t\t\treturn 'video/flv';\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\tvar FlashMediaElementVideoRenderer = {\n\t\tname: 'flash_video',\n\t\toptions: {\n\t\t\tprefix: 'flash_video',\n\t\t\tfilename: 'mediaelement-flash-video.swf',\n\t\t\tenablePseudoStreaming: false,\n\n\t\t\tpseudoStreamingStartQueryParam: 'start',\n\n\t\t\tpseudoStreamingType: 'byte',\n\n\t\t\tproxyType: '',\n\n\t\t\tstreamDelimiter: ''\n\t\t},\n\n\t\tcanPlayType: function canPlayType(type) {\n\t\t\treturn ~['video/mp4', 'video/rtmp', 'audio/rtmp', 'rtmp/mp4', 'audio/mp4', 'video/flv', 'video/x-flv'].indexOf(type.toLowerCase());\n\t\t},\n\n\t\tcreate: FlashMediaElementRenderer.create\n\n\t};\n\t_renderer.renderer.add(FlashMediaElementVideoRenderer);\n\n\tvar FlashMediaElementHlsVideoRenderer = {\n\t\tname: 'flash_hls',\n\t\toptions: {\n\t\t\tprefix: 'flash_hls',\n\t\t\tfilename: 'mediaelement-flash-video-hls.swf'\n\t\t},\n\n\t\tcanPlayType: function canPlayType(type) {\n\t\t\treturn ~['application/x-mpegurl', 'application/vnd.apple.mpegurl', 'audio/mpegurl', 'audio/hls', 'video/hls'].indexOf(type.toLowerCase());\n\t\t},\n\n\t\tcreate: FlashMediaElementRenderer.create\n\t};\n\t_renderer.renderer.add(FlashMediaElementHlsVideoRenderer);\n\n\tvar FlashMediaElementMdashVideoRenderer = {\n\t\tname: 'flash_dash',\n\t\toptions: {\n\t\t\tprefix: 'flash_dash',\n\t\t\tfilename: 'mediaelement-flash-video-mdash.swf'\n\t\t},\n\n\t\tcanPlayType: function canPlayType(type) {\n\t\t\treturn ~['application/dash+xml'].indexOf(type.toLowerCase());\n\t\t},\n\n\t\tcreate: FlashMediaElementRenderer.create\n\t};\n\t_renderer.renderer.add(FlashMediaElementMdashVideoRenderer);\n\n\tvar FlashMediaElementAudioRenderer = {\n\t\tname: 'flash_audio',\n\t\toptions: {\n\t\t\tprefix: 'flash_audio',\n\t\t\tfilename: 'mediaelement-flash-audio.swf'\n\t\t},\n\n\t\tcanPlayType: function canPlayType(type) {\n\t\t\treturn ~['audio/mp3'].indexOf(type.toLowerCase());\n\t\t},\n\n\t\tcreate: FlashMediaElementRenderer.create\n\t};\n\t_renderer.renderer.add(FlashMediaElementAudioRenderer);\n\n\tvar FlashMediaElementAudioOggRenderer = {\n\t\tname: 'flash_audio_ogg',\n\t\toptions: {\n\t\t\tprefix: 'flash_audio_ogg',\n\t\t\tfilename: 'mediaelement-flash-audio-ogg.swf'\n\t\t},\n\n\t\tcanPlayType: function canPlayType(type) {\n\t\t\treturn ~['audio/ogg', 'audio/oga', 'audio/ogv'].indexOf(type.toLowerCase());\n\t\t},\n\n\t\tcreate: FlashMediaElementRenderer.create\n\t};\n\t_renderer.renderer.add(FlashMediaElementAudioOggRenderer);\n}\n\n},{\"2\":2,\"25\":25,\"27\":27,\"28\":28,\"3\":3,\"5\":5,\"7\":7,\"8\":8}],21:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _constants = _dereq_(25);\n\nvar _media = _dereq_(28);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NativeFlv = {\n\n\tpromise: null,\n\n\tload: function load(settings) {\n\t\tif (typeof flvjs !== 'undefined') {\n\t\t\tNativeFlv.promise = new Promise(function (resolve) {\n\t\t\t\tresolve();\n\t\t\t}).then(function () {\n\t\t\t\tNativeFlv._createPlayer(settings);\n\t\t\t});\n\t\t} else {\n\t\t\tsettings.options.path = typeof settings.options.path === 'string' ? settings.options.path : 'https://cdn.jsdelivr.net/npm/flv.js@latest';\n\n\t\t\tNativeFlv.promise = NativeFlv.promise || (0, _dom.loadScript)(settings.options.path);\n\t\t\tNativeFlv.promise.then(function () {\n\t\t\t\tNativeFlv._createPlayer(settings);\n\t\t\t});\n\t\t}\n\n\t\treturn NativeFlv.promise;\n\t},\n\n\t_createPlayer: function _createPlayer(settings) {\n\t\tflvjs.LoggingControl.enableDebug = settings.options.debug;\n\t\tflvjs.LoggingControl.enableVerbose = settings.options.debug;\n\t\tvar player = flvjs.createPlayer(settings.options, settings.configs);\n\t\t_window2.default['__ready__' + settings.id](player);\n\t\treturn player;\n\t}\n};\n\nvar FlvNativeRenderer = {\n\tname: 'native_flv',\n\toptions: {\n\t\tprefix: 'native_flv',\n\t\tflv: {\n\t\t\tpath: 'https://cdn.jsdelivr.net/npm/flv.js@latest',\n\n\t\t\tcors: true,\n\t\t\tdebug: false\n\t\t}\n\t},\n\n\tcanPlayType: function canPlayType(type) {\n\t\treturn _constants.HAS_MSE && ['video/x-flv', 'video/flv'].indexOf(type.toLowerCase()) > -1;\n\t},\n\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar originalNode = mediaElement.originalNode,\n\t\t    id = mediaElement.id + '_' + options.prefix;\n\n\t\tvar node = null,\n\t\t    flvPlayer = null;\n\n\t\tnode = originalNode.cloneNode(true);\n\t\toptions = Object.assign(options, mediaElement.options);\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    events = _mejs2.default.html5media.events.concat(['click', 'mouseover', 'mouseout']).filter(function (e) {\n\t\t\treturn e !== 'error';\n\t\t}),\n\t\t    attachNativeEvents = function attachNativeEvents(e) {\n\t\t\tvar event = (0, _general.createEvent)(e.type, mediaElement);\n\t\t\tmediaElement.dispatchEvent(event);\n\t\t},\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tnode['get' + capName] = function () {\n\t\t\t\treturn flvPlayer !== null ? node[propName] : null;\n\t\t\t};\n\n\t\t\tnode['set' + capName] = function (value) {\n\t\t\t\tif (_mejs2.default.html5media.readOnlyProperties.indexOf(propName) === -1) {\n\t\t\t\t\tif (propName === 'src') {\n\t\t\t\t\t\tnode[propName] = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.src ? value.src : value;\n\t\t\t\t\t\tif (flvPlayer !== null) {\n\t\t\t\t\t\t\tvar _flvOptions = {};\n\t\t\t\t\t\t\t_flvOptions.type = 'flv';\n\t\t\t\t\t\t\t_flvOptions.url = value;\n\t\t\t\t\t\t\t_flvOptions.cors = options.flv.cors;\n\t\t\t\t\t\t\t_flvOptions.debug = options.flv.debug;\n\t\t\t\t\t\t\t_flvOptions.path = options.flv.path;\n\t\t\t\t\t\t\tvar _flvConfigs = options.flv.configs;\n\n\t\t\t\t\t\t\tflvPlayer.destroy();\n\t\t\t\t\t\t\tfor (var i = 0, total = events.length; i < total; i++) {\n\t\t\t\t\t\t\t\tnode.removeEventListener(events[i], attachNativeEvents);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tflvPlayer = NativeFlv._createPlayer({\n\t\t\t\t\t\t\t\toptions: _flvOptions,\n\t\t\t\t\t\t\t\tconfigs: _flvConfigs,\n\t\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tflvPlayer.attachMediaElement(node);\n\t\t\t\t\t\t\tflvPlayer.load();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode[propName] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var i = 0, total = props.length; i < total; i++) {\n\t\t\tassignGettersSetters(props[i]);\n\t\t}\n\n\t\t_window2.default['__ready__' + id] = function (_flvPlayer) {\n\t\t\tmediaElement.flvPlayer = flvPlayer = _flvPlayer;\n\n\t\t\tvar flvEvents = flvjs.Events,\n\t\t\t    assignEvents = function assignEvents(eventName) {\n\t\t\t\tif (eventName === 'loadedmetadata') {\n\t\t\t\t\tflvPlayer.unload();\n\t\t\t\t\tflvPlayer.detachMediaElement();\n\t\t\t\t\tflvPlayer.attachMediaElement(node);\n\t\t\t\t\tflvPlayer.load();\n\t\t\t\t}\n\n\t\t\t\tnode.addEventListener(eventName, attachNativeEvents);\n\t\t\t};\n\n\t\t\tfor (var _i = 0, _total = events.length; _i < _total; _i++) {\n\t\t\t\tassignEvents(events[_i]);\n\t\t\t}\n\n\t\t\tvar assignFlvEvents = function assignFlvEvents(name, data) {\n\t\t\t\tif (name === 'error') {\n\t\t\t\t\tvar message = data[0] + ': ' + data[1] + ' ' + data[2].msg;\n\t\t\t\t\tmediaElement.generateError(message, node.src);\n\t\t\t\t} else {\n\t\t\t\t\tvar _event = (0, _general.createEvent)(name, mediaElement);\n\t\t\t\t\t_event.data = data;\n\t\t\t\t\tmediaElement.dispatchEvent(_event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar _loop = function _loop(eventType) {\n\t\t\t\tif (flvEvents.hasOwnProperty(eventType)) {\n\t\t\t\t\tflvPlayer.on(flvEvents[eventType], function () {\n\t\t\t\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\t\t\targs[_key] = arguments[_key];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn assignFlvEvents(flvEvents[eventType], args);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfor (var eventType in flvEvents) {\n\t\t\t\t_loop(eventType);\n\t\t\t}\n\t\t};\n\n\t\tif (mediaFiles && mediaFiles.length > 0) {\n\t\t\tfor (var _i2 = 0, _total2 = mediaFiles.length; _i2 < _total2; _i2++) {\n\t\t\t\tif (_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[_i2].type)) {\n\t\t\t\t\tnode.setAttribute('src', mediaFiles[_i2].src);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tnode.setAttribute('id', id);\n\n\t\toriginalNode.parentNode.insertBefore(node, originalNode);\n\t\toriginalNode.autoplay = false;\n\t\toriginalNode.style.display = 'none';\n\n\t\tvar flvOptions = {};\n\t\tflvOptions.type = 'flv';\n\t\tflvOptions.url = node.src;\n\t\tflvOptions.cors = options.flv.cors;\n\t\tflvOptions.debug = options.flv.debug;\n\t\tflvOptions.path = options.flv.path;\n\t\tvar flvConfigs = options.flv.configs;\n\n\t\tnode.setSize = function (width, height) {\n\t\t\tnode.style.width = width + 'px';\n\t\t\tnode.style.height = height + 'px';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.hide = function () {\n\t\t\tif (flvPlayer !== null) {\n\t\t\t\tflvPlayer.pause();\n\t\t\t}\n\t\t\tnode.style.display = 'none';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.show = function () {\n\t\t\tnode.style.display = '';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.destroy = function () {\n\t\t\tif (flvPlayer !== null) {\n\t\t\t\tflvPlayer.destroy();\n\t\t\t}\n\t\t};\n\n\t\tvar event = (0, _general.createEvent)('rendererready', node);\n\t\tmediaElement.dispatchEvent(event);\n\n\t\tmediaElement.promises.push(NativeFlv.load({\n\t\t\toptions: flvOptions,\n\t\t\tconfigs: flvConfigs,\n\t\t\tid: id\n\t\t}));\n\n\t\treturn node;\n\t}\n};\n\n_media.typeChecks.push(function (url) {\n\treturn ~url.toLowerCase().indexOf('.flv') ? 'video/flv' : null;\n});\n\n_renderer.renderer.add(FlvNativeRenderer);\n\n},{\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"7\":7,\"8\":8}],22:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _constants = _dereq_(25);\n\nvar _media = _dereq_(28);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NativeHls = {\n\n\tpromise: null,\n\n\tload: function load(settings) {\n\t\tif (typeof Hls !== 'undefined') {\n\t\t\tNativeHls.promise = new Promise(function (resolve) {\n\t\t\t\tresolve();\n\t\t\t}).then(function () {\n\t\t\t\tNativeHls._createPlayer(settings);\n\t\t\t});\n\t\t} else {\n\t\t\tsettings.options.path = typeof settings.options.path === 'string' ? settings.options.path : 'https://cdn.jsdelivr.net/npm/hls.js@latest';\n\n\t\t\tNativeHls.promise = NativeHls.promise || (0, _dom.loadScript)(settings.options.path);\n\t\t\tNativeHls.promise.then(function () {\n\t\t\t\tNativeHls._createPlayer(settings);\n\t\t\t});\n\t\t}\n\n\t\treturn NativeHls.promise;\n\t},\n\n\t_createPlayer: function _createPlayer(settings) {\n\t\tvar player = new Hls(settings.options);\n\t\t_window2.default['__ready__' + settings.id](player);\n\t\treturn player;\n\t}\n};\n\nvar HlsNativeRenderer = {\n\tname: 'native_hls',\n\toptions: {\n\t\tprefix: 'native_hls',\n\t\thls: {\n\t\t\tpath: 'https://cdn.jsdelivr.net/npm/hls.js@latest',\n\n\t\t\tautoStartLoad: false,\n\t\t\tdebug: false\n\t\t}\n\t},\n\n\tcanPlayType: function canPlayType(type) {\n\t\treturn _constants.HAS_MSE && ['application/x-mpegurl', 'application/vnd.apple.mpegurl', 'audio/mpegurl', 'audio/hls', 'video/hls'].indexOf(type.toLowerCase()) > -1;\n\t},\n\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar originalNode = mediaElement.originalNode,\n\t\t    id = mediaElement.id + '_' + options.prefix,\n\t\t    preload = originalNode.getAttribute('preload'),\n\t\t    autoplay = originalNode.autoplay;\n\n\t\tvar hlsPlayer = null,\n\t\t    node = null,\n\t\t    index = 0,\n\t\t    total = mediaFiles.length;\n\n\t\tnode = originalNode.cloneNode(true);\n\t\toptions = Object.assign(options, mediaElement.options);\n\t\toptions.hls.autoStartLoad = preload && preload !== 'none' || autoplay;\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    events = _mejs2.default.html5media.events.concat(['click', 'mouseover', 'mouseout']).filter(function (e) {\n\t\t\treturn e !== 'error';\n\t\t}),\n\t\t    attachNativeEvents = function attachNativeEvents(e) {\n\t\t\tvar event = (0, _general.createEvent)(e.type, mediaElement);\n\t\t\tmediaElement.dispatchEvent(event);\n\t\t},\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tnode['get' + capName] = function () {\n\t\t\t\treturn hlsPlayer !== null ? node[propName] : null;\n\t\t\t};\n\n\t\t\tnode['set' + capName] = function (value) {\n\t\t\t\tif (_mejs2.default.html5media.readOnlyProperties.indexOf(propName) === -1) {\n\t\t\t\t\tif (propName === 'src') {\n\t\t\t\t\t\tnode[propName] = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.src ? value.src : value;\n\t\t\t\t\t\tif (hlsPlayer !== null) {\n\t\t\t\t\t\t\thlsPlayer.destroy();\n\t\t\t\t\t\t\tfor (var i = 0, _total = events.length; i < _total; i++) {\n\t\t\t\t\t\t\t\tnode.removeEventListener(events[i], attachNativeEvents);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thlsPlayer = NativeHls._createPlayer({\n\t\t\t\t\t\t\t\toptions: options.hls,\n\t\t\t\t\t\t\t\tid: id\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\thlsPlayer.loadSource(value);\n\t\t\t\t\t\t\thlsPlayer.attachMedia(node);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode[propName] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var i = 0, _total2 = props.length; i < _total2; i++) {\n\t\t\tassignGettersSetters(props[i]);\n\t\t}\n\n\t\t_window2.default['__ready__' + id] = function (_hlsPlayer) {\n\t\t\tmediaElement.hlsPlayer = hlsPlayer = _hlsPlayer;\n\t\t\tvar hlsEvents = Hls.Events,\n\t\t\t    assignEvents = function assignEvents(eventName) {\n\t\t\t\tif (eventName === 'loadedmetadata') {\n\t\t\t\t\tvar url = mediaElement.originalNode.src;\n\t\t\t\t\thlsPlayer.detachMedia();\n\t\t\t\t\thlsPlayer.loadSource(url);\n\t\t\t\t\thlsPlayer.attachMedia(node);\n\t\t\t\t}\n\n\t\t\t\tnode.addEventListener(eventName, attachNativeEvents);\n\t\t\t};\n\n\t\t\tfor (var _i = 0, _total3 = events.length; _i < _total3; _i++) {\n\t\t\t\tassignEvents(events[_i]);\n\t\t\t}\n\n\t\t\tvar recoverDecodingErrorDate = void 0,\n\t\t\t    recoverSwapAudioCodecDate = void 0;\n\t\t\tvar assignHlsEvents = function assignHlsEvents(name, data) {\n\t\t\t\tif (name === 'hlsError') {\n\t\t\t\t\tconsole.warn(data);\n\t\t\t\t\tdata = data[1];\n\n\t\t\t\t\tif (data.fatal) {\n\t\t\t\t\t\tswitch (data.type) {\n\t\t\t\t\t\t\tcase 'mediaError':\n\t\t\t\t\t\t\t\tvar now = new Date().getTime();\n\t\t\t\t\t\t\t\tif (!recoverDecodingErrorDate || now - recoverDecodingErrorDate > 3000) {\n\t\t\t\t\t\t\t\t\trecoverDecodingErrorDate = new Date().getTime();\n\t\t\t\t\t\t\t\t\thlsPlayer.recoverMediaError();\n\t\t\t\t\t\t\t\t} else if (!recoverSwapAudioCodecDate || now - recoverSwapAudioCodecDate > 3000) {\n\t\t\t\t\t\t\t\t\trecoverSwapAudioCodecDate = new Date().getTime();\n\t\t\t\t\t\t\t\t\tconsole.warn('Attempting to swap Audio Codec and recover from media error');\n\t\t\t\t\t\t\t\t\thlsPlayer.swapAudioCodec();\n\t\t\t\t\t\t\t\t\thlsPlayer.recoverMediaError();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvar message = 'Cannot recover, last media error recovery failed';\n\t\t\t\t\t\t\t\t\tmediaElement.generateError(message, node.src);\n\t\t\t\t\t\t\t\t\tconsole.error(message);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'networkError':\n\t\t\t\t\t\t\t\tif (data.details === 'manifestLoadError') {\n\t\t\t\t\t\t\t\t\tif (index < total && mediaFiles[index + 1] !== undefined) {\n\t\t\t\t\t\t\t\t\t\tnode.setSrc(mediaFiles[index++].src);\n\t\t\t\t\t\t\t\t\t\tnode.load();\n\t\t\t\t\t\t\t\t\t\tnode.play();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tvar _message = 'Network error';\n\t\t\t\t\t\t\t\t\t\tmediaElement.generateError(_message, mediaFiles);\n\t\t\t\t\t\t\t\t\t\tconsole.error(_message);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvar _message2 = 'Network error';\n\t\t\t\t\t\t\t\t\tmediaElement.generateError(_message2, mediaFiles);\n\t\t\t\t\t\t\t\t\tconsole.error(_message2);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\thlsPlayer.destroy();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar event = (0, _general.createEvent)(name, mediaElement);\n\t\t\t\tevent.data = data;\n\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t};\n\n\t\t\tvar _loop = function _loop(eventType) {\n\t\t\t\tif (hlsEvents.hasOwnProperty(eventType)) {\n\t\t\t\t\thlsPlayer.on(hlsEvents[eventType], function () {\n\t\t\t\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\t\t\targs[_key] = arguments[_key];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn assignHlsEvents(hlsEvents[eventType], args);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfor (var eventType in hlsEvents) {\n\t\t\t\t_loop(eventType);\n\t\t\t}\n\t\t};\n\n\t\tif (total > 0) {\n\t\t\tfor (; index < total; index++) {\n\t\t\t\tif (_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[index].type)) {\n\t\t\t\t\tnode.setAttribute('src', mediaFiles[index].src);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (preload !== 'auto' && !autoplay) {\n\t\t\tnode.addEventListener('play', function () {\n\t\t\t\tif (hlsPlayer !== null) {\n\t\t\t\t\thlsPlayer.startLoad();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tnode.addEventListener('pause', function () {\n\t\t\t\tif (hlsPlayer !== null) {\n\t\t\t\t\thlsPlayer.stopLoad();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tnode.setAttribute('id', id);\n\n\t\toriginalNode.parentNode.insertBefore(node, originalNode);\n\t\toriginalNode.autoplay = false;\n\t\toriginalNode.style.display = 'none';\n\n\t\tnode.setSize = function (width, height) {\n\t\t\tnode.style.width = width + 'px';\n\t\t\tnode.style.height = height + 'px';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.hide = function () {\n\t\t\tnode.pause();\n\t\t\tnode.style.display = 'none';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.show = function () {\n\t\t\tnode.style.display = '';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.destroy = function () {\n\t\t\tif (hlsPlayer !== null) {\n\t\t\t\thlsPlayer.stopLoad();\n\t\t\t\thlsPlayer.destroy();\n\t\t\t}\n\t\t};\n\n\t\tvar event = (0, _general.createEvent)('rendererready', node);\n\t\tmediaElement.dispatchEvent(event);\n\n\t\tmediaElement.promises.push(NativeHls.load({\n\t\t\toptions: options.hls,\n\t\t\tid: id\n\t\t}));\n\n\t\treturn node;\n\t}\n};\n\n_media.typeChecks.push(function (url) {\n\treturn ~url.toLowerCase().indexOf('.m3u8') ? 'application/x-mpegURL' : null;\n});\n\n_renderer.renderer.add(HlsNativeRenderer);\n\n},{\"25\":25,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"7\":7,\"8\":8}],23:[function(_dereq_,module,exports){\n'use strict';\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _constants = _dereq_(25);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HtmlMediaElement = {\n\tname: 'html5',\n\toptions: {\n\t\tprefix: 'html5'\n\t},\n\n\tcanPlayType: function canPlayType(type) {\n\n\t\tvar mediaElement = _document2.default.createElement('video');\n\n\t\tif (_constants.IS_ANDROID && /\\/mp(3|4)$/i.test(type) || ~['application/x-mpegurl', 'vnd.apple.mpegurl', 'audio/mpegurl', 'audio/hls', 'video/hls'].indexOf(type.toLowerCase()) && _constants.SUPPORTS_NATIVE_HLS) {\n\t\t\treturn 'yes';\n\t\t} else if (mediaElement.canPlayType) {\n\t\t\treturn mediaElement.canPlayType(type.toLowerCase()).replace(/no/, '');\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t},\n\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar id = mediaElement.id + '_' + options.prefix;\n\t\tvar isActive = false;\n\n\t\tvar node = null;\n\n\t\tif (mediaElement.originalNode === undefined || mediaElement.originalNode === null) {\n\t\t\tnode = _document2.default.createElement('audio');\n\t\t\tmediaElement.appendChild(node);\n\t\t} else {\n\t\t\tnode = mediaElement.originalNode;\n\t\t}\n\n\t\tnode.setAttribute('id', id);\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tnode['get' + capName] = function () {\n\t\t\t\treturn node[propName];\n\t\t\t};\n\n\t\t\tnode['set' + capName] = function (value) {\n\t\t\t\tif (_mejs2.default.html5media.readOnlyProperties.indexOf(propName) === -1) {\n\t\t\t\t\tnode[propName] = value;\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var i = 0, _total = props.length; i < _total; i++) {\n\t\t\tassignGettersSetters(props[i]);\n\t\t}\n\n\t\tvar events = _mejs2.default.html5media.events.concat(['click', 'mouseover', 'mouseout']).filter(function (e) {\n\t\t\treturn e !== 'error';\n\t\t}),\n\t\t    assignEvents = function assignEvents(eventName) {\n\t\t\tnode.addEventListener(eventName, function (e) {\n\t\t\t\tif (isActive) {\n\t\t\t\t\tvar _event = (0, _general.createEvent)(e.type, e.target);\n\t\t\t\t\tmediaElement.dispatchEvent(_event);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tfor (var _i = 0, _total2 = events.length; _i < _total2; _i++) {\n\t\t\tassignEvents(events[_i]);\n\t\t}\n\n\t\tnode.setSize = function (width, height) {\n\t\t\tnode.style.width = width + 'px';\n\t\t\tnode.style.height = height + 'px';\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.hide = function () {\n\t\t\tisActive = false;\n\t\t\tnode.style.display = 'none';\n\n\t\t\treturn node;\n\t\t};\n\n\t\tnode.show = function () {\n\t\t\tisActive = true;\n\t\t\tnode.style.display = '';\n\n\t\t\treturn node;\n\t\t};\n\n\t\tvar index = 0,\n\t\t    total = mediaFiles.length;\n\t\tif (total > 0) {\n\t\t\tfor (; index < total; index++) {\n\t\t\t\tif (_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[index].type)) {\n\t\t\t\t\tnode.setAttribute('src', mediaFiles[index].src);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tnode.addEventListener('error', function (e) {\n\t\t\tif (e && e.target && e.target.error && e.target.error.code === 4 && isActive) {\n\t\t\t\tif (index < total && mediaFiles[index + 1] !== undefined) {\n\t\t\t\t\tnode.src = mediaFiles[index++].src;\n\t\t\t\t\tnode.load();\n\t\t\t\t\tnode.play();\n\t\t\t\t} else {\n\t\t\t\t\tmediaElement.generateError('Media error: Format(s) not supported or source(s) not found', mediaFiles);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tvar event = (0, _general.createEvent)('rendererready', node);\n\t\tmediaElement.dispatchEvent(event);\n\n\t\treturn node;\n\t}\n};\n\n_window2.default.HtmlMediaElement = _mejs2.default.HtmlMediaElement = HtmlMediaElement;\n\n_renderer.renderer.add(HtmlMediaElement);\n\n},{\"2\":2,\"25\":25,\"27\":27,\"3\":3,\"7\":7,\"8\":8}],24:[function(_dereq_,module,exports){\n'use strict';\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _renderer = _dereq_(8);\n\nvar _general = _dereq_(27);\n\nvar _media = _dereq_(28);\n\nvar _dom = _dereq_(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar YouTubeApi = {\n\tisIframeStarted: false,\n\n\tisIframeLoaded: false,\n\n\tiframeQueue: [],\n\n\tenqueueIframe: function enqueueIframe(settings) {\n\t\tYouTubeApi.isLoaded = typeof YT !== 'undefined' && YT.loaded;\n\n\t\tif (YouTubeApi.isLoaded) {\n\t\t\tYouTubeApi.createIframe(settings);\n\t\t} else {\n\t\t\tYouTubeApi.loadIframeApi();\n\t\t\tYouTubeApi.iframeQueue.push(settings);\n\t\t}\n\t},\n\n\tloadIframeApi: function loadIframeApi() {\n\t\tif (!YouTubeApi.isIframeStarted) {\n\t\t\t(0, _dom.loadScript)('https://www.youtube.com/player_api');\n\t\t\tYouTubeApi.isIframeStarted = true;\n\t\t}\n\t},\n\n\tiFrameReady: function iFrameReady() {\n\n\t\tYouTubeApi.isLoaded = true;\n\t\tYouTubeApi.isIframeLoaded = true;\n\n\t\twhile (YouTubeApi.iframeQueue.length > 0) {\n\t\t\tvar settings = YouTubeApi.iframeQueue.pop();\n\t\t\tYouTubeApi.createIframe(settings);\n\t\t}\n\t},\n\n\tcreateIframe: function createIframe(settings) {\n\t\treturn new YT.Player(settings.containerId, settings);\n\t},\n\n\tgetYouTubeId: function getYouTubeId(url) {\n\n\t\tvar youTubeId = '';\n\n\t\tif (url.indexOf('?') > 0) {\n\t\t\tyouTubeId = YouTubeApi.getYouTubeIdFromParam(url);\n\n\t\t\tif (youTubeId === '') {\n\t\t\t\tyouTubeId = YouTubeApi.getYouTubeIdFromUrl(url);\n\t\t\t}\n\t\t} else {\n\t\t\tyouTubeId = YouTubeApi.getYouTubeIdFromUrl(url);\n\t\t}\n\n\t\tvar id = youTubeId.substring(youTubeId.lastIndexOf('/') + 1);\n\t\tyouTubeId = id.split('?');\n\t\treturn youTubeId[0];\n\t},\n\n\tgetYouTubeIdFromParam: function getYouTubeIdFromParam(url) {\n\n\t\tif (url === undefined || url === null || !url.trim().length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar parts = url.split('?'),\n\t\t    parameters = parts[1].split('&');\n\n\t\tvar youTubeId = '';\n\n\t\tfor (var i = 0, total = parameters.length; i < total; i++) {\n\t\t\tvar paramParts = parameters[i].split('=');\n\t\t\tif (paramParts[0] === 'v') {\n\t\t\t\tyouTubeId = paramParts[1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn youTubeId;\n\t},\n\n\tgetYouTubeIdFromUrl: function getYouTubeIdFromUrl(url) {\n\n\t\tif (url === undefined || url === null || !url.trim().length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar parts = url.split('?');\n\t\turl = parts[0];\n\t\treturn url.substring(url.lastIndexOf('/') + 1);\n\t},\n\n\tgetYouTubeNoCookieUrl: function getYouTubeNoCookieUrl(url) {\n\t\tif (url === undefined || url === null || !url.trim().length || url.indexOf('//www.youtube') === -1) {\n\t\t\treturn url;\n\t\t}\n\n\t\tvar parts = url.split('/');\n\t\tparts[2] = parts[2].replace('.com', '-nocookie.com');\n\t\treturn parts.join('/');\n\t}\n};\n\nvar YouTubeIframeRenderer = {\n\tname: 'youtube_iframe',\n\n\toptions: {\n\t\tprefix: 'youtube_iframe',\n\n\t\tyoutube: {\n\t\t\tautoplay: 0,\n\t\t\tcontrols: 0,\n\t\t\tdisablekb: 1,\n\t\t\tend: 0,\n\t\t\tloop: 0,\n\t\t\tmodestbranding: 0,\n\t\t\tplaysinline: 0,\n\t\t\trel: 0,\n\t\t\tshowinfo: 0,\n\t\t\tstart: 0,\n\t\t\tiv_load_policy: 3,\n\n\t\t\tnocookie: false,\n\n\t\t\timageQuality: null\n\t\t}\n\t},\n\n\tcanPlayType: function canPlayType(type) {\n\t\treturn ~['video/youtube', 'video/x-youtube'].indexOf(type.toLowerCase());\n\t},\n\n\tcreate: function create(mediaElement, options, mediaFiles) {\n\n\t\tvar youtube = {},\n\t\t    apiStack = [],\n\t\t    readyState = 4;\n\n\t\tvar youTubeApi = null,\n\t\t    paused = true,\n\t\t    ended = false,\n\t\t    youTubeIframe = null,\n\t\t    volume = 1;\n\n\t\tyoutube.options = options;\n\t\tyoutube.id = mediaElement.id + '_' + options.prefix;\n\t\tyoutube.mediaElement = mediaElement;\n\n\t\tvar props = _mejs2.default.html5media.properties,\n\t\t    assignGettersSetters = function assignGettersSetters(propName) {\n\n\t\t\tvar capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\tyoutube['get' + capName] = function () {\n\t\t\t\tif (youTubeApi !== null) {\n\t\t\t\t\tvar value = null;\n\n\t\t\t\t\tswitch (propName) {\n\t\t\t\t\t\tcase 'currentTime':\n\t\t\t\t\t\t\treturn youTubeApi.getCurrentTime();\n\t\t\t\t\t\tcase 'duration':\n\t\t\t\t\t\t\treturn youTubeApi.getDuration();\n\t\t\t\t\t\tcase 'volume':\n\t\t\t\t\t\t\tvolume = youTubeApi.getVolume() / 100;\n\t\t\t\t\t\t\treturn volume;\n\t\t\t\t\t\tcase 'playbackRate':\n\t\t\t\t\t\t\treturn youTubeApi.getPlaybackRate();\n\t\t\t\t\t\tcase 'paused':\n\t\t\t\t\t\t\treturn paused;\n\t\t\t\t\t\tcase 'ended':\n\t\t\t\t\t\t\treturn ended;\n\t\t\t\t\t\tcase 'muted':\n\t\t\t\t\t\t\treturn youTubeApi.isMuted();\n\t\t\t\t\t\tcase 'buffered':\n\t\t\t\t\t\t\tvar percentLoaded = youTubeApi.getVideoLoadedFraction(),\n\t\t\t\t\t\t\t    duration = youTubeApi.getDuration();\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstart: function start() {\n\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tend: function end() {\n\t\t\t\t\t\t\t\t\treturn percentLoaded * duration;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlength: 1\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'src':\n\t\t\t\t\t\t\treturn youTubeApi.getVideoUrl();\n\t\t\t\t\t\tcase 'readyState':\n\t\t\t\t\t\t\treturn readyState;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tyoutube['set' + capName] = function (value) {\n\t\t\t\tif (youTubeApi !== null) {\n\t\t\t\t\tswitch (propName) {\n\t\t\t\t\t\tcase 'src':\n\t\t\t\t\t\t\tvar url = typeof value === 'string' ? value : value[0].src,\n\t\t\t\t\t\t\t    _videoId = YouTubeApi.getYouTubeId(url);\n\n\t\t\t\t\t\t\tif (mediaElement.originalNode.autoplay) {\n\t\t\t\t\t\t\t\tyouTubeApi.loadVideoById(_videoId);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tyouTubeApi.cueVideoById(_videoId);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'currentTime':\n\t\t\t\t\t\t\tyouTubeApi.seekTo(value);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'muted':\n\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\tyouTubeApi.mute();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tyouTubeApi.unMute();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar event = (0, _general.createEvent)('volumechange', youtube);\n\t\t\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'volume':\n\t\t\t\t\t\t\tvolume = value;\n\t\t\t\t\t\t\tyouTubeApi.setVolume(value * 100);\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar event = (0, _general.createEvent)('volumechange', youtube);\n\t\t\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'playbackRate':\n\t\t\t\t\t\t\tyouTubeApi.setPlaybackRate(value);\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tvar event = (0, _general.createEvent)('ratechange', youtube);\n\t\t\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'readyState':\n\t\t\t\t\t\t\tvar event = (0, _general.createEvent)('canplay', youtube);\n\t\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tapiStack.push({ type: 'set', propName: propName, value: value });\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var i = 0, total = props.length; i < total; i++) {\n\t\t\tassignGettersSetters(props[i]);\n\t\t}\n\n\t\tvar methods = _mejs2.default.html5media.methods,\n\t\t    assignMethods = function assignMethods(methodName) {\n\t\t\tyoutube[methodName] = function () {\n\t\t\t\tif (youTubeApi !== null) {\n\t\t\t\t\tswitch (methodName) {\n\t\t\t\t\t\tcase 'play':\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t\treturn youTubeApi.playVideo();\n\t\t\t\t\t\tcase 'pause':\n\t\t\t\t\t\t\tpaused = true;\n\t\t\t\t\t\t\treturn youTubeApi.pauseVideo();\n\t\t\t\t\t\tcase 'load':\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tapiStack.push({ type: 'call', methodName: methodName });\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfor (var _i = 0, _total = methods.length; _i < _total; _i++) {\n\t\t\tassignMethods(methods[_i]);\n\t\t}\n\n\t\tvar errorHandler = function errorHandler(error) {\n\t\t\tvar message = '';\n\t\t\tswitch (error.data) {\n\t\t\t\tcase 2:\n\t\t\t\t\tmessage = 'The request contains an invalid parameter value. Verify that video ID has 11 characters and that contains no invalid characters, such as exclamation points or asterisks.';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tmessage = 'The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 100:\n\t\t\t\t\tmessage = 'The video requested was not found. Either video has been removed or has been marked as private.';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 101:\n\t\t\t\tcase 105:\n\t\t\t\t\tmessage = 'The owner of the requested video does not allow it to be played in embedded players.';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tmessage = 'Unknown error.';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmediaElement.generateError('Code ' + error.data + ': ' + message, mediaFiles);\n\t\t};\n\n\t\tvar youtubeContainer = _document2.default.createElement('div');\n\t\tyoutubeContainer.id = youtube.id;\n\n\t\tif (youtube.options.youtube.nocookie) {\n\t\t\tmediaElement.originalNode.src = YouTubeApi.getYouTubeNoCookieUrl(mediaFiles[0].src);\n\t\t}\n\n\t\tmediaElement.originalNode.parentNode.insertBefore(youtubeContainer, mediaElement.originalNode);\n\t\tmediaElement.originalNode.style.display = 'none';\n\n\t\tvar isAudio = mediaElement.originalNode.tagName.toLowerCase() === 'audio',\n\t\t    height = isAudio ? '1' : mediaElement.originalNode.height,\n\t\t    width = isAudio ? '1' : mediaElement.originalNode.width,\n\t\t    videoId = YouTubeApi.getYouTubeId(mediaFiles[0].src),\n\t\t    youtubeSettings = {\n\t\t\tid: youtube.id,\n\t\t\tcontainerId: youtubeContainer.id,\n\t\t\tvideoId: videoId,\n\t\t\theight: height,\n\t\t\twidth: width,\n\t\t\tplayerVars: Object.assign({\n\t\t\t\tcontrols: 0,\n\t\t\t\trel: 0,\n\t\t\t\tdisablekb: 1,\n\t\t\t\tshowinfo: 0,\n\t\t\t\tmodestbranding: 0,\n\t\t\t\thtml5: 1,\n\t\t\t\tiv_load_policy: 3\n\t\t\t}, youtube.options.youtube),\n\t\t\torigin: _window2.default.location.host,\n\t\t\tevents: {\n\t\t\t\tonReady: function onReady(e) {\n\t\t\t\t\tmediaElement.youTubeApi = youTubeApi = e.target;\n\t\t\t\t\tmediaElement.youTubeState = {\n\t\t\t\t\t\tpaused: true,\n\t\t\t\t\t\tended: false\n\t\t\t\t\t};\n\n\t\t\t\t\tif (apiStack.length) {\n\t\t\t\t\t\tfor (var _i2 = 0, _total2 = apiStack.length; _i2 < _total2; _i2++) {\n\n\t\t\t\t\t\t\tvar stackItem = apiStack[_i2];\n\n\t\t\t\t\t\t\tif (stackItem.type === 'set') {\n\t\t\t\t\t\t\t\tvar propName = stackItem.propName,\n\t\t\t\t\t\t\t\t    capName = '' + propName.substring(0, 1).toUpperCase() + propName.substring(1);\n\n\t\t\t\t\t\t\t\tyoutube['set' + capName](stackItem.value);\n\t\t\t\t\t\t\t} else if (stackItem.type === 'call') {\n\t\t\t\t\t\t\t\tyoutube[stackItem.methodName]();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tyouTubeIframe = youTubeApi.getIframe();\n\n\t\t\t\t\tif (mediaElement.originalNode.muted) {\n\t\t\t\t\t\tyouTubeApi.mute();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar events = ['mouseover', 'mouseout'],\n\t\t\t\t\t    assignEvents = function assignEvents(e) {\n\t\t\t\t\t\tvar newEvent = (0, _general.createEvent)(e.type, youtube);\n\t\t\t\t\t\tmediaElement.dispatchEvent(newEvent);\n\t\t\t\t\t};\n\n\t\t\t\t\tfor (var _i3 = 0, _total3 = events.length; _i3 < _total3; _i3++) {\n\t\t\t\t\t\tyouTubeIframe.addEventListener(events[_i3], assignEvents, false);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar initEvents = ['rendererready', 'loadedmetadata', 'loadeddata', 'canplay'];\n\n\t\t\t\t\tfor (var _i4 = 0, _total4 = initEvents.length; _i4 < _total4; _i4++) {\n\t\t\t\t\t\tvar event = (0, _general.createEvent)(initEvents[_i4], youtube);\n\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonStateChange: function onStateChange(e) {\n\t\t\t\t\tvar events = [];\n\n\t\t\t\t\tswitch (e.data) {\n\t\t\t\t\t\tcase -1:\n\t\t\t\t\t\t\tevents = ['loadedmetadata'];\n\t\t\t\t\t\t\tpaused = true;\n\t\t\t\t\t\t\tended = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\tevents = ['ended'];\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t\tended = !youtube.options.youtube.loop;\n\t\t\t\t\t\t\tif (!youtube.options.youtube.loop) {\n\t\t\t\t\t\t\t\tyoutube.stopInterval();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tevents = ['play', 'playing'];\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t\tended = false;\n\t\t\t\t\t\t\tyoutube.startInterval();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\tevents = ['pause'];\n\t\t\t\t\t\t\tpaused = true;\n\t\t\t\t\t\t\tended = false;\n\t\t\t\t\t\t\tyoutube.stopInterval();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\tevents = ['progress'];\n\t\t\t\t\t\t\tended = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 5:\n\t\t\t\t\t\t\tevents = ['loadeddata', 'loadedmetadata', 'canplay'];\n\t\t\t\t\t\t\tpaused = true;\n\t\t\t\t\t\t\tended = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (var _i5 = 0, _total5 = events.length; _i5 < _total5; _i5++) {\n\t\t\t\t\t\tvar event = (0, _general.createEvent)(events[_i5], youtube);\n\t\t\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonError: function onError(e) {\n\t\t\t\t\treturn errorHandler(e);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (isAudio || mediaElement.originalNode.hasAttribute('playsinline')) {\n\t\t\tyoutubeSettings.playerVars.playsinline = 1;\n\t\t}\n\n\t\tif (mediaElement.originalNode.controls) {\n\t\t\tyoutubeSettings.playerVars.controls = 1;\n\t\t}\n\t\tif (mediaElement.originalNode.autoplay) {\n\t\t\tyoutubeSettings.playerVars.autoplay = 1;\n\t\t}\n\t\tif (mediaElement.originalNode.loop) {\n\t\t\tyoutubeSettings.playerVars.loop = 1;\n\t\t}\n\n\t\tif ((youtubeSettings.playerVars.loop && parseInt(youtubeSettings.playerVars.loop, 10) === 1 || mediaElement.originalNode.src.indexOf('loop=') > -1) && !youtubeSettings.playerVars.playlist && mediaElement.originalNode.src.indexOf('playlist=') === -1) {\n\t\t\tyoutubeSettings.playerVars.playlist = YouTubeApi.getYouTubeId(mediaElement.originalNode.src);\n\t\t}\n\n\t\tYouTubeApi.enqueueIframe(youtubeSettings);\n\n\t\tyoutube.onEvent = function (eventName, player, _youTubeState) {\n\t\t\tif (_youTubeState !== null && _youTubeState !== undefined) {\n\t\t\t\tmediaElement.youTubeState = _youTubeState;\n\t\t\t}\n\t\t};\n\n\t\tyoutube.setSize = function (width, height) {\n\t\t\tif (youTubeApi !== null) {\n\t\t\t\tyouTubeApi.setSize(width, height);\n\t\t\t}\n\t\t};\n\t\tyoutube.hide = function () {\n\t\t\tyoutube.stopInterval();\n\t\t\tyoutube.pause();\n\t\t\tif (youTubeIframe) {\n\t\t\t\tyouTubeIframe.style.display = 'none';\n\t\t\t}\n\t\t};\n\t\tyoutube.show = function () {\n\t\t\tif (youTubeIframe) {\n\t\t\t\tyouTubeIframe.style.display = '';\n\t\t\t}\n\t\t};\n\t\tyoutube.destroy = function () {\n\t\t\tyouTubeApi.destroy();\n\t\t};\n\t\tyoutube.interval = null;\n\n\t\tyoutube.startInterval = function () {\n\t\t\tyoutube.interval = setInterval(function () {\n\t\t\t\tvar event = (0, _general.createEvent)('timeupdate', youtube);\n\t\t\t\tmediaElement.dispatchEvent(event);\n\t\t\t}, 250);\n\t\t};\n\t\tyoutube.stopInterval = function () {\n\t\t\tif (youtube.interval) {\n\t\t\t\tclearInterval(youtube.interval);\n\t\t\t}\n\t\t};\n\t\tyoutube.getPosterUrl = function () {\n\t\t\tvar quality = options.youtube.imageQuality,\n\t\t\t    resolutions = ['default', 'hqdefault', 'mqdefault', 'sddefault', 'maxresdefault'],\n\t\t\t    id = YouTubeApi.getYouTubeId(mediaElement.originalNode.src);\n\t\t\treturn quality && resolutions.indexOf(quality) > -1 && id ? 'https://img.youtube.com/vi/' + id + '/' + quality + '.jpg' : '';\n\t\t};\n\n\t\treturn youtube;\n\t}\n};\n\n_window2.default.onYouTubePlayerAPIReady = function () {\n\tYouTubeApi.iFrameReady();\n};\n\n_media.typeChecks.push(function (url) {\n\treturn (/\\/\\/(www\\.youtube|youtu\\.?be)/i.test(url) ? 'video/x-youtube' : null\n\t);\n});\n\n_renderer.renderer.add(YouTubeIframeRenderer);\n\n},{\"2\":2,\"26\":26,\"27\":27,\"28\":28,\"3\":3,\"7\":7,\"8\":8}],25:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.cancelFullScreen = exports.requestFullScreen = exports.isFullScreen = exports.FULLSCREEN_EVENT_NAME = exports.HAS_NATIVE_FULLSCREEN_ENABLED = exports.HAS_TRUE_NATIVE_FULLSCREEN = exports.HAS_IOS_FULLSCREEN = exports.HAS_MS_NATIVE_FULLSCREEN = exports.HAS_MOZ_NATIVE_FULLSCREEN = exports.HAS_WEBKIT_NATIVE_FULLSCREEN = exports.HAS_NATIVE_FULLSCREEN = exports.SUPPORTS_NATIVE_HLS = exports.SUPPORT_PASSIVE_EVENT = exports.SUPPORT_POINTER_EVENTS = exports.HAS_MSE = exports.IS_STOCK_ANDROID = exports.IS_SAFARI = exports.IS_FIREFOX = exports.IS_CHROME = exports.IS_EDGE = exports.IS_IE = exports.IS_ANDROID = exports.IS_IOS = exports.IS_IPOD = exports.IS_IPHONE = exports.IS_IPAD = exports.UA = exports.NAV = undefined;\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NAV = exports.NAV = _window2.default.navigator;\nvar UA = exports.UA = NAV.userAgent.toLowerCase();\nvar IS_IPAD = exports.IS_IPAD = /ipad/i.test(UA) && !_window2.default.MSStream;\nvar IS_IPHONE = exports.IS_IPHONE = /iphone/i.test(UA) && !_window2.default.MSStream;\nvar IS_IPOD = exports.IS_IPOD = /ipod/i.test(UA) && !_window2.default.MSStream;\nvar IS_IOS = exports.IS_IOS = /ipad|iphone|ipod/i.test(UA) && !_window2.default.MSStream;\nvar IS_ANDROID = exports.IS_ANDROID = /android/i.test(UA);\nvar IS_IE = exports.IS_IE = /(trident|microsoft)/i.test(NAV.appName);\nvar IS_EDGE = exports.IS_EDGE = 'msLaunchUri' in NAV && !('documentMode' in _document2.default);\nvar IS_CHROME = exports.IS_CHROME = /chrome/i.test(UA);\nvar IS_FIREFOX = exports.IS_FIREFOX = /firefox/i.test(UA);\nvar IS_SAFARI = exports.IS_SAFARI = /safari/i.test(UA) && !IS_CHROME;\nvar IS_STOCK_ANDROID = exports.IS_STOCK_ANDROID = /^mozilla\\/\\d+\\.\\d+\\s\\(linux;\\su;/i.test(UA);\nvar HAS_MSE = exports.HAS_MSE = 'MediaSource' in _window2.default;\nvar SUPPORT_POINTER_EVENTS = exports.SUPPORT_POINTER_EVENTS = function () {\n\tvar element = _document2.default.createElement('x'),\n\t    documentElement = _document2.default.documentElement,\n\t    getComputedStyle = _window2.default.getComputedStyle;\n\n\tif (!('pointerEvents' in element.style)) {\n\t\treturn false;\n\t}\n\n\telement.style.pointerEvents = 'auto';\n\telement.style.pointerEvents = 'x';\n\tdocumentElement.appendChild(element);\n\tvar supports = getComputedStyle && (getComputedStyle(element, '') || {}).pointerEvents === 'auto';\n\telement.remove();\n\treturn !!supports;\n}();\n\nvar SUPPORT_PASSIVE_EVENT = exports.SUPPORT_PASSIVE_EVENT = function () {\n\tvar supportsPassive = false;\n\ttry {\n\t\tvar opts = Object.defineProperty({}, 'passive', {\n\t\t\tget: function get() {\n\t\t\t\tsupportsPassive = true;\n\t\t\t}\n\t\t});\n\t\t_window2.default.addEventListener('test', null, opts);\n\t} catch (e) {}\n\n\treturn supportsPassive;\n}();\n\nvar html5Elements = ['source', 'track', 'audio', 'video'];\nvar video = void 0;\n\nfor (var i = 0, total = html5Elements.length; i < total; i++) {\n\tvideo = _document2.default.createElement(html5Elements[i]);\n}\n\nvar SUPPORTS_NATIVE_HLS = exports.SUPPORTS_NATIVE_HLS = IS_SAFARI || IS_IE && /edge/i.test(UA);\n\nvar hasiOSFullScreen = video.webkitEnterFullscreen !== undefined;\n\nvar hasNativeFullscreen = video.requestFullscreen !== undefined;\n\nif (hasiOSFullScreen && /mac os x 10_5/i.test(UA)) {\n\thasNativeFullscreen = false;\n\thasiOSFullScreen = false;\n}\n\nvar hasWebkitNativeFullScreen = video.webkitRequestFullScreen !== undefined;\nvar hasMozNativeFullScreen = video.mozRequestFullScreen !== undefined;\nvar hasMsNativeFullScreen = video.msRequestFullscreen !== undefined;\nvar hasTrueNativeFullScreen = hasWebkitNativeFullScreen || hasMozNativeFullScreen || hasMsNativeFullScreen;\nvar nativeFullScreenEnabled = hasTrueNativeFullScreen;\nvar fullScreenEventName = '';\nvar isFullScreen = void 0,\n    requestFullScreen = void 0,\n    cancelFullScreen = void 0;\n\nif (hasMozNativeFullScreen) {\n\tnativeFullScreenEnabled = _document2.default.mozFullScreenEnabled;\n} else if (hasMsNativeFullScreen) {\n\tnativeFullScreenEnabled = _document2.default.msFullscreenEnabled;\n}\n\nif (IS_CHROME) {\n\thasiOSFullScreen = false;\n}\n\nif (hasTrueNativeFullScreen) {\n\tif (hasWebkitNativeFullScreen) {\n\t\tfullScreenEventName = 'webkitfullscreenchange';\n\t} else if (hasMozNativeFullScreen) {\n\t\tfullScreenEventName = 'fullscreenchange';\n\t} else if (hasMsNativeFullScreen) {\n\t\tfullScreenEventName = 'MSFullscreenChange';\n\t}\n\n\texports.isFullScreen = isFullScreen = function isFullScreen() {\n\t\tif (hasMozNativeFullScreen) {\n\t\t\treturn _document2.default.mozFullScreen;\n\t\t} else if (hasWebkitNativeFullScreen) {\n\t\t\treturn _document2.default.webkitIsFullScreen;\n\t\t} else if (hasMsNativeFullScreen) {\n\t\t\treturn _document2.default.msFullscreenElement !== null;\n\t\t}\n\t};\n\n\texports.requestFullScreen = requestFullScreen = function requestFullScreen(el) {\n\t\tif (hasWebkitNativeFullScreen) {\n\t\t\tel.webkitRequestFullScreen();\n\t\t} else if (hasMozNativeFullScreen) {\n\t\t\tel.mozRequestFullScreen();\n\t\t} else if (hasMsNativeFullScreen) {\n\t\t\tel.msRequestFullscreen();\n\t\t}\n\t};\n\n\texports.cancelFullScreen = cancelFullScreen = function cancelFullScreen() {\n\t\tif (hasWebkitNativeFullScreen) {\n\t\t\t_document2.default.webkitCancelFullScreen();\n\t\t} else if (hasMozNativeFullScreen) {\n\t\t\t_document2.default.mozCancelFullScreen();\n\t\t} else if (hasMsNativeFullScreen) {\n\t\t\t_document2.default.msExitFullscreen();\n\t\t}\n\t};\n}\n\nvar HAS_NATIVE_FULLSCREEN = exports.HAS_NATIVE_FULLSCREEN = hasNativeFullscreen;\nvar HAS_WEBKIT_NATIVE_FULLSCREEN = exports.HAS_WEBKIT_NATIVE_FULLSCREEN = hasWebkitNativeFullScreen;\nvar HAS_MOZ_NATIVE_FULLSCREEN = exports.HAS_MOZ_NATIVE_FULLSCREEN = hasMozNativeFullScreen;\nvar HAS_MS_NATIVE_FULLSCREEN = exports.HAS_MS_NATIVE_FULLSCREEN = hasMsNativeFullScreen;\nvar HAS_IOS_FULLSCREEN = exports.HAS_IOS_FULLSCREEN = hasiOSFullScreen;\nvar HAS_TRUE_NATIVE_FULLSCREEN = exports.HAS_TRUE_NATIVE_FULLSCREEN = hasTrueNativeFullScreen;\nvar HAS_NATIVE_FULLSCREEN_ENABLED = exports.HAS_NATIVE_FULLSCREEN_ENABLED = nativeFullScreenEnabled;\nvar FULLSCREEN_EVENT_NAME = exports.FULLSCREEN_EVENT_NAME = fullScreenEventName;\nexports.isFullScreen = isFullScreen;\nexports.requestFullScreen = requestFullScreen;\nexports.cancelFullScreen = cancelFullScreen;\n\n\n_mejs2.default.Features = _mejs2.default.Features || {};\n_mejs2.default.Features.isiPad = IS_IPAD;\n_mejs2.default.Features.isiPod = IS_IPOD;\n_mejs2.default.Features.isiPhone = IS_IPHONE;\n_mejs2.default.Features.isiOS = _mejs2.default.Features.isiPhone || _mejs2.default.Features.isiPad;\n_mejs2.default.Features.isAndroid = IS_ANDROID;\n_mejs2.default.Features.isIE = IS_IE;\n_mejs2.default.Features.isEdge = IS_EDGE;\n_mejs2.default.Features.isChrome = IS_CHROME;\n_mejs2.default.Features.isFirefox = IS_FIREFOX;\n_mejs2.default.Features.isSafari = IS_SAFARI;\n_mejs2.default.Features.isStockAndroid = IS_STOCK_ANDROID;\n_mejs2.default.Features.hasMSE = HAS_MSE;\n_mejs2.default.Features.supportsNativeHLS = SUPPORTS_NATIVE_HLS;\n_mejs2.default.Features.supportsPointerEvents = SUPPORT_POINTER_EVENTS;\n_mejs2.default.Features.supportsPassiveEvent = SUPPORT_PASSIVE_EVENT;\n_mejs2.default.Features.hasiOSFullScreen = HAS_IOS_FULLSCREEN;\n_mejs2.default.Features.hasNativeFullscreen = HAS_NATIVE_FULLSCREEN;\n_mejs2.default.Features.hasWebkitNativeFullScreen = HAS_WEBKIT_NATIVE_FULLSCREEN;\n_mejs2.default.Features.hasMozNativeFullScreen = HAS_MOZ_NATIVE_FULLSCREEN;\n_mejs2.default.Features.hasMsNativeFullScreen = HAS_MS_NATIVE_FULLSCREEN;\n_mejs2.default.Features.hasTrueNativeFullScreen = HAS_TRUE_NATIVE_FULLSCREEN;\n_mejs2.default.Features.nativeFullScreenEnabled = HAS_NATIVE_FULLSCREEN_ENABLED;\n_mejs2.default.Features.fullScreenEventName = FULLSCREEN_EVENT_NAME;\n_mejs2.default.Features.isFullScreen = isFullScreen;\n_mejs2.default.Features.requestFullScreen = requestFullScreen;\n_mejs2.default.Features.cancelFullScreen = cancelFullScreen;\n\n},{\"2\":2,\"3\":3,\"7\":7}],26:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.removeClass = exports.addClass = exports.hasClass = undefined;\nexports.loadScript = loadScript;\nexports.offset = offset;\nexports.toggleClass = toggleClass;\nexports.fadeOut = fadeOut;\nexports.fadeIn = fadeIn;\nexports.siblings = siblings;\nexports.visible = visible;\nexports.ajax = ajax;\n\nvar _window = _dereq_(3);\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction loadScript(url) {\n\treturn new Promise(function (resolve, reject) {\n\t\tvar script = _document2.default.createElement('script');\n\t\tscript.src = url;\n\t\tscript.async = true;\n\t\tscript.onload = function () {\n\t\t\tscript.remove();\n\t\t\tresolve();\n\t\t};\n\t\tscript.onerror = function () {\n\t\t\tscript.remove();\n\t\t\treject();\n\t\t};\n\t\t_document2.default.head.appendChild(script);\n\t});\n}\n\nfunction offset(el) {\n\tvar rect = el.getBoundingClientRect(),\n\t    scrollLeft = _window2.default.pageXOffset || _document2.default.documentElement.scrollLeft,\n\t    scrollTop = _window2.default.pageYOffset || _document2.default.documentElement.scrollTop;\n\treturn { top: rect.top + scrollTop, left: rect.left + scrollLeft };\n}\n\nvar hasClassMethod = void 0,\n    addClassMethod = void 0,\n    removeClassMethod = void 0;\n\nif ('classList' in _document2.default.documentElement) {\n\thasClassMethod = function hasClassMethod(el, className) {\n\t\treturn el.classList !== undefined && el.classList.contains(className);\n\t};\n\taddClassMethod = function addClassMethod(el, className) {\n\t\treturn el.classList.add(className);\n\t};\n\tremoveClassMethod = function removeClassMethod(el, className) {\n\t\treturn el.classList.remove(className);\n\t};\n} else {\n\thasClassMethod = function hasClassMethod(el, className) {\n\t\treturn new RegExp('\\\\b' + className + '\\\\b').test(el.className);\n\t};\n\taddClassMethod = function addClassMethod(el, className) {\n\t\tif (!hasClass(el, className)) {\n\t\t\tel.className += ' ' + className;\n\t\t}\n\t};\n\tremoveClassMethod = function removeClassMethod(el, className) {\n\t\tel.className = el.className.replace(new RegExp('\\\\b' + className + '\\\\b', 'g'), '');\n\t};\n}\n\nvar hasClass = exports.hasClass = hasClassMethod;\nvar addClass = exports.addClass = addClassMethod;\nvar removeClass = exports.removeClass = removeClassMethod;\n\nfunction toggleClass(el, className) {\n\thasClass(el, className) ? removeClass(el, className) : addClass(el, className);\n}\n\nfunction fadeOut(el) {\n\tvar duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 400;\n\tvar callback = arguments[2];\n\n\tif (!el.style.opacity) {\n\t\tel.style.opacity = 1;\n\t}\n\n\tvar start = null;\n\t_window2.default.requestAnimationFrame(function animate(timestamp) {\n\t\tstart = start || timestamp;\n\t\tvar progress = timestamp - start;\n\t\tvar opacity = parseFloat(1 - progress / duration, 2);\n\t\tel.style.opacity = opacity < 0 ? 0 : opacity;\n\t\tif (progress > duration) {\n\t\t\tif (callback && typeof callback === 'function') {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t} else {\n\t\t\t_window2.default.requestAnimationFrame(animate);\n\t\t}\n\t});\n}\n\nfunction fadeIn(el) {\n\tvar duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 400;\n\tvar callback = arguments[2];\n\n\tif (!el.style.opacity) {\n\t\tel.style.opacity = 0;\n\t}\n\n\tvar start = null;\n\t_window2.default.requestAnimationFrame(function animate(timestamp) {\n\t\tstart = start || timestamp;\n\t\tvar progress = timestamp - start;\n\t\tvar opacity = parseFloat(progress / duration, 2);\n\t\tel.style.opacity = opacity > 1 ? 1 : opacity;\n\t\tif (progress > duration) {\n\t\t\tif (callback && typeof callback === 'function') {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t} else {\n\t\t\t_window2.default.requestAnimationFrame(animate);\n\t\t}\n\t});\n}\n\nfunction siblings(el, filter) {\n\tvar siblings = [];\n\tel = el.parentNode.firstChild;\n\tdo {\n\t\tif (!filter || filter(el)) {\n\t\t\tsiblings.push(el);\n\t\t}\n\t} while (el = el.nextSibling);\n\treturn siblings;\n}\n\nfunction visible(elem) {\n\tif (elem.getClientRects !== undefined && elem.getClientRects === 'function') {\n\t\treturn !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);\n\t}\n\treturn !!(elem.offsetWidth || elem.offsetHeight);\n}\n\nfunction ajax(url, dataType, success, error) {\n\tvar xhr = _window2.default.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');\n\n\tvar type = 'application/x-www-form-urlencoded; charset=UTF-8',\n\t    completed = false,\n\t    accept = '*/'.concat('*');\n\n\tswitch (dataType) {\n\t\tcase 'text':\n\t\t\ttype = 'text/plain';\n\t\t\tbreak;\n\t\tcase 'json':\n\t\t\ttype = 'application/json, text/javascript';\n\t\t\tbreak;\n\t\tcase 'html':\n\t\t\ttype = 'text/html';\n\t\t\tbreak;\n\t\tcase 'xml':\n\t\t\ttype = 'application/xml, text/xml';\n\t\t\tbreak;\n\t}\n\n\tif (type !== 'application/x-www-form-urlencoded') {\n\t\taccept = type + ', */*; q=0.01';\n\t}\n\n\tif (xhr) {\n\t\txhr.open('GET', url, true);\n\t\txhr.setRequestHeader('Accept', accept);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (completed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (xhr.readyState === 4) {\n\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\tcompleted = true;\n\t\t\t\t\tvar data = void 0;\n\t\t\t\t\tswitch (dataType) {\n\t\t\t\t\t\tcase 'json':\n\t\t\t\t\t\t\tdata = JSON.parse(xhr.responseText);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'xml':\n\t\t\t\t\t\t\tdata = xhr.responseXML;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tdata = xhr.responseText;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tsuccess(data);\n\t\t\t\t} else if (typeof error === 'function') {\n\t\t\t\t\terror(xhr.status);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\txhr.send();\n\t}\n}\n\n_mejs2.default.Utils = _mejs2.default.Utils || {};\n_mejs2.default.Utils.offset = offset;\n_mejs2.default.Utils.hasClass = hasClass;\n_mejs2.default.Utils.addClass = addClass;\n_mejs2.default.Utils.removeClass = removeClass;\n_mejs2.default.Utils.toggleClass = toggleClass;\n_mejs2.default.Utils.fadeIn = fadeIn;\n_mejs2.default.Utils.fadeOut = fadeOut;\n_mejs2.default.Utils.siblings = siblings;\n_mejs2.default.Utils.visible = visible;\n_mejs2.default.Utils.ajax = ajax;\n_mejs2.default.Utils.loadScript = loadScript;\n\n},{\"2\":2,\"3\":3,\"7\":7}],27:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.escapeHTML = escapeHTML;\nexports.debounce = debounce;\nexports.isObjectEmpty = isObjectEmpty;\nexports.splitEvents = splitEvents;\nexports.createEvent = createEvent;\nexports.isNodeAfter = isNodeAfter;\nexports.isString = isString;\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction escapeHTML(input) {\n\n\tif (typeof input !== 'string') {\n\t\tthrow new Error('Argument passed must be a string');\n\t}\n\n\tvar map = {\n\t\t'&': '&amp;',\n\t\t'<': '&lt;',\n\t\t'>': '&gt;',\n\t\t'\"': '&quot;'\n\t};\n\n\treturn input.replace(/[&<>\"]/g, function (c) {\n\t\treturn map[c];\n\t});\n}\n\nfunction debounce(func, wait) {\n\tvar _this = this,\n\t    _arguments = arguments;\n\n\tvar immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n\n\tif (typeof func !== 'function') {\n\t\tthrow new Error('First argument must be a function');\n\t}\n\n\tif (typeof wait !== 'number') {\n\t\tthrow new Error('Second argument must be a numeric value');\n\t}\n\n\tvar timeout = void 0;\n\treturn function () {\n\t\tvar context = _this,\n\t\t    args = _arguments;\n\t\tvar later = function later() {\n\t\t\ttimeout = null;\n\t\t\tif (!immediate) {\n\t\t\t\tfunc.apply(context, args);\n\t\t\t}\n\t\t};\n\t\tvar callNow = immediate && !timeout;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\n\t\tif (callNow) {\n\t\t\tfunc.apply(context, args);\n\t\t}\n\t};\n}\n\nfunction isObjectEmpty(instance) {\n\treturn Object.getOwnPropertyNames(instance).length <= 0;\n}\n\nfunction splitEvents(events, id) {\n\tvar rwindow = /^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\\b/;\n\n\tvar ret = { d: [], w: [] };\n\t(events || '').split(' ').forEach(function (v) {\n\t\tvar eventName = '' + v + (id ? '.' + id : '');\n\n\t\tif (eventName.startsWith('.')) {\n\t\t\tret.d.push(eventName);\n\t\t\tret.w.push(eventName);\n\t\t} else {\n\t\t\tret[rwindow.test(v) ? 'w' : 'd'].push(eventName);\n\t\t}\n\t});\n\n\tret.d = ret.d.join(' ');\n\tret.w = ret.w.join(' ');\n\treturn ret;\n}\n\nfunction createEvent(eventName, target) {\n\n\tif (typeof eventName !== 'string') {\n\t\tthrow new Error('Event name must be a string');\n\t}\n\n\tvar eventFrags = eventName.match(/([a-z]+\\.([a-z]+))/i),\n\t    detail = {\n\t\ttarget: target\n\t};\n\n\tif (eventFrags !== null) {\n\t\teventName = eventFrags[1];\n\t\tdetail.namespace = eventFrags[2];\n\t}\n\n\treturn new window.CustomEvent(eventName, {\n\t\tdetail: detail\n\t});\n}\n\nfunction isNodeAfter(sourceNode, targetNode) {\n\n\treturn !!(sourceNode && targetNode && sourceNode.compareDocumentPosition(targetNode) & 2);\n}\n\nfunction isString(value) {\n\treturn typeof value === 'string';\n}\n\n_mejs2.default.Utils = _mejs2.default.Utils || {};\n_mejs2.default.Utils.escapeHTML = escapeHTML;\n_mejs2.default.Utils.debounce = debounce;\n_mejs2.default.Utils.isObjectEmpty = isObjectEmpty;\n_mejs2.default.Utils.splitEvents = splitEvents;\n_mejs2.default.Utils.createEvent = createEvent;\n_mejs2.default.Utils.isNodeAfter = isNodeAfter;\n_mejs2.default.Utils.isString = isString;\n\n},{\"7\":7}],28:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.typeChecks = undefined;\nexports.absolutizeUrl = absolutizeUrl;\nexports.formatType = formatType;\nexports.getMimeFromType = getMimeFromType;\nexports.getTypeFromFile = getTypeFromFile;\nexports.getExtension = getExtension;\nexports.normalizeExtension = normalizeExtension;\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nvar _general = _dereq_(27);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar typeChecks = exports.typeChecks = [];\n\nfunction absolutizeUrl(url) {\n\n\tif (typeof url !== 'string') {\n\t\tthrow new Error('`url` argument must be a string');\n\t}\n\n\tvar el = document.createElement('div');\n\tel.innerHTML = '<a href=\"' + (0, _general.escapeHTML)(url) + '\">x</a>';\n\treturn el.firstChild.href;\n}\n\nfunction formatType(url) {\n\tvar type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n\treturn url && !type ? getTypeFromFile(url) : type;\n}\n\nfunction getMimeFromType(type) {\n\n\tif (typeof type !== 'string') {\n\t\tthrow new Error('`type` argument must be a string');\n\t}\n\n\treturn type && type.indexOf(';') > -1 ? type.substr(0, type.indexOf(';')) : type;\n}\n\nfunction getTypeFromFile(url) {\n\n\tif (typeof url !== 'string') {\n\t\tthrow new Error('`url` argument must be a string');\n\t}\n\n\tfor (var i = 0, total = typeChecks.length; i < total; i++) {\n\t\tvar type = typeChecks[i](url);\n\n\t\tif (type) {\n\t\t\treturn type;\n\t\t}\n\t}\n\n\tvar ext = getExtension(url),\n\t    normalizedExt = normalizeExtension(ext);\n\n\tvar mime = 'video/mp4';\n\n\tif (normalizedExt) {\n\t\tif (~['mp4', 'm4v', 'ogg', 'ogv', 'webm', 'flv', 'mpeg', 'mov'].indexOf(normalizedExt)) {\n\t\t\tmime = 'video/' + normalizedExt;\n\t\t} else if (~['mp3', 'oga', 'wav', 'mid', 'midi'].indexOf(normalizedExt)) {\n\t\t\tmime = 'audio/' + normalizedExt;\n\t\t}\n\t}\n\n\treturn mime;\n}\n\nfunction getExtension(url) {\n\n\tif (typeof url !== 'string') {\n\t\tthrow new Error('`url` argument must be a string');\n\t}\n\n\tvar baseUrl = url.split('?')[0],\n\t    baseName = baseUrl.split('\\\\').pop().split('/').pop();\n\treturn ~baseName.indexOf('.') ? baseName.substring(baseName.lastIndexOf('.') + 1) : '';\n}\n\nfunction normalizeExtension(extension) {\n\n\tif (typeof extension !== 'string') {\n\t\tthrow new Error('`extension` argument must be a string');\n\t}\n\n\tswitch (extension) {\n\t\tcase 'mp4':\n\t\tcase 'm4v':\n\t\t\treturn 'mp4';\n\t\tcase 'webm':\n\t\tcase 'webma':\n\t\tcase 'webmv':\n\t\t\treturn 'webm';\n\t\tcase 'ogg':\n\t\tcase 'oga':\n\t\tcase 'ogv':\n\t\t\treturn 'ogg';\n\t\tdefault:\n\t\t\treturn extension;\n\t}\n}\n\n_mejs2.default.Utils = _mejs2.default.Utils || {};\n_mejs2.default.Utils.typeChecks = typeChecks;\n_mejs2.default.Utils.absolutizeUrl = absolutizeUrl;\n_mejs2.default.Utils.formatType = formatType;\n_mejs2.default.Utils.getMimeFromType = getMimeFromType;\n_mejs2.default.Utils.getTypeFromFile = getTypeFromFile;\n_mejs2.default.Utils.getExtension = getExtension;\n_mejs2.default.Utils.normalizeExtension = normalizeExtension;\n\n},{\"27\":27,\"7\":7}],29:[function(_dereq_,module,exports){\n'use strict';\n\nvar _document = _dereq_(2);\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _promisePolyfill = _dereq_(4);\n\nvar _promisePolyfill2 = _interopRequireDefault(_promisePolyfill);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function (arr) {\n\tarr.forEach(function (item) {\n\t\tif (item.hasOwnProperty('remove')) {\n\t\t\treturn;\n\t\t}\n\t\tObject.defineProperty(item, 'remove', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\twritable: true,\n\t\t\tvalue: function remove() {\n\t\t\t\tthis.parentNode.removeChild(this);\n\t\t\t}\n\t\t});\n\t});\n})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);\n\n(function () {\n\n\tif (typeof window.CustomEvent === 'function') {\n\t\treturn false;\n\t}\n\n\tfunction CustomEvent(event, params) {\n\t\tparams = params || { bubbles: false, cancelable: false, detail: undefined };\n\t\tvar evt = _document2.default.createEvent('CustomEvent');\n\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n\t\treturn evt;\n\t}\n\n\tCustomEvent.prototype = window.Event.prototype;\n\twindow.CustomEvent = CustomEvent;\n})();\n\nif (typeof Object.assign !== 'function') {\n\tObject.assign = function (target) {\n\n\t\tif (target === null || target === undefined) {\n\t\t\tthrow new TypeError('Cannot convert undefined or null to object');\n\t\t}\n\n\t\tvar to = Object(target);\n\n\t\tfor (var index = 1, total = arguments.length; index < total; index++) {\n\t\t\tvar nextSource = arguments[index];\n\n\t\t\tif (nextSource !== null) {\n\t\t\t\tfor (var nextKey in nextSource) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n\t\t\t\t\t\tto[nextKey] = nextSource[nextKey];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn to;\n\t};\n}\n\nif (!String.prototype.startsWith) {\n\tString.prototype.startsWith = function (searchString, position) {\n\t\tposition = position || 0;\n\t\treturn this.substr(position, searchString.length) === searchString;\n\t};\n}\n\nif (!Element.prototype.matches) {\n\tElement.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function (s) {\n\t\tvar matches = (this.document || this.ownerDocument).querySelectorAll(s),\n\t\t    i = matches.length - 1;\n\t\twhile (--i >= 0 && matches.item(i) !== this) {}\n\t\treturn i > -1;\n\t};\n}\n\nif (window.Element && !Element.prototype.closest) {\n\tElement.prototype.closest = function (s) {\n\t\tvar matches = (this.document || this.ownerDocument).querySelectorAll(s),\n\t\t    i = void 0,\n\t\t    el = this;\n\t\tdo {\n\t\t\ti = matches.length;\n\t\t\twhile (--i >= 0 && matches.item(i) !== el) {}\n\t\t} while (i < 0 && (el = el.parentElement));\n\t\treturn el;\n\t};\n}\n\n(function () {\n\tvar lastTime = 0;\n\tvar vendors = ['ms', 'moz', 'webkit', 'o'];\n\tfor (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n\t\twindow.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n\t\twindow.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n\t}\n\n\tif (!window.requestAnimationFrame) window.requestAnimationFrame = function (callback) {\n\t\tvar currTime = new Date().getTime();\n\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\tvar id = window.setTimeout(function () {\n\t\t\tcallback(currTime + timeToCall);\n\t\t}, timeToCall);\n\t\tlastTime = currTime + timeToCall;\n\t\treturn id;\n\t};\n\n\tif (!window.cancelAnimationFrame) window.cancelAnimationFrame = function (id) {\n\t\tclearTimeout(id);\n\t};\n})();\n\nif (/firefox/i.test(navigator.userAgent)) {\n\tvar getComputedStyle = window.getComputedStyle;\n\twindow.getComputedStyle = function (el, pseudoEl) {\n\t\tvar t = getComputedStyle(el, pseudoEl);\n\t\treturn t === null ? { getPropertyValue: function getPropertyValue() {} } : t;\n\t};\n}\n\nif (!window.Promise) {\n\twindow.Promise = _promisePolyfill2.default;\n}\n\n(function (constructor) {\n\tif (constructor && constructor.prototype && constructor.prototype.children === null) {\n\t\tObject.defineProperty(constructor.prototype, 'children', {\n\t\t\tget: function get() {\n\t\t\t\tvar i = 0,\n\t\t\t\t    node = void 0,\n\t\t\t\t    nodes = this.childNodes,\n\t\t\t\t    children = [];\n\t\t\t\twhile (node = nodes[i++]) {\n\t\t\t\t\tif (node.nodeType === 1) {\n\t\t\t\t\t\tchildren.push(node);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn children;\n\t\t\t}\n\t\t});\n\t}\n})(window.Node || window.Element);\n\n},{\"2\":2,\"4\":4}],30:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.isDropFrame = isDropFrame;\nexports.secondsToTimeCode = secondsToTimeCode;\nexports.timeCodeToSeconds = timeCodeToSeconds;\nexports.calculateTimeFormat = calculateTimeFormat;\nexports.convertSMPTEtoSeconds = convertSMPTEtoSeconds;\n\nvar _mejs = _dereq_(7);\n\nvar _mejs2 = _interopRequireDefault(_mejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isDropFrame() {\n\tvar fps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 25;\n\n\treturn !(fps % 1 === 0);\n}\nfunction secondsToTimeCode(time) {\n\tvar forceHours = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\tvar showFrameCount = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\tvar fps = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 25;\n\tvar secondsDecimalLength = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n\tvar timeFormat = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'hh:mm:ss';\n\n\n\ttime = !time || typeof time !== 'number' || time < 0 ? 0 : time;\n\n\tvar dropFrames = Math.round(fps * 0.066666),\n\t    timeBase = Math.round(fps),\n\t    framesPer24Hours = Math.round(fps * 3600) * 24,\n\t    framesPer10Minutes = Math.round(fps * 600),\n\t    frameSep = isDropFrame(fps) ? ';' : ':',\n\t    hours = void 0,\n\t    minutes = void 0,\n\t    seconds = void 0,\n\t    frames = void 0,\n\t    f = Math.round(time * fps);\n\n\tif (isDropFrame(fps)) {\n\n\t\tif (f < 0) {\n\t\t\tf = framesPer24Hours + f;\n\t\t}\n\n\t\tf = f % framesPer24Hours;\n\n\t\tvar d = Math.floor(f / framesPer10Minutes);\n\t\tvar m = f % framesPer10Minutes;\n\t\tf = f + dropFrames * 9 * d;\n\t\tif (m > dropFrames) {\n\t\t\tf = f + dropFrames * Math.floor((m - dropFrames) / Math.round(timeBase * 60 - dropFrames));\n\t\t}\n\n\t\tvar timeBaseDivision = Math.floor(f / timeBase);\n\n\t\thours = Math.floor(Math.floor(timeBaseDivision / 60) / 60);\n\t\tminutes = Math.floor(timeBaseDivision / 60) % 60;\n\n\t\tif (showFrameCount) {\n\t\t\tseconds = timeBaseDivision % 60;\n\t\t} else {\n\t\t\tseconds = Math.floor(f / timeBase % 60).toFixed(secondsDecimalLength);\n\t\t}\n\t} else {\n\t\thours = Math.floor(time / 3600) % 24;\n\t\tminutes = Math.floor(time / 60) % 60;\n\t\tif (showFrameCount) {\n\t\t\tseconds = Math.floor(time % 60);\n\t\t} else {\n\t\t\tseconds = Math.floor(time % 60).toFixed(secondsDecimalLength);\n\t\t}\n\t}\n\thours = hours <= 0 ? 0 : hours;\n\tminutes = minutes <= 0 ? 0 : minutes;\n\tseconds = seconds <= 0 ? 0 : seconds;\n\n\tseconds = seconds === 60 ? 0 : seconds;\n\tminutes = minutes === 60 ? 0 : minutes;\n\n\tvar timeFormatFrags = timeFormat.split(':');\n\tvar timeFormatSettings = {};\n\tfor (var i = 0, total = timeFormatFrags.length; i < total; ++i) {\n\t\tvar unique = '';\n\t\tfor (var j = 0, t = timeFormatFrags[i].length; j < t; j++) {\n\t\t\tif (unique.indexOf(timeFormatFrags[i][j]) < 0) {\n\t\t\t\tunique += timeFormatFrags[i][j];\n\t\t\t}\n\t\t}\n\t\tif (~['f', 's', 'm', 'h'].indexOf(unique)) {\n\t\t\ttimeFormatSettings[unique] = timeFormatFrags[i].length;\n\t\t}\n\t}\n\n\tvar result = forceHours || hours > 0 ? (hours < 10 && timeFormatSettings.h > 1 ? '0' + hours : hours) + ':' : '';\n\tresult += (minutes < 10 && timeFormatSettings.m > 1 ? '0' + minutes : minutes) + ':';\n\tresult += '' + (seconds < 10 && timeFormatSettings.s > 1 ? '0' + seconds : seconds);\n\n\tif (showFrameCount) {\n\t\tframes = (f % timeBase).toFixed(0);\n\t\tframes = frames <= 0 ? 0 : frames;\n\t\tresult += frames < 10 && timeFormatSettings.f ? frameSep + '0' + frames : '' + frameSep + frames;\n\t}\n\n\treturn result;\n}\n\nfunction timeCodeToSeconds(time) {\n\tvar fps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 25;\n\n\n\tif (typeof time !== 'string') {\n\t\tthrow new TypeError('Time must be a string');\n\t}\n\n\tif (time.indexOf(';') > 0) {\n\t\ttime = time.replace(';', ':');\n\t}\n\n\tif (!/\\d{2}(\\:\\d{2}){0,3}/i.test(time)) {\n\t\tthrow new TypeError('Time code must have the format `00:00:00`');\n\t}\n\n\tvar parts = time.split(':');\n\n\tvar output = void 0,\n\t    hours = 0,\n\t    minutes = 0,\n\t    seconds = 0,\n\t    frames = 0,\n\t    totalMinutes = 0,\n\t    dropFrames = Math.round(fps * 0.066666),\n\t    timeBase = Math.round(fps),\n\t    hFrames = timeBase * 3600,\n\t    mFrames = timeBase * 60;\n\n\tswitch (parts.length) {\n\t\tdefault:\n\t\tcase 1:\n\t\t\tseconds = parseInt(parts[0], 10);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tminutes = parseInt(parts[0], 10);\n\t\t\tseconds = parseInt(parts[1], 10);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\thours = parseInt(parts[0], 10);\n\t\t\tminutes = parseInt(parts[1], 10);\n\t\t\tseconds = parseInt(parts[2], 10);\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\thours = parseInt(parts[0], 10);\n\t\t\tminutes = parseInt(parts[1], 10);\n\t\t\tseconds = parseInt(parts[2], 10);\n\t\t\tframes = parseInt(parts[3], 10);\n\t\t\tbreak;\n\t}\n\n\tif (isDropFrame(fps)) {\n\t\ttotalMinutes = 60 * hours + minutes;\n\t\toutput = hFrames * hours + mFrames * minutes + timeBase * seconds + frames - dropFrames * (totalMinutes - Math.floor(totalMinutes / 10));\n\t} else {\n\t\toutput = (hFrames * hours + mFrames * minutes + fps * seconds + frames) / fps;\n\t}\n\n\treturn parseFloat(output.toFixed(3));\n}\n\nfunction calculateTimeFormat(time, options) {\n\tvar fps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 25;\n\n\n\ttime = !time || typeof time !== 'number' || time < 0 ? 0 : time;\n\n\tvar hours = Math.floor(time / 3600) % 24,\n\t    minutes = Math.floor(time / 60) % 60,\n\t    seconds = Math.floor(time % 60),\n\t    frames = Math.floor((time % 1 * fps).toFixed(3)),\n\t    lis = [[frames, 'f'], [seconds, 's'], [minutes, 'm'], [hours, 'h']];\n\n\tvar format = options.timeFormat,\n\t    firstTwoPlaces = format[1] === format[0],\n\t    separatorIndex = firstTwoPlaces ? 2 : 1,\n\t    separator = format.length < separatorIndex ? format[separatorIndex] : ':',\n\t    firstChar = format[0],\n\t    required = false;\n\n\tfor (var i = 0, len = lis.length; i < len; i++) {\n\t\tif (~format.indexOf(lis[i][1])) {\n\t\t\trequired = true;\n\t\t} else if (required) {\n\t\t\tvar hasNextValue = false;\n\t\t\tfor (var j = i; j < len; j++) {\n\t\t\t\tif (lis[j][0] > 0) {\n\t\t\t\t\thasNextValue = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!hasNextValue) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (!firstTwoPlaces) {\n\t\t\t\tformat = firstChar + format;\n\t\t\t}\n\t\t\tformat = lis[i][1] + separator + format;\n\t\t\tif (firstTwoPlaces) {\n\t\t\t\tformat = lis[i][1] + format;\n\t\t\t}\n\t\t\tfirstChar = lis[i][1];\n\t\t}\n\t}\n\n\toptions.timeFormat = format;\n}\n\nfunction convertSMPTEtoSeconds(SMPTE) {\n\n\tif (typeof SMPTE !== 'string') {\n\t\tthrow new TypeError('Argument must be a string value');\n\t}\n\n\tSMPTE = SMPTE.replace(',', '.');\n\n\tvar decimalLen = ~SMPTE.indexOf('.') ? SMPTE.split('.')[1].length : 0;\n\n\tvar secs = 0,\n\t    multiplier = 1;\n\n\tSMPTE = SMPTE.split(':').reverse();\n\n\tfor (var i = 0, total = SMPTE.length; i < total; i++) {\n\t\tmultiplier = 1;\n\t\tif (i > 0) {\n\t\t\tmultiplier = Math.pow(60, i);\n\t\t}\n\t\tsecs += Number(SMPTE[i]) * multiplier;\n\t}\n\treturn Number(secs.toFixed(decimalLen));\n}\n\n_mejs2.default.Utils = _mejs2.default.Utils || {};\n_mejs2.default.Utils.secondsToTimeCode = secondsToTimeCode;\n_mejs2.default.Utils.timeCodeToSeconds = timeCodeToSeconds;\n_mejs2.default.Utils.calculateTimeFormat = calculateTimeFormat;\n_mejs2.default.Utils.convertSMPTEtoSeconds = convertSMPTEtoSeconds;\n\n},{\"7\":7}]},{},[29,6,5,15,23,20,19,21,22,24,16,18,17,9,10,11,12,13,14]);\n","module.exports = require('./build/mediaelement-and-player.js');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isFilled = exports.isDefined = exports.isPresent = void 0;\nfunction isPresent(t) {\n    return t !== undefined && t !== null;\n}\nexports.isPresent = isPresent;\nfunction isDefined(t) {\n    return t !== undefined;\n}\nexports.isDefined = isDefined;\nfunction isFilled(t) {\n    return t !== null;\n}\nexports.isFilled = isFilled;\n//# sourceMappingURL=index.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__4985__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5129__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2935__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7725__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(8022);\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();"],"sourceRoot":""}